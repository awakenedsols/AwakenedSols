{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, runOn, fromEnum, markType, PointUtil } from \"igniteui-react-core\";\nimport { ISeriesViewerInteractionManager_$type } from \"./ISeriesViewerInteractionManager\";\nimport { HighlightingManager } from \"./HighlightingManager\";\nimport { SeriesViewerScrollbarManager } from \"./SeriesViewerScrollbarManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { TileZoomManager } from \"./TileZoomManager\";\nimport { Size } from \"igniteui-react-core\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { MouseEventArgs } from \"igniteui-react-core\";\nimport { MouseButtonEventArgs } from \"igniteui-react-core\";\nimport { truncate, intDivide, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar SeriesViewerInteractionManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(SeriesViewerInteractionManager, _super);\n\n  function SeriesViewerInteractionManager() {\n    var _this = _super.call(this) || this;\n\n    _this.t = 0;\n    _this.u = 0;\n    _this.ai = null;\n    _this.q = 0;\n    _this.r = 0;\n    _this.p = 0;\n    _this.s = 0;\n    _this.i = false;\n    _this.aj = null;\n    _this.al = null;\n    _this.j = false;\n    _this.l = false;\n    _this.f = null;\n    _this.b = null;\n    _this.e = null;\n    _this.ak = null;\n    _this.am = null;\n    _this.d = null;\n    _this.a = null;\n    _this.h = false;\n    _this.ak = Rect.empty;\n    _this.aj = Rect.empty;\n    return _this;\n  }\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$b\", {\n    get: function () {\n      if (this.b == null) {\n        this.b = new HighlightingManager();\n      }\n\n      return this.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$c\", {\n    get: function () {\n      if (this.e == null) {\n        this.e = new SeriesViewerScrollbarManager();\n      }\n\n      return this.e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SeriesViewerInteractionManager.prototype.f$ao = function (a, b) {\n    var c = null;\n    var d = null;\n    var e = null;\n    e = a.cq.e();\n    var f;\n\n    var g = function () {\n      var h = a.cq.f(b, false, f, false);\n      f = h.p2;\n      return h.ret;\n    }();\n\n    if (g != e) {\n      if (e.a6.a$c) {\n        e.a6.a$z(e, b, null, null, false);\n      }\n    }\n\n    c = f;\n\n    if (a != null) {\n      a.od(b);\n    }\n\n    if (g != null && !g.a6.a$c) {\n      g.a6.a$y(g, b, c, d, false);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$a = function (a) {\n    if (a.at != 0) {\n      return a.at;\n    }\n\n    var b = 1;\n    var c = false;\n    var d = false;\n\n    for (var e = 0; e < a.series.count; e++) {\n      var f = a.series._inner[e];\n\n      if (f.isStacked) {\n        f.la(function (g) {\n          if (g.bo == 2) {\n            c = true;\n          }\n\n          if (g.bo == 1) {\n            d = true;\n          }\n\n          return true;\n        });\n      } else {\n        if (f.bo == 2) {\n          c = true;\n        }\n\n        if (f.bo == 1) {\n          d = true;\n        }\n      }\n    }\n\n    if (d) {\n      b = 1;\n    }\n\n    if (c) {\n      b = 2;\n    }\n\n    if (c && d) {\n      b = 3;\n    }\n\n    return b;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$an = function (a) {\n    var b = a.r6;\n    var c = b;\n    var d = a.cq;\n    var e = a.dl();\n    var f = a.dp;\n    var g = a.ez;\n    var h = a.e7;\n\n    if (!e) {\n      c = {\n        $type: Point_$type,\n        x: NaN,\n        y: NaN\n      };\n    }\n\n    if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n      c = {\n        $type: Point_$type,\n        x: NaN,\n        y: NaN\n      };\n    }\n\n    for (var i = 0; i < a.series.count; i++) {\n      var j = a.series._inner[i];\n      j.lh(c);\n    }\n\n    a.lp(c);\n    var k = a.ch == 0 && !a.d7 && (a.dv || f) && !g && !h;\n    var l = a.su;\n\n    if (k && !isNaN_(b.x) && !l.isEmpty) {\n      var m = l.width * (b.x - a.sf.left) / a.sf.width;\n      d.eo(l.left + m, l.top, l.left + m, l.bottom);\n      d.ed();\n      d.ei(m);\n    } else {\n      d.cl();\n    }\n\n    if (k && !isNaN_(b.y) && !l.isEmpty) {\n      var n = l.height * (b.y - a.sf.top) / a.sf.height;\n      d.eh(l.left, l.top + n, l.right, l.top + n);\n      d.d9();\n    } else {\n      d.cg();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ag = function (a) {\n    switch (a.ch) {\n      case 0:\n        a.cq.d5();\n        this.f$an(a);\n        a.cq.cd();\n        break;\n\n      case 1:\n        a.cq.d7();\n        a.cq.ck();\n        this.f$an(a);\n        a.cq.cc();\n        break;\n\n      case 2:\n        a.cq.d7();\n        a.cq.ck();\n        this.f$an(a);\n        a.cq.ce();\n        break;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$q = function (a, b) {\n    if (b.x >= 0 && b.y >= 0 && b.x <= a.su.width && b.y <= a.su.height) {\n      this.ae(a, b);\n    } else {\n      a.lc();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.ae = function (a, b) {\n    var e_1, _a;\n\n    var c = a.cq;\n    var d = a.su;\n\n    if (a.d8 || a.d7) {\n      return;\n    }\n\n    if (a.dp && a.dv) {\n      var e = d.height > d.width;\n      c.bv(e);\n\n      try {\n        for (var _b = __values(fromEnum(a.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var f = _c.value;\n\n          if (f.isStacked) {\n            f.la(function (g) {\n              if (g._visibility == 0) {\n                g.mp(b, runOn(c, c.bm));\n              }\n\n              return true;\n            });\n          } else {\n            if (f._visibility == 0) {\n              f.mp(b, runOn(c, c.bm));\n            }\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      c.ea();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.ad = function (a, b) {\n    if (a.dv || a.d5) {\n      a.dp = true;\n      a.m9();\n      this.aj = new Rect(0, b.x, b.y, 0, 0);\n      this.al = new Rect(0, b.x, b.y, 0, 0);\n      a.ch = 0;\n      a.k3(a.r9(b));\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ae = function (a, b) {\n    this.ad(a, b);\n    this.ae(a, b);\n    this.f$an(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$r = function (a, b, c) {\n    if (!a.dp) {\n      this.ag(a, b, c);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$p = function (a, b) {\n    this.ak = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$al = function (a) {\n    if (this.j) {\n      this.f$c.onScrollbarDragCancel();\n      this.j = false;\n    }\n\n    var b = a.cq;\n    this.s = 1;\n    this.ac(a);\n    a.ch = 0;\n    this.i = true;\n    a.ez = true;\n    a.na();\n  };\n\n  SeriesViewerInteractionManager.prototype.ac = function (a) {\n    var b = a.cq;\n    a.dp = false;\n    b.cj();\n    b.cf();\n    b.ch();\n    a.k3({\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    });\n    b.cg();\n    b.cl();\n    b.ck();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ad = function (a, b) {\n    this.f$al(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$am = function (a, b, c, d, e) {\n    this.t = b.x;\n    this.u = b.y;\n    this.q = c;\n    this.r = d;\n    this.p = e;\n    this.ai = a.sf;\n    this.f$al(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ac = function (a, b) {\n    var c = a.cq;\n    c.cg();\n    c.cl();\n\n    if (c.av) {\n      this.y(a, b);\n    } else {\n      this.aa(a, b);\n      this.s = b;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ai = function (a, b, c, d, e) {\n    var f = a.cq;\n    f.cg();\n    f.cl();\n    this.q = this.q * c;\n    this.r = this.r * d;\n    this.p = this.p * e;\n\n    if (a.ee) {\n      this.q = this.p;\n      this.r = this.p;\n    }\n\n    var g = a.sf;\n    var h = a.su;\n    var i = b.x - this.t;\n    var j = b.y - this.u;\n    this.t = b.x;\n    this.u = b.y;\n    var k = g.width;\n    var l = g.height;\n    var m = this.ai.width / this.q;\n    var n = this.ai.height / this.r;\n\n    if (m > 1) {\n      m = 1;\n    }\n\n    if (n > 1) {\n      n = 1;\n    }\n\n    var o = {\n      $type: Point_$type,\n      x: b.x,\n      y: b.y\n    };\n    var p = {\n      $type: Point_$type,\n      x: (o.x - h.left) / h.width * g.width + g.left,\n      y: (o.y - h.top) / h.height * g.height + g.top\n    };\n    var q = new Rect(0, g.left, g.top, m, n);\n    var r = {\n      $type: Point_$type,\n      x: (p.x - q.left) / q.width * h.width + h.left,\n      y: (p.y - q.top) / q.height * h.height + h.top\n    };\n    var s = r.x - o.x - i;\n    var t = r.y - o.y - j;\n    var u = s / h.width * q.width;\n    var v = t / h.height * q.height;\n    q = new Rect(0, q.left + u, q.top + v, q.width, q.height);\n    g = q;\n    a.ot(g, true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$z = function (a, b) {\n    this.aj = new Rect(0, b.x, b.y, 0, 0);\n    this.al = new Rect(0, b.x, b.y, 0, 0);\n  };\n\n  SeriesViewerInteractionManager.prototype.z = function (a, b, c) {\n    var d = a.sf.width;\n    var e = a.sf.height;\n    var f = a.sf.left + d / 2;\n    var g = a.sf.top + e / 2;\n    d = d / b;\n    e = e / b;\n    var h = f - d / 2;\n    var i = g - e / 2;\n    a.ot(new Rect(0, h, i, d, e), true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ab = function (a, b) {\n    var c = a.cq;\n\n    if (c.av) {\n      this.y(a, b);\n    } else {\n      this.aa(a, b);\n    }\n\n    this.aj = Rect.empty;\n    a.ez = false;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$s = function (a, b) {\n    a.ez = false;\n    this.aj = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$y = function (a, b) {\n    a.kz();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ah = function (a, b, c, d, e) {\n    a.ez = false;\n    this.aj = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.y = function (a, b) {\n    var c = a.sv;\n    var d = 1 / b;\n    var e = {\n      $type: Point_$type,\n      x: c.x + c.width / 2,\n      y: c.y + c.height / 2\n    };\n    var f = {\n      $type: Point_$type,\n      x: c.x - e.x,\n      y: c.y - e.y\n    };\n    var g = new Rect(0, f.x * d + e.x, f.y * d + e.y, c.width * d, c.height * d);\n    a.ot(g, true);\n  };\n\n  SeriesViewerInteractionManager.prototype.aa = function (a, b) {\n    var c = a.su;\n    var d = a.sv;\n    var e = b - this.s;\n\n    if (e != 0) {\n      var f = 0.03;\n      var g = e < 0 ? 1 + f : 1 - f;\n      var h = {\n        $type: Point_$type,\n        x: d.x + d.width / 2,\n        y: d.y + d.height / 2\n      };\n      var i = {\n        $type: Point_$type,\n        x: d.x - h.x,\n        y: d.y - h.y\n      };\n      var j = new Rect(0, i.x * g + h.x, i.y * g + h.y, d.width * g, d.height * g);\n      a.ot(j, true);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$n = function (a, b, c) {\n    if (!a.ez) {\n      this.i = false;\n    }\n\n    var d = false;\n\n    if (a.dq) {\n      if (this.f$c.shouldHandleInteraction(b, c)) {\n        this.j = true;\n        d = true;\n        this.ac(a);\n        a.cq.dr();\n        return;\n      }\n    }\n\n    this.ag(a, b, c);\n    a.mt(b, c);\n  };\n\n  SeriesViewerInteractionManager.prototype.ag = function (a, b, c) {\n    var d;\n    var e = a.cq;\n    var f = a.cf(c);\n\n    if (e.ez == 0) {\n      switch (f) {\n        case 1:\n          d = a.el() ? f : 0;\n          break;\n\n        default:\n          d = f;\n          break;\n      }\n    } else {\n      if (e.ez == a.rf) {\n        d = 1;\n      } else if (e.ez == a.rg) {\n        d = 2;\n      } else {\n        d = 0;\n      }\n    }\n\n    switch (d) {\n      case 1:\n      case 2:\n        a.cq.ca();\n        a.cq.dr();\n        break;\n    }\n\n    a.ch = d;\n\n    switch (a.ch) {\n      case 1:\n        a.k3({\n          $type: Point_$type,\n          x: NaN,\n          y: NaN\n        });\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.al = new Rect(0, b.x, b.y, 0, 0);\n        this.ak = new Rect(0, b.x, b.y, 0, 0);\n        e.d8();\n        e.eg(this.aj);\n        a.nf(Rect.empty, true);\n        break;\n\n      case 2:\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.ak = new Rect(0, b.x, b.y, 0, 0);\n        break;\n    }\n\n    this.am = a.sf;\n    a.sw = a.sf;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ak = function (a) {\n    a.oe();\n    a.cq.dl();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$aj = function (a) {\n    a.k7();\n    a.cq.dk();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ap = function (a) {\n    if (a.dk && !this.l) {\n      this.l = true;\n      this.af(a);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$k = function (a) {\n    if (this.l) {\n      this.ab(a);\n      this.l = false;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$h = function (a) {\n    if (this.f == null) {\n      return;\n    }\n\n    this.g.ab();\n  };\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"g\", {\n    get: function () {\n      return this.f;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SeriesViewerInteractionManager.prototype.af = function (a) {\n    if (this.f == null) {\n      this.f = new TileZoomManager(a, true, a.hb);\n      this.f.h = !a.e0;\n    }\n\n    a.d4 = true;\n    a.ne();\n    this.f.al();\n    a.cq.br();\n    a.cq.bs();\n  };\n\n  SeriesViewerInteractionManager.prototype.ab = function (a) {\n    if (this.f == null) {\n      return;\n    }\n\n    a.d4 = false;\n    a.cq.dg();\n    this.f.ah();\n    a.ny();\n    a.cq.by();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$j = function (a) {\n    a.k1();\n    a.n0();\n  };\n\n  SeriesViewerInteractionManager.prototype.n = function (a) {\n    return a.ch == 2;\n  };\n\n  SeriesViewerInteractionManager.prototype.o = function (a, b) {\n    return a.b7 == 1 || b || a.dk;\n  };\n\n  SeriesViewerInteractionManager.prototype.m = function (a) {\n    return a.ch == 1;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$m = function (a, b, c) {\n    var d = a.cq;\n\n    if (this.j) {\n      a.a6.onScrollbarDrag(b, c);\n      return;\n    }\n\n    if (this.aj.isEmpty && c) {\n      this.ag(a, b, c);\n    }\n\n    var e = 2;\n\n    if (c) {\n      e = 10;\n    }\n\n    var f = false;\n    var g = new Rect(2, {\n      $type: Point_$type,\n      x: this.aj.x,\n      y: this.aj.y\n    }, b);\n    var h = new Rect(0, 0, 0, 0, 0);\n\n    if (!this.ak.isEmpty) {\n      h = new Rect(2, {\n        $type: Point_$type,\n        x: this.ak.x,\n        y: this.ak.y\n      }, b);\n    }\n\n    if (h.width > e && h.height > e) {\n      f = true;\n    }\n\n    if (!a.ez) {\n      if (f) {\n        this.i = false;\n      }\n    }\n\n    if (!a.ez && (a.dp || !c)) {\n      a.k3(a.r9(b));\n    }\n\n    if (this.m(a)) {\n      if (f) {\n        var i = a.st(g);\n        a.nf(i, true);\n      } else {\n        a.nf(Rect.empty, true);\n      }\n\n      a.l2();\n      d.eg(g);\n    }\n\n    var j = a.su;\n    var k = a.sf;\n\n    if (this.n(a)) {\n      var l = j;\n      var m = k.left + k.width * (this.aj.x - b.x) / l.width;\n      var n = k.top + k.height * (this.aj.y - b.y) / l.height;\n      var o = new Rect(0, m, n, k.width, k.height);\n\n      if (this.o(a, c)) {\n        if (h.width != 0 || h.height != 0) {\n          a.na();\n        }\n\n        a.nf(Rect.empty, true);\n        var p = a.sf;\n        a.ot(o, true);\n        var q = a.sf;\n\n        if (p.equals1(q) && a.cq.k.ac) {\n          a.cq.k.au();\n        }\n\n        this.aj = new Rect(3, b, new Size(1, 0, 0));\n        this.al = new Rect(3, b, new Size(1, 0, 0));\n      } else {\n        a.nf(o, true);\n      }\n    }\n\n    this.al = new Rect(3, b, new Size(1, 0, 0));\n    d.bu(b);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$l = function (a, b, c, d) {\n    var e = a.cq;\n    var f = 2;\n\n    if (c) {\n      f = 10;\n    }\n\n    var g = a.su;\n    var h = a.sf;\n\n    if (!d) {\n      if (this.j) {\n        this.f$c.onScrollbarDragComplete(b, c);\n        this.j = false;\n        e.bw();\n        return;\n      }\n    }\n\n    if (!this.i) {\n      var i = false;\n      var j = new Rect(2, {\n        $type: Point_$type,\n        x: this.aj.x,\n        y: this.aj.y\n      }, b);\n\n      if (j.width > f && j.height > f) {\n        i = true;\n      }\n\n      if (a.ch == 1) {\n        a.l1();\n        e.cf();\n\n        if (i) {\n          a.ot(a.st(j), true);\n        }\n      }\n\n      if (a.ch == 2) {\n        var k = g;\n        var l = h.left + h.width * (this.aj.x - b.x) / k.width;\n        var m = h.top + h.height * (this.aj.y - b.y) / k.height;\n        a.ot(new Rect(0, l, m, h.width, h.height), true);\n      }\n    }\n\n    var n = false;\n    var o = new Rect(2, {\n      $type: Point_$type,\n      x: this.ak.x,\n      y: this.ak.y\n    }, b);\n\n    if (o.width > f || o.height > f) {\n      n = true;\n    }\n\n    if (n) {\n      a.e7 = true;\n    }\n\n    a.ch = 0;\n    a.nf(Rect.empty, true);\n    e.bw();\n    a.e7 = false;\n    e.cg();\n    e.cl();\n\n    if (c) {\n      e.ck();\n      e.cg();\n      e.cl();\n      e.ch();\n    }\n\n    a.lc();\n    a.m9();\n    a.mu(b, c, d);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$af = function (a) {\n    if (this.g != null) {\n      this.g.h = !a.e0;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$e = function (a, b) {\n    var c = a.cq;\n    var d = a.sf;\n\n    if (a.ch == 2 && b == 8) {\n      c.bt();\n      a.ch = 0;\n      a.m9();\n      a.nf(Rect.empty, true);\n\n      if (a.b7 == 1) {\n        a.ot(this.am, true);\n      }\n\n      return true;\n    }\n\n    if (a.ch == 1 && b == 8) {\n      c.bt();\n      a.ch = 0;\n      a.m9();\n      c.cf();\n      a.nf(Rect.empty, true);\n      return true;\n    }\n\n    var e = Rect.empty;\n    var f = false;\n\n    switch (b) {\n      case 13:\n        f = true;\n        e = new Rect(0, 0, 0, 1, 1);\n        break;\n\n      case 11:\n        f = true;\n        e = new Rect(0, d.left - 0.1 * d.width, d.top - 0.1 * d.height, 1.2 * d.width, 1.2 * d.height);\n        break;\n\n      case 10:\n        f = true;\n        e = new Rect(0, d.left + 0.1 * d.width, d.top + 0.1 * d.height, 0.8 * d.width, 0.8 * d.height);\n        break;\n\n      case 14:\n        f = true;\n        e = new Rect(0, d.left - 0.1 * d.width, d.top, d.width, d.height);\n        e.x = e.x - Math.min(e.left, 0);\n        break;\n\n      case 16:\n        f = true;\n        e = new Rect(0, d.left + 0.1 * d.width, d.top, d.width, d.height);\n        e.x = e.x - Math.max(e.right - 1, 0);\n        break;\n\n      case 15:\n        f = true;\n        e = new Rect(0, d.left, d.top - 0.1 * d.height, d.width, d.height);\n        e.y = e.y - Math.min(e.top, 0);\n        break;\n\n      case 17:\n        f = true;\n        e = new Rect(0, d.left, d.top + 0.1 * d.height, d.width, d.height);\n        e.y = e.y - Math.max(e.bottom - 1, 0);\n        break;\n    }\n\n    if (!e.isEmpty && Rect.l_op_Inequality(e, d)) {\n      a.ot(e, true);\n    }\n\n    return f;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$f = function (a, b, c) {\n    var d = a.cq;\n    var e = a.sf;\n    var f = e.left + e.width * b.x / a.su.width;\n    var g = e.top + e.height * b.y / a.su.height;\n    var h = 1 - MathUtil.c(c, -0.5, 0.5);\n    var i = Math.max(0, f - h * (f - e.left));\n    var j = Math.min(1, g + h * (e.bottom - g));\n    var k = Math.min(1, f + h * (e.right - f));\n    var l = Math.max(0, g - h * (g - e.top));\n    a.na();\n    this.x(a, 1000);\n    a.ot(new Rect(0, i, l, k - i, j - l), true);\n    return a.el();\n  };\n\n  SeriesViewerInteractionManager.prototype.x = function (a, b) {\n    a.cq.bz(b);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$o = function (a, b) {\n    var c = a.sf;\n    var d = c.left + c.width * b.x / a.su.width;\n    var e = c.top + c.height * b.y / a.su.height;\n    var f = 0.7;\n    var g = Math.max(0, d - f * (d - c.left));\n    var h = Math.min(1, e + f * (c.bottom - e));\n    var i = Math.min(1, d + f * (c.right - d));\n    var j = Math.max(0, e - f * (e - c.top));\n    a.ot(new Rect(0, g, j, i - g, h - j), true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$i = function (a) {\n    this.g.ac();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$d = function (a, b, c, d, e, f, g) {\n    var e_2, _a;\n\n    var h = true;\n    var i = false;\n    var j = false;\n    var k = a;\n\n    if (k.as == 1) {\n      h = false;\n      i = true;\n    }\n\n    if (k.as == 3 || k.as == 4) {\n      i = true;\n    }\n\n    if (k.as == 4) {\n      j = true;\n    }\n\n    var l = truncate(Math.round(d.x));\n    var m = truncate(Math.round(d.y));\n    f = null;\n    var n = -1;\n\n    if (h && c != null) {\n      var o = l;\n      var p = m;\n\n      if (a.f4 != 1) {\n        o = truncate(Math.round(d.x * a.f4));\n        p = truncate(Math.round(d.y * a.f4));\n      }\n\n      var q = c.a(o, p);\n\n      if (q == null || q.length == 0) {\n        f = null;\n        return {\n          ret: null,\n          p5: f\n        };\n      }\n\n      if ((q[0] > 0 || q[1] > 0 || q[2] > 0) && q[3] == 255) {\n        var num2_ = q[2];\n\n        if (num2_ % 4 != 0) {\n          num2_ = num2_ + (4 - num2_ % 4);\n        }\n\n        var num1_ = q[1];\n\n        if (num1_ % 4 != 0) {\n          num1_ = num1_ + (4 - num1_ % 4);\n        }\n\n        var num0_ = q[0];\n\n        if (num0_ % 4 != 0) {\n          num0_ = num0_ + (4 - num0_ % 4);\n        }\n\n        var num_ = 0;\n        num_ = num2_ >> 2;\n        num_ = num_ << 6;\n        num_ = num_ | num1_ >> 2;\n        num_ = num_ << 6;\n        num_ = num_ | num0_ >> 2;\n        n = truncate(Math.floor(intDivide(num_, 1000)));\n        n--;\n      }\n    }\n\n    var r = null;\n    var s = -1;\n\n    if (n >= 0) {\n      var t_1 = false;\n      var u_1 = 0;\n\n      try {\n        for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var v = _c.value;\n\n          if (!v.el) {\n            continue;\n          }\n\n          if (t_1) {\n            break;\n          }\n\n          if (v.isStacked) {\n            v.la(function (w) {\n              if (w.ho == n) {\n                r = w;\n                s = u_1;\n                t_1 = true;\n                return false;\n              }\n\n              return true;\n            });\n          } else if (v.ho == n) {\n            r = v;\n            s = u_1;\n            break;\n          }\n\n          u_1++;\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    }\n\n    var w = null;\n\n    if (i) {\n      var x = false;\n\n      for (var y = b.count - 1; y >= 0; y--) {\n        var z = b._inner[y];\n\n        if (!z.el) {\n          continue;\n        }\n\n        var aa = z.b0;\n\n        if (!z.e9(aa.bu, aa.bv, aa)) {\n          continue;\n        }\n\n        if (!x && y < s && h && !j) {\n          if (r != null) {\n            w = r;\n            x = true;\n            break;\n          }\n        }\n\n        if (z != null && z.bo == 1) {\n          if (z.ev(d, g)) {\n            w = z;\n            break;\n          }\n        }\n      }\n\n      if (h && !x) {\n        if (r != null) {\n          w = r;\n          x = true;\n        }\n      }\n    } else {\n      w = r;\n    }\n\n    if (w != null) {\n      var ab = w.at({\n        $type: Point_$type,\n        x: l,\n        y: m\n      }, g);\n\n      if (ab != null) {\n        f = ab;\n      }\n\n      return {\n        ret: w,\n        p5: f\n      };\n    }\n\n    return {\n      ret: null,\n      p5: f\n    };\n  };\n\n  SeriesViewerInteractionManager.prototype.f$g = function (a, b) {\n    if (PointUtil.equals(b, null)) {\n      return false;\n    }\n\n    var c = b.x;\n    var d = b.y;\n\n    if (this.j) {\n      return true;\n    }\n\n    if (c >= a.su.left && d >= a.su.top && c <= a.su.left + a.su.width && d <= a.su.top + a.su.height) {\n      var e = a.cj;\n\n      if (e != null && e.viewShouldInteract(b)) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  SeriesViewerInteractionManager.prototype.c = function (a) {\n    if (a != null) {\n      return a.bf();\n    } else {\n      return null;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$w = function (a, b, c, d, e, f) {\n    var _this = this;\n\n    if (!f && a.dj) {\n      this.ah(a, false);\n    }\n\n    var g = new MouseEventArgs();\n    g.position = d;\n\n    if (a.ch == 2 || a.ch == 1 || a.ez || a.cj != null && a.cj.isPinching) {\n      if (this.d != null) {\n        this.d.a6.a$z(this.d, g.position, this.a, g, f);\n        this.d = null;\n      }\n\n      return;\n    }\n\n    var h = null;\n\n    var i = function () {\n      var j = _this.f$d(a, b, c, d, !e, h, f);\n\n      h = j.p5;\n      return j.ret;\n    }();\n\n    this.a = h;\n    var j = this.c(i);\n\n    if (i != null) {\n      var k = false;\n      var l = false;\n\n      if (this.d != i) {\n        l = true;\n      }\n\n      if (this.d == null || l) {\n        k = true;\n      }\n\n      if (k) {\n        if (l) {\n          if (this.d != null) {\n            j = this.c(this.d);\n            this.d.a6.a$z(this.d, g.position, h, g, f);\n\n            if (j != null) {\n              j.a6.a$z(j, g.position, h, g, f);\n            }\n          }\n        }\n\n        this.d = i;\n        i.lw(g.position, h, g, f);\n\n        if (j != null) {\n          j.lw(g.position, h, g, f);\n        }\n      } else {\n        this.d = i;\n        i.a6.a$ab(i, g.position, h, g, f);\n\n        if (j != null) {\n          j.a6.a$ab(j, g.position, h, g, f);\n        }\n      }\n    } else {\n      if (this.d != null) {\n        j = this.c(this.d);\n        this.d.a6.a$z(this.d, g.position, h, g, f);\n\n        if (j != null) {\n          j.a6.a$z(j, g.position, h, g, f);\n        }\n\n        this.d = null;\n      }\n\n      for (var m = 0; m < a.series.count; m++) {\n        var n = a.series._inner[m];\n\n        if (n.a6.a$b) {\n          j = this.c(n);\n          n.a6.a$z(n, g.position, n.a6.a$p, g, f);\n\n          if (j != null) {\n            j.a6.a$z(j, g.position, n.a6.a$p, g, f);\n          }\n        }\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$v = function (a, b) {\n    if (this.d != null) {\n      var c = this.c(this.d);\n      var d = new MouseEventArgs();\n      d.position = b;\n      this.d.a6.a$z(this.d, d.position, null, d, false);\n\n      if (c != null) {\n        c.a6.a$z(c, d.position, null, d, false);\n      }\n\n      this.d = null;\n    }\n\n    a.mo(b, a.ch != 0 || a.eq);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$u = function (a, b, c) {\n    if (this.d != null) {\n      var d = new MouseButtonEventArgs();\n      d.position = c;\n\n      if (b.al) {\n        this.d.a6.a$ac(this.d, d.position, this.a, d);\n      } else {\n        this.d.a6.a$w(this.d, d.position, this.a, d);\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$x = function (a, b, c) {\n    var d;\n    var e = this.d != null ? this.d : function () {\n      var f = a.cq.f(c, false, d, false);\n      d = f.p2;\n      return f.ret;\n    }();\n\n    if (e != null) {\n      var f = new MouseButtonEventArgs();\n      f.position = c;\n\n      if (b.al) {\n        e.a6.a$ad(e, f.position, this.a, f);\n      } else {\n        e.a6.a$aa(e, f.position, this.a, f);\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$t = function (a, b, c) {\n    if (!c && a.es) {\n      this.ah(a, false);\n    }\n\n    if (c && !a.es) {\n      this.ah(a, true);\n    }\n\n    a.l6(b, c);\n  };\n\n  SeriesViewerInteractionManager.prototype.ah = function (a, b) {\n    if (a != null) {\n      if (!this.k) {\n        a.dj = b;\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$aa = function (a, b) {\n    this.h = true;\n  };\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"k\", {\n    get: function () {\n      return this.h;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SeriesViewerInteractionManager.$t = markType(SeriesViewerInteractionManager, 'SeriesViewerInteractionManager', Base.$, [ISeriesViewerInteractionManager_$type]);\n  return SeriesViewerInteractionManager;\n}(Base);\n\nexport { SeriesViewerInteractionManager };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/SeriesViewerInteractionManager.js"],"names":["__extends","__values","Base","Point_$type","runOn","fromEnum","markType","PointUtil","ISeriesViewerInteractionManager_$type","HighlightingManager","SeriesViewerScrollbarManager","Rect","TileZoomManager","Size","MathUtil","MouseEventArgs","MouseButtonEventArgs","truncate","intDivide","isNaN_","SeriesViewerInteractionManager","_super","_this","call","t","u","ai","q","r","p","s","i","aj","al","j","l","f","b","e","ak","am","d","a","h","empty","Object","defineProperty","prototype","get","enumerable","configurable","f$ao","c","cq","g","p2","ret","a6","a$c","a$z","od","a$y","f$a","at","series","count","_inner","isStacked","la","bo","f$an","r6","dl","dp","ez","e7","$type","x","NaN","y","lh","lp","k","ch","d7","dv","su","isEmpty","m","width","sf","left","eo","top","bottom","ed","ei","cl","n","height","eh","right","d9","cg","f$ag","d5","cd","ck","cc","ce","f$q","ae","lc","e_1","_a","d8","bv","_b","_c","next","done","value","_visibility","mp","bm","e_1_1","error","return","ea","ad","m9","k3","r9","f$ae","f$r","ag","f$p","f$al","f$c","onScrollbarDragCancel","ac","na","cj","cf","f$ad","f$am","f$ac","av","aa","f$ai","ee","o","v","ot","f$z","z","f$ab","f$s","f$y","kz","f$ah","sv","f$n","dq","shouldHandleInteraction","dr","mt","el","rf","rg","ca","eg","nf","sw","f$ak","oe","f$aj","k7","dk","f$ap","af","f$k","ab","f$h","hb","e0","d4","ne","br","bs","dg","ah","ny","by","f$j","k1","n0","b7","f$m","onScrollbarDrag","st","l2","equals1","au","bu","f$l","onScrollbarDragComplete","bw","l1","mu","f$af","f$e","bt","Math","min","max","l_op_Inequality","f$f","bz","f$o","f$i","f$d","e_2","as","round","f4","length","p5","num2_","num1_","num0_","num_","floor","t_1","u_1","w","ho","e_2_1","b0","e9","ev","f$g","equals","viewShouldInteract","bf","f$w","dj","position","isPinching","lw","a$ab","a$b","a$p","f$v","mo","eq","f$u","a$ac","a$w","f$x","a$ad","a$aa","f$t","es","l6","f$aa","$t","$"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,KAA5B,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDC,SAAvD,QAAwE,qBAAxE;AACA,SAASC,qCAAT,QAAsD,mCAAtD;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,4BAAT,QAA6C,gCAA7C;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,qBAA5C;AACA;AACA;AACA;;AACA,IAAIC,8BAA8B;AAAG;;AAAc;AAAe,UAAUC,MAAV,EAAkB;AAChFrB,EAAAA,SAAS,CAACoB,8BAAD,EAAiCC,MAAjC,CAAT;;AACA,WAASD,8BAAT,GAA0C;AACtC,QAAIE,KAAK,GAAGD,MAAM,CAACE,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAD,IAAAA,KAAK,CAACE,CAAN,GAAU,CAAV;AACAF,IAAAA,KAAK,CAACG,CAAN,GAAU,CAAV;AACAH,IAAAA,KAAK,CAACI,EAAN,GAAW,IAAX;AACAJ,IAAAA,KAAK,CAACK,CAAN,GAAU,CAAV;AACAL,IAAAA,KAAK,CAACM,CAAN,GAAU,CAAV;AACAN,IAAAA,KAAK,CAACO,CAAN,GAAU,CAAV;AACAP,IAAAA,KAAK,CAACQ,CAAN,GAAU,CAAV;AACAR,IAAAA,KAAK,CAACS,CAAN,GAAU,KAAV;AACAT,IAAAA,KAAK,CAACU,EAAN,GAAW,IAAX;AACAV,IAAAA,KAAK,CAACW,EAAN,GAAW,IAAX;AACAX,IAAAA,KAAK,CAACY,CAAN,GAAU,KAAV;AACAZ,IAAAA,KAAK,CAACa,CAAN,GAAU,KAAV;AACAb,IAAAA,KAAK,CAACc,CAAN,GAAU,IAAV;AACAd,IAAAA,KAAK,CAACe,CAAN,GAAU,IAAV;AACAf,IAAAA,KAAK,CAACgB,CAAN,GAAU,IAAV;AACAhB,IAAAA,KAAK,CAACiB,EAAN,GAAW,IAAX;AACAjB,IAAAA,KAAK,CAACkB,EAAN,GAAW,IAAX;AACAlB,IAAAA,KAAK,CAACmB,CAAN,GAAU,IAAV;AACAnB,IAAAA,KAAK,CAACoB,CAAN,GAAU,IAAV;AACApB,IAAAA,KAAK,CAACqB,CAAN,GAAU,KAAV;AACArB,IAAAA,KAAK,CAACiB,EAAN,GAAW5B,IAAI,CAACiC,KAAhB;AACAtB,IAAAA,KAAK,CAACU,EAAN,GAAWrB,IAAI,CAACiC,KAAhB;AACA,WAAOtB,KAAP;AACH;;AACDuB,EAAAA,MAAM,CAACC,cAAP,CAAsB1B,8BAA8B,CAAC2B,SAArD,EAAgE,KAAhE,EAAuE;AACnEC,IAAAA,GAAG,EAAE,YAAY;AACb,UAAI,KAAKX,CAAL,IAAU,IAAd,EAAoB;AAChB,aAAKA,CAAL,GAAS,IAAI5B,mBAAJ,EAAT;AACH;;AACD,aAAO,KAAK4B,CAAZ;AACH,KANkE;AAOnEY,IAAAA,UAAU,EAAE,KAPuD;AAQnEC,IAAAA,YAAY,EAAE;AARqD,GAAvE;AAUAL,EAAAA,MAAM,CAACC,cAAP,CAAsB1B,8BAA8B,CAAC2B,SAArD,EAAgE,KAAhE,EAAuE;AACnEC,IAAAA,GAAG,EAAE,YAAY;AACb,UAAI,KAAKV,CAAL,IAAU,IAAd,EAAoB;AAChB,aAAKA,CAAL,GAAS,IAAI5B,4BAAJ,EAAT;AACH;;AACD,aAAO,KAAK4B,CAAZ;AACH,KANkE;AAOnEW,IAAAA,UAAU,EAAE,KAPuD;AAQnEC,IAAAA,YAAY,EAAE;AARqD,GAAvE;;AAUA9B,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCI,IAAzC,GAAgD,UAAUT,CAAV,EAAaL,CAAb,EAAgB;AAC5D,QAAIe,CAAC,GAAG,IAAR;AACA,QAAIX,CAAC,GAAG,IAAR;AACA,QAAIH,CAAC,GAAG,IAAR;AACAA,IAAAA,CAAC,GAAGI,CAAC,CAACW,EAAF,CAAKf,CAAL,EAAJ;AACA,QAAIF,CAAJ;;AACA,QAAIkB,CAAC,GAAK,YAAY;AAAE,UAAIX,CAAC,GAAGD,CAAC,CAACW,EAAF,CAAKjB,CAAL,CAAOC,CAAP,EAAU,KAAV,EAAiBD,CAAjB,EAAoB,KAApB,CAAR;AAAoCA,MAAAA,CAAC,GAAGO,CAAC,CAACY,EAAN;AAAU,aAAOZ,CAAC,CAACa,GAAT;AAAe,KAA5E,EAAT;;AACA,QAAIF,CAAC,IAAIhB,CAAT,EAAY;AACR,UAAIA,CAAC,CAACmB,EAAF,CAAKC,GAAT,EAAc;AACVpB,QAAAA,CAAC,CAACmB,EAAF,CAAKE,GAAL,CAASrB,CAAT,EAAYD,CAAZ,EAAe,IAAf,EAAqB,IAArB,EAA2B,KAA3B;AACH;AACJ;;AACDe,IAAAA,CAAC,GAAGhB,CAAJ;;AACA,QAAIM,CAAC,IAAI,IAAT,EAAe;AACXA,MAAAA,CAAC,CAACkB,EAAF,CAAKvB,CAAL;AACH;;AACD,QAAIiB,CAAC,IAAI,IAAL,IAAa,CAACA,CAAC,CAACG,EAAF,CAAKC,GAAvB,EAA4B;AACxBJ,MAAAA,CAAC,CAACG,EAAF,CAAKI,GAAL,CAASP,CAAT,EAAYjB,CAAZ,EAAee,CAAf,EAAkBX,CAAlB,EAAqB,KAArB;AACH;AACJ,GAnBD;;AAoBArB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCe,GAAzC,GAA+C,UAAUpB,CAAV,EAAa;AACxD,QAAIA,CAAC,CAACqB,EAAF,IAAQ,CAAZ,EAAe;AACX,aAAOrB,CAAC,CAACqB,EAAT;AACH;;AACD,QAAI1B,CAAC,GAAG,CAAR;AACA,QAAIe,CAAC,GAAG,KAAR;AACA,QAAIX,CAAC,GAAG,KAAR;;AACA,SAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,CAAC,CAACsB,MAAF,CAASC,KAA7B,EAAoC3B,CAAC,EAArC,EAAyC;AACrC,UAAIF,CAAC,GAAGM,CAAC,CAACsB,MAAF,CAASE,MAAT,CAAgB5B,CAAhB,CAAR;;AACA,UAAIF,CAAC,CAAC+B,SAAN,EAAiB;AACb/B,QAAAA,CAAC,CAACgC,EAAF,CAAK,UAAUd,CAAV,EAAa;AACd,cAAIA,CAAC,CAACe,EAAF,IAAQ,CAAZ,EAAe;AACXjB,YAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,cAAIE,CAAC,CAACe,EAAF,IAAQ,CAAZ,EAAe;AACX5B,YAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,iBAAO,IAAP;AACH,SARD;AASH,OAVD,MAWK;AACD,YAAIL,CAAC,CAACiC,EAAF,IAAQ,CAAZ,EAAe;AACXjB,UAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,YAAIhB,CAAC,CAACiC,EAAF,IAAQ,CAAZ,EAAe;AACX5B,UAAAA,CAAC,GAAG,IAAJ;AACH;AACJ;AACJ;;AACD,QAAIA,CAAJ,EAAO;AACHJ,MAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,QAAIe,CAAJ,EAAO;AACHf,MAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,QAAIe,CAAC,IAAIX,CAAT,EAAY;AACRJ,MAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,WAAOA,CAAP;AACH,GAvCD;;AAwCAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCuB,IAAzC,GAAgD,UAAU5B,CAAV,EAAa;AACzD,QAAIL,CAAC,GAAGK,CAAC,CAAC6B,EAAV;AACA,QAAInB,CAAC,GAAGf,CAAR;AACA,QAAII,CAAC,GAAGC,CAAC,CAACW,EAAV;AACA,QAAIf,CAAC,GAAGI,CAAC,CAAC8B,EAAF,EAAR;AACA,QAAIpC,CAAC,GAAGM,CAAC,CAAC+B,EAAV;AACA,QAAInB,CAAC,GAAGZ,CAAC,CAACgC,EAAV;AACA,QAAI/B,CAAC,GAAGD,CAAC,CAACiC,EAAV;;AACA,QAAI,CAACrC,CAAL,EAAQ;AACJc,MAAAA,CAAC,GAAG;AAAEwB,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAEC,GAAzB;AAA8BC,QAAAA,CAAC,EAAED;AAAjC,OAAJ;AACH;;AACD,QAAI1B,CAAC,CAACyB,CAAF,GAAM,CAAN,IAAWzB,CAAC,CAACyB,CAAF,GAAM,CAAjB,IAAsBzB,CAAC,CAAC2B,CAAF,GAAM,CAA5B,IAAiC3B,CAAC,CAAC2B,CAAF,GAAM,CAA3C,EAA8C;AAC1C3B,MAAAA,CAAC,GAAG;AAAEwB,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAEC,GAAzB;AAA8BC,QAAAA,CAAC,EAAED;AAAjC,OAAJ;AACH;;AACD,SAAK,IAAI/C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGW,CAAC,CAACsB,MAAF,CAASC,KAA7B,EAAoClC,CAAC,EAArC,EAAyC;AACrC,UAAIG,CAAC,GAAGQ,CAAC,CAACsB,MAAF,CAASE,MAAT,CAAgBnC,CAAhB,CAAR;AACAG,MAAAA,CAAC,CAAC8C,EAAF,CAAK5B,CAAL;AACH;;AACDV,IAAAA,CAAC,CAACuC,EAAF,CAAK7B,CAAL;AACA,QAAI8B,CAAC,GAAGxC,CAAC,CAACyC,EAAF,IAAQ,CAAR,IAAa,CAACzC,CAAC,CAAC0C,EAAhB,KAAuB1C,CAAC,CAAC2C,EAAF,IAAQjD,CAA/B,KAAqC,CAACkB,CAAtC,IAA2C,CAACX,CAApD;AACA,QAAIR,CAAC,GAAGO,CAAC,CAAC4C,EAAV;;AACA,QAAIJ,CAAC,IAAI,CAAC/D,MAAM,CAACkB,CAAC,CAACwC,CAAH,CAAZ,IAAqB,CAAC1C,CAAC,CAACoD,OAA5B,EAAqC;AACjC,UAAIC,CAAC,GAAGrD,CAAC,CAACsD,KAAF,IAAWpD,CAAC,CAACwC,CAAF,GAAMnC,CAAC,CAACgD,EAAF,CAAKC,IAAtB,IAA8BjD,CAAC,CAACgD,EAAF,CAAKD,KAA3C;AACAhD,MAAAA,CAAC,CAACmD,EAAF,CAAKzD,CAAC,CAACwD,IAAF,GAASH,CAAd,EAAiBrD,CAAC,CAAC0D,GAAnB,EAAwB1D,CAAC,CAACwD,IAAF,GAASH,CAAjC,EAAoCrD,CAAC,CAAC2D,MAAtC;AACArD,MAAAA,CAAC,CAACsD,EAAF;AACAtD,MAAAA,CAAC,CAACuD,EAAF,CAAKR,CAAL;AACH,KALD,MAMK;AACD/C,MAAAA,CAAC,CAACwD,EAAF;AACH;;AACD,QAAIf,CAAC,IAAI,CAAC/D,MAAM,CAACkB,CAAC,CAAC0C,CAAH,CAAZ,IAAqB,CAAC5C,CAAC,CAACoD,OAA5B,EAAqC;AACjC,UAAIW,CAAC,GAAG/D,CAAC,CAACgE,MAAF,IAAY9D,CAAC,CAAC0C,CAAF,GAAMrC,CAAC,CAACgD,EAAF,CAAKG,GAAvB,IAA8BnD,CAAC,CAACgD,EAAF,CAAKS,MAA3C;AACA1D,MAAAA,CAAC,CAAC2D,EAAF,CAAKjE,CAAC,CAACwD,IAAP,EAAaxD,CAAC,CAAC0D,GAAF,GAAQK,CAArB,EAAwB/D,CAAC,CAACkE,KAA1B,EAAiClE,CAAC,CAAC0D,GAAF,GAAQK,CAAzC;AACAzD,MAAAA,CAAC,CAAC6D,EAAF;AACH,KAJD,MAKK;AACD7D,MAAAA,CAAC,CAAC8D,EAAF;AACH;AACJ,GAtCD;;AAuCAnF,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCyD,IAAzC,GAAgD,UAAU9D,CAAV,EAAa;AACzD,YAAQA,CAAC,CAACyC,EAAV;AACI,WAAK,CAAL;AACIzC,QAAAA,CAAC,CAACW,EAAF,CAAKoD,EAAL;AACA,aAAKnC,IAAL,CAAU5B,CAAV;AACAA,QAAAA,CAAC,CAACW,EAAF,CAAKqD,EAAL;AACA;;AACJ,WAAK,CAAL;AACIhE,QAAAA,CAAC,CAACW,EAAF,CAAK+B,EAAL;AACA1C,QAAAA,CAAC,CAACW,EAAF,CAAKsD,EAAL;AACA,aAAKrC,IAAL,CAAU5B,CAAV;AACAA,QAAAA,CAAC,CAACW,EAAF,CAAKuD,EAAL;AACA;;AACJ,WAAK,CAAL;AACIlE,QAAAA,CAAC,CAACW,EAAF,CAAK+B,EAAL;AACA1C,QAAAA,CAAC,CAACW,EAAF,CAAKsD,EAAL;AACA,aAAKrC,IAAL,CAAU5B,CAAV;AACAA,QAAAA,CAAC,CAACW,EAAF,CAAKwD,EAAL;AACA;AAjBR;AAmBH,GApBD;;AAqBAzF,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC+D,GAAzC,GAA+C,UAAUpE,CAAV,EAAaL,CAAb,EAAgB;AAC3D,QAAIA,CAAC,CAACwC,CAAF,IAAO,CAAP,IAAYxC,CAAC,CAAC0C,CAAF,IAAO,CAAnB,IAAwB1C,CAAC,CAACwC,CAAF,IAAOnC,CAAC,CAAC4C,EAAF,CAAKG,KAApC,IAA6CpD,CAAC,CAAC0C,CAAF,IAAOrC,CAAC,CAAC4C,EAAF,CAAKa,MAA7D,EAAqE;AACjE,WAAKY,EAAL,CAAQrE,CAAR,EAAWL,CAAX;AACH,KAFD,MAGK;AACDK,MAAAA,CAAC,CAACsE,EAAF;AACH;AACJ,GAPD;;AAQA5F,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCgE,EAAzC,GAA8C,UAAUrE,CAAV,EAAaL,CAAb,EAAgB;AAC1D,QAAI4E,GAAJ,EAASC,EAAT;;AACA,QAAI9D,CAAC,GAAGV,CAAC,CAACW,EAAV;AACA,QAAIZ,CAAC,GAAGC,CAAC,CAAC4C,EAAV;;AACA,QAAI5C,CAAC,CAACyE,EAAF,IAAQzE,CAAC,CAAC0C,EAAd,EAAkB;AACd;AACH;;AACD,QAAI1C,CAAC,CAAC+B,EAAF,IAAQ/B,CAAC,CAAC2C,EAAd,EAAkB;AACd,UAAI/C,CAAC,GAAGG,CAAC,CAAC0D,MAAF,GAAW1D,CAAC,CAACgD,KAArB;AACArC,MAAAA,CAAC,CAACgE,EAAF,CAAK9E,CAAL;;AACA,UAAI;AACA,aAAK,IAAI+E,EAAE,GAAGpH,QAAQ,CAACI,QAAQ,CAACqC,CAAC,CAACsB,MAAH,CAAT,CAAjB,EAAuCsD,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAjD,EAA4D,CAACD,EAAE,CAACE,IAAhE,EAAsEF,EAAE,GAAGD,EAAE,CAACE,IAAH,EAA3E,EAAsF;AAClF,cAAInF,CAAC,GAAGkF,EAAE,CAACG,KAAX;;AACA,cAAIrF,CAAC,CAAC+B,SAAN,EAAiB;AACb/B,YAAAA,CAAC,CAACgC,EAAF,CAAK,UAAUd,CAAV,EAAa;AACd,kBAAIA,CAAC,CAACoE,WAAF,IAAiB,CAArB,EAAwB;AACpBpE,gBAAAA,CAAC,CAACqE,EAAF,CAAKtF,CAAL,EAAQjC,KAAK,CAACgD,CAAD,EAAIA,CAAC,CAACwE,EAAN,CAAb;AACH;;AACD,qBAAO,IAAP;AACH,aALD;AAMH,WAPD,MAQK;AACD,gBAAIxF,CAAC,CAACsF,WAAF,IAAiB,CAArB,EAAwB;AACpBtF,cAAAA,CAAC,CAACuF,EAAF,CAAKtF,CAAL,EAAQjC,KAAK,CAACgD,CAAD,EAAIA,CAAC,CAACwE,EAAN,CAAb;AACH;AACJ;AACJ;AACJ,OAjBD,CAkBA,OAAOC,KAAP,EAAc;AACVZ,QAAAA,GAAG,GAAG;AAAEa,UAAAA,KAAK,EAAED;AAAT,SAAN;AACH,OApBD,SAqBQ;AACJ,YAAI;AACA,cAAIP,EAAE,IAAI,CAACA,EAAE,CAACE,IAAV,KAAmBN,EAAE,GAAGG,EAAE,CAACU,MAA3B,CAAJ,EACIb,EAAE,CAAC3F,IAAH,CAAQ8F,EAAR;AACP,SAHD,SAIQ;AACJ,cAAIJ,GAAJ,EACI,MAAMA,GAAG,CAACa,KAAV;AACP;AACJ;;AACD1E,MAAAA,CAAC,CAAC4E,EAAF;AACH;AACJ,GA3CD;;AA4CA5G,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCkF,EAAzC,GAA8C,UAAUvF,CAAV,EAAaL,CAAb,EAAgB;AAC1D,QAAIK,CAAC,CAAC2C,EAAF,IAAQ3C,CAAC,CAAC+D,EAAd,EAAkB;AACd/D,MAAAA,CAAC,CAAC+B,EAAF,GAAO,IAAP;AACA/B,MAAAA,CAAC,CAACwF,EAAF;AACA,WAAKlG,EAAL,GAAU,IAAIrB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA,WAAK9C,EAAL,GAAU,IAAItB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACArC,MAAAA,CAAC,CAACyC,EAAF,GAAO,CAAP;AACAzC,MAAAA,CAAC,CAACyF,EAAF,CAAKzF,CAAC,CAAC0F,EAAF,CAAK/F,CAAL,CAAL;AACH;AACJ,GATD;;AAUAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCsF,IAAzC,GAAgD,UAAU3F,CAAV,EAAaL,CAAb,EAAgB;AAC5D,SAAK4F,EAAL,CAAQvF,CAAR,EAAWL,CAAX;AACA,SAAK0E,EAAL,CAAQrE,CAAR,EAAWL,CAAX;AACA,SAAKiC,IAAL,CAAU5B,CAAV;AACH,GAJD;;AAKAtB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCuF,GAAzC,GAA+C,UAAU5F,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAI,CAACV,CAAC,CAAC+B,EAAP,EAAW;AACP,WAAK8D,EAAL,CAAQ7F,CAAR,EAAWL,CAAX,EAAce,CAAd;AACH;AACJ,GAJD;;AAKAhC,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCyF,GAAzC,GAA+C,UAAU9F,CAAV,EAAaL,CAAb,EAAgB;AAC3D,SAAKE,EAAL,GAAU5B,IAAI,CAACiC,KAAf;AACAF,IAAAA,CAAC,CAACsE,EAAF;AACH,GAHD;;AAIA5F,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC0F,IAAzC,GAAgD,UAAU/F,CAAV,EAAa;AACzD,QAAI,KAAKR,CAAT,EAAY;AACR,WAAKwG,GAAL,CAASC,qBAAT;AACA,WAAKzG,CAAL,GAAS,KAAT;AACH;;AACD,QAAIG,CAAC,GAAGK,CAAC,CAACW,EAAV;AACA,SAAKvB,CAAL,GAAS,CAAT;AACA,SAAK8G,EAAL,CAAQlG,CAAR;AACAA,IAAAA,CAAC,CAACyC,EAAF,GAAO,CAAP;AACA,SAAKpD,CAAL,GAAS,IAAT;AACAW,IAAAA,CAAC,CAACgC,EAAF,GAAO,IAAP;AACAhC,IAAAA,CAAC,CAACmG,EAAF;AACH,GAZD;;AAaAzH,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC6F,EAAzC,GAA8C,UAAUlG,CAAV,EAAa;AACvD,QAAIL,CAAC,GAAGK,CAAC,CAACW,EAAV;AACAX,IAAAA,CAAC,CAAC+B,EAAF,GAAO,KAAP;AACApC,IAAAA,CAAC,CAACyG,EAAF;AACAzG,IAAAA,CAAC,CAAC0G,EAAF;AACA1G,IAAAA,CAAC,CAAC8C,EAAF;AACAzC,IAAAA,CAAC,CAACyF,EAAF,CAAK;AAAEvD,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAEC,GAAzB;AAA8BC,MAAAA,CAAC,EAAED;AAAjC,KAAL;AACAzC,IAAAA,CAAC,CAACkE,EAAF;AACAlE,IAAAA,CAAC,CAAC4D,EAAF;AACA5D,IAAAA,CAAC,CAACsE,EAAF;AACH,GAVD;;AAWAvF,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCiG,IAAzC,GAAgD,UAAUtG,CAAV,EAAaL,CAAb,EAAgB;AAC5D,SAAKoG,IAAL,CAAU/F,CAAV;AACH,GAFD;;AAGAtB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCkG,IAAzC,GAAgD,UAAUvG,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsBH,CAAtB,EAAyB;AACrE,SAAKd,CAAL,GAASa,CAAC,CAACwC,CAAX;AACA,SAAKpD,CAAL,GAASY,CAAC,CAAC0C,CAAX;AACA,SAAKpD,CAAL,GAASyB,CAAT;AACA,SAAKxB,CAAL,GAASa,CAAT;AACA,SAAKZ,CAAL,GAASS,CAAT;AACA,SAAKZ,EAAL,GAAUgB,CAAC,CAACgD,EAAZ;AACA,SAAK+C,IAAL,CAAU/F,CAAV;AACH,GARD;;AASAtB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCmG,IAAzC,GAAgD,UAAUxG,CAAV,EAAaL,CAAb,EAAgB;AAC5D,QAAIe,CAAC,GAAGV,CAAC,CAACW,EAAV;AACAD,IAAAA,CAAC,CAACmD,EAAF;AACAnD,IAAAA,CAAC,CAAC6C,EAAF;;AACA,QAAI7C,CAAC,CAAC+F,EAAN,EAAU;AACN,WAAKpE,CAAL,CAAOrC,CAAP,EAAUL,CAAV;AACH,KAFD,MAGK;AACD,WAAK+G,EAAL,CAAQ1G,CAAR,EAAWL,CAAX;AACA,WAAKP,CAAL,GAASO,CAAT;AACH;AACJ,GAXD;;AAYAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCsG,IAAzC,GAAgD,UAAU3G,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsBH,CAAtB,EAAyB;AACrE,QAAIF,CAAC,GAAGM,CAAC,CAACW,EAAV;AACAjB,IAAAA,CAAC,CAACmE,EAAF;AACAnE,IAAAA,CAAC,CAAC6D,EAAF;AACA,SAAKtE,CAAL,GAAS,KAAKA,CAAL,GAASyB,CAAlB;AACA,SAAKxB,CAAL,GAAS,KAAKA,CAAL,GAASa,CAAlB;AACA,SAAKZ,CAAL,GAAS,KAAKA,CAAL,GAASS,CAAlB;;AACA,QAAII,CAAC,CAAC4G,EAAN,EAAU;AACN,WAAK3H,CAAL,GAAS,KAAKE,CAAd;AACA,WAAKD,CAAL,GAAS,KAAKC,CAAd;AACH;;AACD,QAAIyB,CAAC,GAAGZ,CAAC,CAACgD,EAAV;AACA,QAAI/C,CAAC,GAAGD,CAAC,CAAC4C,EAAV;AACA,QAAIvD,CAAC,GAAGM,CAAC,CAACwC,CAAF,GAAM,KAAKrD,CAAnB;AACA,QAAIU,CAAC,GAAGG,CAAC,CAAC0C,CAAF,GAAM,KAAKtD,CAAnB;AACA,SAAKD,CAAL,GAASa,CAAC,CAACwC,CAAX;AACA,SAAKpD,CAAL,GAASY,CAAC,CAAC0C,CAAX;AACA,QAAIG,CAAC,GAAG5B,CAAC,CAACmC,KAAV;AACA,QAAItD,CAAC,GAAGmB,CAAC,CAAC6C,MAAV;AACA,QAAIX,CAAC,GAAG,KAAK9D,EAAL,CAAQ+D,KAAR,GAAgB,KAAK9D,CAA7B;AACA,QAAIuE,CAAC,GAAG,KAAKxE,EAAL,CAAQyE,MAAR,GAAiB,KAAKvE,CAA9B;;AACA,QAAI4D,CAAC,GAAG,CAAR,EAAW;AACPA,MAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,QAAIU,CAAC,GAAG,CAAR,EAAW;AACPA,MAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,QAAIqD,CAAC,GAAG;AAAE3E,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAExC,CAAC,CAACwC,CAA3B;AAA8BE,MAAAA,CAAC,EAAE1C,CAAC,CAAC0C;AAAnC,KAAR;AACA,QAAIlD,CAAC,GAAG;AAAE+C,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAE,CAAC0E,CAAC,CAAC1E,CAAF,GAAMlC,CAAC,CAACgD,IAAT,IAAiBhD,CAAC,CAAC8C,KAAnB,GAA2BnC,CAAC,CAACmC,KAA7B,GAAqCnC,CAAC,CAACqC,IAAhE;AAAsEZ,MAAAA,CAAC,EAAE,CAACwE,CAAC,CAACxE,CAAF,GAAMpC,CAAC,CAACkD,GAAT,IAAgBlD,CAAC,CAACwD,MAAlB,GAA2B7C,CAAC,CAAC6C,MAA7B,GAAsC7C,CAAC,CAACuC;AAAjH,KAAR;AACA,QAAIlE,CAAC,GAAG,IAAIhB,IAAJ,CAAS,CAAT,EAAY2C,CAAC,CAACqC,IAAd,EAAoBrC,CAAC,CAACuC,GAAtB,EAA2BL,CAA3B,EAA8BU,CAA9B,CAAR;AACA,QAAItE,CAAC,GAAG;AAAEgD,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAE,CAAChD,CAAC,CAACgD,CAAF,GAAMlD,CAAC,CAACgE,IAAT,IAAiBhE,CAAC,CAAC8D,KAAnB,GAA2B9C,CAAC,CAAC8C,KAA7B,GAAqC9C,CAAC,CAACgD,IAAhE;AAAsEZ,MAAAA,CAAC,EAAE,CAAClD,CAAC,CAACkD,CAAF,GAAMpD,CAAC,CAACkE,GAAT,IAAgBlE,CAAC,CAACwE,MAAlB,GAA2BxD,CAAC,CAACwD,MAA7B,GAAsCxD,CAAC,CAACkD;AAAjH,KAAR;AACA,QAAI/D,CAAC,GAAIF,CAAC,CAACiD,CAAF,GAAM0E,CAAC,CAAC1E,CAAT,GAAc9C,CAAtB;AACA,QAAIP,CAAC,GAAII,CAAC,CAACmD,CAAF,GAAMwE,CAAC,CAACxE,CAAT,GAAc7C,CAAtB;AACA,QAAIT,CAAC,GAAGK,CAAC,GAAGa,CAAC,CAAC8C,KAAN,GAAc9D,CAAC,CAAC8D,KAAxB;AACA,QAAI+D,CAAC,GAAGhI,CAAC,GAAGmB,CAAC,CAACwD,MAAN,GAAexE,CAAC,CAACwE,MAAzB;AACAxE,IAAAA,CAAC,GAAG,IAAIhB,IAAJ,CAAS,CAAT,EAAYgB,CAAC,CAACgE,IAAF,GAASlE,CAArB,EAAwBE,CAAC,CAACkE,GAAF,GAAQ2D,CAAhC,EAAmC7H,CAAC,CAAC8D,KAArC,EAA4C9D,CAAC,CAACwE,MAA9C,CAAJ;AACA7C,IAAAA,CAAC,GAAG3B,CAAJ;AACAe,IAAAA,CAAC,CAAC+G,EAAF,CAAKnG,CAAL,EAAQ,IAAR;AACH,GAtCD;;AAuCAlC,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC2G,GAAzC,GAA+C,UAAUhH,CAAV,EAAaL,CAAb,EAAgB;AAC3D,SAAKL,EAAL,GAAU,IAAIrB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA,SAAK9C,EAAL,GAAU,IAAItB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACH,GAHD;;AAIA3D,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC4G,CAAzC,GAA6C,UAAUjH,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC5D,QAAIX,CAAC,GAAGC,CAAC,CAACgD,EAAF,CAAKD,KAAb;AACA,QAAInD,CAAC,GAAGI,CAAC,CAACgD,EAAF,CAAKS,MAAb;AACA,QAAI/D,CAAC,GAAGM,CAAC,CAACgD,EAAF,CAAKC,IAAL,GAAYlD,CAAC,GAAG,CAAxB;AACA,QAAIa,CAAC,GAAGZ,CAAC,CAACgD,EAAF,CAAKG,GAAL,GAAWvD,CAAC,GAAG,CAAvB;AACAG,IAAAA,CAAC,GAAGA,CAAC,GAAGJ,CAAR;AACAC,IAAAA,CAAC,GAAGA,CAAC,GAAGD,CAAR;AACA,QAAIM,CAAC,GAAGP,CAAC,GAAGK,CAAC,GAAG,CAAhB;AACA,QAAIV,CAAC,GAAGuB,CAAC,GAAGhB,CAAC,GAAG,CAAhB;AACAI,IAAAA,CAAC,CAAC+G,EAAF,CAAK,IAAI9I,IAAJ,CAAS,CAAT,EAAYgC,CAAZ,EAAeZ,CAAf,EAAkBU,CAAlB,EAAqBH,CAArB,CAAL,EAA8B,IAA9B;AACH,GAVD;;AAWAlB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC6G,IAAzC,GAAgD,UAAUlH,CAAV,EAAaL,CAAb,EAAgB;AAC5D,QAAIe,CAAC,GAAGV,CAAC,CAACW,EAAV;;AACA,QAAID,CAAC,CAAC+F,EAAN,EAAU;AACN,WAAKpE,CAAL,CAAOrC,CAAP,EAAUL,CAAV;AACH,KAFD,MAGK;AACD,WAAK+G,EAAL,CAAQ1G,CAAR,EAAWL,CAAX;AACH;;AACD,SAAKL,EAAL,GAAUrB,IAAI,CAACiC,KAAf;AACAF,IAAAA,CAAC,CAACgC,EAAF,GAAO,KAAP;AACH,GAVD;;AAWAtD,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC8G,GAAzC,GAA+C,UAAUnH,CAAV,EAAaL,CAAb,EAAgB;AAC3DK,IAAAA,CAAC,CAACgC,EAAF,GAAO,KAAP;AACA,SAAK1C,EAAL,GAAUrB,IAAI,CAACiC,KAAf;AACAF,IAAAA,CAAC,CAACsE,EAAF;AACH,GAJD;;AAKA5F,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC+G,GAAzC,GAA+C,UAAUpH,CAAV,EAAaL,CAAb,EAAgB;AAC3DK,IAAAA,CAAC,CAACqH,EAAF;AACH,GAFD;;AAGA3I,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCiH,IAAzC,GAAgD,UAAUtH,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsBH,CAAtB,EAAyB;AACrEI,IAAAA,CAAC,CAACgC,EAAF,GAAO,KAAP;AACA,SAAK1C,EAAL,GAAUrB,IAAI,CAACiC,KAAf;AACAF,IAAAA,CAAC,CAACsE,EAAF;AACH,GAJD;;AAKA5F,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCgC,CAAzC,GAA6C,UAAUrC,CAAV,EAAaL,CAAb,EAAgB;AACzD,QAAIe,CAAC,GAAGV,CAAC,CAACuH,EAAV;AACA,QAAIxH,CAAC,GAAG,IAAIJ,CAAZ;AACA,QAAIC,CAAC,GAAG;AAAEsC,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAEzB,CAAC,CAACyB,CAAF,GAAMzB,CAAC,CAACqC,KAAF,GAAU,CAAzC;AAA4CV,MAAAA,CAAC,EAAE3B,CAAC,CAAC2B,CAAF,GAAM3B,CAAC,CAAC+C,MAAF,GAAW;AAAhE,KAAR;AACA,QAAI/D,CAAC,GAAG;AAAEwC,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAEzB,CAAC,CAACyB,CAAF,GAAMvC,CAAC,CAACuC,CAAjC;AAAoCE,MAAAA,CAAC,EAAE3B,CAAC,CAAC2B,CAAF,GAAMzC,CAAC,CAACyC;AAA/C,KAAR;AACA,QAAIzB,CAAC,GAAG,IAAI3C,IAAJ,CAAS,CAAT,EAAYyB,CAAC,CAACyC,CAAF,GAAMpC,CAAN,GAAUH,CAAC,CAACuC,CAAxB,EAA2BzC,CAAC,CAAC2C,CAAF,GAAMtC,CAAN,GAAUH,CAAC,CAACyC,CAAvC,EAA0C3B,CAAC,CAACqC,KAAF,GAAUhD,CAApD,EAAuDW,CAAC,CAAC+C,MAAF,GAAW1D,CAAlE,CAAR;AACAC,IAAAA,CAAC,CAAC+G,EAAF,CAAKnG,CAAL,EAAQ,IAAR;AACH,GAPD;;AAQAlC,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCqG,EAAzC,GAA8C,UAAU1G,CAAV,EAAaL,CAAb,EAAgB;AAC1D,QAAIe,CAAC,GAAGV,CAAC,CAAC4C,EAAV;AACA,QAAI7C,CAAC,GAAGC,CAAC,CAACuH,EAAV;AACA,QAAI3H,CAAC,GAAGD,CAAC,GAAG,KAAKP,CAAjB;;AACA,QAAIQ,CAAC,IAAI,CAAT,EAAY;AACR,UAAIF,CAAC,GAAG,IAAR;AACA,UAAIkB,CAAC,GAAGhB,CAAC,GAAG,CAAJ,GAAQ,IAAIF,CAAZ,GAAgB,IAAIA,CAA5B;AACA,UAAIO,CAAC,GAAG;AAAEiC,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAEpC,CAAC,CAACoC,CAAF,GAAMpC,CAAC,CAACgD,KAAF,GAAU,CAAzC;AAA4CV,QAAAA,CAAC,EAAEtC,CAAC,CAACsC,CAAF,GAAMtC,CAAC,CAAC0D,MAAF,GAAW;AAAhE,OAAR;AACA,UAAIpE,CAAC,GAAG;AAAE6C,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAEpC,CAAC,CAACoC,CAAF,GAAMlC,CAAC,CAACkC,CAAjC;AAAoCE,QAAAA,CAAC,EAAEtC,CAAC,CAACsC,CAAF,GAAMpC,CAAC,CAACoC;AAA/C,OAAR;AACA,UAAI7C,CAAC,GAAG,IAAIvB,IAAJ,CAAS,CAAT,EAAYoB,CAAC,CAAC8C,CAAF,GAAMvB,CAAN,GAAUX,CAAC,CAACkC,CAAxB,EAA2B9C,CAAC,CAACgD,CAAF,GAAMzB,CAAN,GAAUX,CAAC,CAACoC,CAAvC,EAA0CtC,CAAC,CAACgD,KAAF,GAAUnC,CAApD,EAAuDb,CAAC,CAAC0D,MAAF,GAAW7C,CAAlE,CAAR;AACAZ,MAAAA,CAAC,CAAC+G,EAAF,CAAKvH,CAAL,EAAQ,IAAR;AACH;AACJ,GAZD;;AAaAd,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCmH,GAAzC,GAA+C,UAAUxH,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAI,CAACV,CAAC,CAACgC,EAAP,EAAW;AACP,WAAK3C,CAAL,GAAS,KAAT;AACH;;AACD,QAAIU,CAAC,GAAG,KAAR;;AACA,QAAIC,CAAC,CAACyH,EAAN,EAAU;AACN,UAAI,KAAKzB,GAAL,CAAS0B,uBAAT,CAAiC/H,CAAjC,EAAoCe,CAApC,CAAJ,EAA4C;AACxC,aAAKlB,CAAL,GAAS,IAAT;AACAO,QAAAA,CAAC,GAAG,IAAJ;AACA,aAAKmG,EAAL,CAAQlG,CAAR;AACAA,QAAAA,CAAC,CAACW,EAAF,CAAKgH,EAAL;AACA;AACH;AACJ;;AACD,SAAK9B,EAAL,CAAQ7F,CAAR,EAAWL,CAAX,EAAce,CAAd;AACAV,IAAAA,CAAC,CAAC4H,EAAF,CAAKjI,CAAL,EAAQe,CAAR;AACH,GAhBD;;AAiBAhC,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCwF,EAAzC,GAA8C,UAAU7F,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC7D,QAAIX,CAAJ;AACA,QAAIH,CAAC,GAAGI,CAAC,CAACW,EAAV;AACA,QAAIjB,CAAC,GAAGM,CAAC,CAACqG,EAAF,CAAK3F,CAAL,CAAR;;AACA,QAAId,CAAC,CAACoC,EAAF,IAAQ,CAAZ,EAAe;AACX,cAAQtC,CAAR;AACI,aAAK,CAAL;AACIK,UAAAA,CAAC,GAAGC,CAAC,CAAC6H,EAAF,KAASnI,CAAT,GAAa,CAAjB;AACA;;AACJ;AACIK,UAAAA,CAAC,GAAGL,CAAJ;AACA;AANR;AAQH,KATD,MAUK;AACD,UAAIE,CAAC,CAACoC,EAAF,IAAQhC,CAAC,CAAC8H,EAAd,EAAkB;AACd/H,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAGK,IAAIH,CAAC,CAACoC,EAAF,IAAQhC,CAAC,CAAC+H,EAAd,EAAkB;AACnBhI,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFI,MAGA;AACDA,QAAAA,CAAC,GAAG,CAAJ;AACH;AACJ;;AACD,YAAQA,CAAR;AACI,WAAK,CAAL;AACA,WAAK,CAAL;AACIC,QAAAA,CAAC,CAACW,EAAF,CAAKqH,EAAL;AACAhI,QAAAA,CAAC,CAACW,EAAF,CAAKgH,EAAL;AACA;AALR;;AAOA3H,IAAAA,CAAC,CAACyC,EAAF,GAAO1C,CAAP;;AACA,YAAQC,CAAC,CAACyC,EAAV;AACI,WAAK,CAAL;AACIzC,QAAAA,CAAC,CAACyF,EAAF,CAAK;AAAEvD,UAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,UAAAA,CAAC,EAAEC,GAAzB;AAA8BC,UAAAA,CAAC,EAAED;AAAjC,SAAL;AACA,aAAK9C,EAAL,GAAU,IAAIrB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA,aAAK9C,EAAL,GAAU,IAAItB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA,aAAKxC,EAAL,GAAU,IAAI5B,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACAzC,QAAAA,CAAC,CAAC6E,EAAF;AACA7E,QAAAA,CAAC,CAACqI,EAAF,CAAK,KAAK3I,EAAV;AACAU,QAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;AACA;;AACJ,WAAK,CAAL;AACI,aAAKZ,EAAL,GAAU,IAAIrB,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA,aAAKxC,EAAL,GAAU,IAAI5B,IAAJ,CAAS,CAAT,EAAY0B,CAAC,CAACwC,CAAd,EAAiBxC,CAAC,CAAC0C,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AACA;AAbR;;AAeA,SAAKvC,EAAL,GAAUE,CAAC,CAACgD,EAAZ;AACAhD,IAAAA,CAAC,CAACmI,EAAF,GAAOnI,CAAC,CAACgD,EAAT;AACH,GAlDD;;AAmDAtE,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC+H,IAAzC,GAAgD,UAAUpI,CAAV,EAAa;AACzDA,IAAAA,CAAC,CAACqI,EAAF;AACArI,IAAAA,CAAC,CAACW,EAAF,CAAKmB,EAAL;AACH,GAHD;;AAIApD,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCiI,IAAzC,GAAgD,UAAUtI,CAAV,EAAa;AACzDA,IAAAA,CAAC,CAACuI,EAAF;AACAvI,IAAAA,CAAC,CAACW,EAAF,CAAK6H,EAAL;AACH,GAHD;;AAIA9J,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCoI,IAAzC,GAAgD,UAAUzI,CAAV,EAAa;AACzD,QAAIA,CAAC,CAACwI,EAAF,IAAQ,CAAC,KAAK/I,CAAlB,EAAqB;AACjB,WAAKA,CAAL,GAAS,IAAT;AACA,WAAKiJ,EAAL,CAAQ1I,CAAR;AACH;AACJ,GALD;;AAMAtB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCsI,GAAzC,GAA+C,UAAU3I,CAAV,EAAa;AACxD,QAAI,KAAKP,CAAT,EAAY;AACR,WAAKmJ,EAAL,CAAQ5I,CAAR;AACA,WAAKP,CAAL,GAAS,KAAT;AACH;AACJ,GALD;;AAMAf,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCwI,GAAzC,GAA+C,UAAU7I,CAAV,EAAa;AACxD,QAAI,KAAKN,CAAL,IAAU,IAAd,EAAoB;AAChB;AACH;;AACD,SAAKkB,CAAL,CAAOgI,EAAP;AACH,GALD;;AAMAzI,EAAAA,MAAM,CAACC,cAAP,CAAsB1B,8BAA8B,CAAC2B,SAArD,EAAgE,GAAhE,EAAqE;AACjEC,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKZ,CAAZ;AACH,KAHgE;AAIjEa,IAAAA,UAAU,EAAE,KAJqD;AAKjEC,IAAAA,YAAY,EAAE;AALmD,GAArE;;AAOA9B,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCqI,EAAzC,GAA8C,UAAU1I,CAAV,EAAa;AACvD,QAAI,KAAKN,CAAL,IAAU,IAAd,EAAoB;AAChB,WAAKA,CAAL,GAAS,IAAIxB,eAAJ,CAAoB8B,CAApB,EAAuB,IAAvB,EAA6BA,CAAC,CAAC8I,EAA/B,CAAT;AACA,WAAKpJ,CAAL,CAAOO,CAAP,GAAW,CAACD,CAAC,CAAC+I,EAAd;AACH;;AACD/I,IAAAA,CAAC,CAACgJ,EAAF,GAAO,IAAP;AACAhJ,IAAAA,CAAC,CAACiJ,EAAF;AACA,SAAKvJ,CAAL,CAAOH,EAAP;AACAS,IAAAA,CAAC,CAACW,EAAF,CAAKuI,EAAL;AACAlJ,IAAAA,CAAC,CAACW,EAAF,CAAKwI,EAAL;AACH,GAVD;;AAWAzK,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCuI,EAAzC,GAA8C,UAAU5I,CAAV,EAAa;AACvD,QAAI,KAAKN,CAAL,IAAU,IAAd,EAAoB;AAChB;AACH;;AACDM,IAAAA,CAAC,CAACgJ,EAAF,GAAO,KAAP;AACAhJ,IAAAA,CAAC,CAACW,EAAF,CAAKyI,EAAL;AACA,SAAK1J,CAAL,CAAO2J,EAAP;AACArJ,IAAAA,CAAC,CAACsJ,EAAF;AACAtJ,IAAAA,CAAC,CAACW,EAAF,CAAK4I,EAAL;AACH,GATD;;AAUA7K,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCmJ,GAAzC,GAA+C,UAAUxJ,CAAV,EAAa;AACxDA,IAAAA,CAAC,CAACyJ,EAAF;AACAzJ,IAAAA,CAAC,CAAC0J,EAAF;AACH,GAHD;;AAIAhL,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCmD,CAAzC,GAA6C,UAAUxD,CAAV,EAAa;AACtD,WAAOA,CAAC,CAACyC,EAAF,IAAQ,CAAf;AACH,GAFD;;AAGA/D,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCwG,CAAzC,GAA6C,UAAU7G,CAAV,EAAaL,CAAb,EAAgB;AACzD,WAAOK,CAAC,CAAC2J,EAAF,IAAQ,CAAR,IAAahK,CAAb,IAAkBK,CAAC,CAACwI,EAA3B;AACH,GAFD;;AAGA9J,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCyC,CAAzC,GAA6C,UAAU9C,CAAV,EAAa;AACtD,WAAOA,CAAC,CAACyC,EAAF,IAAQ,CAAf;AACH,GAFD;;AAGA/D,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCuJ,GAAzC,GAA+C,UAAU5J,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAIX,CAAC,GAAGC,CAAC,CAACW,EAAV;;AACA,QAAI,KAAKnB,CAAT,EAAY;AACRQ,MAAAA,CAAC,CAACe,EAAF,CAAK8I,eAAL,CAAqBlK,CAArB,EAAwBe,CAAxB;AACA;AACH;;AACD,QAAI,KAAKpB,EAAL,CAAQuD,OAAR,IAAmBnC,CAAvB,EAA0B;AACtB,WAAKmF,EAAL,CAAQ7F,CAAR,EAAWL,CAAX,EAAce,CAAd;AACH;;AACD,QAAId,CAAC,GAAG,CAAR;;AACA,QAAIc,CAAJ,EAAO;AACHd,MAAAA,CAAC,GAAG,EAAJ;AACH;;AACD,QAAIF,CAAC,GAAG,KAAR;AACA,QAAIkB,CAAC,GAAG,IAAI3C,IAAJ,CAAS,CAAT,EAAY;AAAEiE,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAE,KAAK7C,EAAL,CAAQ6C,CAAjC;AAAoCE,MAAAA,CAAC,EAAE,KAAK/C,EAAL,CAAQ+C;AAA/C,KAAZ,EAAgE1C,CAAhE,CAAR;AACA,QAAIM,CAAC,GAAG,IAAIhC,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAR;;AACA,QAAI,CAAC,KAAK4B,EAAL,CAAQgD,OAAb,EAAsB;AAClB5C,MAAAA,CAAC,GAAG,IAAIhC,IAAJ,CAAS,CAAT,EAAY;AAAEiE,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAE,KAAKtC,EAAL,CAAQsC,CAAjC;AAAoCE,QAAAA,CAAC,EAAE,KAAKxC,EAAL,CAAQwC;AAA/C,OAAZ,EAAgE1C,CAAhE,CAAJ;AACH;;AACD,QAAIM,CAAC,CAAC8C,KAAF,GAAUnD,CAAV,IAAeK,CAAC,CAACwD,MAAF,GAAW7D,CAA9B,EAAiC;AAC7BF,MAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,QAAI,CAACM,CAAC,CAACgC,EAAP,EAAW;AACP,UAAItC,CAAJ,EAAO;AACH,aAAKL,CAAL,GAAS,KAAT;AACH;AACJ;;AACD,QAAI,CAACW,CAAC,CAACgC,EAAH,KAAUhC,CAAC,CAAC+B,EAAF,IAAQ,CAACrB,CAAnB,CAAJ,EAA2B;AACvBV,MAAAA,CAAC,CAACyF,EAAF,CAAKzF,CAAC,CAAC0F,EAAF,CAAK/F,CAAL,CAAL;AACH;;AACD,QAAI,KAAKmD,CAAL,CAAO9C,CAAP,CAAJ,EAAe;AACX,UAAIN,CAAJ,EAAO;AACH,YAAIL,CAAC,GAAGW,CAAC,CAAC8J,EAAF,CAAKlJ,CAAL,CAAR;AACAZ,QAAAA,CAAC,CAACkI,EAAF,CAAK7I,CAAL,EAAQ,IAAR;AACH,OAHD,MAIK;AACDW,QAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;AACH;;AACDF,MAAAA,CAAC,CAAC+J,EAAF;AACAhK,MAAAA,CAAC,CAACkI,EAAF,CAAKrH,CAAL;AACH;;AACD,QAAIpB,CAAC,GAAGQ,CAAC,CAAC4C,EAAV;AACA,QAAIJ,CAAC,GAAGxC,CAAC,CAACgD,EAAV;;AACA,QAAI,KAAKQ,CAAL,CAAOxD,CAAP,CAAJ,EAAe;AACX,UAAIP,CAAC,GAAGD,CAAR;AACA,UAAIsD,CAAC,GAAGN,CAAC,CAACS,IAAF,GAAST,CAAC,CAACO,KAAF,IAAW,KAAKzD,EAAL,CAAQ6C,CAAR,GAAYxC,CAAC,CAACwC,CAAzB,IAA8B1C,CAAC,CAACsD,KAAjD;AACA,UAAIS,CAAC,GAAGhB,CAAC,CAACW,GAAF,GAAQX,CAAC,CAACiB,MAAF,IAAY,KAAKnE,EAAL,CAAQ+C,CAAR,GAAY1C,CAAC,CAAC0C,CAA1B,IAA+B5C,CAAC,CAACgE,MAAjD;AACA,UAAIoD,CAAC,GAAG,IAAI5I,IAAJ,CAAS,CAAT,EAAY6E,CAAZ,EAAeU,CAAf,EAAkBhB,CAAC,CAACO,KAApB,EAA2BP,CAAC,CAACiB,MAA7B,CAAR;;AACA,UAAI,KAAKoD,CAAL,CAAO7G,CAAP,EAAUU,CAAV,CAAJ,EAAkB;AACd,YAAIT,CAAC,CAAC8C,KAAF,IAAW,CAAX,IAAgB9C,CAAC,CAACwD,MAAF,IAAY,CAAhC,EAAmC;AAC/BzD,UAAAA,CAAC,CAACmG,EAAF;AACH;;AACDnG,QAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;AACA,YAAIf,CAAC,GAAGa,CAAC,CAACgD,EAAV;AACAhD,QAAAA,CAAC,CAAC+G,EAAF,CAAKF,CAAL,EAAQ,IAAR;AACA,YAAI5H,CAAC,GAAGe,CAAC,CAACgD,EAAV;;AACA,YAAI7D,CAAC,CAAC6K,OAAF,CAAU/K,CAAV,KAAgBe,CAAC,CAACW,EAAF,CAAK6B,CAAL,CAAO0D,EAA3B,EAA+B;AAC3BlG,UAAAA,CAAC,CAACW,EAAF,CAAK6B,CAAL,CAAOyH,EAAP;AACH;;AACD,aAAK3K,EAAL,GAAU,IAAIrB,IAAJ,CAAS,CAAT,EAAY0B,CAAZ,EAAe,IAAIxB,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAAf,CAAV;AACA,aAAKoB,EAAL,GAAU,IAAItB,IAAJ,CAAS,CAAT,EAAY0B,CAAZ,EAAe,IAAIxB,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAAf,CAAV;AACH,OAbD,MAcK;AACD6B,QAAAA,CAAC,CAACkI,EAAF,CAAKrB,CAAL,EAAQ,IAAR;AACH;AACJ;;AACD,SAAKtH,EAAL,GAAU,IAAItB,IAAJ,CAAS,CAAT,EAAY0B,CAAZ,EAAe,IAAIxB,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAAf,CAAV;AACA4B,IAAAA,CAAC,CAACmK,EAAF,CAAKvK,CAAL;AACH,GApED;;AAqEAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC8J,GAAzC,GAA+C,UAAUnK,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsB;AACjE,QAAIH,CAAC,GAAGI,CAAC,CAACW,EAAV;AACA,QAAIjB,CAAC,GAAG,CAAR;;AACA,QAAIgB,CAAJ,EAAO;AACHhB,MAAAA,CAAC,GAAG,EAAJ;AACH;;AACD,QAAIkB,CAAC,GAAGZ,CAAC,CAAC4C,EAAV;AACA,QAAI3C,CAAC,GAAGD,CAAC,CAACgD,EAAV;;AACA,QAAI,CAACjD,CAAL,EAAQ;AACJ,UAAI,KAAKP,CAAT,EAAY;AACR,aAAKwG,GAAL,CAASoE,uBAAT,CAAiCzK,CAAjC,EAAoCe,CAApC;AACA,aAAKlB,CAAL,GAAS,KAAT;AACAI,QAAAA,CAAC,CAACyK,EAAF;AACA;AACH;AACJ;;AACD,QAAI,CAAC,KAAKhL,CAAV,EAAa;AACT,UAAIA,CAAC,GAAG,KAAR;AACA,UAAIG,CAAC,GAAG,IAAIvB,IAAJ,CAAS,CAAT,EAAY;AAAEiE,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAE,KAAK7C,EAAL,CAAQ6C,CAAjC;AAAoCE,QAAAA,CAAC,EAAE,KAAK/C,EAAL,CAAQ+C;AAA/C,OAAZ,EAAgE1C,CAAhE,CAAR;;AACA,UAAIH,CAAC,CAACuD,KAAF,GAAUrD,CAAV,IAAeF,CAAC,CAACiE,MAAF,GAAW/D,CAA9B,EAAiC;AAC7BL,QAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,UAAIW,CAAC,CAACyC,EAAF,IAAQ,CAAZ,EAAe;AACXzC,QAAAA,CAAC,CAACsK,EAAF;AACA1K,QAAAA,CAAC,CAACyG,EAAF;;AACA,YAAIhH,CAAJ,EAAO;AACHW,UAAAA,CAAC,CAAC+G,EAAF,CAAK/G,CAAC,CAAC8J,EAAF,CAAKtK,CAAL,CAAL,EAAc,IAAd;AACH;AACJ;;AACD,UAAIQ,CAAC,CAACyC,EAAF,IAAQ,CAAZ,EAAe;AACX,YAAID,CAAC,GAAG5B,CAAR;AACA,YAAInB,CAAC,GAAGQ,CAAC,CAACgD,IAAF,GAAShD,CAAC,CAAC8C,KAAF,IAAW,KAAKzD,EAAL,CAAQ6C,CAAR,GAAYxC,CAAC,CAACwC,CAAzB,IAA8BK,CAAC,CAACO,KAAjD;AACA,YAAID,CAAC,GAAG7C,CAAC,CAACkD,GAAF,GAAQlD,CAAC,CAACwD,MAAF,IAAY,KAAKnE,EAAL,CAAQ+C,CAAR,GAAY1C,CAAC,CAAC0C,CAA1B,IAA+BG,CAAC,CAACiB,MAAjD;AACAzD,QAAAA,CAAC,CAAC+G,EAAF,CAAK,IAAI9I,IAAJ,CAAS,CAAT,EAAYwB,CAAZ,EAAeqD,CAAf,EAAkB7C,CAAC,CAAC8C,KAApB,EAA2B9C,CAAC,CAACwD,MAA7B,CAAL,EAA2C,IAA3C;AACH;AACJ;;AACD,QAAID,CAAC,GAAG,KAAR;AACA,QAAIqD,CAAC,GAAG,IAAI5I,IAAJ,CAAS,CAAT,EAAY;AAAEiE,MAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,MAAAA,CAAC,EAAE,KAAKtC,EAAL,CAAQsC,CAAjC;AAAoCE,MAAAA,CAAC,EAAE,KAAKxC,EAAL,CAAQwC;AAA/C,KAAZ,EAAgE1C,CAAhE,CAAR;;AACA,QAAIkH,CAAC,CAAC9D,KAAF,GAAUrD,CAAV,IAAemH,CAAC,CAACpD,MAAF,GAAW/D,CAA9B,EAAiC;AAC7B8D,MAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,QAAIA,CAAJ,EAAO;AACHxD,MAAAA,CAAC,CAACiC,EAAF,GAAO,IAAP;AACH;;AACDjC,IAAAA,CAAC,CAACyC,EAAF,GAAO,CAAP;AACAzC,IAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;AACAN,IAAAA,CAAC,CAACyK,EAAF;AACArK,IAAAA,CAAC,CAACiC,EAAF,GAAO,KAAP;AACArC,IAAAA,CAAC,CAACiE,EAAF;AACAjE,IAAAA,CAAC,CAAC2D,EAAF;;AACA,QAAI7C,CAAJ,EAAO;AACHd,MAAAA,CAAC,CAACqE,EAAF;AACArE,MAAAA,CAAC,CAACiE,EAAF;AACAjE,MAAAA,CAAC,CAAC2D,EAAF;AACA3D,MAAAA,CAAC,CAAC6C,EAAF;AACH;;AACDzC,IAAAA,CAAC,CAACsE,EAAF;AACAtE,IAAAA,CAAC,CAACwF,EAAF;AACAxF,IAAAA,CAAC,CAACuK,EAAF,CAAK5K,CAAL,EAAQe,CAAR,EAAWX,CAAX;AACH,GA3DD;;AA4DArB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCmK,IAAzC,GAAgD,UAAUxK,CAAV,EAAa;AACzD,QAAI,KAAKY,CAAL,IAAU,IAAd,EAAoB;AAChB,WAAKA,CAAL,CAAOX,CAAP,GAAW,CAACD,CAAC,CAAC+I,EAAd;AACH;AACJ,GAJD;;AAKArK,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCoK,GAAzC,GAA+C,UAAUzK,CAAV,EAAaL,CAAb,EAAgB;AAC3D,QAAIe,CAAC,GAAGV,CAAC,CAACW,EAAV;AACA,QAAIZ,CAAC,GAAGC,CAAC,CAACgD,EAAV;;AACA,QAAIhD,CAAC,CAACyC,EAAF,IAAQ,CAAR,IAAa9C,CAAC,IAAI,CAAtB,EAAyB;AACrBe,MAAAA,CAAC,CAACgK,EAAF;AACA1K,MAAAA,CAAC,CAACyC,EAAF,GAAO,CAAP;AACAzC,MAAAA,CAAC,CAACwF,EAAF;AACAxF,MAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;;AACA,UAAIF,CAAC,CAAC2J,EAAF,IAAQ,CAAZ,EAAe;AACX3J,QAAAA,CAAC,CAAC+G,EAAF,CAAK,KAAKjH,EAAV,EAAc,IAAd;AACH;;AACD,aAAO,IAAP;AACH;;AACD,QAAIE,CAAC,CAACyC,EAAF,IAAQ,CAAR,IAAa9C,CAAC,IAAI,CAAtB,EAAyB;AACrBe,MAAAA,CAAC,CAACgK,EAAF;AACA1K,MAAAA,CAAC,CAACyC,EAAF,GAAO,CAAP;AACAzC,MAAAA,CAAC,CAACwF,EAAF;AACA9E,MAAAA,CAAC,CAAC2F,EAAF;AACArG,MAAAA,CAAC,CAACkI,EAAF,CAAKjK,IAAI,CAACiC,KAAV,EAAiB,IAAjB;AACA,aAAO,IAAP;AACH;;AACD,QAAIN,CAAC,GAAG3B,IAAI,CAACiC,KAAb;AACA,QAAIR,CAAC,GAAG,KAAR;;AACA,YAAQC,CAAR;AACI,WAAK,EAAL;AACID,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAJ;AACA;;AACJ,WAAK,EAAL;AACIyB,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAF,GAAS,MAAMlD,CAAC,CAACgD,KAA7B,EAAoChD,CAAC,CAACoD,GAAF,GAAQ,MAAMpD,CAAC,CAAC0D,MAApD,EAA4D,MAAM1D,CAAC,CAACgD,KAApE,EAA2E,MAAMhD,CAAC,CAAC0D,MAAnF,CAAJ;AACA;;AACJ,WAAK,EAAL;AACI/D,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAF,GAAS,MAAMlD,CAAC,CAACgD,KAA7B,EAAoChD,CAAC,CAACoD,GAAF,GAAQ,MAAMpD,CAAC,CAAC0D,MAApD,EAA4D,MAAM1D,CAAC,CAACgD,KAApE,EAA2E,MAAMhD,CAAC,CAAC0D,MAAnF,CAAJ;AACA;;AACJ,WAAK,EAAL;AACI/D,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAF,GAAS,MAAMlD,CAAC,CAACgD,KAA7B,EAAoChD,CAAC,CAACoD,GAAtC,EAA2CpD,CAAC,CAACgD,KAA7C,EAAoDhD,CAAC,CAAC0D,MAAtD,CAAJ;AACA7D,QAAAA,CAAC,CAACuC,CAAF,GAAMvC,CAAC,CAACuC,CAAF,GAAMwI,IAAI,CAACC,GAAL,CAAShL,CAAC,CAACqD,IAAX,EAAiB,CAAjB,CAAZ;AACA;;AACJ,WAAK,EAAL;AACIvD,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAF,GAAS,MAAMlD,CAAC,CAACgD,KAA7B,EAAoChD,CAAC,CAACoD,GAAtC,EAA2CpD,CAAC,CAACgD,KAA7C,EAAoDhD,CAAC,CAAC0D,MAAtD,CAAJ;AACA7D,QAAAA,CAAC,CAACuC,CAAF,GAAMvC,CAAC,CAACuC,CAAF,GAAMwI,IAAI,CAACE,GAAL,CAASjL,CAAC,CAAC+D,KAAF,GAAU,CAAnB,EAAsB,CAAtB,CAAZ;AACA;;AACJ,WAAK,EAAL;AACIjE,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAd,EAAoBlD,CAAC,CAACoD,GAAF,GAAQ,MAAMpD,CAAC,CAAC0D,MAApC,EAA4C1D,CAAC,CAACgD,KAA9C,EAAqDhD,CAAC,CAAC0D,MAAvD,CAAJ;AACA7D,QAAAA,CAAC,CAACyC,CAAF,GAAMzC,CAAC,CAACyC,CAAF,GAAMsI,IAAI,CAACC,GAAL,CAAShL,CAAC,CAACuD,GAAX,EAAgB,CAAhB,CAAZ;AACA;;AACJ,WAAK,EAAL;AACIzD,QAAAA,CAAC,GAAG,IAAJ;AACAE,QAAAA,CAAC,GAAG,IAAI3B,IAAJ,CAAS,CAAT,EAAY8B,CAAC,CAACkD,IAAd,EAAoBlD,CAAC,CAACoD,GAAF,GAAQ,MAAMpD,CAAC,CAAC0D,MAApC,EAA4C1D,CAAC,CAACgD,KAA9C,EAAqDhD,CAAC,CAAC0D,MAAvD,CAAJ;AACA7D,QAAAA,CAAC,CAACyC,CAAF,GAAMzC,CAAC,CAACyC,CAAF,GAAMsI,IAAI,CAACE,GAAL,CAASjL,CAAC,CAACwD,MAAF,GAAW,CAApB,EAAuB,CAAvB,CAAZ;AACA;AAhCR;;AAkCA,QAAI,CAACxD,CAAC,CAACiD,OAAH,IAAc5E,IAAI,CAAC6M,eAAL,CAAqBlL,CAArB,EAAwBG,CAAxB,CAAlB,EAA8C;AAC1CC,MAAAA,CAAC,CAAC+G,EAAF,CAAKnH,CAAL,EAAQ,IAAR;AACH;;AACD,WAAOF,CAAP;AACH,GA7DD;;AA8DAhB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC0K,GAAzC,GAA+C,UAAU/K,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAIX,CAAC,GAAGC,CAAC,CAACW,EAAV;AACA,QAAIf,CAAC,GAAGI,CAAC,CAACgD,EAAV;AACA,QAAItD,CAAC,GAAGE,CAAC,CAACqD,IAAF,GAASrD,CAAC,CAACmD,KAAF,GAAUpD,CAAC,CAACwC,CAAZ,GAAgBnC,CAAC,CAAC4C,EAAF,CAAKG,KAAtC;AACA,QAAInC,CAAC,GAAGhB,CAAC,CAACuD,GAAF,GAAQvD,CAAC,CAAC6D,MAAF,GAAW9D,CAAC,CAAC0C,CAAb,GAAiBrC,CAAC,CAAC4C,EAAF,CAAKa,MAAtC;AACA,QAAIxD,CAAC,GAAG,IAAI7B,QAAQ,CAACsC,CAAT,CAAWA,CAAX,EAAc,CAAC,GAAf,EAAoB,GAApB,CAAZ;AACA,QAAIrB,CAAC,GAAGsL,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYnL,CAAC,GAAGO,CAAC,IAAIP,CAAC,GAAGE,CAAC,CAACqD,IAAV,CAAjB,CAAR;AACA,QAAIzD,CAAC,GAAGmL,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYhK,CAAC,GAAGX,CAAC,IAAIL,CAAC,CAACwD,MAAF,GAAWxC,CAAf,CAAjB,CAAR;AACA,QAAI4B,CAAC,GAAGmI,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYlL,CAAC,GAAGO,CAAC,IAAIL,CAAC,CAAC+D,KAAF,GAAUjE,CAAd,CAAjB,CAAR;AACA,QAAID,CAAC,GAAGkL,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYjK,CAAC,GAAGX,CAAC,IAAIW,CAAC,GAAGhB,CAAC,CAACuD,GAAV,CAAjB,CAAR;AACAnD,IAAAA,CAAC,CAACmG,EAAF;AACA,SAAKhE,CAAL,CAAOnC,CAAP,EAAU,IAAV;AACAA,IAAAA,CAAC,CAAC+G,EAAF,CAAK,IAAI9I,IAAJ,CAAS,CAAT,EAAYoB,CAAZ,EAAeI,CAAf,EAAkB+C,CAAC,GAAGnD,CAAtB,EAAyBG,CAAC,GAAGC,CAA7B,CAAL,EAAsC,IAAtC;AACA,WAAOO,CAAC,CAAC6H,EAAF,EAAP;AACH,GAdD;;AAeAnJ,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC8B,CAAzC,GAA6C,UAAUnC,CAAV,EAAaL,CAAb,EAAgB;AACzDK,IAAAA,CAAC,CAACW,EAAF,CAAKqK,EAAL,CAAQrL,CAAR;AACH,GAFD;;AAGAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC4K,GAAzC,GAA+C,UAAUjL,CAAV,EAAaL,CAAb,EAAgB;AAC3D,QAAIe,CAAC,GAAGV,CAAC,CAACgD,EAAV;AACA,QAAIjD,CAAC,GAAGW,CAAC,CAACuC,IAAF,GAASvC,CAAC,CAACqC,KAAF,GAAUpD,CAAC,CAACwC,CAAZ,GAAgBnC,CAAC,CAAC4C,EAAF,CAAKG,KAAtC;AACA,QAAInD,CAAC,GAAGc,CAAC,CAACyC,GAAF,GAAQzC,CAAC,CAAC+C,MAAF,GAAW9D,CAAC,CAAC0C,CAAb,GAAiBrC,CAAC,CAAC4C,EAAF,CAAKa,MAAtC;AACA,QAAI/D,CAAC,GAAG,GAAR;AACA,QAAIkB,CAAC,GAAG+J,IAAI,CAACE,GAAL,CAAS,CAAT,EAAY9K,CAAC,GAAGL,CAAC,IAAIK,CAAC,GAAGW,CAAC,CAACuC,IAAV,CAAjB,CAAR;AACA,QAAIhD,CAAC,GAAG0K,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYhL,CAAC,GAAGF,CAAC,IAAIgB,CAAC,CAAC0C,MAAF,GAAWxD,CAAf,CAAjB,CAAR;AACA,QAAIP,CAAC,GAAGsL,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY7K,CAAC,GAAGL,CAAC,IAAIgB,CAAC,CAACiD,KAAF,GAAU5D,CAAd,CAAjB,CAAR;AACA,QAAIP,CAAC,GAAGmL,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYjL,CAAC,GAAGF,CAAC,IAAIE,CAAC,GAAGc,CAAC,CAACyC,GAAV,CAAjB,CAAR;AACAnD,IAAAA,CAAC,CAAC+G,EAAF,CAAK,IAAI9I,IAAJ,CAAS,CAAT,EAAY2C,CAAZ,EAAepB,CAAf,EAAkBH,CAAC,GAAGuB,CAAtB,EAAyBX,CAAC,GAAGT,CAA7B,CAAL,EAAsC,IAAtC;AACH,GAVD;;AAWAd,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC6K,GAAzC,GAA+C,UAAUlL,CAAV,EAAa;AACxD,SAAKY,CAAL,CAAOsF,EAAP;AACH,GAFD;;AAGAxH,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC8K,GAAzC,GAA+C,UAAUnL,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsBH,CAAtB,EAAyBF,CAAzB,EAA4BkB,CAA5B,EAA+B;AAC1E,QAAIwK,GAAJ,EAAS5G,EAAT;;AACA,QAAIvE,CAAC,GAAG,IAAR;AACA,QAAIZ,CAAC,GAAG,KAAR;AACA,QAAIG,CAAC,GAAG,KAAR;AACA,QAAIgD,CAAC,GAAGxC,CAAR;;AACA,QAAIwC,CAAC,CAAC6I,EAAF,IAAQ,CAAZ,EAAe;AACXpL,MAAAA,CAAC,GAAG,KAAJ;AACAZ,MAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,QAAImD,CAAC,CAAC6I,EAAF,IAAQ,CAAR,IAAa7I,CAAC,CAAC6I,EAAF,IAAQ,CAAzB,EAA4B;AACxBhM,MAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,QAAImD,CAAC,CAAC6I,EAAF,IAAQ,CAAZ,EAAe;AACX7L,MAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,QAAIC,CAAC,GAAGlB,QAAQ,CAACoM,IAAI,CAACW,KAAL,CAAWvL,CAAC,CAACoC,CAAb,CAAD,CAAhB;AACA,QAAIW,CAAC,GAAGvE,QAAQ,CAACoM,IAAI,CAACW,KAAL,CAAWvL,CAAC,CAACsC,CAAb,CAAD,CAAhB;AACA3C,IAAAA,CAAC,GAAG,IAAJ;AACA,QAAI8D,CAAC,GAAG,CAAC,CAAT;;AACA,QAAIvD,CAAC,IAAIS,CAAC,IAAI,IAAd,EAAoB;AAChB,UAAImG,CAAC,GAAGpH,CAAR;AACA,UAAIN,CAAC,GAAG2D,CAAR;;AACA,UAAI9C,CAAC,CAACuL,EAAF,IAAQ,CAAZ,EAAe;AACX1E,QAAAA,CAAC,GAAGtI,QAAQ,CAACoM,IAAI,CAACW,KAAL,CAAWvL,CAAC,CAACoC,CAAF,GAAMnC,CAAC,CAACuL,EAAnB,CAAD,CAAZ;AACApM,QAAAA,CAAC,GAAGZ,QAAQ,CAACoM,IAAI,CAACW,KAAL,CAAWvL,CAAC,CAACsC,CAAF,GAAMrC,CAAC,CAACuL,EAAnB,CAAD,CAAZ;AACH;;AACD,UAAItM,CAAC,GAAGyB,CAAC,CAACV,CAAF,CAAI6G,CAAJ,EAAO1H,CAAP,CAAR;;AACA,UAAIF,CAAC,IAAI,IAAL,IAAaA,CAAC,CAACuM,MAAF,IAAY,CAA7B,EAAgC;AAC5B9L,QAAAA,CAAC,GAAG,IAAJ;AACA,eAAO;AACHoB,UAAAA,GAAG,EAAE,IADF;AAEH2K,UAAAA,EAAE,EAAE/L;AAFD,SAAP;AAIH;;AACD,UAAI,CAACT,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,IAAYA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAnB,IAAwBA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAhC,KAAsCA,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAlD,EAAuD;AACnD,YAAIyM,KAAK,GAAGzM,CAAC,CAAC,CAAD,CAAb;;AACA,YAAIyM,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChBA,UAAAA,KAAK,GAAGA,KAAK,IAAI,IAAKA,KAAK,GAAG,CAAjB,CAAb;AACH;;AACD,YAAIC,KAAK,GAAG1M,CAAC,CAAC,CAAD,CAAb;;AACA,YAAI0M,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChBA,UAAAA,KAAK,GAAGA,KAAK,IAAI,IAAKA,KAAK,GAAG,CAAjB,CAAb;AACH;;AACD,YAAIC,KAAK,GAAG3M,CAAC,CAAC,CAAD,CAAb;;AACA,YAAI2M,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChBA,UAAAA,KAAK,GAAGA,KAAK,IAAI,IAAKA,KAAK,GAAG,CAAjB,CAAb;AACH;;AACD,YAAIC,IAAI,GAAG,CAAX;AACAA,QAAAA,IAAI,GAAIH,KAAK,IAAI,CAAjB;AACAG,QAAAA,IAAI,GAAIA,IAAI,IAAI,CAAhB;AACAA,QAAAA,IAAI,GAAIA,IAAI,GAAIF,KAAK,IAAI,CAAzB;AACAE,QAAAA,IAAI,GAAIA,IAAI,IAAI,CAAhB;AACAA,QAAAA,IAAI,GAAIA,IAAI,GAAID,KAAK,IAAI,CAAzB;AACApI,QAAAA,CAAC,GAAGjF,QAAQ,CAACoM,IAAI,CAACmB,KAAL,CAAYtN,SAAS,CAACqN,IAAD,EAAO,IAAP,CAArB,CAAD,CAAZ;AACArI,QAAAA,CAAC;AACJ;AACJ;;AACD,QAAItE,CAAC,GAAG,IAAR;AACA,QAAIE,CAAC,GAAG,CAAC,CAAT;;AACA,QAAIoE,CAAC,IAAI,CAAT,EAAY;AACR,UAAIuI,GAAG,GAAG,KAAV;AACA,UAAIC,GAAG,GAAG,CAAV;;AACA,UAAI;AACA,aAAK,IAAIrH,EAAE,GAAGpH,QAAQ,CAACI,QAAQ,CAACgC,CAAD,CAAT,CAAjB,EAAgCiF,EAAE,GAAGD,EAAE,CAACE,IAAH,EAA1C,EAAqD,CAACD,EAAE,CAACE,IAAzD,EAA+DF,EAAE,GAAGD,EAAE,CAACE,IAAH,EAApE,EAA+E;AAC3E,cAAIiC,CAAC,GAAGlC,EAAE,CAACG,KAAX;;AACA,cAAI,CAAC+B,CAAC,CAACe,EAAP,EAAW;AACP;AACH;;AACD,cAAIkE,GAAJ,EAAS;AACL;AACH;;AACD,cAAIjF,CAAC,CAACrF,SAAN,EAAiB;AACbqF,YAAAA,CAAC,CAACpF,EAAF,CAAK,UAAUuK,CAAV,EAAa;AACd,kBAAIA,CAAC,CAACC,EAAF,IAAQ1I,CAAZ,EAAe;AACXtE,gBAAAA,CAAC,GAAG+M,CAAJ;AACA7M,gBAAAA,CAAC,GAAG4M,GAAJ;AACAD,gBAAAA,GAAG,GAAG,IAAN;AACA,uBAAO,KAAP;AACH;;AACD,qBAAO,IAAP;AACH,aARD;AASH,WAVD,MAWK,IAAIjF,CAAC,CAACoF,EAAF,IAAQ1I,CAAZ,EAAe;AAChBtE,YAAAA,CAAC,GAAG4H,CAAJ;AACA1H,YAAAA,CAAC,GAAG4M,GAAJ;AACA;AACH;;AACDA,UAAAA,GAAG;AACN;AACJ,OA3BD,CA4BA,OAAOG,KAAP,EAAc;AACVf,QAAAA,GAAG,GAAG;AAAEhG,UAAAA,KAAK,EAAE+G;AAAT,SAAN;AACH,OA9BD,SA+BQ;AACJ,YAAI;AACA,cAAIvH,EAAE,IAAI,CAACA,EAAE,CAACE,IAAV,KAAmBN,EAAE,GAAGG,EAAE,CAACU,MAA3B,CAAJ,EACIb,EAAE,CAAC3F,IAAH,CAAQ8F,EAAR;AACP,SAHD,SAIQ;AACJ,cAAIyG,GAAJ,EACI,MAAMA,GAAG,CAAChG,KAAV;AACP;AACJ;AACJ;;AACD,QAAI6G,CAAC,GAAG,IAAR;;AACA,QAAI5M,CAAJ,EAAO;AACH,UAAI8C,CAAC,GAAG,KAAR;;AACA,WAAK,IAAIE,CAAC,GAAG1C,CAAC,CAAC4B,KAAF,GAAU,CAAvB,EAA0Bc,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACnC,YAAI4E,CAAC,GAAGtH,CAAC,CAAC6B,MAAF,CAASa,CAAT,CAAR;;AACA,YAAI,CAAC4E,CAAC,CAACY,EAAP,EAAW;AACP;AACH;;AACD,YAAInB,EAAE,GAAGO,CAAC,CAACmF,EAAX;;AACA,YAAI,CAACnF,CAAC,CAACoF,EAAF,CAAK3F,EAAE,CAACwD,EAAR,EAAYxD,EAAE,CAAChC,EAAf,EAAmBgC,EAAnB,CAAL,EAA6B;AACzB;AACH;;AACD,YAAI,CAACvE,CAAD,IAAME,CAAC,GAAGjD,CAAV,IAAea,CAAf,IAAoB,CAACT,CAAzB,EAA4B;AACxB,cAAIN,CAAC,IAAI,IAAT,EAAe;AACX+M,YAAAA,CAAC,GAAG/M,CAAJ;AACAiD,YAAAA,CAAC,GAAG,IAAJ;AACA;AACH;AACJ;;AACD,YAAI8E,CAAC,IAAI,IAAL,IAAaA,CAAC,CAACtF,EAAF,IAAQ,CAAzB,EAA4B;AACxB,cAAIsF,CAAC,CAACqF,EAAF,CAAKvM,CAAL,EAAQa,CAAR,CAAJ,EAAgB;AACZqL,YAAAA,CAAC,GAAGhF,CAAJ;AACA;AACH;AACJ;AACJ;;AACD,UAAIhH,CAAC,IAAI,CAACkC,CAAV,EAAa;AACT,YAAIjD,CAAC,IAAI,IAAT,EAAe;AACX+M,UAAAA,CAAC,GAAG/M,CAAJ;AACAiD,UAAAA,CAAC,GAAG,IAAJ;AACH;AACJ;AACJ,KA/BD,MAgCK;AACD8J,MAAAA,CAAC,GAAG/M,CAAJ;AACH;;AACD,QAAI+M,CAAC,IAAI,IAAT,EAAe;AACX,UAAIrD,EAAE,GAAGqD,CAAC,CAAC5K,EAAF,CAAK;AAAEa,QAAAA,KAAK,EAAEzE,WAAT;AAAsB0E,QAAAA,CAAC,EAAE1C,CAAzB;AAA4B4C,QAAAA,CAAC,EAAES;AAA/B,OAAL,EAAyClC,CAAzC,CAAT;;AACA,UAAIgI,EAAE,IAAI,IAAV,EAAgB;AACZlJ,QAAAA,CAAC,GAAGkJ,EAAJ;AACH;;AACD,aAAO;AACH9H,QAAAA,GAAG,EAAEmL,CADF;AAEHR,QAAAA,EAAE,EAAE/L;AAFD,OAAP;AAIH;;AACD,WAAO;AACHoB,MAAAA,GAAG,EAAE,IADF;AAEH2K,MAAAA,EAAE,EAAE/L;AAFD,KAAP;AAIH,GA3JD;;AA4JAhB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCkM,GAAzC,GAA+C,UAAUvM,CAAV,EAAaL,CAAb,EAAgB;AAC3D,QAAI9B,SAAS,CAAC2O,MAAV,CAAiB7M,CAAjB,EAAoB,IAApB,CAAJ,EAA+B;AAC3B,aAAO,KAAP;AACH;;AACD,QAAIe,CAAC,GAAGf,CAAC,CAACwC,CAAV;AACA,QAAIpC,CAAC,GAAGJ,CAAC,CAAC0C,CAAV;;AACA,QAAI,KAAK7C,CAAT,EAAY;AACR,aAAO,IAAP;AACH;;AACD,QAAIkB,CAAC,IAAIV,CAAC,CAAC4C,EAAF,CAAKK,IAAV,IAAkBlD,CAAC,IAAIC,CAAC,CAAC4C,EAAF,CAAKO,GAA5B,IAAmCzC,CAAC,IAAIV,CAAC,CAAC4C,EAAF,CAAKK,IAAL,GAAYjD,CAAC,CAAC4C,EAAF,CAAKG,KAAzD,IAAkEhD,CAAC,IAAIC,CAAC,CAAC4C,EAAF,CAAKO,GAAL,GAAWnD,CAAC,CAAC4C,EAAF,CAAKa,MAA3F,EAAmG;AAC/F,UAAI7D,CAAC,GAAGI,CAAC,CAACoG,EAAV;;AACA,UAAIxG,CAAC,IAAI,IAAL,IAAaA,CAAC,CAAC6M,kBAAF,CAAqB9M,CAArB,CAAjB,EAA0C;AACtC,eAAO,KAAP;AACH;;AACD,aAAO,IAAP;AACH;;AACD,WAAO,KAAP;AACH,GAjBD;;AAkBAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCK,CAAzC,GAA6C,UAAUV,CAAV,EAAa;AACtD,QAAIA,CAAC,IAAI,IAAT,EAAe;AACX,aAAOA,CAAC,CAAC0M,EAAF,EAAP;AACH,KAFD,MAGK;AACD,aAAO,IAAP;AACH;AACJ,GAPD;;AAQAhO,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCsM,GAAzC,GAA+C,UAAU3M,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsBH,CAAtB,EAAyBF,CAAzB,EAA4B;AACvE,QAAId,KAAK,GAAG,IAAZ;;AACA,QAAI,CAACc,CAAD,IAAMM,CAAC,CAAC4M,EAAZ,EAAgB;AACZ,WAAKvD,EAAL,CAAQrJ,CAAR,EAAW,KAAX;AACH;;AACD,QAAIY,CAAC,GAAG,IAAIvC,cAAJ,EAAR;AACAuC,IAAAA,CAAC,CAACiM,QAAF,GAAa9M,CAAb;;AACA,QAAIC,CAAC,CAACyC,EAAF,IAAQ,CAAR,IAAazC,CAAC,CAACyC,EAAF,IAAQ,CAArB,IAA0BzC,CAAC,CAACgC,EAA5B,IAAmChC,CAAC,CAACoG,EAAF,IAAQ,IAAR,IAAgBpG,CAAC,CAACoG,EAAF,CAAK0G,UAA5D,EAAyE;AACrE,UAAI,KAAK/M,CAAL,IAAU,IAAd,EAAoB;AAChB,aAAKA,CAAL,CAAOgB,EAAP,CAAUE,GAAV,CAAc,KAAKlB,CAAnB,EAAsBa,CAAC,CAACiM,QAAxB,EAAkC,KAAK7M,CAAvC,EAA0CY,CAA1C,EAA6ClB,CAA7C;AACA,aAAKK,CAAL,GAAS,IAAT;AACH;;AACD;AACH;;AACD,QAAIE,CAAC,GAAG,IAAR;;AACA,QAAIZ,CAAC,GAAK,YAAY;AAAE,UAAIG,CAAC,GAAGZ,KAAK,CAACuM,GAAN,CAAUnL,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmBX,CAAnB,EAAsB,CAACH,CAAvB,EAA0BK,CAA1B,EAA6BP,CAA7B,CAAR;;AAAyCO,MAAAA,CAAC,GAAGT,CAAC,CAACiM,EAAN;AAAU,aAAOjM,CAAC,CAACsB,GAAT;AAAe,KAAjF,EAAT;;AACA,SAAKd,CAAL,GAASC,CAAT;AACA,QAAIT,CAAC,GAAG,KAAKkB,CAAL,CAAOrB,CAAP,CAAR;;AACA,QAAIA,CAAC,IAAI,IAAT,EAAe;AACX,UAAImD,CAAC,GAAG,KAAR;AACA,UAAI/C,CAAC,GAAG,KAAR;;AACA,UAAI,KAAKM,CAAL,IAAUV,CAAd,EAAiB;AACbI,QAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,UAAI,KAAKM,CAAL,IAAU,IAAV,IAAkBN,CAAtB,EAAyB;AACrB+C,QAAAA,CAAC,GAAG,IAAJ;AACH;;AACD,UAAIA,CAAJ,EAAO;AACH,YAAI/C,CAAJ,EAAO;AACH,cAAI,KAAKM,CAAL,IAAU,IAAd,EAAoB;AAChBP,YAAAA,CAAC,GAAG,KAAKkB,CAAL,CAAO,KAAKX,CAAZ,CAAJ;AACA,iBAAKA,CAAL,CAAOgB,EAAP,CAAUE,GAAV,CAAc,KAAKlB,CAAnB,EAAsBa,CAAC,CAACiM,QAAxB,EAAkC5M,CAAlC,EAAqCW,CAArC,EAAwClB,CAAxC;;AACA,gBAAIF,CAAC,IAAI,IAAT,EAAe;AACXA,cAAAA,CAAC,CAACuB,EAAF,CAAKE,GAAL,CAASzB,CAAT,EAAYoB,CAAC,CAACiM,QAAd,EAAwB5M,CAAxB,EAA2BW,CAA3B,EAA8BlB,CAA9B;AACH;AACJ;AACJ;;AACD,aAAKK,CAAL,GAASV,CAAT;AACAA,QAAAA,CAAC,CAAC0N,EAAF,CAAKnM,CAAC,CAACiM,QAAP,EAAiB5M,CAAjB,EAAoBW,CAApB,EAAuBlB,CAAvB;;AACA,YAAIF,CAAC,IAAI,IAAT,EAAe;AACXA,UAAAA,CAAC,CAACuN,EAAF,CAAKnM,CAAC,CAACiM,QAAP,EAAiB5M,CAAjB,EAAoBW,CAApB,EAAuBlB,CAAvB;AACH;AACJ,OAfD,MAgBK;AACD,aAAKK,CAAL,GAASV,CAAT;AACAA,QAAAA,CAAC,CAAC0B,EAAF,CAAKiM,IAAL,CAAU3N,CAAV,EAAauB,CAAC,CAACiM,QAAf,EAAyB5M,CAAzB,EAA4BW,CAA5B,EAA+BlB,CAA/B;;AACA,YAAIF,CAAC,IAAI,IAAT,EAAe;AACXA,UAAAA,CAAC,CAACuB,EAAF,CAAKiM,IAAL,CAAUxN,CAAV,EAAaoB,CAAC,CAACiM,QAAf,EAAyB5M,CAAzB,EAA4BW,CAA5B,EAA+BlB,CAA/B;AACH;AACJ;AACJ,KAhCD,MAiCK;AACD,UAAI,KAAKK,CAAL,IAAU,IAAd,EAAoB;AAChBP,QAAAA,CAAC,GAAG,KAAKkB,CAAL,CAAO,KAAKX,CAAZ,CAAJ;AACA,aAAKA,CAAL,CAAOgB,EAAP,CAAUE,GAAV,CAAc,KAAKlB,CAAnB,EAAsBa,CAAC,CAACiM,QAAxB,EAAkC5M,CAAlC,EAAqCW,CAArC,EAAwClB,CAAxC;;AACA,YAAIF,CAAC,IAAI,IAAT,EAAe;AACXA,UAAAA,CAAC,CAACuB,EAAF,CAAKE,GAAL,CAASzB,CAAT,EAAYoB,CAAC,CAACiM,QAAd,EAAwB5M,CAAxB,EAA2BW,CAA3B,EAA8BlB,CAA9B;AACH;;AACD,aAAKK,CAAL,GAAS,IAAT;AACH;;AACD,WAAK,IAAI+C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9C,CAAC,CAACsB,MAAF,CAASC,KAA7B,EAAoCuB,CAAC,EAArC,EAAyC;AACrC,YAAIU,CAAC,GAAGxD,CAAC,CAACsB,MAAF,CAASE,MAAT,CAAgBsB,CAAhB,CAAR;;AACA,YAAIU,CAAC,CAACzC,EAAF,CAAKkM,GAAT,EAAc;AACVzN,UAAAA,CAAC,GAAG,KAAKkB,CAAL,CAAO8C,CAAP,CAAJ;AACAA,UAAAA,CAAC,CAACzC,EAAF,CAAKE,GAAL,CAASuC,CAAT,EAAY5C,CAAC,CAACiM,QAAd,EAAwBrJ,CAAC,CAACzC,EAAF,CAAKmM,GAA7B,EAAkCtM,CAAlC,EAAqClB,CAArC;;AACA,cAAIF,CAAC,IAAI,IAAT,EAAe;AACXA,YAAAA,CAAC,CAACuB,EAAF,CAAKE,GAAL,CAASzB,CAAT,EAAYoB,CAAC,CAACiM,QAAd,EAAwBrJ,CAAC,CAACzC,EAAF,CAAKmM,GAA7B,EAAkCtM,CAAlC,EAAqClB,CAArC;AACH;AACJ;AACJ;AACJ;AACJ,GAvED;;AAwEAhB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC8M,GAAzC,GAA+C,UAAUnN,CAAV,EAAaL,CAAb,EAAgB;AAC3D,QAAI,KAAKI,CAAL,IAAU,IAAd,EAAoB;AAChB,UAAIW,CAAC,GAAG,KAAKA,CAAL,CAAO,KAAKX,CAAZ,CAAR;AACA,UAAIA,CAAC,GAAG,IAAI1B,cAAJ,EAAR;AACA0B,MAAAA,CAAC,CAAC8M,QAAF,GAAalN,CAAb;AACA,WAAKI,CAAL,CAAOgB,EAAP,CAAUE,GAAV,CAAc,KAAKlB,CAAnB,EAAsBA,CAAC,CAAC8M,QAAxB,EAAkC,IAAlC,EAAwC9M,CAAxC,EAA2C,KAA3C;;AACA,UAAIW,CAAC,IAAI,IAAT,EAAe;AACXA,QAAAA,CAAC,CAACK,EAAF,CAAKE,GAAL,CAASP,CAAT,EAAYX,CAAC,CAAC8M,QAAd,EAAwB,IAAxB,EAA8B9M,CAA9B,EAAiC,KAAjC;AACH;;AACD,WAAKA,CAAL,GAAS,IAAT;AACH;;AACDC,IAAAA,CAAC,CAACoN,EAAF,CAAKzN,CAAL,EAAQK,CAAC,CAACyC,EAAF,IAAQ,CAAR,IAAazC,CAAC,CAACqN,EAAvB;AACH,GAZD;;AAaA3O,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCiN,GAAzC,GAA+C,UAAUtN,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAI,KAAKX,CAAL,IAAU,IAAd,EAAoB;AAChB,UAAIA,CAAC,GAAG,IAAIzB,oBAAJ,EAAR;AACAyB,MAAAA,CAAC,CAAC8M,QAAF,GAAanM,CAAb;;AACA,UAAIf,CAAC,CAACJ,EAAN,EAAU;AACN,aAAKQ,CAAL,CAAOgB,EAAP,CAAUwM,IAAV,CAAe,KAAKxN,CAApB,EAAuBA,CAAC,CAAC8M,QAAzB,EAAmC,KAAK7M,CAAxC,EAA2CD,CAA3C;AACH,OAFD,MAGK;AACD,aAAKA,CAAL,CAAOgB,EAAP,CAAUyM,GAAV,CAAc,KAAKzN,CAAnB,EAAsBA,CAAC,CAAC8M,QAAxB,EAAkC,KAAK7M,CAAvC,EAA0CD,CAA1C;AACH;AACJ;AACJ,GAXD;;AAYArB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCoN,GAAzC,GAA+C,UAAUzN,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAIX,CAAJ;AACA,QAAIH,CAAC,GAAI,KAAKG,CAAL,IAAU,IAAX,GAAmB,KAAKA,CAAxB,GAA8B,YAAY;AAAE,UAAIL,CAAC,GAAGM,CAAC,CAACW,EAAF,CAAKjB,CAAL,CAAOgB,CAAP,EAAU,KAAV,EAAiBX,CAAjB,EAAoB,KAApB,CAAR;AAAoCA,MAAAA,CAAC,GAAGL,CAAC,CAACmB,EAAN;AAAU,aAAOnB,CAAC,CAACoB,GAAT;AAAe,KAA5E,EAArC;;AACA,QAAIlB,CAAC,IAAI,IAAT,EAAe;AACX,UAAIF,CAAC,GAAG,IAAIpB,oBAAJ,EAAR;AACAoB,MAAAA,CAAC,CAACmN,QAAF,GAAanM,CAAb;;AACA,UAAIf,CAAC,CAACJ,EAAN,EAAU;AACNK,QAAAA,CAAC,CAACmB,EAAF,CAAK2M,IAAL,CAAU9N,CAAV,EAAaF,CAAC,CAACmN,QAAf,EAAyB,KAAK7M,CAA9B,EAAiCN,CAAjC;AACH,OAFD,MAGK;AACDE,QAAAA,CAAC,CAACmB,EAAF,CAAK4M,IAAL,CAAU/N,CAAV,EAAaF,CAAC,CAACmN,QAAf,EAAyB,KAAK7M,CAA9B,EAAiCN,CAAjC;AACH;AACJ;AACJ,GAbD;;AAcAhB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCuN,GAAzC,GAA+C,UAAU5N,CAAV,EAAaL,CAAb,EAAgBe,CAAhB,EAAmB;AAC9D,QAAI,CAACA,CAAD,IAAMV,CAAC,CAAC6N,EAAZ,EAAgB;AACZ,WAAKxE,EAAL,CAAQrJ,CAAR,EAAW,KAAX;AACH;;AACD,QAAIU,CAAC,IAAI,CAACV,CAAC,CAAC6N,EAAZ,EAAgB;AACZ,WAAKxE,EAAL,CAAQrJ,CAAR,EAAW,IAAX;AACH;;AACDA,IAAAA,CAAC,CAAC8N,EAAF,CAAKnO,CAAL,EAAQe,CAAR;AACH,GARD;;AASAhC,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyCgJ,EAAzC,GAA8C,UAAUrJ,CAAV,EAAaL,CAAb,EAAgB;AAC1D,QAAIK,CAAC,IAAI,IAAT,EAAe;AACX,UAAI,CAAC,KAAKwC,CAAV,EAAa;AACTxC,QAAAA,CAAC,CAAC4M,EAAF,GAAOjN,CAAP;AACH;AACJ;AACJ,GAND;;AAOAjB,EAAAA,8BAA8B,CAAC2B,SAA/B,CAAyC0N,IAAzC,GAAgD,UAAU/N,CAAV,EAAaL,CAAb,EAAgB;AAC5D,SAAKM,CAAL,GAAS,IAAT;AACH,GAFD;;AAGAE,EAAAA,MAAM,CAACC,cAAP,CAAsB1B,8BAA8B,CAAC2B,SAArD,EAAgE,GAAhE,EAAqE;AACjEC,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKL,CAAZ;AACH,KAHgE;AAIjEM,IAAAA,UAAU,EAAE,KAJqD;AAKjEC,IAAAA,YAAY,EAAE;AALmD,GAArE;AAOA9B,EAAAA,8BAA8B,CAACsP,EAA/B,GAAoCpQ,QAAQ,CAACc,8BAAD,EAAiC,gCAAjC,EAAmElB,IAAI,CAACyQ,CAAxE,EAA2E,CAACnQ,qCAAD,CAA3E,CAA5C;AACA,SAAOY,8BAAP;AACH,CAnjCiE,CAmjChElB,IAnjCgE,CAAlE;;AAojCA,SAASkB,8BAAT","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, runOn, fromEnum, markType, PointUtil } from \"igniteui-react-core\";\nimport { ISeriesViewerInteractionManager_$type } from \"./ISeriesViewerInteractionManager\";\nimport { HighlightingManager } from \"./HighlightingManager\";\nimport { SeriesViewerScrollbarManager } from \"./SeriesViewerScrollbarManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { TileZoomManager } from \"./TileZoomManager\";\nimport { Size } from \"igniteui-react-core\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { MouseEventArgs } from \"igniteui-react-core\";\nimport { MouseButtonEventArgs } from \"igniteui-react-core\";\nimport { truncate, intDivide, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar SeriesViewerInteractionManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(SeriesViewerInteractionManager, _super);\n    function SeriesViewerInteractionManager() {\n        var _this = _super.call(this) || this;\n        _this.t = 0;\n        _this.u = 0;\n        _this.ai = null;\n        _this.q = 0;\n        _this.r = 0;\n        _this.p = 0;\n        _this.s = 0;\n        _this.i = false;\n        _this.aj = null;\n        _this.al = null;\n        _this.j = false;\n        _this.l = false;\n        _this.f = null;\n        _this.b = null;\n        _this.e = null;\n        _this.ak = null;\n        _this.am = null;\n        _this.d = null;\n        _this.a = null;\n        _this.h = false;\n        _this.ak = Rect.empty;\n        _this.aj = Rect.empty;\n        return _this;\n    }\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$b\", {\n        get: function () {\n            if (this.b == null) {\n                this.b = new HighlightingManager();\n            }\n            return this.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$c\", {\n        get: function () {\n            if (this.e == null) {\n                this.e = new SeriesViewerScrollbarManager();\n            }\n            return this.e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.prototype.f$ao = function (a, b) {\n        var c = null;\n        var d = null;\n        var e = null;\n        e = a.cq.e();\n        var f;\n        var g = ((function () { var h = a.cq.f(b, false, f, false); f = h.p2; return h.ret; })());\n        if (g != e) {\n            if (e.a6.a$c) {\n                e.a6.a$z(e, b, null, null, false);\n            }\n        }\n        c = f;\n        if (a != null) {\n            a.od(b);\n        }\n        if (g != null && !g.a6.a$c) {\n            g.a6.a$y(g, b, c, d, false);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$a = function (a) {\n        if (a.at != 0) {\n            return a.at;\n        }\n        var b = 1;\n        var c = false;\n        var d = false;\n        for (var e = 0; e < a.series.count; e++) {\n            var f = a.series._inner[e];\n            if (f.isStacked) {\n                f.la(function (g) {\n                    if (g.bo == 2) {\n                        c = true;\n                    }\n                    if (g.bo == 1) {\n                        d = true;\n                    }\n                    return true;\n                });\n            }\n            else {\n                if (f.bo == 2) {\n                    c = true;\n                }\n                if (f.bo == 1) {\n                    d = true;\n                }\n            }\n        }\n        if (d) {\n            b = 1;\n        }\n        if (c) {\n            b = 2;\n        }\n        if (c && d) {\n            b = 3;\n        }\n        return b;\n    };\n    SeriesViewerInteractionManager.prototype.f$an = function (a) {\n        var b = a.r6;\n        var c = b;\n        var d = a.cq;\n        var e = a.dl();\n        var f = a.dp;\n        var g = a.ez;\n        var h = a.e7;\n        if (!e) {\n            c = { $type: Point_$type, x: NaN, y: NaN };\n        }\n        if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n            c = { $type: Point_$type, x: NaN, y: NaN };\n        }\n        for (var i = 0; i < a.series.count; i++) {\n            var j = a.series._inner[i];\n            j.lh(c);\n        }\n        a.lp(c);\n        var k = a.ch == 0 && !a.d7 && (a.dv || f) && !g && !h;\n        var l = a.su;\n        if (k && !isNaN_(b.x) && !l.isEmpty) {\n            var m = l.width * (b.x - a.sf.left) / a.sf.width;\n            d.eo(l.left + m, l.top, l.left + m, l.bottom);\n            d.ed();\n            d.ei(m);\n        }\n        else {\n            d.cl();\n        }\n        if (k && !isNaN_(b.y) && !l.isEmpty) {\n            var n = l.height * (b.y - a.sf.top) / a.sf.height;\n            d.eh(l.left, l.top + n, l.right, l.top + n);\n            d.d9();\n        }\n        else {\n            d.cg();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ag = function (a) {\n        switch (a.ch) {\n            case 0:\n                a.cq.d5();\n                this.f$an(a);\n                a.cq.cd();\n                break;\n            case 1:\n                a.cq.d7();\n                a.cq.ck();\n                this.f$an(a);\n                a.cq.cc();\n                break;\n            case 2:\n                a.cq.d7();\n                a.cq.ck();\n                this.f$an(a);\n                a.cq.ce();\n                break;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$q = function (a, b) {\n        if (b.x >= 0 && b.y >= 0 && b.x <= a.su.width && b.y <= a.su.height) {\n            this.ae(a, b);\n        }\n        else {\n            a.lc();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.ae = function (a, b) {\n        var e_1, _a;\n        var c = a.cq;\n        var d = a.su;\n        if (a.d8 || a.d7) {\n            return;\n        }\n        if (a.dp && a.dv) {\n            var e = d.height > d.width;\n            c.bv(e);\n            try {\n                for (var _b = __values(fromEnum(a.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var f = _c.value;\n                    if (f.isStacked) {\n                        f.la(function (g) {\n                            if (g._visibility == 0) {\n                                g.mp(b, runOn(c, c.bm));\n                            }\n                            return true;\n                        });\n                    }\n                    else {\n                        if (f._visibility == 0) {\n                            f.mp(b, runOn(c, c.bm));\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            c.ea();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.ad = function (a, b) {\n        if (a.dv || a.d5) {\n            a.dp = true;\n            a.m9();\n            this.aj = new Rect(0, b.x, b.y, 0, 0);\n            this.al = new Rect(0, b.x, b.y, 0, 0);\n            a.ch = 0;\n            a.k3(a.r9(b));\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ae = function (a, b) {\n        this.ad(a, b);\n        this.ae(a, b);\n        this.f$an(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$r = function (a, b, c) {\n        if (!a.dp) {\n            this.ag(a, b, c);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$p = function (a, b) {\n        this.ak = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.f$al = function (a) {\n        if (this.j) {\n            this.f$c.onScrollbarDragCancel();\n            this.j = false;\n        }\n        var b = a.cq;\n        this.s = 1;\n        this.ac(a);\n        a.ch = 0;\n        this.i = true;\n        a.ez = true;\n        a.na();\n    };\n    SeriesViewerInteractionManager.prototype.ac = function (a) {\n        var b = a.cq;\n        a.dp = false;\n        b.cj();\n        b.cf();\n        b.ch();\n        a.k3({ $type: Point_$type, x: NaN, y: NaN });\n        b.cg();\n        b.cl();\n        b.ck();\n    };\n    SeriesViewerInteractionManager.prototype.f$ad = function (a, b) {\n        this.f$al(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$am = function (a, b, c, d, e) {\n        this.t = b.x;\n        this.u = b.y;\n        this.q = c;\n        this.r = d;\n        this.p = e;\n        this.ai = a.sf;\n        this.f$al(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$ac = function (a, b) {\n        var c = a.cq;\n        c.cg();\n        c.cl();\n        if (c.av) {\n            this.y(a, b);\n        }\n        else {\n            this.aa(a, b);\n            this.s = b;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ai = function (a, b, c, d, e) {\n        var f = a.cq;\n        f.cg();\n        f.cl();\n        this.q = this.q * c;\n        this.r = this.r * d;\n        this.p = this.p * e;\n        if (a.ee) {\n            this.q = this.p;\n            this.r = this.p;\n        }\n        var g = a.sf;\n        var h = a.su;\n        var i = b.x - this.t;\n        var j = b.y - this.u;\n        this.t = b.x;\n        this.u = b.y;\n        var k = g.width;\n        var l = g.height;\n        var m = this.ai.width / this.q;\n        var n = this.ai.height / this.r;\n        if (m > 1) {\n            m = 1;\n        }\n        if (n > 1) {\n            n = 1;\n        }\n        var o = { $type: Point_$type, x: b.x, y: b.y };\n        var p = { $type: Point_$type, x: (o.x - h.left) / h.width * g.width + g.left, y: (o.y - h.top) / h.height * g.height + g.top };\n        var q = new Rect(0, g.left, g.top, m, n);\n        var r = { $type: Point_$type, x: (p.x - q.left) / q.width * h.width + h.left, y: (p.y - q.top) / q.height * h.height + h.top };\n        var s = (r.x - o.x) - i;\n        var t = (r.y - o.y) - j;\n        var u = s / h.width * q.width;\n        var v = t / h.height * q.height;\n        q = new Rect(0, q.left + u, q.top + v, q.width, q.height);\n        g = q;\n        a.ot(g, true);\n    };\n    SeriesViewerInteractionManager.prototype.f$z = function (a, b) {\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.al = new Rect(0, b.x, b.y, 0, 0);\n    };\n    SeriesViewerInteractionManager.prototype.z = function (a, b, c) {\n        var d = a.sf.width;\n        var e = a.sf.height;\n        var f = a.sf.left + d / 2;\n        var g = a.sf.top + e / 2;\n        d = d / b;\n        e = e / b;\n        var h = f - d / 2;\n        var i = g - e / 2;\n        a.ot(new Rect(0, h, i, d, e), true);\n    };\n    SeriesViewerInteractionManager.prototype.f$ab = function (a, b) {\n        var c = a.cq;\n        if (c.av) {\n            this.y(a, b);\n        }\n        else {\n            this.aa(a, b);\n        }\n        this.aj = Rect.empty;\n        a.ez = false;\n    };\n    SeriesViewerInteractionManager.prototype.f$s = function (a, b) {\n        a.ez = false;\n        this.aj = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.f$y = function (a, b) {\n        a.kz();\n    };\n    SeriesViewerInteractionManager.prototype.f$ah = function (a, b, c, d, e) {\n        a.ez = false;\n        this.aj = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.y = function (a, b) {\n        var c = a.sv;\n        var d = 1 / b;\n        var e = { $type: Point_$type, x: c.x + c.width / 2, y: c.y + c.height / 2 };\n        var f = { $type: Point_$type, x: c.x - e.x, y: c.y - e.y };\n        var g = new Rect(0, f.x * d + e.x, f.y * d + e.y, c.width * d, c.height * d);\n        a.ot(g, true);\n    };\n    SeriesViewerInteractionManager.prototype.aa = function (a, b) {\n        var c = a.su;\n        var d = a.sv;\n        var e = b - this.s;\n        if (e != 0) {\n            var f = 0.03;\n            var g = e < 0 ? 1 + f : 1 - f;\n            var h = { $type: Point_$type, x: d.x + d.width / 2, y: d.y + d.height / 2 };\n            var i = { $type: Point_$type, x: d.x - h.x, y: d.y - h.y };\n            var j = new Rect(0, i.x * g + h.x, i.y * g + h.y, d.width * g, d.height * g);\n            a.ot(j, true);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$n = function (a, b, c) {\n        if (!a.ez) {\n            this.i = false;\n        }\n        var d = false;\n        if (a.dq) {\n            if (this.f$c.shouldHandleInteraction(b, c)) {\n                this.j = true;\n                d = true;\n                this.ac(a);\n                a.cq.dr();\n                return;\n            }\n        }\n        this.ag(a, b, c);\n        a.mt(b, c);\n    };\n    SeriesViewerInteractionManager.prototype.ag = function (a, b, c) {\n        var d;\n        var e = a.cq;\n        var f = a.cf(c);\n        if (e.ez == 0) {\n            switch (f) {\n                case 1:\n                    d = a.el() ? f : 0;\n                    break;\n                default:\n                    d = f;\n                    break;\n            }\n        }\n        else {\n            if (e.ez == a.rf) {\n                d = 1;\n            }\n            else if (e.ez == a.rg) {\n                d = 2;\n            }\n            else {\n                d = 0;\n            }\n        }\n        switch (d) {\n            case 1:\n            case 2:\n                a.cq.ca();\n                a.cq.dr();\n                break;\n        }\n        a.ch = d;\n        switch (a.ch) {\n            case 1:\n                a.k3({ $type: Point_$type, x: NaN, y: NaN });\n                this.aj = new Rect(0, b.x, b.y, 0, 0);\n                this.al = new Rect(0, b.x, b.y, 0, 0);\n                this.ak = new Rect(0, b.x, b.y, 0, 0);\n                e.d8();\n                e.eg(this.aj);\n                a.nf(Rect.empty, true);\n                break;\n            case 2:\n                this.aj = new Rect(0, b.x, b.y, 0, 0);\n                this.ak = new Rect(0, b.x, b.y, 0, 0);\n                break;\n        }\n        this.am = a.sf;\n        a.sw = a.sf;\n    };\n    SeriesViewerInteractionManager.prototype.f$ak = function (a) {\n        a.oe();\n        a.cq.dl();\n    };\n    SeriesViewerInteractionManager.prototype.f$aj = function (a) {\n        a.k7();\n        a.cq.dk();\n    };\n    SeriesViewerInteractionManager.prototype.f$ap = function (a) {\n        if (a.dk && !this.l) {\n            this.l = true;\n            this.af(a);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$k = function (a) {\n        if (this.l) {\n            this.ab(a);\n            this.l = false;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$h = function (a) {\n        if (this.f == null) {\n            return;\n        }\n        this.g.ab();\n    };\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"g\", {\n        get: function () {\n            return this.f;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.prototype.af = function (a) {\n        if (this.f == null) {\n            this.f = new TileZoomManager(a, true, a.hb);\n            this.f.h = !a.e0;\n        }\n        a.d4 = true;\n        a.ne();\n        this.f.al();\n        a.cq.br();\n        a.cq.bs();\n    };\n    SeriesViewerInteractionManager.prototype.ab = function (a) {\n        if (this.f == null) {\n            return;\n        }\n        a.d4 = false;\n        a.cq.dg();\n        this.f.ah();\n        a.ny();\n        a.cq.by();\n    };\n    SeriesViewerInteractionManager.prototype.f$j = function (a) {\n        a.k1();\n        a.n0();\n    };\n    SeriesViewerInteractionManager.prototype.n = function (a) {\n        return a.ch == 2;\n    };\n    SeriesViewerInteractionManager.prototype.o = function (a, b) {\n        return a.b7 == 1 || b || a.dk;\n    };\n    SeriesViewerInteractionManager.prototype.m = function (a) {\n        return a.ch == 1;\n    };\n    SeriesViewerInteractionManager.prototype.f$m = function (a, b, c) {\n        var d = a.cq;\n        if (this.j) {\n            a.a6.onScrollbarDrag(b, c);\n            return;\n        }\n        if (this.aj.isEmpty && c) {\n            this.ag(a, b, c);\n        }\n        var e = 2;\n        if (c) {\n            e = 10;\n        }\n        var f = false;\n        var g = new Rect(2, { $type: Point_$type, x: this.aj.x, y: this.aj.y }, b);\n        var h = new Rect(0, 0, 0, 0, 0);\n        if (!this.ak.isEmpty) {\n            h = new Rect(2, { $type: Point_$type, x: this.ak.x, y: this.ak.y }, b);\n        }\n        if (h.width > e && h.height > e) {\n            f = true;\n        }\n        if (!a.ez) {\n            if (f) {\n                this.i = false;\n            }\n        }\n        if (!a.ez && (a.dp || !c)) {\n            a.k3(a.r9(b));\n        }\n        if (this.m(a)) {\n            if (f) {\n                var i = a.st(g);\n                a.nf(i, true);\n            }\n            else {\n                a.nf(Rect.empty, true);\n            }\n            a.l2();\n            d.eg(g);\n        }\n        var j = a.su;\n        var k = a.sf;\n        if (this.n(a)) {\n            var l = j;\n            var m = k.left + k.width * (this.aj.x - b.x) / l.width;\n            var n = k.top + k.height * (this.aj.y - b.y) / l.height;\n            var o = new Rect(0, m, n, k.width, k.height);\n            if (this.o(a, c)) {\n                if (h.width != 0 || h.height != 0) {\n                    a.na();\n                }\n                a.nf(Rect.empty, true);\n                var p = a.sf;\n                a.ot(o, true);\n                var q = a.sf;\n                if (p.equals1(q) && a.cq.k.ac) {\n                    a.cq.k.au();\n                }\n                this.aj = new Rect(3, b, new Size(1, 0, 0));\n                this.al = new Rect(3, b, new Size(1, 0, 0));\n            }\n            else {\n                a.nf(o, true);\n            }\n        }\n        this.al = new Rect(3, b, new Size(1, 0, 0));\n        d.bu(b);\n    };\n    SeriesViewerInteractionManager.prototype.f$l = function (a, b, c, d) {\n        var e = a.cq;\n        var f = 2;\n        if (c) {\n            f = 10;\n        }\n        var g = a.su;\n        var h = a.sf;\n        if (!d) {\n            if (this.j) {\n                this.f$c.onScrollbarDragComplete(b, c);\n                this.j = false;\n                e.bw();\n                return;\n            }\n        }\n        if (!this.i) {\n            var i = false;\n            var j = new Rect(2, { $type: Point_$type, x: this.aj.x, y: this.aj.y }, b);\n            if (j.width > f && j.height > f) {\n                i = true;\n            }\n            if (a.ch == 1) {\n                a.l1();\n                e.cf();\n                if (i) {\n                    a.ot(a.st(j), true);\n                }\n            }\n            if (a.ch == 2) {\n                var k = g;\n                var l = h.left + h.width * (this.aj.x - b.x) / k.width;\n                var m = h.top + h.height * (this.aj.y - b.y) / k.height;\n                a.ot(new Rect(0, l, m, h.width, h.height), true);\n            }\n        }\n        var n = false;\n        var o = new Rect(2, { $type: Point_$type, x: this.ak.x, y: this.ak.y }, b);\n        if (o.width > f || o.height > f) {\n            n = true;\n        }\n        if (n) {\n            a.e7 = true;\n        }\n        a.ch = 0;\n        a.nf(Rect.empty, true);\n        e.bw();\n        a.e7 = false;\n        e.cg();\n        e.cl();\n        if (c) {\n            e.ck();\n            e.cg();\n            e.cl();\n            e.ch();\n        }\n        a.lc();\n        a.m9();\n        a.mu(b, c, d);\n    };\n    SeriesViewerInteractionManager.prototype.f$af = function (a) {\n        if (this.g != null) {\n            this.g.h = !a.e0;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$e = function (a, b) {\n        var c = a.cq;\n        var d = a.sf;\n        if (a.ch == 2 && b == 8) {\n            c.bt();\n            a.ch = 0;\n            a.m9();\n            a.nf(Rect.empty, true);\n            if (a.b7 == 1) {\n                a.ot(this.am, true);\n            }\n            return true;\n        }\n        if (a.ch == 1 && b == 8) {\n            c.bt();\n            a.ch = 0;\n            a.m9();\n            c.cf();\n            a.nf(Rect.empty, true);\n            return true;\n        }\n        var e = Rect.empty;\n        var f = false;\n        switch (b) {\n            case 13:\n                f = true;\n                e = new Rect(0, 0, 0, 1, 1);\n                break;\n            case 11:\n                f = true;\n                e = new Rect(0, d.left - 0.1 * d.width, d.top - 0.1 * d.height, 1.2 * d.width, 1.2 * d.height);\n                break;\n            case 10:\n                f = true;\n                e = new Rect(0, d.left + 0.1 * d.width, d.top + 0.1 * d.height, 0.8 * d.width, 0.8 * d.height);\n                break;\n            case 14:\n                f = true;\n                e = new Rect(0, d.left - 0.1 * d.width, d.top, d.width, d.height);\n                e.x = e.x - Math.min(e.left, 0);\n                break;\n            case 16:\n                f = true;\n                e = new Rect(0, d.left + 0.1 * d.width, d.top, d.width, d.height);\n                e.x = e.x - Math.max(e.right - 1, 0);\n                break;\n            case 15:\n                f = true;\n                e = new Rect(0, d.left, d.top - 0.1 * d.height, d.width, d.height);\n                e.y = e.y - Math.min(e.top, 0);\n                break;\n            case 17:\n                f = true;\n                e = new Rect(0, d.left, d.top + 0.1 * d.height, d.width, d.height);\n                e.y = e.y - Math.max(e.bottom - 1, 0);\n                break;\n        }\n        if (!e.isEmpty && Rect.l_op_Inequality(e, d)) {\n            a.ot(e, true);\n        }\n        return f;\n    };\n    SeriesViewerInteractionManager.prototype.f$f = function (a, b, c) {\n        var d = a.cq;\n        var e = a.sf;\n        var f = e.left + e.width * b.x / a.su.width;\n        var g = e.top + e.height * b.y / a.su.height;\n        var h = 1 - MathUtil.c(c, -0.5, 0.5);\n        var i = Math.max(0, f - h * (f - e.left));\n        var j = Math.min(1, g + h * (e.bottom - g));\n        var k = Math.min(1, f + h * (e.right - f));\n        var l = Math.max(0, g - h * (g - e.top));\n        a.na();\n        this.x(a, 1000);\n        a.ot(new Rect(0, i, l, k - i, j - l), true);\n        return a.el();\n    };\n    SeriesViewerInteractionManager.prototype.x = function (a, b) {\n        a.cq.bz(b);\n    };\n    SeriesViewerInteractionManager.prototype.f$o = function (a, b) {\n        var c = a.sf;\n        var d = c.left + c.width * b.x / a.su.width;\n        var e = c.top + c.height * b.y / a.su.height;\n        var f = 0.7;\n        var g = Math.max(0, d - f * (d - c.left));\n        var h = Math.min(1, e + f * (c.bottom - e));\n        var i = Math.min(1, d + f * (c.right - d));\n        var j = Math.max(0, e - f * (e - c.top));\n        a.ot(new Rect(0, g, j, i - g, h - j), true);\n    };\n    SeriesViewerInteractionManager.prototype.f$i = function (a) {\n        this.g.ac();\n    };\n    SeriesViewerInteractionManager.prototype.f$d = function (a, b, c, d, e, f, g) {\n        var e_2, _a;\n        var h = true;\n        var i = false;\n        var j = false;\n        var k = a;\n        if (k.as == 1) {\n            h = false;\n            i = true;\n        }\n        if (k.as == 3 || k.as == 4) {\n            i = true;\n        }\n        if (k.as == 4) {\n            j = true;\n        }\n        var l = truncate(Math.round(d.x));\n        var m = truncate(Math.round(d.y));\n        f = null;\n        var n = -1;\n        if (h && c != null) {\n            var o = l;\n            var p = m;\n            if (a.f4 != 1) {\n                o = truncate(Math.round(d.x * a.f4));\n                p = truncate(Math.round(d.y * a.f4));\n            }\n            var q = c.a(o, p);\n            if (q == null || q.length == 0) {\n                f = null;\n                return {\n                    ret: null,\n                    p5: f\n                };\n            }\n            if ((q[0] > 0 || q[1] > 0 || q[2] > 0) && q[3] == 255) {\n                var num2_ = q[2];\n                if (num2_ % 4 != 0) {\n                    num2_ = num2_ + (4 - (num2_ % 4));\n                }\n                var num1_ = q[1];\n                if (num1_ % 4 != 0) {\n                    num1_ = num1_ + (4 - (num1_ % 4));\n                }\n                var num0_ = q[0];\n                if (num0_ % 4 != 0) {\n                    num0_ = num0_ + (4 - (num0_ % 4));\n                }\n                var num_ = 0;\n                num_ = (num2_ >> 2);\n                num_ = (num_ << 6);\n                num_ = (num_ | (num1_ >> 2));\n                num_ = (num_ << 6);\n                num_ = (num_ | (num0_ >> 2));\n                n = truncate(Math.floor((intDivide(num_, 1000))));\n                n--;\n            }\n        }\n        var r = null;\n        var s = -1;\n        if (n >= 0) {\n            var t_1 = false;\n            var u_1 = 0;\n            try {\n                for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var v = _c.value;\n                    if (!v.el) {\n                        continue;\n                    }\n                    if (t_1) {\n                        break;\n                    }\n                    if (v.isStacked) {\n                        v.la(function (w) {\n                            if (w.ho == n) {\n                                r = w;\n                                s = u_1;\n                                t_1 = true;\n                                return false;\n                            }\n                            return true;\n                        });\n                    }\n                    else if (v.ho == n) {\n                        r = v;\n                        s = u_1;\n                        break;\n                    }\n                    u_1++;\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n        }\n        var w = null;\n        if (i) {\n            var x = false;\n            for (var y = b.count - 1; y >= 0; y--) {\n                var z = b._inner[y];\n                if (!z.el) {\n                    continue;\n                }\n                var aa = z.b0;\n                if (!z.e9(aa.bu, aa.bv, aa)) {\n                    continue;\n                }\n                if (!x && y < s && h && !j) {\n                    if (r != null) {\n                        w = r;\n                        x = true;\n                        break;\n                    }\n                }\n                if (z != null && z.bo == 1) {\n                    if (z.ev(d, g)) {\n                        w = z;\n                        break;\n                    }\n                }\n            }\n            if (h && !x) {\n                if (r != null) {\n                    w = r;\n                    x = true;\n                }\n            }\n        }\n        else {\n            w = r;\n        }\n        if (w != null) {\n            var ab = w.at({ $type: Point_$type, x: l, y: m }, g);\n            if (ab != null) {\n                f = ab;\n            }\n            return {\n                ret: w,\n                p5: f\n            };\n        }\n        return {\n            ret: null,\n            p5: f\n        };\n    };\n    SeriesViewerInteractionManager.prototype.f$g = function (a, b) {\n        if (PointUtil.equals(b, null)) {\n            return false;\n        }\n        var c = b.x;\n        var d = b.y;\n        if (this.j) {\n            return true;\n        }\n        if (c >= a.su.left && d >= a.su.top && c <= a.su.left + a.su.width && d <= a.su.top + a.su.height) {\n            var e = a.cj;\n            if (e != null && e.viewShouldInteract(b)) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    };\n    SeriesViewerInteractionManager.prototype.c = function (a) {\n        if (a != null) {\n            return a.bf();\n        }\n        else {\n            return null;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$w = function (a, b, c, d, e, f) {\n        var _this = this;\n        if (!f && a.dj) {\n            this.ah(a, false);\n        }\n        var g = new MouseEventArgs();\n        g.position = d;\n        if (a.ch == 2 || a.ch == 1 || a.ez || (a.cj != null && a.cj.isPinching)) {\n            if (this.d != null) {\n                this.d.a6.a$z(this.d, g.position, this.a, g, f);\n                this.d = null;\n            }\n            return;\n        }\n        var h = null;\n        var i = ((function () { var j = _this.f$d(a, b, c, d, !e, h, f); h = j.p5; return j.ret; })());\n        this.a = h;\n        var j = this.c(i);\n        if (i != null) {\n            var k = false;\n            var l = false;\n            if (this.d != i) {\n                l = true;\n            }\n            if (this.d == null || l) {\n                k = true;\n            }\n            if (k) {\n                if (l) {\n                    if (this.d != null) {\n                        j = this.c(this.d);\n                        this.d.a6.a$z(this.d, g.position, h, g, f);\n                        if (j != null) {\n                            j.a6.a$z(j, g.position, h, g, f);\n                        }\n                    }\n                }\n                this.d = i;\n                i.lw(g.position, h, g, f);\n                if (j != null) {\n                    j.lw(g.position, h, g, f);\n                }\n            }\n            else {\n                this.d = i;\n                i.a6.a$ab(i, g.position, h, g, f);\n                if (j != null) {\n                    j.a6.a$ab(j, g.position, h, g, f);\n                }\n            }\n        }\n        else {\n            if (this.d != null) {\n                j = this.c(this.d);\n                this.d.a6.a$z(this.d, g.position, h, g, f);\n                if (j != null) {\n                    j.a6.a$z(j, g.position, h, g, f);\n                }\n                this.d = null;\n            }\n            for (var m = 0; m < a.series.count; m++) {\n                var n = a.series._inner[m];\n                if (n.a6.a$b) {\n                    j = this.c(n);\n                    n.a6.a$z(n, g.position, n.a6.a$p, g, f);\n                    if (j != null) {\n                        j.a6.a$z(j, g.position, n.a6.a$p, g, f);\n                    }\n                }\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$v = function (a, b) {\n        if (this.d != null) {\n            var c = this.c(this.d);\n            var d = new MouseEventArgs();\n            d.position = b;\n            this.d.a6.a$z(this.d, d.position, null, d, false);\n            if (c != null) {\n                c.a6.a$z(c, d.position, null, d, false);\n            }\n            this.d = null;\n        }\n        a.mo(b, a.ch != 0 || a.eq);\n    };\n    SeriesViewerInteractionManager.prototype.f$u = function (a, b, c) {\n        if (this.d != null) {\n            var d = new MouseButtonEventArgs();\n            d.position = c;\n            if (b.al) {\n                this.d.a6.a$ac(this.d, d.position, this.a, d);\n            }\n            else {\n                this.d.a6.a$w(this.d, d.position, this.a, d);\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$x = function (a, b, c) {\n        var d;\n        var e = (this.d != null) ? this.d : ((function () { var f = a.cq.f(c, false, d, false); d = f.p2; return f.ret; })());\n        if (e != null) {\n            var f = new MouseButtonEventArgs();\n            f.position = c;\n            if (b.al) {\n                e.a6.a$ad(e, f.position, this.a, f);\n            }\n            else {\n                e.a6.a$aa(e, f.position, this.a, f);\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$t = function (a, b, c) {\n        if (!c && a.es) {\n            this.ah(a, false);\n        }\n        if (c && !a.es) {\n            this.ah(a, true);\n        }\n        a.l6(b, c);\n    };\n    SeriesViewerInteractionManager.prototype.ah = function (a, b) {\n        if (a != null) {\n            if (!this.k) {\n                a.dj = b;\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$aa = function (a, b) {\n        this.h = true;\n    };\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"k\", {\n        get: function () {\n            return this.h;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.$t = markType(SeriesViewerInteractionManager, 'SeriesViewerInteractionManager', Base.$, [ISeriesViewerInteractionManager_$type]);\n    return SeriesViewerInteractionManager;\n}(Base));\nexport { SeriesViewerInteractionManager };\n"]},"metadata":{},"sourceType":"module"}