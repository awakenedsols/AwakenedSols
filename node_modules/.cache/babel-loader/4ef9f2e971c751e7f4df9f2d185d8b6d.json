{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, typeCast, Array_$type, Boolean_$type, markType } from \"./type\";\nimport { ISupportsDataChangeNotifications_$type } from \"./ISupportsDataChangeNotifications\";\nimport { List$1 } from \"./List$1\";\nimport { SectionData } from \"./SectionData\";\nimport { SectionMap } from \"./SectionMap\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { SummaryGroup } from \"./SummaryGroup\";\nimport { RemovedShiftedRowInfo } from \"./RemovedShiftedRowInfo\";\nimport { dateNow } from \"./date\";\n/**\n * @hidden\n */\n\nvar RearrangedListView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(RearrangedListView, _super);\n\n  function RearrangedListView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.n = null;\n    _this.a4 = null;\n    _this.z = new SectionMap();\n    _this.e = null;\n    _this.a = null;\n    _this.b = null;\n    _this.c = null;\n    _this.d = null;\n    _this.a8 = 0;\n    _this.a7 = 0;\n    _this.am = false;\n    _this.as = false;\n    _this.o = null;\n    _this.a0 = null;\n    _this.az = null;\n    _this.s = null;\n    _this.aa = null;\n    _this.ac = null;\n    _this.m = null;\n    _this.ae = null;\n    _this.af = null;\n    _this.ag = null;\n    _this.ap = false;\n    _this.k = 0;\n    _this.j = 0;\n    _this.av = false;\n    _this.au = false;\n    _this.aw = false;\n    _this.ah = false;\n    _this.a3 = new List$1(Array_$type, 0);\n    _this.ay = new Dictionary$2(String_$type, Boolean_$type, 0);\n    _this.n = a;\n    return _this;\n  }\n\n  Object.defineProperty(RearrangedListView.prototype, \"bk\", {\n    get: function () {\n      return this.a7;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"i\", {\n    get: function () {\n      return this.e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"a6\", {\n    get: function () {\n      return this.a4;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"aq\", {\n    get: function () {\n      if (!this.m.isSectionContentVisible) {\n        return true;\n      }\n\n      return this.m.isSectionCollapsable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RearrangedListView.prototype.w = function (a) {\n    return this.z.e(a);\n  };\n\n  RearrangedListView.prototype.v = function () {\n    return this.z.d();\n  };\n\n  Object.defineProperty(RearrangedListView.prototype, \"p\", {\n    get: function () {\n      return this.o;\n    },\n    set: function (a) {\n      this.o = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"a2\", {\n    get: function () {\n      return this.a0;\n    },\n    set: function (a) {\n      this.a0 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"a1\", {\n    get: function () {\n      return this.az;\n    },\n    set: function (a) {\n      this.az = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"t\", {\n    get: function () {\n      return this.s;\n    },\n    set: function (a) {\n      this.s = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"ab\", {\n    get: function () {\n      return this.aa;\n    },\n    set: function (a) {\n      this.aa = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"ad\", {\n    get: function () {\n      return this.ac;\n    },\n    set: function (a) {\n      this.ac = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"l\", {\n    get: function () {\n      return this.k;\n    },\n    set: function (a) {\n      this.k = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RearrangedListView.prototype, \"ar\", {\n    get: function () {\n      if (!this.m.isSectionContentVisible) {\n        return false;\n      }\n\n      if (this.aq) {\n        return this.m.isSectionExpandedDefault;\n      }\n\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RearrangedListView.prototype.b6 = function () {\n    var _this = this;\n\n    if (this.a4 == this.n || this.a4 == null) {\n      this.a4 = new List$1(Base.$, 0);\n    }\n\n    this.a4.clear();\n\n    if (!this.aq) {\n      this.ay.clear();\n    }\n\n    if (this.n == null) {\n      return;\n    }\n\n    var a = this.n.actualCount;\n    this.a7 = 0;\n    this.a8 = this.ba();\n    this.br(null);\n    var b = this.ag.k.count > 0 && this.l != 2 && this.l != 3;\n\n    if (this.s == null) {\n      for (var c = 0; c < a; c++) {\n        var d = this.n.getItemAtIndex(c);\n        this.a4.add1(d);\n\n        if (b) {\n          this.bq(null, d);\n        }\n      }\n    } else {\n      for (var e = 0; e < a; e++) {\n        var f = this.n.getItemAtIndex(e);\n\n        if (this.s(f)) {\n          this.a4.add1(f);\n\n          if (b) {\n            this.bq(null, f);\n          }\n        }\n      }\n    }\n\n    this.bu(null);\n\n    if (this.a0 != null) {\n      this.a4.z(this.a0);\n    }\n\n    this.ah = false;\n    this.z.v();\n\n    if (this.ae != null && this.ae.k.count > 0) {\n      this.ah = true;\n      this.b1();\n    } else {\n      this.z.t.add(function () {\n        var $ret = new SectionData();\n        $ret.ae = 0;\n        $ret.e = null;\n        $ret.f = null;\n        $ret.af = 0;\n        $ret.ad = _this.a4.count;\n        $ret.c = new Array(0);\n        $ret.d = new Array(1);\n        return $ret;\n      }());\n    }\n\n    if (b) {\n      this.bw(this.e);\n    }\n\n    var g = this.p;\n    var h = new List$1(Base.$, 0);\n\n    if (this.a3.count > 0 && this.aw) {\n      if (!this.ah) {\n        var i = this.z.t._inner[0];\n\n        for (var j = 0; j < this.a3.count; j++) {\n          var k = this.m.indexOfKey(this.a3._inner[j]);\n\n          if (k != -1) {\n            this.bj(i, this.a4._inner[k], j);\n          }\n        }\n      } else {\n        for (var l = 0; l < this.a3.count; l++) {\n          var m = this.m.indexOfKey(this.a3._inner[l]);\n\n          if (m != -1) {\n            var n = this.z.e(m);\n            this.bj(n, this.a4._inner[m], l);\n          }\n        }\n      }\n    }\n\n    if (this.ab != null) {\n      this.ab.notifyClearItems();\n    }\n  };\n\n  RearrangedListView.prototype.bl = function (a, b) {\n    var c = null;\n\n    if (a.p) {\n      if (b) {\n        var d = a.af + a.v() + a.ah + a.aa;\n        c = this.a4._inner[d];\n      } else {\n        var e = a.ad - a.u - a.ag;\n        c = this.a4._inner[e];\n      }\n    }\n\n    return c;\n  };\n\n  Object.defineProperty(RearrangedListView.prototype, \"a5\", {\n    get: function () {\n      return this.z.t;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RearrangedListView.prototype.b1 = function () {\n    if (this.a4.count == 0) {\n      return;\n    }\n\n    var a = dateNow();\n    var b = this.f();\n    var c = this.g();\n    var d = this.j == 1 ? c.length : 1;\n\n    if (this.b == null || this.b.length != c.length) {\n      this.a = new Array(d);\n      this.b = new Array(d);\n\n      for (var e = 0; e < d; e++) {\n        this.a[e] = null;\n        this.b[e] = null;\n      }\n    }\n\n    this.c = new Array(d);\n\n    for (var f = 0; f < d; f++) {\n      this.c[f] = new Array(this.ag.k.count);\n    }\n\n    var g = this.l == 3 || this.l == 1;\n    var h = new List$1(Base.$, 0);\n    var i = null;\n    var j = null;\n\n    if (this.m.isSectionContentVisible || !this.av) {\n      for (var k = 0; k < this.a4.count; k++) {\n        var l = this.a4._inner[k];\n\n        if (l == null) {\n          continue;\n        }\n\n        if (i == null) {\n          var m = this.x(k, l, c);\n          k += this.bc(m, k, b, c, true);\n          this.bs(m, true, g);\n          this.z.z(m, 1);\n          this.bq(m, l);\n          j = l;\n        } else {\n          if (this.a1.compare(i, l) != 0) {\n            var n = this.z.t._inner[this.z.t.count - 1];\n\n            if (n.q) {\n              k += this.bb(k, j, b, c);\n            }\n\n            this.bt(k - 1, j, b);\n            var o = this.x(k, l, c);\n            this.bs(o, false, g);\n            var p = this.bc(o, k, b, c, true);\n            k += p;\n            o.q = this.z.r(o);\n            this.z.z(o, 1);\n            this.bq(o, l);\n            j = l;\n          } else {\n            var q = this.z.t._inner[this.z.t.count - 1];\n            this.z.z(q, 1);\n            this.bq(q, l);\n          }\n        }\n\n        if (k == this.a4.count - 1) {\n          var r = this.z.t._inner[this.z.t.count - 1];\n\n          if (r.q) {\n            k += this.bb(k + 1, j, b, c);\n          }\n\n          this.bt(k, j, b);\n        }\n\n        i = l;\n      }\n\n      if (!g) {\n        if (this.j == 1) {\n          for (var s = 0; s < c.length; s++) {\n            if (this.b[s] == null) {\n              continue;\n            }\n\n            for (var t = 0; t < this.ag.k.count; t++) {\n              this.b[s].i[s][t] = this.c[s][t].endCalculation();\n              this.b[s].i[s][t].summaryIndex = t;\n              this.b[s].i[s][t].groupKey = this.b[s].f;\n            }\n\n            for (var u = 0; u < this.b[s].h.length; u++) {\n              if (this.b[s].h[u] == -1) {\n                this.b[s].h[u] = this.z.t._inner[this.z.t.count - 1].ad + 1;\n              }\n            }\n          }\n        } else {\n          if (this.b[0] != null) {\n            for (var v = 0; v < this.ag.k.count; v++) {\n              this.b[0].i[0][v] = this.c[0][v].endCalculation();\n              this.b[0].i[0][v].summaryIndex = v;\n              this.b[0].i[0][v].groupKey = this.b[0].f;\n            }\n\n            this.b[0].h[0] = this.z.t._inner[this.z.t.count - 1].ad + 1;\n          }\n        }\n      }\n\n      this.bx();\n\n      for (var w = 0; w < this.z.t.count; w++) {\n        var x = this.z.t._inner[w];\n\n        if (this.av) {\n          if (!x.q) {\n            var y = x.ad - x.af + 1;\n\n            if (this.j == 1 && this.ae.k.count > 1 && this.am && this.as) {\n              var z = x.w();\n              var aa = false;\n\n              if (w + 1 < this.z.t.count && this.z.t._inner[w + 1].w() == 0) {\n                aa = true;\n              }\n\n              if (aa) {\n                var ab = x.v();\n                y = ab + x.d[x.d.length - 1];\n              }\n            }\n\n            this.a4.v(x.af, y);\n            this.z.ae(x.ae);\n            this.z.ab(x, -y, -y);\n            w--;\n          } else if (!x.p) {\n            var ac = 0;\n            var ad = x.w();\n\n            for (var ae = ad; ae < x.c.length; ae++) {\n              ac = x.b[ae];\n\n              if (!x.c[ae]) {\n                break;\n              }\n            }\n\n            var af = x.af + ac + 1;\n            var ag = x.d[x.d.length - 1];\n            this.a4.v(af, ag);\n            x.ad -= ag;\n            this.z.ac(x, -ag, -ag);\n          }\n        }\n      }\n    } else {\n      for (var ah = 0; ah < this.a4.count; ah++) {\n        var ai = this.a4._inner[ah];\n\n        if (ai == null) {\n          continue;\n        }\n\n        if (i == null) {\n          var aj = this.x(ah, ai, c);\n          this.bd(h, aj, ai, b, c, true);\n          this.bs(aj, true, g);\n          this.z.z(aj, 1);\n          this.bq(aj, ai);\n          j = ai;\n        } else {\n          if (this.a1.compare(i, ai) != 0) {\n            var ak = this.z.t._inner[this.z.t.count - 1];\n            this.bt(h.count - 1, j, b);\n            var al = this.x(ah, ai, c);\n            this.bs(al, false, g);\n            this.bd(h, al, ai, b, c, true);\n            al.q = this.z.r(al);\n            this.z.z(al, 1);\n            this.bq(al, ai);\n            j = ai;\n          } else {\n            var am = this.z.t._inner[this.z.t.count - 1];\n            this.z.z(am, 1);\n            this.bq(am, ai);\n          }\n        }\n\n        if (ah == this.a4.count - 1) {\n          var an = this.z.t._inner[this.z.t.count - 1];\n          this.bt(ah, j, b);\n        }\n\n        i = ai;\n      }\n\n      this.a4 = h;\n    }\n\n    for (var ao = 0; ao < this.b.length; ao++) {\n      this.a[ao] = null;\n      this.b[ao] = null;\n    }\n\n    this.c = null;\n    var ap = dateNow();\n  };\n\n  RearrangedListView.prototype.bs = function (a, b, c) {\n    if (b) {\n      for (var d = 0; d < this.b.length; d++) {\n        this.b[d] = a;\n\n        if (!c) {\n          for (var e = 0; e < this.ag.k.count; e++) {\n            var f = this.ag.k.item(e);\n            this.c[d][e] = f.d();\n            this.c[d][e].beginCalculation(this.m, f.propertyName);\n          }\n        }\n      }\n    }\n\n    if (this.j == 1) {\n      var g = false;\n      var h = a.e.length;\n\n      for (var i = 0; i < h; i++) {\n        if (g) {\n          if (!c) {\n            for (var j = 0; j < this.ag.k.count; j++) {\n              this.b[i].i[i][j] = this.c[i][j].endCalculation();\n              this.b[i].i[i][j].summaryIndex = j;\n              this.b[i].i[i][j].groupKey = this.b[i].f;\n              this.c[i][j].beginCalculation(this.m, this.ag.k.item(j).propertyName);\n            }\n\n            this.b[i].h[i] = a.af;\n          }\n\n          this.b[i] = a;\n          continue;\n        }\n\n        var k = false;\n\n        if (this.b[i].f[i] == null) {\n          k = a.f[i] != null;\n        } else {\n          k = !Base.equalsStatic(this.b[i].f[i], a.f[i]);\n        }\n\n        if (k) {\n          if (!c) {\n            for (var l = 0; l < this.ag.k.count; l++) {\n              this.b[i].i[i][l] = this.c[i][l].endCalculation();\n              this.b[i].i[i][l].summaryIndex = l;\n              this.b[i].i[i][l].groupKey = this.b[i].f;\n              this.c[i][l].beginCalculation(this.m, this.ag.k.item(l).propertyName);\n            }\n\n            this.b[i].h[i] = a.af;\n          }\n\n          this.b[i] = a;\n\n          if (i - 1 > -1) {\n            var m = i - 1;\n\n            while (m >= 0 && this.b[m].o) {\n              m = m - 1;\n            }\n\n            a.z = this.b[m].ae;\n          }\n\n          g = true;\n        }\n      }\n    } else {\n      var n = false;\n\n      for (var o = 0; o < a.e.length; o++) {\n        if (this.b[0].f[o] == null) {\n          if (this.b[0].f[o] != a.f[o]) {\n            n = true;\n            break;\n          }\n\n          continue;\n        }\n\n        if (!Base.equalsStatic(this.b[0].f[o], a.f[o])) {\n          n = true;\n          break;\n        }\n      }\n\n      if (n) {\n        if (!c) {\n          for (var p = 0; p < this.ag.k.count; p++) {\n            this.b[0].i[0][p] = this.c[0][p].endCalculation();\n            this.b[0].i[0][p].summaryIndex = p;\n            this.b[0].i[0][p].groupKey = this.b[0].f;\n            this.c[0][p].beginCalculation(this.m, this.ag.k.item(p).propertyName);\n          }\n\n          this.b[0].h[0] = a.af;\n        }\n\n        this.b[0] = a;\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ba = function () {\n    var a = 0;\n    var b = new Dictionary$2(String_$type, Number_$type, 0);\n\n    for (var c = 0; c < this.ag.k.count; c++) {\n      var d = this.ag.k.item(c).propertyName;\n\n      if (!b.containsKey(d)) {\n        b.addItem(d, 1);\n      } else {\n        b.item(d, b.item(d) + 1);\n      }\n\n      if (b.item(d) > a) {\n        a = b.item(d);\n      }\n    }\n\n    return a;\n  };\n\n  RearrangedListView.prototype.bd = function (a, b, c, d, e, f) {\n    var g = 0;\n\n    if (this.av) {\n      if (this.m.sectionHeaderDisplayMode == 0) {\n        if (this.an(a, 0, c, d, e, f)) {\n          this.z.y();\n          g++;\n\n          if (b != null) {\n            var h = this.bm(b);\n            b.a[0] = h;\n            b.c[0] = this.al(h);\n            b.b[0] = a.count - 1 - b.af;\n          }\n        }\n      } else if (this.m.sectionHeaderDisplayMode == 1) {\n        for (var i = 0, j = 0; i < e.length; i++) {\n          var k = a.count + j;\n\n          if (this.an(a, i, c, d, [e[i]], f)) {\n            g++;\n            this.z.y();\n\n            if (b != null) {\n              var l = this.bn(b, i);\n              b.a[i] = l;\n              b.c[i] = this.al(l);\n              b.b[i] = k - b.af;\n\n              if (!b.c[i]) {\n                break;\n              }\n            } else if (!this.ar) {\n              break;\n            }\n\n            j++;\n          }\n        }\n      }\n    }\n\n    return g;\n  };\n\n  RearrangedListView.prototype.bc = function (a, b, c, d, e) {\n    var f = 0;\n\n    if (this.av) {\n      var g = this.a4._inner[b];\n\n      if (this.m.sectionHeaderDisplayMode == 0) {\n        if (this.ao(b, 0, g, c, d, e)) {\n          this.z.y();\n          f++;\n\n          if (a != null) {\n            var h = this.bm(a);\n            a.a[0] = h;\n            a.c[0] = this.al(h);\n            a.b[0] = b - a.af;\n          }\n        }\n      } else if (this.m.sectionHeaderDisplayMode == 1) {\n        for (var i = 0, j = 0; i < d.length; i++) {\n          var k = b + j;\n\n          if (this.ao(k, i, g, c, [d[i]], e)) {\n            f++;\n            this.z.y();\n\n            if (a != null) {\n              var l = this.bn(a, i);\n              a.a[i] = l;\n              a.c[i] = this.al(l);\n              a.b[i] = k - a.af;\n\n              if (!a.c[i]) {\n                break;\n              }\n            } else if (!this.ar) {\n              break;\n            }\n\n            j++;\n          }\n        }\n      }\n    }\n\n    return f;\n  };\n\n  RearrangedListView.prototype.ao = function (a, b, c, d, e, f) {\n    var g = new DataSourceSpecialRow();\n    g.level = b;\n\n    for (var h = 0; h < d.length; h++) {\n      g.setValue(d[h], this.m.getItemProperty(c, d[h]));\n\n      if (h < e.length) {\n        g.setSectionValue(e[h], this.m.getItemProperty(c, e[h]));\n      }\n    }\n\n    g.rowType = 1;\n    g.summaryResults = new Array(this.ag.k.count);\n\n    if (f && this.a != null) {\n      if (this.a[b] != null) {\n        if (this.a[b].l(g)) {\n          return false;\n        } else {\n          this.a[b] = g;\n\n          for (var i = b + 1; i < this.a.length; i++) {\n            this.a[i] = null;\n          }\n        }\n      } else {\n        this.a[b] = g;\n      }\n    }\n\n    this.a4.insert1(a, g);\n    return true;\n  };\n\n  RearrangedListView.prototype.an = function (a, b, c, d, e, f) {\n    var g = new DataSourceSpecialRow();\n    g.level = b;\n\n    for (var h = 0; h < d.length; h++) {\n      g.setValue(d[h], this.m.getItemProperty(c, d[h]));\n\n      if (h < e.length) {\n        g.setSectionValue(e[h], this.m.getItemProperty(c, e[h]));\n      }\n    }\n\n    g.rowType = 1;\n    g.summaryResults = new Array(this.ag.k.count);\n\n    if (f && this.a != null) {\n      if (this.a[b] != null) {\n        if (this.a[b].l(g)) {\n          return false;\n        } else {\n          this.a[b] = g;\n\n          for (var i = b + 1; i < this.a.length; i++) {\n            this.a[i] = null;\n          }\n        }\n      } else {\n        this.a[b] = g;\n      }\n    }\n\n    a.add1(g);\n    return true;\n  };\n\n  RearrangedListView.prototype.bb = function (a, b, c, d) {\n    var e = 0;\n\n    if (this.au) {\n      if (this.m.sectionHeaderDisplayMode == 0) {\n        this.bv(a, 0, b, c, d);\n        e++;\n      } else if (this.m.sectionHeaderDisplayMode == 1) {\n        for (var f = d.length - 1; f >= 0; f--) {\n          if (this.z.t._inner[this.z.t.count - 1].c[f]) {\n            this.bv(a, f, b, c, [d[f]]);\n            a++;\n            e++;\n          }\n        }\n      }\n    }\n\n    return e;\n  };\n\n  RearrangedListView.prototype.bv = function (a, b, c, d, e) {\n    var f = new DataSourceSpecialRow();\n    f.level = b;\n\n    for (var g = 0; g < d.length; g++) {\n      f.setValue(d[g], this.m.getItemProperty(c, d[g]));\n\n      if (g < e.length) {\n        f.setSectionValue(e[g], this.m.getItemProperty(c, e[g]));\n      }\n    }\n\n    f.rowType = 2;\n    this.a4.insert1(a, f);\n  };\n\n  RearrangedListView.prototype.q = function (a, b, c) {\n    var d = this.r(b, 0, c, 5);\n\n    if (this.as) {\n      a.ag++;\n    } else {\n      a.ah++;\n    }\n\n    a.ad++;\n    this.z.ac(a, 1, 1);\n    return d;\n  };\n\n  RearrangedListView.prototype.r = function (a, b, c, d) {\n    var e = function () {\n      var $ret = new DataSourceSpecialRow();\n      $ret.level = b;\n      $ret.rowType = d;\n      $ret.summaryResults = c;\n      return $ret;\n    }();\n\n    this.a4.insert1(a, e);\n    return e;\n  };\n\n  RearrangedListView.prototype.bf = function (a, b, c) {\n    var d = a.v();\n    var e = a.af + a.ah + a.aa;\n\n    if (this.av) {\n      e += d;\n    }\n\n    this.bh(e, a.c.length, b);\n    a.aa++;\n    a.ad++;\n    a.t++;\n\n    if (c) {\n      this.z.ac(a, 1, 1);\n    }\n\n    return e;\n  };\n\n  RearrangedListView.prototype.bg = function (a, b, c) {\n    var d = a.v();\n\n    if (this.av) {\n      b += d;\n    }\n\n    this.bh(b, a.c.length, c);\n    a.aa++;\n    a.ad++;\n    a.t++;\n    this.z.ac(a, 1, 1);\n    return b;\n  };\n\n  RearrangedListView.prototype.bh = function (a, b, c) {\n    var d = new DataSourceSpecialRow();\n    d.rowType = 3;\n    d.targetRow = c;\n    d.level = b;\n    this.a4.insert1(a, d);\n    return a + 1;\n  };\n\n  RearrangedListView.prototype.bi = function (a, b) {\n    var c = -1;\n\n    for (var d = 0; d < this.a3.count; d++) {\n      if (this.p.i(b, this.a3._inner[d]) == 0) {\n        c = d;\n        break;\n      }\n    }\n\n    return this.bj(a, b, c);\n  };\n\n  RearrangedListView.prototype.bj = function (a, b, c) {\n    var d = -1;\n\n    if (c != -1) {\n      var e = a.af;\n      var f = e + a.aa;\n      var g = false;\n\n      for (var h = e; h < f; h++) {\n        var i = this.av ? h + 1 : h;\n        var j = typeCast(DataSourceSpecialRow.$, this.a4._inner[i]);\n\n        if (j.targetRow != null) {\n          if (this.a0 != null) {\n            var k = this.a0.compare(b, j.targetRow);\n\n            if (k == 0 || k < 0) {\n              d = this.bg(a, h, b);\n              g = true;\n              break;\n            }\n          } else {\n            var l = -1;\n\n            for (var m = 0; m < this.a3.count; m++) {\n              if (this.p.i(j.targetRow, this.a3._inner[m]) == 0) {\n                l = m;\n                break;\n              }\n            }\n\n            if (l > c) {\n              d = this.bg(a, h, b);\n              g = true;\n              break;\n            }\n          }\n        }\n      }\n\n      if (!g) {\n        d = this.bf(a, b, true);\n        g = true;\n      }\n    }\n\n    return d;\n  };\n\n  RearrangedListView.prototype.bw = function (a) {\n    var b = SectionData.r(a);\n    this.a7 = b.count;\n\n    for (var c = 0; c < b.count; c++) {\n      var d = new Array(b._inner[c].count);\n\n      b._inner[c].values.copyTo(d, 0);\n\n      this.r(this.a4.count, 0, d, 4);\n    }\n  };\n\n  RearrangedListView.prototype.bx = function () {\n    if (this.l == 0 || this.l == 2) {\n      for (var a = 0; a < this.z.t.count; a++) {\n        var b = this.z.t._inner[a];\n\n        if (!b.q) {\n          continue;\n        }\n\n        if (this.am) {\n          if (this.as) {\n            this.by(b, false);\n          } else {\n            this.bz(b, false);\n          }\n        } else {\n          for (var c = 0; c < b.i.length; c++) {\n            var d = this.a4._inner[b.af + b.b[c]];\n\n            if (d != null) {\n              d.summaryResults = b.i[c];\n            }\n\n            if (!b.c[c]) {\n              break;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.bz = function (a, b) {\n    var c = 0;\n    var d = this.bl(a, !this.as);\n\n    for (var e = 0; e < a.i.length; e++) {\n      if (a.a[e] == null || !a.c[e]) {\n        continue;\n      }\n\n      var f = SectionData.r(a.i[e]);\n\n      if (this.av) {\n        c += 1;\n      }\n\n      a.g[e] = new SummaryGroup();\n      a.g[e].a = new Array(this.a8);\n\n      for (var g = 0; g < f.count; g++) {\n        var h = new Array(f._inner[g].count);\n\n        f._inner[g].values.copyTo(h, 0);\n\n        var i = a.af + c + g;\n        var j = this.r(i, e + 1, h, 5);\n        a.ak(j, g);\n\n        for (var k = e + 1; k < a.b.length; k++) {\n          a.b[k]++;\n        }\n\n        a.ad++;\n        a.ah++;\n        this.z.ad(a, 1, 1);\n\n        if (d != null) {\n          var l = this.f();\n\n          for (var m = 0; m < l.length; m++) {\n            j.setValue(l[m], this.m.getItemProperty(d, l[m]));\n          }\n        }\n\n        if (b && this.ab != null) {\n          this.ab.notifyInsertItem(i, j);\n        }\n      }\n\n      c += f.count;\n    }\n  };\n\n  RearrangedListView.prototype.be = function (a, b, c) {\n    var d = a.h[b];\n    var e = SectionData.r(a.i[b]);\n\n    for (var f = 0; f < e.count; f++) {\n      var g = new Array(e._inner[f].count);\n\n      e._inner[f].values.copyTo(g, 0);\n\n      var h = this.z.e(d - 1);\n      var i = this.r(d + f, b + 1, g, 5);\n      a.ak(i, f);\n      h.ad++;\n      h.ag++;\n      this.z.ac(h, 1, 1);\n      var j = null;\n      var k = 0;\n\n      for (var l = d + f - 1; l >= 0; l--) {\n        var m = this.m.getRowType(l);\n\n        if (m == 0 || m == 1) {\n          j = this.a4._inner[l];\n          k = m;\n          break;\n        }\n      }\n\n      if (j != null) {\n        var n = this.f();\n\n        if (k == 1) {\n          var o = typeCast(DataSourceSpecialRow.$, j);\n\n          for (var p = 0; p < n.length; p++) {\n            i.setValue(n[p], o.getValue(n[p]));\n          }\n        } else {\n          for (var q = 0; q < n.length; q++) {\n            i.setValue(n[q], this.m.getItemProperty(j, n[q]));\n          }\n        }\n      }\n\n      if (c && this.ab != null) {\n        this.ab.notifyInsertItem(d + f, i);\n      }\n    }\n\n    return e.count;\n  };\n\n  RearrangedListView.prototype.by = function (a, b) {\n    for (var c = 0; c < a.i.length; c++) {\n      if (!a.c[c]) {\n        break;\n      }\n\n      if (a.h[c] == -1) {\n        continue;\n      }\n\n      a.g[c] = new SummaryGroup();\n      a.g[c].a = new Array(this.a8);\n      var d = this.be(a, c, b);\n    }\n  };\n\n  RearrangedListView.prototype.f = function () {\n    var a = new Array(this.ae.k.count + this.af.k.count);\n    var b = 0;\n\n    for (var c = 0; c < this.ae.k.count; c++) {\n      a[b] = this.ae.k.item(c).propertyName;\n      b++;\n    }\n\n    for (var d = 0; d < this.af.k.count; d++) {\n      a[b] = this.af.k.item(d).propertyName;\n      b++;\n    }\n\n    return a;\n  };\n\n  RearrangedListView.prototype.g = function () {\n    var a = new Array(this.ae.k.count);\n    var b = 0;\n\n    for (var c = 0; c < this.ae.k.count; c++) {\n      a[b] = this.ae.k.item(c).propertyName;\n      b++;\n    }\n\n    return a;\n  };\n\n  RearrangedListView.prototype.bt = function (a, b, c) {\n    this.z.x(a);\n  };\n\n  RearrangedListView.prototype.x = function (a, b, c) {\n    return this.z.i(a, this.m, b, c, this.m.sectionHeaderDisplayMode, this.ar);\n  };\n\n  RearrangedListView.prototype.cb = function (a) {\n    this.a3 = new List$1(Array_$type, 0);\n\n    for (var b = 0; b < a.count; b++) {\n      this.a3.add(a._inner[b]);\n    }\n  };\n\n  RearrangedListView.prototype.b2 = function () {\n    this.a4.clear();\n\n    if (this.ab != null) {\n      this.ab.notifyClearItems();\n    }\n  };\n\n  RearrangedListView.prototype.notifySetItem = function (a, b, c) {\n    if (this.a0 != null) {\n      this.b8(b);\n      this.bo(c);\n    } else {\n      this.b9(a, b);\n      this.bp(a, c);\n    }\n  };\n\n  RearrangedListView.prototype.bp = function (a, b) {\n    if (!this.ax(b)) {\n      return;\n    }\n\n    var c = this.a9(a);\n    this.b3(c, b);\n  };\n\n  RearrangedListView.prototype.b3 = function (a, b) {\n    this.b0(a, b);\n    this.ce(a, b);\n    this.cj(a, b);\n  };\n\n  RearrangedListView.prototype.b0 = function (a, b) {\n    if (this.ah) {\n      var c = this.z.e(a);\n\n      if (c == null) {\n        c = this.z.d();\n      }\n\n      var d = c.v();\n      var e = true;\n\n      if (a >= c.af && a <= c.af + (d - 1) + c.ah + c.aa) {\n        if (!this.ai(c, b, this.a4._inner[c.af])) {\n          c = this.z.e(c.af - 1);\n\n          if (c == null) {\n            c = this.z.c();\n            c.af++;\n          }\n\n          e = false;\n        } else {\n          a = c.af + d + c.ah + c.aa;\n        }\n      }\n\n      if (e && !c.p) {\n        return;\n      }\n\n      c.ad++;\n      this.z.ac(c, 1, 0);\n\n      if (this.ai(c, b, this.a4._inner[c.af])) {\n        if (!c.p) {\n          c.ad--;\n          this.z.ac(c, -1, 0);\n          return;\n        }\n\n        if (a >= c.ad - c.u - c.ag && a <= c.ad) {\n          a = c.ad - c.u - c.ag;\n        }\n      }\n    }\n\n    this.a4.insert1(a, b);\n\n    if (this.ab != null) {\n      this.ab.notifyInsertItem(a, b);\n    }\n  };\n\n  RearrangedListView.prototype.ce = function (a, b) {\n    var c = null;\n\n    if (this.ah) {\n      c = this.z.e(a);\n    } else {\n      c = this.z.t._inner[0];\n    }\n\n    if (c == null) {\n      if (this.ah && a == 0) {\n        c = this.z.c();\n      } else {\n        c = this.z.d();\n      }\n    }\n\n    if (this.ai(c, b, this.a4._inner[c.af])) {\n      this.z.z(c, 1);\n\n      if (this.aw && c.p) {\n        var d = this.bi(c, b);\n\n        if (d != -1 && this.ab != null) {\n          this.ab.notifyInsertItem(d, this.a4._inner[d]);\n        }\n      }\n    } else {\n      var e = this.z.e(a - 1);\n\n      if (e != null && this.ai(e, b, this.a4._inner[e.af])) {\n        this.z.z(e, 1);\n\n        if (this.aw && e.p) {\n          var f = this.bi(e, b);\n\n          if (f != -1 && this.ab != null) {\n            this.ab.notifyInsertItem(f, this.a4._inner[f]);\n          }\n        }\n      } else {\n        var g = false;\n\n        if (a <= c.af) {\n          g = true;\n        }\n\n        var h = 0;\n        var i = null;\n        var j = null;\n        var k = this.f();\n        var l = this.g();\n        var m = this.z.b(this.m, b, l, this.j, this.ar);\n        m.af = a;\n        m.ad = a;\n        m.ae = g ? c.ae : c.ae + 1;\n        this.z.af(m, g);\n\n        for (var n = 0; n < c.f.length; n++) {\n          if (Base.equalsStatic(c.f[n], m.f[n]) && !c.c[n]) {\n            this.z.z(c, 1);\n            return;\n          }\n        }\n\n        this.z.aa(m.ae, m);\n\n        if (this.av) {\n          var o = this.bc(m, a, k, l, false);\n          m.ad += o;\n          h += o;\n          i = this.a4._inner[a];\n\n          if (!g) {\n            c.ad--;\n          }\n        }\n\n        if (m.p) {\n          if (this.aw) {\n            for (var p = 0; p < this.a3.count; p++) {\n              if (this.p.i(b, this.a3._inner[p]) == 0) {\n                this.bf(m, b, false);\n                h++;\n                break;\n              }\n            }\n          }\n        } else {\n          this.a4.removeAt(a + h);\n          m.ad--;\n          h--;\n        }\n\n        if (this.au) {\n          var q = this.bb(a + (h - 1), b, k, l);\n\n          if (q > 1) {\n            m.ad += q;\n          }\n\n          h += q;\n          j = this.a4._inner[a + (h - 1)];\n        }\n\n        this.z.ad(m, h, h);\n        this.b7(m);\n\n        if (m.p) {\n          this.z.z(m, 1);\n        }\n\n        if (this.ab != null) {\n          if (i != null) {\n            this.ab.notifyInsertItem(a, i);\n          }\n\n          if (j != null) {\n            this.ab.notifyInsertItem(a + (h - 1), j);\n          }\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cm = function (a) {\n    var b = this.a4.indexOf1(a);\n\n    if (b >= 0) {\n      var c = this.a4._inner[b - 1];\n      var d = typeCast(DataSourceSpecialRow.$, c);\n      var e = this.f();\n\n      for (var f = 0; f < e.length; f++) {\n        if (d == null) {\n          a.setValue(e[f], this.m.getItemProperty(c, e[f]));\n        } else {\n          a.setValue(e[f], d.getValue(e[f]));\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.b7 = function (a) {\n    var b = false;\n    var c = false;\n\n    if (a.ae > 0) {\n      var d = this.z.t._inner[a.ae - 1];\n      var e = 0;\n\n      for (var f = 0, g = 0; f < a.e.length; f++, g++) {\n        if (!b && Base.equalsStatic(d.f[f], a.f[f])) {\n          this.a4.removeAt(a.af + g);\n          a.ad--;\n          this.z.ac(a, -1, -1);\n\n          if (this.am && (this.l == 2 || this.l == 0)) {\n            for (var h = 0; h < this.a8; h++) {\n              var i = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af - 1]);\n\n              if (i != null && i.rowType == 5 && i.level == f + 1) {\n                this.a4.removeAt(a.af - 1);\n                d.ad--;\n                this.z.ac(d, -1, -1);\n                this.a4.insert1(a.ad + 1, i);\n                e++;\n                this.cm(i);\n              }\n            }\n          }\n\n          a.a[f] = null;\n          a.b[f] = 0;\n          a.c[f] = true;\n\n          if (d.a[f] != null) {\n            a.z = d.ae;\n          }\n\n          g--;\n          c = true;\n        } else {\n          b = true;\n          a.b[f] = g;\n\n          if (e > 0) {\n            a.ad += e;\n            this.z.ac(a, e, e);\n            a.h[f] = a.ad - (e - 1);\n          } else {\n            a.h[f] = a.ad + 1;\n          }\n        }\n      }\n\n      if (a.z == -1 && c) {\n        a.z = d.z;\n      }\n    }\n\n    if (a.ae < this.z.t.count - 1) {\n      b = false;\n      c = false;\n      var j = this.z.t._inner[a.ae + 1];\n\n      for (var k = 0, l = 0; k < a.e.length; k++, l++) {\n        if (!b && Base.equalsStatic(j.f[k], a.f[k])) {\n          if (j.a[k] != null) {\n            this.a4.removeAt(j.af + l);\n            j.ad--;\n            this.z.ac(j, -1, -1);\n            a.al(k, -1);\n            a.i[k] = j.i[k];\n            a.d[k] = j.d[k];\n\n            if (this.am && (this.l == 2 || this.l == 0)) {\n              var m = j.g[k].a[0];\n              var n = this.a4.indexOf1(m);\n              a.h[k] = n;\n              var o = this.z.e(n);\n              var p = j.g[k].a.length;\n\n              for (var q = 0; q < p; q++) {\n                j.g[k].a[q] = null;\n                this.a4.removeAt(n);\n                o.ad--;\n\n                if (this.as) {\n                  o.ag--;\n                } else {\n                  o.ah--;\n                }\n              }\n\n              this.z.ac(o, -p, -p);\n              a.al(k, -p);\n            }\n\n            j.h[k] = -1;\n            j.d[k] = 0;\n            j.i[k] = null;\n            j.g[k] = null;\n            j.a[k] = null;\n            j.b[k] = 0;\n            j.c[k] = true;\n            c = true;\n          }\n\n          l--;\n        } else {\n          b = true;\n          j.b[k] = l;\n\n          if (a.a[k] != null && a.h[k] == -1) {\n            a.h[k] = a.ad + 1;\n          }\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ai = function (a, b, c) {\n    if (this.ae.k.count == 0) {\n      return true;\n    }\n\n    if (this.a1.compare(b, c) == 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  RearrangedListView.prototype.h = function (a, b) {\n    var c = new Array(a.length);\n\n    for (var d = 0; d < c.length; d++) {\n      c[d] = this.m.getItemProperty(b, a[d]);\n    }\n\n    return c;\n  };\n\n  RearrangedListView.prototype.at = function (a, b) {\n    if (a == null && b == null) {\n      return true;\n    }\n\n    if (a == null && b != null) {\n      return false;\n    }\n\n    if (a != null && b == null) {\n      return false;\n    }\n\n    return Base.equalsStatic(a, b);\n  };\n\n  RearrangedListView.prototype.a9 = function (a) {\n    if (this.ae.k.count == 0 && this.a3.count == 0 && this.s == null && this.n.actualCount == this.a4.count) {\n      return a;\n    }\n\n    var b = 0;\n    var c = 0;\n    var d = this.a4.count;\n\n    while (b < a && c < d) {\n      while (c < d) {\n        var e = this.a4._inner[c];\n        var f = false;\n        var viewItem_ = e;\n\n        if (viewItem_.$$isSpecialRow !== undefined) {\n          f = true;\n        }\n\n        if (!f) {\n          break;\n        }\n\n        c++;\n      }\n\n      var g = this.n.getItemAtIndex(b);\n\n      if (this.at(g, this.a4._inner[c])) {\n        c++;\n        b++;\n      } else {\n        b++;\n      }\n    }\n\n    return c;\n  };\n\n  RearrangedListView.prototype.b9 = function (a, b) {\n    var c = this.a9(a);\n\n    if (c < this.a4.count) {\n      if (this.at(b, this.a4._inner[c])) {\n        this.b4(c, b);\n      }\n    }\n  };\n\n  RearrangedListView.prototype.b4 = function (a, b) {\n    this.a4.removeAt(a);\n\n    if (this.ab != null) {\n      this.ab.notifyRemoveItem(a, b);\n    }\n\n    var c = this.y(a, b);\n    this.ck(a, b, c);\n  };\n\n  RearrangedListView.prototype.y = function (a, b) {\n    var c = null;\n\n    if (this.ah) {\n      c = this.z.e(a);\n    } else {\n      c = this.z.t._inner[0];\n    }\n\n    if (c != null) {\n      this.z.z(c, -1);\n\n      if (c.p) {\n        c.ad--;\n        this.z.ac(c, -1, 0);\n\n        if (this.aw) {\n          for (var d = 0; d < c.aa; d++) {\n            var e = 0;\n\n            if (this.av) {\n              e = 1;\n            }\n\n            e += c.ah;\n            var f = this.a4._inner[c.af + d + e];\n            var g = null;\n            var item_ = f;\n\n            if (item_ != null && item_.$$isSpecialRow !== undefined) {\n              g = f;\n            }\n\n            if (g != null) {\n              if (g.targetRow == b) {\n                this.a4.removeAt(c.af + d + e);\n                c.ad--;\n                c.aa--;\n                c.t--;\n                this.z.ac(c, -1, -1);\n\n                if (this.ab != null) {\n                  this.ab.notifyRemoveItem(c.af + d + e, g);\n                }\n              }\n            }\n          }\n        }\n      }\n\n      if (this.ah && !c.m() && this.aj(c)) {\n        var h = 0;\n\n        if (this.z.p(c)) {\n          var i = c.w();\n          var j = i;\n          var k = this.ae.k.count;\n          var l = this.g();\n          var m = this.z.t._inner[c.ae + 1];\n\n          for (var n = 0; n < c.f.length; n++) {\n            if (!Base.equalsStatic(c.f[n], m.f[n])) {\n              j = n;\n              break;\n            }\n          }\n\n          if (this.av) {\n            if (c.c[j - 1]) {\n              for (var o = j; o < k; o++) {\n                if (c.g[o] != null) {\n                  for (var p = 0; p < c.g[o].a.length; p++) {\n                    var q = c.g[o].a[p];\n\n                    if (q != null) {\n                      var r = this.a4.indexOf1(q);\n\n                      if (r >= 0) {\n                        this.a4.removeAt(r);\n                        c.ad--;\n                        h++;\n\n                        if (this.ab != null) {\n                          this.ab.notifyRemoveItem(r, q);\n                        }\n\n                        if (!this.as) {\n                          for (var s = o + 1; s < c.b.length; s++) {\n                            c.b[s]--;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n\n                var t = c.af + c.b[o];\n                var u = typeCast(DataSourceSpecialRow.$, this.a4._inner[t]);\n\n                if (u != null && u.rowType == 1) {\n                  c.a[o] = null;\n                  this.a4.removeAt(t);\n                  c.ad--;\n                  h++;\n\n                  if (this.ab != null) {\n                    this.ab.notifyRemoveItem(t, u);\n                  }\n\n                  for (var v = o + 1; v < c.b.length; v++) {\n                    c.b[v]--;\n                  }\n                }\n\n                if (!c.c[o]) {\n                  break;\n                }\n              }\n            }\n          }\n\n          c.k = m;\n\n          for (var w = 0; w < j; w++) {\n            if (this.am && !this.as && (this.l == 2 || this.l == 0)) {\n              m.af -= this.av ? this.a8 + 1 : this.a8;\n            } else if (this.av) {\n              m.af--;\n            }\n          }\n\n          m.d[i] = c.d[i];\n          m.a[i] = c.a[i];\n          m.c[i] = c.c[i];\n          m.z = c.z;\n\n          for (var x = i; x < k; x++) {\n            m.g[x] = c.g[x];\n          }\n\n          m.b[i] = c.b[i];\n\n          for (var y = i, z = c.b[i]; y < k; y++) {\n            m.b[y] = z;\n\n            if (this.av) {\n              z++;\n            }\n\n            if (!this.as) {\n              if (m.g[y] != null) {\n                z += m.g[y].a.length;\n              }\n            }\n\n            var aa = m.af - h + m.b[y];\n            var ab = typeCast(DataSourceSpecialRow.$, this.a4._inner[aa]);\n\n            if (ab != null && ab.rowType == 1) {\n              for (var ac = 0; ac < m.f.length; ac++) {\n                ab.setValue(m.e[ac], m.f[ac]);\n              }\n            }\n          }\n        } else {\n          if (this.av) {\n            for (var ad = c.af; ad <= c.ad; ad++) {\n              var ae = typeCast(DataSourceSpecialRow.$, this.a4._inner[ad]);\n\n              if (ae != null && ae.rowType == 1) {\n                this.a4.removeAt(ad);\n                c.ad--;\n                h++;\n                ad--;\n\n                if (this.ab != null) {\n                  this.ab.notifyRemoveItem(ad, ae);\n                }\n              }\n            }\n          }\n\n          for (var af = 0; af < c.g.length; af++) {\n            if (c.g[af] == null) {\n              continue;\n            }\n\n            for (var ag = 0; ag < c.g[af].a.length; ag++) {\n              var ah = c.g[af].a[ag];\n\n              if (ah != null) {\n                var ai = this.a4.indexOf1(ah);\n                this.a4.removeAt(ai);\n                c.ad--;\n                h++;\n\n                if (this.ab != null) {\n                  this.ab.notifyRemoveItem(ai, ah);\n                }\n              }\n            }\n          }\n\n          if (c.z >= 0) {\n            var aj = c.ad - c.af + 1;\n\n            if (aj > 0) {\n              var ak = this.a4._inner[c.af - 1];\n              var al = typeCast(DataSourceSpecialRow.$, ak);\n              var am = this.f();\n\n              for (var an = 0; an < aj; an++) {\n                var ao = c.af + an;\n                var ap = typeCast(DataSourceSpecialRow.$, this.a4._inner[ao]);\n\n                if (ap != null) {\n                  for (var aq = 0; aq < am.length; aq++) {\n                    if (al == null) {\n                      ap.setValue(am[aq], this.m.getItemProperty(ak, am[aq]));\n                    } else {\n                      ap.setValue(am[aq], al.getValue(am[aq]));\n                    }\n                  }\n                }\n              }\n\n              var ar = this.z.t._inner[c.ae - 1];\n              ar.ad += aj;\n            }\n          }\n        }\n\n        if (this.au) {\n          for (var as = 0; as < c.a.length; as++) {\n            if (!c.c[as]) {\n              break;\n            }\n\n            if (c.a[as] != null) {\n              var at = this.a4._inner[c.ad];\n              this.a4.removeAt(c.ad);\n\n              if (this.ab != null) {\n                this.ab.notifyRemoveItem(c.ad, at);\n              }\n\n              h++;\n              c.ad--;\n            }\n          }\n        }\n\n        this.z.ae(c.ae);\n        this.z.ab(c, -h, -h);\n        c.o = true;\n      }\n    }\n\n    return c;\n  };\n\n  RearrangedListView.prototype.aj = function (a) {\n    for (var b = a.af; b <= a.ad; b++) {\n      if (this.m.getRowType(b) == 0) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  RearrangedListView.prototype.bo = function (a) {\n    if (this.ax(a)) {\n      var b = this.a4.g(a, this.a0);\n\n      if (b < 0) {\n        b = ~b;\n      }\n\n      this.b3(b, a);\n    }\n  };\n\n  RearrangedListView.prototype.b5 = function (a) {\n    this.a3.add(a);\n    var b = this.m.indexOfKey(a);\n    var c = this.m.getItemAtIndex(b);\n\n    if (b == -1) {\n      return;\n    }\n\n    if (this.aw) {\n      var d = this.z.e(b);\n      var e = this.bi(d, this.a4._inner[b]);\n\n      if (this.ab != null) {\n        this.ab.notifyInsertItem(e, this.a4._inner[e]);\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cc = function (a) {\n    if (this.a3.remove(a)) {\n      var b = this.m.indexOfKey(a);\n      var c = this.m.getItemAtIndex(b);\n\n      if (b == -1) {\n        return;\n      }\n\n      var d = this.z.e(b);\n      var e = d.af;\n\n      if (this.av) {\n        e += d.v();\n      }\n\n      if (this.aw) {\n        var f = this.u(e, this.a4._inner[b], d.aa, this.f());\n\n        if (f != null) {\n          d.ad--;\n          d.aa--;\n          d.t--;\n          this.z.ac(d, -1, -1);\n\n          if (this.ab != null) {\n            this.ab.notifyRemoveItem(f.a, f.item);\n          }\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.u = function (a, b, c, d) {\n    var _loop_1 = function (e) {\n      if (typeCast(DataSourceSpecialRow.$, this_1.a4._inner[e]) !== null) {\n        var f_1 = this_1.a4._inner[e];\n\n        if (f_1.rowType == 3) {\n          var g = f_1.targetRow;\n\n          if (g == b) {\n            this_1.a4.removeAt(e);\n            return {\n              value: function () {\n                var $ret = new RemovedShiftedRowInfo();\n                $ret.item = f_1;\n                $ret.a = e;\n                return $ret;\n              }()\n            };\n          }\n        }\n      }\n    };\n\n    var this_1 = this;\n\n    for (var e = a + (c - 1); e >= a; e--) {\n      var state_1 = _loop_1(e);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    return null;\n  };\n\n  RearrangedListView.prototype.b8 = function (a) {\n    var b = this.a4.g(a, this.a0);\n\n    if (b < 0) {\n      b = ~b;\n    }\n\n    if (b >= 0) {\n      var c = this.a4.count;\n      var d = 0;\n\n      while (d < c) {\n        var e = b - d;\n        var f = b + d;\n\n        if (e < 0 && f > c - 1) {\n          break;\n        }\n\n        if (e >= 0 && e < c) {\n          if (this.a4._inner[e] != null && Base.equalsStatic(this.a4._inner[e], a)) {\n            b = e;\n            break;\n          }\n        }\n\n        if (f < c) {\n          if (this.a4._inner[f] != null && Base.equalsStatic(this.a4._inner[f], a)) {\n            b = f;\n            break;\n          }\n        }\n\n        d++;\n      }\n\n      if (b < 0 || b > c - 1) {\n        return;\n      }\n\n      var g = this.a4._inner[b];\n\n      if (g == null && a == null) {\n        this.a4.removeAt(b);\n        this.aa.notifyRemoveItem(b, a);\n        var h = this.y(b, a);\n        this.ci(b, a, false, h);\n        return;\n      }\n\n      if (g == null) {\n        return;\n      }\n\n      if (Base.equalsStatic(g, a)) {\n        this.a4.removeAt(b);\n        this.aa.notifyRemoveItem(b, a);\n        var i = this.y(b, a);\n        this.ci(b, a, false, i);\n      } else {\n        if (b - 1 >= 0) {\n          var j = this.z.e(b - 1);\n\n          if (j != null && !j.p) {\n            b = b - 1;\n          }\n        }\n\n        this.y(b, a);\n      }\n    } else {\n      var k = this.a4.count;\n\n      for (var l = 0; l < k; l++) {\n        var m = this.a4._inner[l];\n\n        if (m == null && a == null) {\n          this.a4.removeAt(l);\n          break;\n        }\n\n        if (m == null) {\n          continue;\n        }\n\n        if (Base.equalsStatic(m, a)) {\n          this.a4.removeAt(l);\n          this.aa.notifyRemoveItem(l, a);\n          var n = this.y(l, a);\n          this.ck(l, a, n);\n          break;\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ax = function (a) {\n    if (this.s == null) {\n      return true;\n    }\n\n    return this.s(a);\n  };\n\n  RearrangedListView.prototype.notifyClearItems = function () {};\n\n  RearrangedListView.prototype.notifyInsertItem = function (a, b) {\n    if (this.a0 != null) {\n      this.bo(b);\n    } else {\n      this.bp(a, b);\n    }\n  };\n\n  RearrangedListView.prototype.notifyRemoveItem = function (a, b) {\n    if (this.a0 != null) {\n      this.b8(b);\n    } else {\n      this.b9(a, b);\n    }\n  };\n\n  RearrangedListView.prototype.ca = function (a, b) {\n    var c = this.z.e(a);\n\n    if (c == null) {\n      c = this.z.d();\n    }\n\n    for (var d = 0, e = 0; d < c.a.length; d++) {\n      if (c.a[d] != null) {\n        if (a == c.af + c.b[d]) {\n          var f = c.a[d];\n\n          if (this.ay.containsKey(f)) {\n            if (this.ay.item(f) != b) {\n              var g = this.ay.item(f);\n\n              if (b == this.ar) {\n                this.ay.removeItem(f);\n              } else {\n                this.ay.item(f, b);\n              }\n\n              this.m.queueAutoRefresh();\n\n              if (this.ad != null) {\n                this.ad.notifyRowExpansionChanged(a, g, b);\n              }\n            }\n          } else if (b != this.ar) {\n            this.ay.addItem(f, b);\n            this.m.queueAutoRefresh();\n\n            if (this.ad != null) {\n              this.ad.notifyRowExpansionChanged(a, this.ar, b);\n            }\n          }\n        }\n\n        e++;\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ak = function (a) {\n    var b = this.z.e(a);\n\n    if (b == null) {\n      b = this.z.d();\n    }\n\n    for (var c = 0, d = 0; c < b.a.length; c++) {\n      if (b.a[c] != null) {\n        if (a == b.af + b.b[c]) {\n          return b.c[c];\n        }\n\n        d++;\n      }\n    }\n\n    return true;\n  };\n\n  RearrangedListView.prototype.al = function (a) {\n    if (!this.aq) {\n      return true;\n    }\n\n    return this.ay.containsKey(a) ? this.ay.item(a) : this.ar;\n  };\n\n  RearrangedListView.prototype.bm = function (a) {\n    var b = \"\";\n\n    for (var c = 0; c < a.e.length; c++) {\n      b += a.e[c] + \":\" + a.f[c];\n    }\n\n    return b;\n  };\n\n  RearrangedListView.prototype.bn = function (a, b) {\n    if (this.m.sectionHeaderDisplayMode == 0) {\n      return this.bm(a);\n    }\n\n    var c = \"\";\n\n    for (var d = 0; d < b + 1; d++) {\n      c += a.e[d] + \":\" + a.f[d] + \":\";\n    }\n\n    return c;\n  };\n\n  RearrangedListView.prototype.br = function (a) {\n    if (this.l == 3 || a != null && this.l == 1 || a == null && this.l == 2) {\n      return;\n    }\n\n    if (a == null && (this.e == null || this.e.length != this.ag.k.count)) {\n      this.e = new Array(this.ag.k.count);\n    }\n\n    if (a != null) {\n      var b = a.v();\n\n      for (var c = b - 1; c >= 0; c--) {\n        for (var d = 0; d < this.ag.k.count; d++) {\n          var e = this.ag.k.item(d);\n          this.c[c][d].beginCalculation(this.m, e.propertyName);\n        }\n      }\n    } else {\n      if (this.d == null || this.d.length != this.ag.k.count) {\n        this.d = new Array(this.ag.k.count);\n      }\n\n      for (var f = 0; f < this.ag.k.count; f++) {\n        var g = this.ag.k.item(f);\n\n        if (this.d[f] == null || this.d[f].operand != g.operand) {\n          this.d[f] = g.d();\n        }\n\n        this.d[f].beginCalculation(this.m, g.propertyName);\n      }\n    }\n  };\n\n  RearrangedListView.prototype.bu = function (a) {\n    if (this.l == 3 || a != null && this.l == 1 || a == null && this.l == 2) {\n      return;\n    }\n\n    if (a != null) {\n      var b = a.v();\n\n      for (var c = b - 1; c >= 0; c--) {\n        var d = this.a4._inner[a.af + c];\n\n        for (var e = 0; e < this.ag.k.count; e++) {\n          var f = this.ag.k.item(e);\n          var g = this.c[c][e].endCalculation();\n          g.summaryIndex = e;\n          g.groupKey = a.f;\n\n          if (d != null) {\n            d.summaryResults[c] = g;\n          }\n        }\n      }\n    } else {\n      for (var h = 0; h < this.ag.k.count; h++) {\n        var i = this.d[h].endCalculation();\n        i.summaryIndex = h;\n        this.e[h] = i;\n      }\n    }\n  };\n\n  RearrangedListView.prototype.bq = function (a, b) {\n    if (this.l == 3 || a != null && this.l == 1 || a == null && this.l == 2) {\n      return;\n    }\n\n    if (b != null) {\n      if (a != null) {\n        for (var c = 0; c < this.c.length; c++) {\n          if (this.c[c] != null) {\n            for (var d = 0; d < this.c[c].length; d++) {\n              if (this.c[c][d] != null) {\n                this.c[c][d].aggregate(b);\n              }\n            }\n          }\n        }\n      } else {\n        for (var e = 0; e < this.ag.k.count; e++) {\n          this.d[e].aggregate(b);\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cg = function (a, b, c, d, e) {\n    var f = a.i[d][e];\n    var g = b.itemAdded(c, f, a.d[d]);\n    a.an(d, e, g);\n\n    if (this.av) {\n      if (a.a[d] != null) {\n        var h = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af + a.b[d]]);\n\n        if (h != null) {\n          h.summaryResults[e] = a.i[d][e];\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cf = function (a, b, c, d, e, f) {\n    var g = a.i[d][e];\n    var h = a.d[d];\n    var i = f ? b.itemAdded(c, g, h) : b.itemRemoved(c, g, h);\n    a.an(d, e, i);\n\n    if (this.av) {\n      if (!a.o && a.a[d] != null) {\n        var j = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af + a.b[d]]);\n\n        if (j != null) {\n          j.summaryResults[e] = a.i[d][e];\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ci = function (a, b, c, d) {\n    if (this.ag.k.count == 0) {\n      return;\n    }\n\n    if (d == null) {\n      d = this.w(a);\n\n      if (d == null) {\n        d = this.z.d();\n      }\n    }\n\n    var e = false;\n    var f = false;\n    var g = false;\n\n    for (var h = 0; h < this.ag.k.count; h++) {\n      var i = this.ag.k.item(h);\n\n      if (this.l == 0 || this.l == 1) {\n        var j = null;\n\n        if (c) {\n          j = this.d[h].itemAdded(b, this.e[h], this.n.actualCount);\n        } else {\n          j = this.d[h].itemRemoved(b, this.e[h], this.n.actualCount);\n        }\n\n        j.summaryIndex = h;\n        this.e[h] = j;\n\n        if (this.d[h].isSummaryDirty) {\n          e = true;\n        } else {\n          f = true;\n        }\n      }\n\n      if (this.l == 0 || this.l == 2) {\n        if (d != null && d.i != null) {\n          var k = i.d();\n          k.dataSource = this.m;\n          k.propertyName = i.propertyName;\n          k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n          var l = this.g();\n          var m = d.w();\n\n          for (var n = m; n < l.length; n++) {\n            this.cf(d, k, b, n, h, c);\n\n            if (k.isSummaryDirty) {\n              e = true;\n            }\n\n            g = true;\n          }\n\n          var o = d.z;\n\n          while (o != -1) {\n            var p = this.z.t._inner[o];\n            var q = p.w();\n\n            for (var r = q; r < m; r++) {\n              this.cf(p, k, b, r, h, c);\n\n              if (k.isSummaryDirty) {\n                e = true;\n              }\n            }\n\n            o = p.z;\n            m = m - 1;\n          }\n        }\n      }\n    }\n\n    if (e) {\n      this.m.queueAutoRefresh();\n    } else {\n      if (f) {\n        var s = SectionData.r(this.e);\n        this.cd(s);\n      }\n\n      if (g) {\n        this.ch(d, null);\n        var t = d.z;\n\n        while (t != -1) {\n          var u = this.z.t._inner[t];\n          this.ch(u, null);\n          t = u.z;\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cl = function (a, b, c, d, e) {\n    var f = a;\n    var g = this.ag.k.item(a);\n\n    if (g == null) {\n      return;\n    }\n\n    if (e == null) {\n      e = this.w(b);\n\n      if (e == null) {\n        e = this.z.d();\n      }\n    }\n\n    var h = false;\n    var i = false;\n    var j = false;\n\n    if (this.l == 0 || this.l == 1) {\n      var k = null;\n\n      if (d) {\n        k = this.d[f].itemAdded(c, this.e[f], this.n.actualCount);\n      } else {\n        k = this.d[f].itemRemoved(c, this.e[f], this.n.actualCount);\n      }\n\n      k.summaryIndex = f;\n      this.e[f] = k;\n\n      if (this.d[f].isSummaryDirty) {\n        h = true;\n      } else {\n        i = true;\n      }\n    }\n\n    if (this.l == 0 || this.l == 2) {\n      if (e != null && e.i != null) {\n        var l = g.d();\n        l.dataSource = this.m;\n        l.propertyName = g.propertyName;\n        l.propertyType = this.m.resolveSchemaPropertyType(g.propertyName);\n        var m = this.g();\n        var n = e.w();\n\n        for (var o = n; o < m.length; o++) {\n          this.cf(e, l, c, o, f, d);\n\n          if (l.isSummaryDirty) {\n            h = true;\n          }\n\n          j = true;\n        }\n\n        var p = e.z;\n\n        while (p != -1) {\n          var q = this.z.t._inner[p];\n          var r = q.w();\n\n          for (var s = r; s < n; s++) {\n            this.cf(q, l, c, s, f, d);\n\n            if (l.isSummaryDirty) {\n              h = true;\n            }\n          }\n\n          p = q.z;\n          n = n - 1;\n        }\n      }\n    }\n\n    if (h) {\n      this.m.queueAutoRefresh();\n    } else {\n      if (i) {\n        var t = SectionData.r(this.e);\n        this.cd(t);\n      }\n\n      if (j) {\n        this.ch(e, null);\n        var u = e.z;\n\n        while (u != -1) {\n          var v = this.z.t._inner[u];\n          this.ch(v, null);\n          u = v.z;\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cj = function (a, b) {\n    if (this.ag.k.count == 0) {\n      return;\n    }\n\n    var c = this.w(a);\n\n    if (c == null) {\n      c = this.z.d();\n    }\n\n    var d = null;\n\n    if (c != null) {\n      d = typeCast(DataSourceSpecialRow.$, this.a4._inner[c.af]);\n    }\n\n    var e = false;\n    var f = false;\n    var g = false;\n\n    for (var h = 0; h < this.ag.k.count; h++) {\n      var i = this.ag.k.item(h);\n\n      if (this.l == 0 || this.l == 1) {\n        var j = this.d[h].itemAdded(b, this.e[h], this.n.actualCount);\n        j.summaryIndex = h;\n        this.e[h] = j;\n\n        if (this.d[h].isSummaryDirty) {\n          e = true;\n        } else {\n          f = true;\n        }\n      }\n\n      if (this.l == 0 || this.l == 2) {\n        if (c != null && c.i != null) {\n          var k = i.d();\n          k.dataSource = this.m;\n          k.propertyName = i.propertyName;\n          k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n          var l = this.g();\n          var m = c.w();\n\n          for (var n = m; n < l.length; n++) {\n            this.cg(c, k, b, n, h);\n\n            if (k.isSummaryDirty) {\n              e = true;\n            }\n\n            g = true;\n          }\n\n          var o = c.z;\n\n          while (o != -1) {\n            var p = this.z.t._inner[o];\n            var q = p.w();\n\n            for (var r = q; r < m; r++) {\n              this.cg(p, k, b, r, h);\n\n              if (k.isSummaryDirty) {\n                e = true;\n              }\n            }\n\n            o = p.z;\n            m = m - 1;\n          }\n        }\n      }\n    }\n\n    if (e) {\n      this.m.queueAutoRefresh();\n    } else {\n      if (f) {\n        var s = SectionData.r(this.e);\n        this.cd(s);\n      }\n\n      if (g) {\n        this.ch(c, null);\n        var t = c.z;\n\n        while (t != -1) {\n          var u = this.z.t._inner[t];\n          this.ch(u, null);\n          t = u.z;\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ck = function (a, b, c) {\n    if (this.ag.k.count == 0) {\n      return;\n    }\n\n    var d = null;\n\n    if (c != null) {\n      d = typeCast(DataSourceSpecialRow.$, this.a4._inner[c.af]);\n    }\n\n    var e = false;\n    var f = false;\n    var g = false;\n\n    for (var h = 0; h < this.ag.k.count; h++) {\n      var i = this.ag.k.item(h);\n\n      if (this.l == 0 || this.l == 1) {\n        var j = this.d[h].itemRemoved(b, this.e[h], this.m.actualCount);\n        j.summaryIndex = h;\n        this.e[h] = j;\n\n        if (this.d[h].isSummaryDirty) {\n          e = true;\n        } else {\n          f = true;\n        }\n      }\n\n      if (this.l == 0 || this.l == 2) {\n        if (c != null && c.i != null) {\n          var k = i.d();\n          k.dataSource = this.m;\n          k.propertyName = i.propertyName;\n          k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n          var l = this.g();\n          var m = c.w();\n\n          for (var n = m; n < l.length; n++) {\n            this.cf(c, k, b, n, h, false);\n\n            if (k.isSummaryDirty) {\n              e = true;\n            }\n\n            g = true;\n          }\n\n          var o = c.z;\n\n          while (o != -1) {\n            var p = this.z.t._inner[o];\n            var q = p.w();\n\n            for (var r = q; r < m; r++) {\n              this.cf(p, k, b, r, h, false);\n\n              if (k.isSummaryDirty) {\n                e = true;\n              }\n            }\n\n            o = p.z;\n            m = m - 1;\n          }\n        }\n      }\n    }\n\n    if (e) {\n      this.m.queueAutoRefresh();\n    } else {\n      if (f) {\n        var s = SectionData.r(this.e);\n        this.cd(s);\n      }\n\n      if (g) {\n        this.ch(c, null);\n        var t = c.z;\n\n        while (t != -1) {\n          var u = this.z.t._inner[t];\n          this.ch(u, null);\n          t = u.z;\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.ch = function (a, b) {\n    var _this = this;\n\n    if (this.l == 2 || this.l == 0) {\n      if (this.am) {\n        if (!a.o && !a.n()) {\n          if (this.as) {\n            this.by(a, true);\n          } else {\n            this.bz(a, true);\n          }\n        } else {\n          a.am(function (c) {\n            if (_this.ab != null) {\n              var d = _this.a4.indexOf1(c);\n\n              _this.ab.notifySetItem(d, c, c);\n            }\n          });\n        }\n      } else {\n        for (var c = 0; c < a.i.length; c++) {\n          var d = a.af + a.b[c];\n          var e = this.a4._inner[d];\n\n          if (e != null) {\n            e.summaryResults = a.i[c];\n\n            if (this.ab != null) {\n              this.ab.notifySetItem(d, e, e);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  RearrangedListView.prototype.cd = function (a) {\n    for (var b = 0; b < a.count; b++) {\n      var c = new Array(a._inner[b].count);\n\n      a._inner[b].values.copyTo(c, 0);\n\n      var d = this.a4.count - a.count + b;\n      var e = typeCast(DataSourceSpecialRow.$, this.a4._inner[d]);\n      e.summaryResults = c;\n\n      if (this.ab != null) {\n        this.ab.notifySetItem(d, e, e);\n      }\n    }\n  };\n\n  RearrangedListView.$t = markType(RearrangedListView, 'RearrangedListView', Base.$, [ISupportsDataChangeNotifications_$type]);\n  return RearrangedListView;\n}(Base);\n\nexport { RearrangedListView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/RearrangedListView.js"],"names":["__extends","Base","String_$type","Number_$type","typeCast","Array_$type","Boolean_$type","markType","ISupportsDataChangeNotifications_$type","List$1","SectionData","SectionMap","Dictionary$2","DataSourceSpecialRow","SummaryGroup","RemovedShiftedRowInfo","dateNow","RearrangedListView","_super","a","_this","call","n","a4","z","e","b","c","d","a8","a7","am","as","o","a0","az","s","aa","ac","m","ae","af","ag","ap","k","j","av","au","aw","ah","a3","ay","Object","defineProperty","prototype","get","enumerable","configurable","isSectionContentVisible","isSectionCollapsable","w","v","set","aq","isSectionExpandedDefault","b6","$","clear","actualCount","ba","br","count","l","getItemAtIndex","add1","bq","f","bu","b1","t","add","$ret","ad","Array","bw","g","p","h","i","_inner","indexOfKey","bj","ab","notifyClearItems","bl","u","length","x","bc","bs","a1","compare","q","bb","bt","r","endCalculation","summaryIndex","groupKey","bx","y","ai","aj","bd","ak","al","an","ao","item","beginCalculation","propertyName","equalsStatic","containsKey","addItem","sectionHeaderDisplayMode","bm","bn","ar","level","setValue","getItemProperty","setSectionValue","rowType","summaryResults","insert1","bv","bf","bh","bg","targetRow","bi","values","copyTo","by","bz","notifyInsertItem","be","getRowType","getValue","cb","b2","notifySetItem","b8","bo","b9","bp","ax","a9","b3","b0","ce","cj","removeAt","b7","cm","indexOf1","at","viewItem_","$$isSpecialRow","undefined","b4","notifyRemoveItem","ck","item_","b5","cc","remove","_loop_1","this_1","f_1","value","state_1","ci","ca","removeItem","queueAutoRefresh","notifyRowExpansionChanged","operand","aggregate","cg","itemAdded","cf","itemRemoved","isSummaryDirty","dataSource","propertyType","resolveSchemaPropertyType","cd","ch","cl","$t"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, typeCast, Array_$type, Boolean_$type, markType } from \"./type\";\nimport { ISupportsDataChangeNotifications_$type } from \"./ISupportsDataChangeNotifications\";\nimport { List$1 } from \"./List$1\";\nimport { SectionData } from \"./SectionData\";\nimport { SectionMap } from \"./SectionMap\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { SummaryGroup } from \"./SummaryGroup\";\nimport { RemovedShiftedRowInfo } from \"./RemovedShiftedRowInfo\";\nimport { dateNow } from \"./date\";\n/**\n * @hidden\n */\nvar RearrangedListView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(RearrangedListView, _super);\n    function RearrangedListView(a) {\n        var _this = _super.call(this) || this;\n        _this.n = null;\n        _this.a4 = null;\n        _this.z = new SectionMap();\n        _this.e = null;\n        _this.a = null;\n        _this.b = null;\n        _this.c = null;\n        _this.d = null;\n        _this.a8 = 0;\n        _this.a7 = 0;\n        _this.am = false;\n        _this.as = false;\n        _this.o = null;\n        _this.a0 = null;\n        _this.az = null;\n        _this.s = null;\n        _this.aa = null;\n        _this.ac = null;\n        _this.m = null;\n        _this.ae = null;\n        _this.af = null;\n        _this.ag = null;\n        _this.ap = false;\n        _this.k = 0;\n        _this.j = 0;\n        _this.av = false;\n        _this.au = false;\n        _this.aw = false;\n        _this.ah = false;\n        _this.a3 = new List$1(Array_$type, 0);\n        _this.ay = new Dictionary$2(String_$type, Boolean_$type, 0);\n        _this.n = a;\n        return _this;\n    }\n    Object.defineProperty(RearrangedListView.prototype, \"bk\", {\n        get: function () {\n            return this.a7;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"i\", {\n        get: function () {\n            return this.e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"a6\", {\n        get: function () {\n            return this.a4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"aq\", {\n        get: function () {\n            if (!this.m.isSectionContentVisible) {\n                return true;\n            }\n            return this.m.isSectionCollapsable;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RearrangedListView.prototype.w = function (a) {\n        return this.z.e(a);\n    };\n    RearrangedListView.prototype.v = function () {\n        return this.z.d();\n    };\n    Object.defineProperty(RearrangedListView.prototype, \"p\", {\n        get: function () {\n            return this.o;\n        },\n        set: function (a) {\n            this.o = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"a2\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            this.a0 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"a1\", {\n        get: function () {\n            return this.az;\n        },\n        set: function (a) {\n            this.az = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"t\", {\n        get: function () {\n            return this.s;\n        },\n        set: function (a) {\n            this.s = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"ab\", {\n        get: function () {\n            return this.aa;\n        },\n        set: function (a) {\n            this.aa = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"ad\", {\n        get: function () {\n            return this.ac;\n        },\n        set: function (a) {\n            this.ac = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"l\", {\n        get: function () {\n            return this.k;\n        },\n        set: function (a) {\n            this.k = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RearrangedListView.prototype, \"ar\", {\n        get: function () {\n            if (!this.m.isSectionContentVisible) {\n                return false;\n            }\n            if (this.aq) {\n                return this.m.isSectionExpandedDefault;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RearrangedListView.prototype.b6 = function () {\n        var _this = this;\n        if (this.a4 == this.n || this.a4 == null) {\n            this.a4 = new List$1(Base.$, 0);\n        }\n        this.a4.clear();\n        if (!this.aq) {\n            this.ay.clear();\n        }\n        if (this.n == null) {\n            return;\n        }\n        var a = this.n.actualCount;\n        this.a7 = 0;\n        this.a8 = this.ba();\n        this.br(null);\n        var b = this.ag.k.count > 0 && this.l != 2 && this.l != 3;\n        if (this.s == null) {\n            for (var c = 0; c < a; c++) {\n                var d = this.n.getItemAtIndex(c);\n                this.a4.add1(d);\n                if (b) {\n                    this.bq(null, d);\n                }\n            }\n        }\n        else {\n            for (var e = 0; e < a; e++) {\n                var f = this.n.getItemAtIndex(e);\n                if (this.s(f)) {\n                    this.a4.add1(f);\n                    if (b) {\n                        this.bq(null, f);\n                    }\n                }\n            }\n        }\n        this.bu(null);\n        if (this.a0 != null) {\n            this.a4.z(this.a0);\n        }\n        this.ah = false;\n        this.z.v();\n        if (this.ae != null && this.ae.k.count > 0) {\n            this.ah = true;\n            this.b1();\n        }\n        else {\n            this.z.t.add(((function () {\n                var $ret = new SectionData();\n                $ret.ae = 0;\n                $ret.e = null;\n                $ret.f = null;\n                $ret.af = 0;\n                $ret.ad = _this.a4.count;\n                $ret.c = new Array(0);\n                $ret.d = new Array(1);\n                return $ret;\n            })()));\n        }\n        if (b) {\n            this.bw(this.e);\n        }\n        var g = this.p;\n        var h = new List$1(Base.$, 0);\n        if (this.a3.count > 0 && this.aw) {\n            if (!this.ah) {\n                var i = this.z.t._inner[0];\n                for (var j = 0; j < this.a3.count; j++) {\n                    var k = this.m.indexOfKey(this.a3._inner[j]);\n                    if (k != -1) {\n                        this.bj(i, this.a4._inner[k], j);\n                    }\n                }\n            }\n            else {\n                for (var l = 0; l < this.a3.count; l++) {\n                    var m = this.m.indexOfKey(this.a3._inner[l]);\n                    if (m != -1) {\n                        var n = this.z.e(m);\n                        this.bj(n, this.a4._inner[m], l);\n                    }\n                }\n            }\n        }\n        if (this.ab != null) {\n            this.ab.notifyClearItems();\n        }\n    };\n    RearrangedListView.prototype.bl = function (a, b) {\n        var c = null;\n        if (a.p) {\n            if (b) {\n                var d = a.af + a.v() + a.ah + a.aa;\n                c = this.a4._inner[d];\n            }\n            else {\n                var e = a.ad - a.u - a.ag;\n                c = this.a4._inner[e];\n            }\n        }\n        return c;\n    };\n    Object.defineProperty(RearrangedListView.prototype, \"a5\", {\n        get: function () {\n            return this.z.t;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RearrangedListView.prototype.b1 = function () {\n        if (this.a4.count == 0) {\n            return;\n        }\n        var a = dateNow();\n        var b = this.f();\n        var c = this.g();\n        var d = this.j == 1 ? c.length : 1;\n        if (this.b == null || this.b.length != c.length) {\n            this.a = new Array(d);\n            this.b = new Array(d);\n            for (var e = 0; e < d; e++) {\n                this.a[e] = null;\n                this.b[e] = null;\n            }\n        }\n        this.c = new Array(d);\n        for (var f = 0; f < d; f++) {\n            this.c[f] = new Array(this.ag.k.count);\n        }\n        var g = this.l == 3 || this.l == 1;\n        var h = new List$1(Base.$, 0);\n        var i = null;\n        var j = null;\n        if (this.m.isSectionContentVisible || !this.av) {\n            for (var k = 0; k < this.a4.count; k++) {\n                var l = this.a4._inner[k];\n                if (l == null) {\n                    continue;\n                }\n                if (i == null) {\n                    var m = this.x(k, l, c);\n                    k += this.bc(m, k, b, c, true);\n                    this.bs(m, true, g);\n                    this.z.z(m, 1);\n                    this.bq(m, l);\n                    j = l;\n                }\n                else {\n                    if (this.a1.compare(i, l) != 0) {\n                        var n = this.z.t._inner[this.z.t.count - 1];\n                        if (n.q) {\n                            k += this.bb(k, j, b, c);\n                        }\n                        this.bt(k - 1, j, b);\n                        var o = this.x(k, l, c);\n                        this.bs(o, false, g);\n                        var p = this.bc(o, k, b, c, true);\n                        k += p;\n                        o.q = this.z.r(o);\n                        this.z.z(o, 1);\n                        this.bq(o, l);\n                        j = l;\n                    }\n                    else {\n                        var q = this.z.t._inner[this.z.t.count - 1];\n                        this.z.z(q, 1);\n                        this.bq(q, l);\n                    }\n                }\n                if (k == this.a4.count - 1) {\n                    var r = this.z.t._inner[this.z.t.count - 1];\n                    if (r.q) {\n                        k += this.bb(k + 1, j, b, c);\n                    }\n                    this.bt(k, j, b);\n                }\n                i = l;\n            }\n            if (!g) {\n                if (this.j == 1) {\n                    for (var s = 0; s < c.length; s++) {\n                        if (this.b[s] == null) {\n                            continue;\n                        }\n                        for (var t = 0; t < this.ag.k.count; t++) {\n                            this.b[s].i[s][t] = this.c[s][t].endCalculation();\n                            this.b[s].i[s][t].summaryIndex = t;\n                            this.b[s].i[s][t].groupKey = this.b[s].f;\n                        }\n                        for (var u = 0; u < this.b[s].h.length; u++) {\n                            if (this.b[s].h[u] == -1) {\n                                this.b[s].h[u] = this.z.t._inner[this.z.t.count - 1].ad + 1;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (this.b[0] != null) {\n                        for (var v = 0; v < this.ag.k.count; v++) {\n                            this.b[0].i[0][v] = this.c[0][v].endCalculation();\n                            this.b[0].i[0][v].summaryIndex = v;\n                            this.b[0].i[0][v].groupKey = this.b[0].f;\n                        }\n                        this.b[0].h[0] = this.z.t._inner[this.z.t.count - 1].ad + 1;\n                    }\n                }\n            }\n            this.bx();\n            for (var w = 0; w < this.z.t.count; w++) {\n                var x = this.z.t._inner[w];\n                if (this.av) {\n                    if (!x.q) {\n                        var y = x.ad - x.af + 1;\n                        if (this.j == 1 && this.ae.k.count > 1 && this.am && this.as) {\n                            var z = x.w();\n                            var aa = false;\n                            if (w + 1 < this.z.t.count && this.z.t._inner[w + 1].w() == 0) {\n                                aa = true;\n                            }\n                            if (aa) {\n                                var ab = x.v();\n                                y = ab + x.d[x.d.length - 1];\n                            }\n                        }\n                        this.a4.v(x.af, y);\n                        this.z.ae(x.ae);\n                        this.z.ab(x, -y, -y);\n                        w--;\n                    }\n                    else if (!x.p) {\n                        var ac = 0;\n                        var ad = x.w();\n                        for (var ae = ad; ae < x.c.length; ae++) {\n                            ac = x.b[ae];\n                            if (!x.c[ae]) {\n                                break;\n                            }\n                        }\n                        var af = x.af + ac + 1;\n                        var ag = x.d[x.d.length - 1];\n                        this.a4.v(af, ag);\n                        x.ad -= ag;\n                        this.z.ac(x, -ag, -ag);\n                    }\n                }\n            }\n        }\n        else {\n            for (var ah = 0; ah < this.a4.count; ah++) {\n                var ai = this.a4._inner[ah];\n                if (ai == null) {\n                    continue;\n                }\n                if (i == null) {\n                    var aj = this.x(ah, ai, c);\n                    this.bd(h, aj, ai, b, c, true);\n                    this.bs(aj, true, g);\n                    this.z.z(aj, 1);\n                    this.bq(aj, ai);\n                    j = ai;\n                }\n                else {\n                    if (this.a1.compare(i, ai) != 0) {\n                        var ak = this.z.t._inner[this.z.t.count - 1];\n                        this.bt(h.count - 1, j, b);\n                        var al = this.x(ah, ai, c);\n                        this.bs(al, false, g);\n                        this.bd(h, al, ai, b, c, true);\n                        al.q = this.z.r(al);\n                        this.z.z(al, 1);\n                        this.bq(al, ai);\n                        j = ai;\n                    }\n                    else {\n                        var am = this.z.t._inner[this.z.t.count - 1];\n                        this.z.z(am, 1);\n                        this.bq(am, ai);\n                    }\n                }\n                if (ah == this.a4.count - 1) {\n                    var an = this.z.t._inner[this.z.t.count - 1];\n                    this.bt(ah, j, b);\n                }\n                i = ai;\n            }\n            this.a4 = h;\n        }\n        for (var ao = 0; ao < this.b.length; ao++) {\n            this.a[ao] = null;\n            this.b[ao] = null;\n        }\n        this.c = null;\n        var ap = dateNow();\n    };\n    RearrangedListView.prototype.bs = function (a, b, c) {\n        if (b) {\n            for (var d = 0; d < this.b.length; d++) {\n                this.b[d] = a;\n                if (!c) {\n                    for (var e = 0; e < this.ag.k.count; e++) {\n                        var f = this.ag.k.item(e);\n                        this.c[d][e] = f.d();\n                        this.c[d][e].beginCalculation(this.m, f.propertyName);\n                    }\n                }\n            }\n        }\n        if (this.j == 1) {\n            var g = false;\n            var h = a.e.length;\n            for (var i = 0; i < h; i++) {\n                if (g) {\n                    if (!c) {\n                        for (var j = 0; j < this.ag.k.count; j++) {\n                            this.b[i].i[i][j] = this.c[i][j].endCalculation();\n                            this.b[i].i[i][j].summaryIndex = j;\n                            this.b[i].i[i][j].groupKey = this.b[i].f;\n                            this.c[i][j].beginCalculation(this.m, this.ag.k.item(j).propertyName);\n                        }\n                        this.b[i].h[i] = a.af;\n                    }\n                    this.b[i] = a;\n                    continue;\n                }\n                var k = false;\n                if (this.b[i].f[i] == null) {\n                    k = a.f[i] != null;\n                }\n                else {\n                    k = !Base.equalsStatic(this.b[i].f[i], a.f[i]);\n                }\n                if (k) {\n                    if (!c) {\n                        for (var l = 0; l < this.ag.k.count; l++) {\n                            this.b[i].i[i][l] = this.c[i][l].endCalculation();\n                            this.b[i].i[i][l].summaryIndex = l;\n                            this.b[i].i[i][l].groupKey = this.b[i].f;\n                            this.c[i][l].beginCalculation(this.m, this.ag.k.item(l).propertyName);\n                        }\n                        this.b[i].h[i] = a.af;\n                    }\n                    this.b[i] = a;\n                    if (i - 1 > -1) {\n                        var m = i - 1;\n                        while (m >= 0 && this.b[m].o) {\n                            m = m - 1;\n                        }\n                        a.z = this.b[m].ae;\n                    }\n                    g = true;\n                }\n            }\n        }\n        else {\n            var n = false;\n            for (var o = 0; o < a.e.length; o++) {\n                if (this.b[0].f[o] == null) {\n                    if (this.b[0].f[o] != a.f[o]) {\n                        n = true;\n                        break;\n                    }\n                    continue;\n                }\n                if (!Base.equalsStatic(this.b[0].f[o], a.f[o])) {\n                    n = true;\n                    break;\n                }\n            }\n            if (n) {\n                if (!c) {\n                    for (var p = 0; p < this.ag.k.count; p++) {\n                        this.b[0].i[0][p] = this.c[0][p].endCalculation();\n                        this.b[0].i[0][p].summaryIndex = p;\n                        this.b[0].i[0][p].groupKey = this.b[0].f;\n                        this.c[0][p].beginCalculation(this.m, this.ag.k.item(p).propertyName);\n                    }\n                    this.b[0].h[0] = a.af;\n                }\n                this.b[0] = a;\n            }\n        }\n    };\n    RearrangedListView.prototype.ba = function () {\n        var a = 0;\n        var b = new Dictionary$2(String_$type, Number_$type, 0);\n        for (var c = 0; c < this.ag.k.count; c++) {\n            var d = this.ag.k.item(c).propertyName;\n            if (!b.containsKey(d)) {\n                b.addItem(d, 1);\n            }\n            else {\n                b.item(d, b.item(d) + 1);\n            }\n            if (b.item(d) > a) {\n                a = b.item(d);\n            }\n        }\n        return a;\n    };\n    RearrangedListView.prototype.bd = function (a, b, c, d, e, f) {\n        var g = 0;\n        if (this.av) {\n            if (this.m.sectionHeaderDisplayMode == 0) {\n                if (this.an(a, 0, c, d, e, f)) {\n                    this.z.y();\n                    g++;\n                    if (b != null) {\n                        var h = this.bm(b);\n                        b.a[0] = h;\n                        b.c[0] = this.al(h);\n                        b.b[0] = (a.count - 1) - b.af;\n                    }\n                }\n            }\n            else if (this.m.sectionHeaderDisplayMode == 1) {\n                for (var i = 0, j = 0; i < e.length; i++) {\n                    var k = a.count + j;\n                    if (this.an(a, i, c, d, [e[i]], f)) {\n                        g++;\n                        this.z.y();\n                        if (b != null) {\n                            var l = this.bn(b, i);\n                            b.a[i] = l;\n                            b.c[i] = this.al(l);\n                            b.b[i] = k - b.af;\n                            if (!b.c[i]) {\n                                break;\n                            }\n                        }\n                        else if (!this.ar) {\n                            break;\n                        }\n                        j++;\n                    }\n                }\n            }\n        }\n        return g;\n    };\n    RearrangedListView.prototype.bc = function (a, b, c, d, e) {\n        var f = 0;\n        if (this.av) {\n            var g = this.a4._inner[b];\n            if (this.m.sectionHeaderDisplayMode == 0) {\n                if (this.ao(b, 0, g, c, d, e)) {\n                    this.z.y();\n                    f++;\n                    if (a != null) {\n                        var h = this.bm(a);\n                        a.a[0] = h;\n                        a.c[0] = this.al(h);\n                        a.b[0] = b - a.af;\n                    }\n                }\n            }\n            else if (this.m.sectionHeaderDisplayMode == 1) {\n                for (var i = 0, j = 0; i < d.length; i++) {\n                    var k = b + j;\n                    if (this.ao(k, i, g, c, [d[i]], e)) {\n                        f++;\n                        this.z.y();\n                        if (a != null) {\n                            var l = this.bn(a, i);\n                            a.a[i] = l;\n                            a.c[i] = this.al(l);\n                            a.b[i] = k - a.af;\n                            if (!a.c[i]) {\n                                break;\n                            }\n                        }\n                        else if (!this.ar) {\n                            break;\n                        }\n                        j++;\n                    }\n                }\n            }\n        }\n        return f;\n    };\n    RearrangedListView.prototype.ao = function (a, b, c, d, e, f) {\n        var g = new DataSourceSpecialRow();\n        g.level = b;\n        for (var h = 0; h < d.length; h++) {\n            g.setValue(d[h], this.m.getItemProperty(c, d[h]));\n            if (h < e.length) {\n                g.setSectionValue(e[h], this.m.getItemProperty(c, e[h]));\n            }\n        }\n        g.rowType = 1;\n        g.summaryResults = new Array(this.ag.k.count);\n        if (f && this.a != null) {\n            if (this.a[b] != null) {\n                if (this.a[b].l(g)) {\n                    return false;\n                }\n                else {\n                    this.a[b] = g;\n                    for (var i = b + 1; i < this.a.length; i++) {\n                        this.a[i] = null;\n                    }\n                }\n            }\n            else {\n                this.a[b] = g;\n            }\n        }\n        this.a4.insert1(a, g);\n        return true;\n    };\n    RearrangedListView.prototype.an = function (a, b, c, d, e, f) {\n        var g = new DataSourceSpecialRow();\n        g.level = b;\n        for (var h = 0; h < d.length; h++) {\n            g.setValue(d[h], this.m.getItemProperty(c, d[h]));\n            if (h < e.length) {\n                g.setSectionValue(e[h], this.m.getItemProperty(c, e[h]));\n            }\n        }\n        g.rowType = 1;\n        g.summaryResults = new Array(this.ag.k.count);\n        if (f && this.a != null) {\n            if (this.a[b] != null) {\n                if (this.a[b].l(g)) {\n                    return false;\n                }\n                else {\n                    this.a[b] = g;\n                    for (var i = b + 1; i < this.a.length; i++) {\n                        this.a[i] = null;\n                    }\n                }\n            }\n            else {\n                this.a[b] = g;\n            }\n        }\n        a.add1(g);\n        return true;\n    };\n    RearrangedListView.prototype.bb = function (a, b, c, d) {\n        var e = 0;\n        if (this.au) {\n            if (this.m.sectionHeaderDisplayMode == 0) {\n                this.bv(a, 0, b, c, d);\n                e++;\n            }\n            else if (this.m.sectionHeaderDisplayMode == 1) {\n                for (var f = d.length - 1; f >= 0; f--) {\n                    if (this.z.t._inner[this.z.t.count - 1].c[f]) {\n                        this.bv(a, f, b, c, [d[f]]);\n                        a++;\n                        e++;\n                    }\n                }\n            }\n        }\n        return e;\n    };\n    RearrangedListView.prototype.bv = function (a, b, c, d, e) {\n        var f = new DataSourceSpecialRow();\n        f.level = b;\n        for (var g = 0; g < d.length; g++) {\n            f.setValue(d[g], this.m.getItemProperty(c, d[g]));\n            if (g < e.length) {\n                f.setSectionValue(e[g], this.m.getItemProperty(c, e[g]));\n            }\n        }\n        f.rowType = 2;\n        this.a4.insert1(a, f);\n    };\n    RearrangedListView.prototype.q = function (a, b, c) {\n        var d = this.r(b, 0, c, 5);\n        if (this.as) {\n            a.ag++;\n        }\n        else {\n            a.ah++;\n        }\n        a.ad++;\n        this.z.ac(a, 1, 1);\n        return d;\n    };\n    RearrangedListView.prototype.r = function (a, b, c, d) {\n        var e = ((function () {\n            var $ret = new DataSourceSpecialRow();\n            $ret.level = b;\n            $ret.rowType = d;\n            $ret.summaryResults = c;\n            return $ret;\n        })());\n        this.a4.insert1(a, e);\n        return e;\n    };\n    RearrangedListView.prototype.bf = function (a, b, c) {\n        var d = a.v();\n        var e = a.af + a.ah + a.aa;\n        if (this.av) {\n            e += d;\n        }\n        this.bh(e, a.c.length, b);\n        a.aa++;\n        a.ad++;\n        a.t++;\n        if (c) {\n            this.z.ac(a, 1, 1);\n        }\n        return e;\n    };\n    RearrangedListView.prototype.bg = function (a, b, c) {\n        var d = a.v();\n        if (this.av) {\n            b += d;\n        }\n        this.bh(b, a.c.length, c);\n        a.aa++;\n        a.ad++;\n        a.t++;\n        this.z.ac(a, 1, 1);\n        return b;\n    };\n    RearrangedListView.prototype.bh = function (a, b, c) {\n        var d = new DataSourceSpecialRow();\n        d.rowType = 3;\n        d.targetRow = c;\n        d.level = b;\n        this.a4.insert1(a, d);\n        return a + 1;\n    };\n    RearrangedListView.prototype.bi = function (a, b) {\n        var c = -1;\n        for (var d = 0; d < this.a3.count; d++) {\n            if (this.p.i(b, this.a3._inner[d]) == 0) {\n                c = d;\n                break;\n            }\n        }\n        return this.bj(a, b, c);\n    };\n    RearrangedListView.prototype.bj = function (a, b, c) {\n        var d = -1;\n        if (c != -1) {\n            var e = a.af;\n            var f = e + a.aa;\n            var g = false;\n            for (var h = e; h < f; h++) {\n                var i = this.av ? h + 1 : h;\n                var j = typeCast(DataSourceSpecialRow.$, this.a4._inner[i]);\n                if (j.targetRow != null) {\n                    if (this.a0 != null) {\n                        var k = this.a0.compare(b, j.targetRow);\n                        if (k == 0 || k < 0) {\n                            d = this.bg(a, h, b);\n                            g = true;\n                            break;\n                        }\n                    }\n                    else {\n                        var l = -1;\n                        for (var m = 0; m < this.a3.count; m++) {\n                            if (this.p.i(j.targetRow, this.a3._inner[m]) == 0) {\n                                l = m;\n                                break;\n                            }\n                        }\n                        if (l > c) {\n                            d = this.bg(a, h, b);\n                            g = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (!g) {\n                d = this.bf(a, b, true);\n                g = true;\n            }\n        }\n        return d;\n    };\n    RearrangedListView.prototype.bw = function (a) {\n        var b = SectionData.r(a);\n        this.a7 = b.count;\n        for (var c = 0; c < b.count; c++) {\n            var d = new Array(b._inner[c].count);\n            b._inner[c].values.copyTo(d, 0);\n            this.r(this.a4.count, 0, d, 4);\n        }\n    };\n    RearrangedListView.prototype.bx = function () {\n        if (this.l == 0 || this.l == 2) {\n            for (var a = 0; a < this.z.t.count; a++) {\n                var b = this.z.t._inner[a];\n                if (!b.q) {\n                    continue;\n                }\n                if (this.am) {\n                    if (this.as) {\n                        this.by(b, false);\n                    }\n                    else {\n                        this.bz(b, false);\n                    }\n                }\n                else {\n                    for (var c = 0; c < b.i.length; c++) {\n                        var d = this.a4._inner[b.af + b.b[c]];\n                        if (d != null) {\n                            d.summaryResults = b.i[c];\n                        }\n                        if (!b.c[c]) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.bz = function (a, b) {\n        var c = 0;\n        var d = this.bl(a, !this.as);\n        for (var e = 0; e < a.i.length; e++) {\n            if (a.a[e] == null || !a.c[e]) {\n                continue;\n            }\n            var f = SectionData.r(a.i[e]);\n            if (this.av) {\n                c += 1;\n            }\n            a.g[e] = new SummaryGroup();\n            a.g[e].a = new Array(this.a8);\n            for (var g = 0; g < f.count; g++) {\n                var h = new Array(f._inner[g].count);\n                f._inner[g].values.copyTo(h, 0);\n                var i = a.af + c + g;\n                var j = this.r(i, e + 1, h, 5);\n                a.ak(j, g);\n                for (var k = e + 1; k < a.b.length; k++) {\n                    a.b[k]++;\n                }\n                a.ad++;\n                a.ah++;\n                this.z.ad(a, 1, 1);\n                if (d != null) {\n                    var l = this.f();\n                    for (var m = 0; m < l.length; m++) {\n                        j.setValue(l[m], this.m.getItemProperty(d, l[m]));\n                    }\n                }\n                if (b && this.ab != null) {\n                    this.ab.notifyInsertItem(i, j);\n                }\n            }\n            c += f.count;\n        }\n    };\n    RearrangedListView.prototype.be = function (a, b, c) {\n        var d = a.h[b];\n        var e = SectionData.r(a.i[b]);\n        for (var f = 0; f < e.count; f++) {\n            var g = new Array(e._inner[f].count);\n            e._inner[f].values.copyTo(g, 0);\n            var h = this.z.e(d - 1);\n            var i = this.r(d + f, b + 1, g, 5);\n            a.ak(i, f);\n            h.ad++;\n            h.ag++;\n            this.z.ac(h, 1, 1);\n            var j = null;\n            var k = 0;\n            for (var l = d + f - 1; l >= 0; l--) {\n                var m = this.m.getRowType(l);\n                if (m == 0 || m == 1) {\n                    j = this.a4._inner[l];\n                    k = m;\n                    break;\n                }\n            }\n            if (j != null) {\n                var n = this.f();\n                if (k == 1) {\n                    var o = typeCast(DataSourceSpecialRow.$, j);\n                    for (var p = 0; p < n.length; p++) {\n                        i.setValue(n[p], o.getValue(n[p]));\n                    }\n                }\n                else {\n                    for (var q = 0; q < n.length; q++) {\n                        i.setValue(n[q], this.m.getItemProperty(j, n[q]));\n                    }\n                }\n            }\n            if (c && this.ab != null) {\n                this.ab.notifyInsertItem(d + f, i);\n            }\n        }\n        return e.count;\n    };\n    RearrangedListView.prototype.by = function (a, b) {\n        for (var c = 0; c < a.i.length; c++) {\n            if (!a.c[c]) {\n                break;\n            }\n            if (a.h[c] == -1) {\n                continue;\n            }\n            a.g[c] = new SummaryGroup();\n            a.g[c].a = new Array(this.a8);\n            var d = this.be(a, c, b);\n        }\n    };\n    RearrangedListView.prototype.f = function () {\n        var a = new Array(this.ae.k.count + this.af.k.count);\n        var b = 0;\n        for (var c = 0; c < this.ae.k.count; c++) {\n            a[b] = this.ae.k.item(c).propertyName;\n            b++;\n        }\n        for (var d = 0; d < this.af.k.count; d++) {\n            a[b] = this.af.k.item(d).propertyName;\n            b++;\n        }\n        return a;\n    };\n    RearrangedListView.prototype.g = function () {\n        var a = new Array(this.ae.k.count);\n        var b = 0;\n        for (var c = 0; c < this.ae.k.count; c++) {\n            a[b] = this.ae.k.item(c).propertyName;\n            b++;\n        }\n        return a;\n    };\n    RearrangedListView.prototype.bt = function (a, b, c) {\n        this.z.x(a);\n    };\n    RearrangedListView.prototype.x = function (a, b, c) {\n        return this.z.i(a, this.m, b, c, this.m.sectionHeaderDisplayMode, this.ar);\n    };\n    RearrangedListView.prototype.cb = function (a) {\n        this.a3 = new List$1(Array_$type, 0);\n        for (var b = 0; b < a.count; b++) {\n            this.a3.add(a._inner[b]);\n        }\n    };\n    RearrangedListView.prototype.b2 = function () {\n        this.a4.clear();\n        if (this.ab != null) {\n            this.ab.notifyClearItems();\n        }\n    };\n    RearrangedListView.prototype.notifySetItem = function (a, b, c) {\n        if (this.a0 != null) {\n            this.b8(b);\n            this.bo(c);\n        }\n        else {\n            this.b9(a, b);\n            this.bp(a, c);\n        }\n    };\n    RearrangedListView.prototype.bp = function (a, b) {\n        if (!this.ax(b)) {\n            return;\n        }\n        var c = this.a9(a);\n        this.b3(c, b);\n    };\n    RearrangedListView.prototype.b3 = function (a, b) {\n        this.b0(a, b);\n        this.ce(a, b);\n        this.cj(a, b);\n    };\n    RearrangedListView.prototype.b0 = function (a, b) {\n        if (this.ah) {\n            var c = this.z.e(a);\n            if (c == null) {\n                c = this.z.d();\n            }\n            var d = c.v();\n            var e = true;\n            if (a >= c.af && a <= c.af + (d - 1) + c.ah + c.aa) {\n                if (!this.ai(c, b, this.a4._inner[c.af])) {\n                    c = this.z.e(c.af - 1);\n                    if (c == null) {\n                        c = this.z.c();\n                        c.af++;\n                    }\n                    e = false;\n                }\n                else {\n                    a = c.af + d + c.ah + c.aa;\n                }\n            }\n            if (e && !c.p) {\n                return;\n            }\n            c.ad++;\n            this.z.ac(c, 1, 0);\n            if (this.ai(c, b, this.a4._inner[c.af])) {\n                if (!c.p) {\n                    c.ad--;\n                    this.z.ac(c, -1, 0);\n                    return;\n                }\n                if (a >= c.ad - c.u - c.ag && a <= c.ad) {\n                    a = c.ad - c.u - c.ag;\n                }\n            }\n        }\n        this.a4.insert1(a, b);\n        if (this.ab != null) {\n            this.ab.notifyInsertItem(a, b);\n        }\n    };\n    RearrangedListView.prototype.ce = function (a, b) {\n        var c = null;\n        if (this.ah) {\n            c = this.z.e(a);\n        }\n        else {\n            c = this.z.t._inner[0];\n        }\n        if (c == null) {\n            if (this.ah && a == 0) {\n                c = this.z.c();\n            }\n            else {\n                c = this.z.d();\n            }\n        }\n        if (this.ai(c, b, this.a4._inner[c.af])) {\n            this.z.z(c, 1);\n            if (this.aw && c.p) {\n                var d = this.bi(c, b);\n                if (d != -1 && this.ab != null) {\n                    this.ab.notifyInsertItem(d, this.a4._inner[d]);\n                }\n            }\n        }\n        else {\n            var e = this.z.e(a - 1);\n            if (e != null && this.ai(e, b, this.a4._inner[e.af])) {\n                this.z.z(e, 1);\n                if (this.aw && e.p) {\n                    var f = this.bi(e, b);\n                    if (f != -1 && this.ab != null) {\n                        this.ab.notifyInsertItem(f, this.a4._inner[f]);\n                    }\n                }\n            }\n            else {\n                var g = false;\n                if (a <= c.af) {\n                    g = true;\n                }\n                var h = 0;\n                var i = null;\n                var j = null;\n                var k = this.f();\n                var l = this.g();\n                var m = this.z.b(this.m, b, l, this.j, this.ar);\n                m.af = a;\n                m.ad = a;\n                m.ae = g ? c.ae : c.ae + 1;\n                this.z.af(m, g);\n                for (var n = 0; n < c.f.length; n++) {\n                    if (Base.equalsStatic(c.f[n], m.f[n]) && !c.c[n]) {\n                        this.z.z(c, 1);\n                        return;\n                    }\n                }\n                this.z.aa(m.ae, m);\n                if (this.av) {\n                    var o = this.bc(m, a, k, l, false);\n                    m.ad += o;\n                    h += o;\n                    i = this.a4._inner[a];\n                    if (!g) {\n                        c.ad--;\n                    }\n                }\n                if (m.p) {\n                    if (this.aw) {\n                        for (var p = 0; p < this.a3.count; p++) {\n                            if (this.p.i(b, this.a3._inner[p]) == 0) {\n                                this.bf(m, b, false);\n                                h++;\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    this.a4.removeAt(a + h);\n                    m.ad--;\n                    h--;\n                }\n                if (this.au) {\n                    var q = this.bb(a + (h - 1), b, k, l);\n                    if (q > 1) {\n                        m.ad += q;\n                    }\n                    h += q;\n                    j = this.a4._inner[a + (h - 1)];\n                }\n                this.z.ad(m, h, h);\n                this.b7(m);\n                if (m.p) {\n                    this.z.z(m, 1);\n                }\n                if (this.ab != null) {\n                    if (i != null) {\n                        this.ab.notifyInsertItem(a, i);\n                    }\n                    if (j != null) {\n                        this.ab.notifyInsertItem(a + (h - 1), j);\n                    }\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cm = function (a) {\n        var b = this.a4.indexOf1(a);\n        if (b >= 0) {\n            var c = this.a4._inner[b - 1];\n            var d = typeCast(DataSourceSpecialRow.$, c);\n            var e = this.f();\n            for (var f = 0; f < e.length; f++) {\n                if (d == null) {\n                    a.setValue(e[f], this.m.getItemProperty(c, e[f]));\n                }\n                else {\n                    a.setValue(e[f], d.getValue(e[f]));\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.b7 = function (a) {\n        var b = false;\n        var c = false;\n        if (a.ae > 0) {\n            var d = this.z.t._inner[a.ae - 1];\n            var e = 0;\n            for (var f = 0, g = 0; f < a.e.length; f++, g++) {\n                if (!b && Base.equalsStatic(d.f[f], a.f[f])) {\n                    this.a4.removeAt(a.af + g);\n                    a.ad--;\n                    this.z.ac(a, -1, -1);\n                    if (this.am && (this.l == 2 || this.l == 0)) {\n                        for (var h = 0; h < this.a8; h++) {\n                            var i = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af - 1]);\n                            if (i != null && i.rowType == 5 && i.level == f + 1) {\n                                this.a4.removeAt(a.af - 1);\n                                d.ad--;\n                                this.z.ac(d, -1, -1);\n                                this.a4.insert1(a.ad + 1, i);\n                                e++;\n                                this.cm(i);\n                            }\n                        }\n                    }\n                    a.a[f] = null;\n                    a.b[f] = 0;\n                    a.c[f] = true;\n                    if (d.a[f] != null) {\n                        a.z = d.ae;\n                    }\n                    g--;\n                    c = true;\n                }\n                else {\n                    b = true;\n                    a.b[f] = g;\n                    if (e > 0) {\n                        a.ad += e;\n                        this.z.ac(a, e, e);\n                        a.h[f] = a.ad - (e - 1);\n                    }\n                    else {\n                        a.h[f] = a.ad + 1;\n                    }\n                }\n            }\n            if (a.z == -1 && c) {\n                a.z = d.z;\n            }\n        }\n        if (a.ae < this.z.t.count - 1) {\n            b = false;\n            c = false;\n            var j = this.z.t._inner[a.ae + 1];\n            for (var k = 0, l = 0; k < a.e.length; k++, l++) {\n                if (!b && Base.equalsStatic(j.f[k], a.f[k])) {\n                    if (j.a[k] != null) {\n                        this.a4.removeAt(j.af + l);\n                        j.ad--;\n                        this.z.ac(j, -1, -1);\n                        a.al(k, -1);\n                        a.i[k] = j.i[k];\n                        a.d[k] = j.d[k];\n                        if (this.am && (this.l == 2 || this.l == 0)) {\n                            var m = j.g[k].a[0];\n                            var n = this.a4.indexOf1(m);\n                            a.h[k] = n;\n                            var o = this.z.e(n);\n                            var p = j.g[k].a.length;\n                            for (var q = 0; q < p; q++) {\n                                j.g[k].a[q] = null;\n                                this.a4.removeAt(n);\n                                o.ad--;\n                                if (this.as) {\n                                    o.ag--;\n                                }\n                                else {\n                                    o.ah--;\n                                }\n                            }\n                            this.z.ac(o, -p, -p);\n                            a.al(k, -p);\n                        }\n                        j.h[k] = -1;\n                        j.d[k] = 0;\n                        j.i[k] = null;\n                        j.g[k] = null;\n                        j.a[k] = null;\n                        j.b[k] = 0;\n                        j.c[k] = true;\n                        c = true;\n                    }\n                    l--;\n                }\n                else {\n                    b = true;\n                    j.b[k] = l;\n                    if (a.a[k] != null && a.h[k] == -1) {\n                        a.h[k] = a.ad + 1;\n                    }\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.ai = function (a, b, c) {\n        if (this.ae.k.count == 0) {\n            return true;\n        }\n        if (this.a1.compare(b, c) == 0) {\n            return true;\n        }\n        return false;\n    };\n    RearrangedListView.prototype.h = function (a, b) {\n        var c = new Array(a.length);\n        for (var d = 0; d < c.length; d++) {\n            c[d] = this.m.getItemProperty(b, a[d]);\n        }\n        return c;\n    };\n    RearrangedListView.prototype.at = function (a, b) {\n        if (a == null && b == null) {\n            return true;\n        }\n        if (a == null && b != null) {\n            return false;\n        }\n        if (a != null && b == null) {\n            return false;\n        }\n        return Base.equalsStatic(a, b);\n    };\n    RearrangedListView.prototype.a9 = function (a) {\n        if (this.ae.k.count == 0 && this.a3.count == 0 && this.s == null && this.n.actualCount == this.a4.count) {\n            return a;\n        }\n        var b = 0;\n        var c = 0;\n        var d = this.a4.count;\n        while (b < a && c < d) {\n            while (c < d) {\n                var e = this.a4._inner[c];\n                var f = false;\n                var viewItem_ = e;\n                if ((viewItem_.$$isSpecialRow !== undefined)) {\n                    f = true;\n                }\n                if (!f) {\n                    break;\n                }\n                c++;\n            }\n            var g = this.n.getItemAtIndex(b);\n            if (this.at(g, this.a4._inner[c])) {\n                c++;\n                b++;\n            }\n            else {\n                b++;\n            }\n        }\n        return c;\n    };\n    RearrangedListView.prototype.b9 = function (a, b) {\n        var c = this.a9(a);\n        if (c < this.a4.count) {\n            if (this.at(b, this.a4._inner[c])) {\n                this.b4(c, b);\n            }\n        }\n    };\n    RearrangedListView.prototype.b4 = function (a, b) {\n        this.a4.removeAt(a);\n        if (this.ab != null) {\n            this.ab.notifyRemoveItem(a, b);\n        }\n        var c = this.y(a, b);\n        this.ck(a, b, c);\n    };\n    RearrangedListView.prototype.y = function (a, b) {\n        var c = null;\n        if (this.ah) {\n            c = this.z.e(a);\n        }\n        else {\n            c = this.z.t._inner[0];\n        }\n        if (c != null) {\n            this.z.z(c, -1);\n            if (c.p) {\n                c.ad--;\n                this.z.ac(c, -1, 0);\n                if (this.aw) {\n                    for (var d = 0; d < c.aa; d++) {\n                        var e = 0;\n                        if (this.av) {\n                            e = 1;\n                        }\n                        e += c.ah;\n                        var f = this.a4._inner[c.af + d + e];\n                        var g = null;\n                        var item_ = f;\n                        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n                            g = f;\n                        }\n                        if (g != null) {\n                            if (g.targetRow == b) {\n                                this.a4.removeAt(c.af + d + e);\n                                c.ad--;\n                                c.aa--;\n                                c.t--;\n                                this.z.ac(c, -1, -1);\n                                if (this.ab != null) {\n                                    this.ab.notifyRemoveItem(c.af + d + e, g);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (this.ah && !c.m() && this.aj(c)) {\n                var h = 0;\n                if (this.z.p(c)) {\n                    var i = c.w();\n                    var j = i;\n                    var k = this.ae.k.count;\n                    var l = this.g();\n                    var m = this.z.t._inner[c.ae + 1];\n                    for (var n = 0; n < c.f.length; n++) {\n                        if (!Base.equalsStatic(c.f[n], m.f[n])) {\n                            j = n;\n                            break;\n                        }\n                    }\n                    if (this.av) {\n                        if (c.c[j - 1]) {\n                            for (var o = j; o < k; o++) {\n                                if (c.g[o] != null) {\n                                    for (var p = 0; p < c.g[o].a.length; p++) {\n                                        var q = c.g[o].a[p];\n                                        if (q != null) {\n                                            var r = this.a4.indexOf1(q);\n                                            if (r >= 0) {\n                                                this.a4.removeAt(r);\n                                                c.ad--;\n                                                h++;\n                                                if (this.ab != null) {\n                                                    this.ab.notifyRemoveItem(r, q);\n                                                }\n                                                if (!this.as) {\n                                                    for (var s = o + 1; s < c.b.length; s++) {\n                                                        c.b[s]--;\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                var t = c.af + c.b[o];\n                                var u = typeCast(DataSourceSpecialRow.$, this.a4._inner[t]);\n                                if (u != null && u.rowType == 1) {\n                                    c.a[o] = null;\n                                    this.a4.removeAt(t);\n                                    c.ad--;\n                                    h++;\n                                    if (this.ab != null) {\n                                        this.ab.notifyRemoveItem(t, u);\n                                    }\n                                    for (var v = o + 1; v < c.b.length; v++) {\n                                        c.b[v]--;\n                                    }\n                                }\n                                if (!c.c[o]) {\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    c.k = m;\n                    for (var w = 0; w < j; w++) {\n                        if (this.am && !this.as && (this.l == 2 || this.l == 0)) {\n                            m.af -= this.av ? this.a8 + 1 : this.a8;\n                        }\n                        else if (this.av) {\n                            m.af--;\n                        }\n                    }\n                    m.d[i] = c.d[i];\n                    m.a[i] = c.a[i];\n                    m.c[i] = c.c[i];\n                    m.z = c.z;\n                    for (var x = i; x < k; x++) {\n                        m.g[x] = c.g[x];\n                    }\n                    m.b[i] = c.b[i];\n                    for (var y = i, z = c.b[i]; y < k; y++) {\n                        m.b[y] = z;\n                        if (this.av) {\n                            z++;\n                        }\n                        if (!this.as) {\n                            if (m.g[y] != null) {\n                                z += m.g[y].a.length;\n                            }\n                        }\n                        var aa = m.af - h + m.b[y];\n                        var ab = typeCast(DataSourceSpecialRow.$, this.a4._inner[aa]);\n                        if (ab != null && ab.rowType == 1) {\n                            for (var ac = 0; ac < m.f.length; ac++) {\n                                ab.setValue(m.e[ac], m.f[ac]);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (this.av) {\n                        for (var ad = c.af; ad <= c.ad; ad++) {\n                            var ae = typeCast(DataSourceSpecialRow.$, this.a4._inner[ad]);\n                            if (ae != null && ae.rowType == 1) {\n                                this.a4.removeAt(ad);\n                                c.ad--;\n                                h++;\n                                ad--;\n                                if (this.ab != null) {\n                                    this.ab.notifyRemoveItem(ad, ae);\n                                }\n                            }\n                        }\n                    }\n                    for (var af = 0; af < c.g.length; af++) {\n                        if (c.g[af] == null) {\n                            continue;\n                        }\n                        for (var ag = 0; ag < c.g[af].a.length; ag++) {\n                            var ah = c.g[af].a[ag];\n                            if (ah != null) {\n                                var ai = this.a4.indexOf1(ah);\n                                this.a4.removeAt(ai);\n                                c.ad--;\n                                h++;\n                                if (this.ab != null) {\n                                    this.ab.notifyRemoveItem(ai, ah);\n                                }\n                            }\n                        }\n                    }\n                    if (c.z >= 0) {\n                        var aj = c.ad - c.af + 1;\n                        if (aj > 0) {\n                            var ak = this.a4._inner[c.af - 1];\n                            var al = typeCast(DataSourceSpecialRow.$, ak);\n                            var am = this.f();\n                            for (var an = 0; an < aj; an++) {\n                                var ao = c.af + an;\n                                var ap = typeCast(DataSourceSpecialRow.$, this.a4._inner[ao]);\n                                if (ap != null) {\n                                    for (var aq = 0; aq < am.length; aq++) {\n                                        if (al == null) {\n                                            ap.setValue(am[aq], this.m.getItemProperty(ak, am[aq]));\n                                        }\n                                        else {\n                                            ap.setValue(am[aq], al.getValue(am[aq]));\n                                        }\n                                    }\n                                }\n                            }\n                            var ar = this.z.t._inner[c.ae - 1];\n                            ar.ad += aj;\n                        }\n                    }\n                }\n                if (this.au) {\n                    for (var as = 0; as < c.a.length; as++) {\n                        if (!c.c[as]) {\n                            break;\n                        }\n                        if (c.a[as] != null) {\n                            var at = this.a4._inner[c.ad];\n                            this.a4.removeAt(c.ad);\n                            if (this.ab != null) {\n                                this.ab.notifyRemoveItem(c.ad, at);\n                            }\n                            h++;\n                            c.ad--;\n                        }\n                    }\n                }\n                this.z.ae(c.ae);\n                this.z.ab(c, -h, -h);\n                c.o = true;\n            }\n        }\n        return c;\n    };\n    RearrangedListView.prototype.aj = function (a) {\n        for (var b = a.af; b <= a.ad; b++) {\n            if (this.m.getRowType(b) == 0) {\n                return false;\n            }\n        }\n        return true;\n    };\n    RearrangedListView.prototype.bo = function (a) {\n        if (this.ax(a)) {\n            var b = this.a4.g(a, this.a0);\n            if (b < 0) {\n                b = ~b;\n            }\n            this.b3(b, a);\n        }\n    };\n    RearrangedListView.prototype.b5 = function (a) {\n        this.a3.add(a);\n        var b = this.m.indexOfKey(a);\n        var c = this.m.getItemAtIndex(b);\n        if (b == -1) {\n            return;\n        }\n        if (this.aw) {\n            var d = this.z.e(b);\n            var e = this.bi(d, this.a4._inner[b]);\n            if (this.ab != null) {\n                this.ab.notifyInsertItem(e, this.a4._inner[e]);\n            }\n        }\n    };\n    RearrangedListView.prototype.cc = function (a) {\n        if (this.a3.remove(a)) {\n            var b = this.m.indexOfKey(a);\n            var c = this.m.getItemAtIndex(b);\n            if (b == -1) {\n                return;\n            }\n            var d = this.z.e(b);\n            var e = d.af;\n            if (this.av) {\n                e += d.v();\n            }\n            if (this.aw) {\n                var f = this.u(e, this.a4._inner[b], d.aa, this.f());\n                if (f != null) {\n                    d.ad--;\n                    d.aa--;\n                    d.t--;\n                    this.z.ac(d, -1, -1);\n                    if (this.ab != null) {\n                        this.ab.notifyRemoveItem(f.a, f.item);\n                    }\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.u = function (a, b, c, d) {\n        var _loop_1 = function (e) {\n            if (typeCast(DataSourceSpecialRow.$, this_1.a4._inner[e]) !== null) {\n                var f_1 = this_1.a4._inner[e];\n                if (f_1.rowType == 3) {\n                    var g = f_1.targetRow;\n                    if (g == b) {\n                        this_1.a4.removeAt(e);\n                        return { value: ((function () {\n                                var $ret = new RemovedShiftedRowInfo();\n                                $ret.item = f_1;\n                                $ret.a = e;\n                                return $ret;\n                            })()) };\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var e = a + (c - 1); e >= a; e--) {\n            var state_1 = _loop_1(e);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return null;\n    };\n    RearrangedListView.prototype.b8 = function (a) {\n        var b = this.a4.g(a, this.a0);\n        if (b < 0) {\n            b = ~b;\n        }\n        if (b >= 0) {\n            var c = this.a4.count;\n            var d = 0;\n            while (d < c) {\n                var e = b - d;\n                var f = b + d;\n                if (e < 0 && f > c - 1) {\n                    break;\n                }\n                if (e >= 0 && e < c) {\n                    if (this.a4._inner[e] != null && Base.equalsStatic(this.a4._inner[e], a)) {\n                        b = e;\n                        break;\n                    }\n                }\n                if (f < c) {\n                    if (this.a4._inner[f] != null && Base.equalsStatic(this.a4._inner[f], a)) {\n                        b = f;\n                        break;\n                    }\n                }\n                d++;\n            }\n            if (b < 0 || b > c - 1) {\n                return;\n            }\n            var g = this.a4._inner[b];\n            if (g == null && a == null) {\n                this.a4.removeAt(b);\n                this.aa.notifyRemoveItem(b, a);\n                var h = this.y(b, a);\n                this.ci(b, a, false, h);\n                return;\n            }\n            if (g == null) {\n                return;\n            }\n            if (Base.equalsStatic(g, a)) {\n                this.a4.removeAt(b);\n                this.aa.notifyRemoveItem(b, a);\n                var i = this.y(b, a);\n                this.ci(b, a, false, i);\n            }\n            else {\n                if (b - 1 >= 0) {\n                    var j = this.z.e(b - 1);\n                    if (j != null && !j.p) {\n                        b = b - 1;\n                    }\n                }\n                this.y(b, a);\n            }\n        }\n        else {\n            var k = this.a4.count;\n            for (var l = 0; l < k; l++) {\n                var m = this.a4._inner[l];\n                if (m == null && a == null) {\n                    this.a4.removeAt(l);\n                    break;\n                }\n                if (m == null) {\n                    continue;\n                }\n                if (Base.equalsStatic(m, a)) {\n                    this.a4.removeAt(l);\n                    this.aa.notifyRemoveItem(l, a);\n                    var n = this.y(l, a);\n                    this.ck(l, a, n);\n                    break;\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.ax = function (a) {\n        if (this.s == null) {\n            return true;\n        }\n        return this.s(a);\n    };\n    RearrangedListView.prototype.notifyClearItems = function () {\n    };\n    RearrangedListView.prototype.notifyInsertItem = function (a, b) {\n        if (this.a0 != null) {\n            this.bo(b);\n        }\n        else {\n            this.bp(a, b);\n        }\n    };\n    RearrangedListView.prototype.notifyRemoveItem = function (a, b) {\n        if (this.a0 != null) {\n            this.b8(b);\n        }\n        else {\n            this.b9(a, b);\n        }\n    };\n    RearrangedListView.prototype.ca = function (a, b) {\n        var c = this.z.e(a);\n        if (c == null) {\n            c = this.z.d();\n        }\n        for (var d = 0, e = 0; d < c.a.length; d++) {\n            if (c.a[d] != null) {\n                if (a == c.af + c.b[d]) {\n                    var f = c.a[d];\n                    if (this.ay.containsKey(f)) {\n                        if (this.ay.item(f) != b) {\n                            var g = this.ay.item(f);\n                            if (b == this.ar) {\n                                this.ay.removeItem(f);\n                            }\n                            else {\n                                this.ay.item(f, b);\n                            }\n                            this.m.queueAutoRefresh();\n                            if (this.ad != null) {\n                                this.ad.notifyRowExpansionChanged(a, g, b);\n                            }\n                        }\n                    }\n                    else if (b != this.ar) {\n                        this.ay.addItem(f, b);\n                        this.m.queueAutoRefresh();\n                        if (this.ad != null) {\n                            this.ad.notifyRowExpansionChanged(a, this.ar, b);\n                        }\n                    }\n                }\n                e++;\n            }\n        }\n    };\n    RearrangedListView.prototype.ak = function (a) {\n        var b = this.z.e(a);\n        if (b == null) {\n            b = this.z.d();\n        }\n        for (var c = 0, d = 0; c < b.a.length; c++) {\n            if (b.a[c] != null) {\n                if (a == b.af + b.b[c]) {\n                    return b.c[c];\n                }\n                d++;\n            }\n        }\n        return true;\n    };\n    RearrangedListView.prototype.al = function (a) {\n        if (!this.aq) {\n            return true;\n        }\n        return this.ay.containsKey(a) ? this.ay.item(a) : this.ar;\n    };\n    RearrangedListView.prototype.bm = function (a) {\n        var b = \"\";\n        for (var c = 0; c < a.e.length; c++) {\n            b += a.e[c] + \":\" + a.f[c];\n        }\n        return b;\n    };\n    RearrangedListView.prototype.bn = function (a, b) {\n        if (this.m.sectionHeaderDisplayMode == 0) {\n            return this.bm(a);\n        }\n        var c = \"\";\n        for (var d = 0; d < b + 1; d++) {\n            c += a.e[d] + \":\" + a.f[d] + \":\";\n        }\n        return c;\n    };\n    RearrangedListView.prototype.br = function (a) {\n        if (this.l == 3 || (a != null && this.l == 1) || (a == null && this.l == 2)) {\n            return;\n        }\n        if (a == null && (this.e == null || this.e.length != this.ag.k.count)) {\n            this.e = new Array(this.ag.k.count);\n        }\n        if (a != null) {\n            var b = a.v();\n            for (var c = b - 1; c >= 0; c--) {\n                for (var d = 0; d < this.ag.k.count; d++) {\n                    var e = this.ag.k.item(d);\n                    this.c[c][d].beginCalculation(this.m, e.propertyName);\n                }\n            }\n        }\n        else {\n            if (this.d == null || this.d.length != this.ag.k.count) {\n                this.d = new Array(this.ag.k.count);\n            }\n            for (var f = 0; f < this.ag.k.count; f++) {\n                var g = this.ag.k.item(f);\n                if (this.d[f] == null || this.d[f].operand != g.operand) {\n                    this.d[f] = g.d();\n                }\n                this.d[f].beginCalculation(this.m, g.propertyName);\n            }\n        }\n    };\n    RearrangedListView.prototype.bu = function (a) {\n        if (this.l == 3 || (a != null && this.l == 1) || (a == null && this.l == 2)) {\n            return;\n        }\n        if (a != null) {\n            var b = a.v();\n            for (var c = b - 1; c >= 0; c--) {\n                var d = this.a4._inner[a.af + c];\n                for (var e = 0; e < this.ag.k.count; e++) {\n                    var f = this.ag.k.item(e);\n                    var g = this.c[c][e].endCalculation();\n                    g.summaryIndex = e;\n                    g.groupKey = a.f;\n                    if (d != null) {\n                        d.summaryResults[c] = g;\n                    }\n                }\n            }\n        }\n        else {\n            for (var h = 0; h < this.ag.k.count; h++) {\n                var i = this.d[h].endCalculation();\n                i.summaryIndex = h;\n                this.e[h] = i;\n            }\n        }\n    };\n    RearrangedListView.prototype.bq = function (a, b) {\n        if (this.l == 3 || (a != null && this.l == 1) || (a == null && this.l == 2)) {\n            return;\n        }\n        if (b != null) {\n            if (a != null) {\n                for (var c = 0; c < this.c.length; c++) {\n                    if (this.c[c] != null) {\n                        for (var d = 0; d < this.c[c].length; d++) {\n                            if (this.c[c][d] != null) {\n                                this.c[c][d].aggregate(b);\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var e = 0; e < this.ag.k.count; e++) {\n                    this.d[e].aggregate(b);\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cg = function (a, b, c, d, e) {\n        var f = a.i[d][e];\n        var g = b.itemAdded(c, f, a.d[d]);\n        a.an(d, e, g);\n        if (this.av) {\n            if (a.a[d] != null) {\n                var h = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af + a.b[d]]);\n                if (h != null) {\n                    h.summaryResults[e] = a.i[d][e];\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cf = function (a, b, c, d, e, f) {\n        var g = a.i[d][e];\n        var h = a.d[d];\n        var i = f ? b.itemAdded(c, g, h) : b.itemRemoved(c, g, h);\n        a.an(d, e, i);\n        if (this.av) {\n            if (!a.o && a.a[d] != null) {\n                var j = typeCast(DataSourceSpecialRow.$, this.a4._inner[a.af + a.b[d]]);\n                if (j != null) {\n                    j.summaryResults[e] = a.i[d][e];\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.ci = function (a, b, c, d) {\n        if (this.ag.k.count == 0) {\n            return;\n        }\n        if (d == null) {\n            d = this.w(a);\n            if (d == null) {\n                d = this.z.d();\n            }\n        }\n        var e = false;\n        var f = false;\n        var g = false;\n        for (var h = 0; h < this.ag.k.count; h++) {\n            var i = this.ag.k.item(h);\n            if (this.l == 0 || this.l == 1) {\n                var j = null;\n                if (c) {\n                    j = this.d[h].itemAdded(b, this.e[h], this.n.actualCount);\n                }\n                else {\n                    j = this.d[h].itemRemoved(b, this.e[h], this.n.actualCount);\n                }\n                j.summaryIndex = h;\n                this.e[h] = j;\n                if (this.d[h].isSummaryDirty) {\n                    e = true;\n                }\n                else {\n                    f = true;\n                }\n            }\n            if (this.l == 0 || this.l == 2) {\n                if (d != null && d.i != null) {\n                    var k = i.d();\n                    k.dataSource = this.m;\n                    k.propertyName = i.propertyName;\n                    k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n                    var l = this.g();\n                    var m = d.w();\n                    for (var n = m; n < l.length; n++) {\n                        this.cf(d, k, b, n, h, c);\n                        if (k.isSummaryDirty) {\n                            e = true;\n                        }\n                        g = true;\n                    }\n                    var o = d.z;\n                    while (o != -1) {\n                        var p = this.z.t._inner[o];\n                        var q = p.w();\n                        for (var r = q; r < m; r++) {\n                            this.cf(p, k, b, r, h, c);\n                            if (k.isSummaryDirty) {\n                                e = true;\n                            }\n                        }\n                        o = p.z;\n                        m = m - 1;\n                    }\n                }\n            }\n        }\n        if (e) {\n            this.m.queueAutoRefresh();\n        }\n        else {\n            if (f) {\n                var s = SectionData.r(this.e);\n                this.cd(s);\n            }\n            if (g) {\n                this.ch(d, null);\n                var t = d.z;\n                while (t != -1) {\n                    var u = this.z.t._inner[t];\n                    this.ch(u, null);\n                    t = u.z;\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cl = function (a, b, c, d, e) {\n        var f = a;\n        var g = this.ag.k.item(a);\n        if (g == null) {\n            return;\n        }\n        if (e == null) {\n            e = this.w(b);\n            if (e == null) {\n                e = this.z.d();\n            }\n        }\n        var h = false;\n        var i = false;\n        var j = false;\n        if (this.l == 0 || this.l == 1) {\n            var k = null;\n            if (d) {\n                k = this.d[f].itemAdded(c, this.e[f], this.n.actualCount);\n            }\n            else {\n                k = this.d[f].itemRemoved(c, this.e[f], this.n.actualCount);\n            }\n            k.summaryIndex = f;\n            this.e[f] = k;\n            if (this.d[f].isSummaryDirty) {\n                h = true;\n            }\n            else {\n                i = true;\n            }\n        }\n        if (this.l == 0 || this.l == 2) {\n            if (e != null && e.i != null) {\n                var l = g.d();\n                l.dataSource = this.m;\n                l.propertyName = g.propertyName;\n                l.propertyType = this.m.resolveSchemaPropertyType(g.propertyName);\n                var m = this.g();\n                var n = e.w();\n                for (var o = n; o < m.length; o++) {\n                    this.cf(e, l, c, o, f, d);\n                    if (l.isSummaryDirty) {\n                        h = true;\n                    }\n                    j = true;\n                }\n                var p = e.z;\n                while (p != -1) {\n                    var q = this.z.t._inner[p];\n                    var r = q.w();\n                    for (var s = r; s < n; s++) {\n                        this.cf(q, l, c, s, f, d);\n                        if (l.isSummaryDirty) {\n                            h = true;\n                        }\n                    }\n                    p = q.z;\n                    n = n - 1;\n                }\n            }\n        }\n        if (h) {\n            this.m.queueAutoRefresh();\n        }\n        else {\n            if (i) {\n                var t = SectionData.r(this.e);\n                this.cd(t);\n            }\n            if (j) {\n                this.ch(e, null);\n                var u = e.z;\n                while (u != -1) {\n                    var v = this.z.t._inner[u];\n                    this.ch(v, null);\n                    u = v.z;\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cj = function (a, b) {\n        if (this.ag.k.count == 0) {\n            return;\n        }\n        var c = this.w(a);\n        if (c == null) {\n            c = this.z.d();\n        }\n        var d = null;\n        if (c != null) {\n            d = typeCast(DataSourceSpecialRow.$, this.a4._inner[c.af]);\n        }\n        var e = false;\n        var f = false;\n        var g = false;\n        for (var h = 0; h < this.ag.k.count; h++) {\n            var i = this.ag.k.item(h);\n            if (this.l == 0 || this.l == 1) {\n                var j = this.d[h].itemAdded(b, this.e[h], this.n.actualCount);\n                j.summaryIndex = h;\n                this.e[h] = j;\n                if (this.d[h].isSummaryDirty) {\n                    e = true;\n                }\n                else {\n                    f = true;\n                }\n            }\n            if (this.l == 0 || this.l == 2) {\n                if (c != null && c.i != null) {\n                    var k = i.d();\n                    k.dataSource = this.m;\n                    k.propertyName = i.propertyName;\n                    k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n                    var l = this.g();\n                    var m = c.w();\n                    for (var n = m; n < l.length; n++) {\n                        this.cg(c, k, b, n, h);\n                        if (k.isSummaryDirty) {\n                            e = true;\n                        }\n                        g = true;\n                    }\n                    var o = c.z;\n                    while (o != -1) {\n                        var p = this.z.t._inner[o];\n                        var q = p.w();\n                        for (var r = q; r < m; r++) {\n                            this.cg(p, k, b, r, h);\n                            if (k.isSummaryDirty) {\n                                e = true;\n                            }\n                        }\n                        o = p.z;\n                        m = m - 1;\n                    }\n                }\n            }\n        }\n        if (e) {\n            this.m.queueAutoRefresh();\n        }\n        else {\n            if (f) {\n                var s = SectionData.r(this.e);\n                this.cd(s);\n            }\n            if (g) {\n                this.ch(c, null);\n                var t = c.z;\n                while (t != -1) {\n                    var u = this.z.t._inner[t];\n                    this.ch(u, null);\n                    t = u.z;\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.ck = function (a, b, c) {\n        if (this.ag.k.count == 0) {\n            return;\n        }\n        var d = null;\n        if (c != null) {\n            d = typeCast(DataSourceSpecialRow.$, this.a4._inner[c.af]);\n        }\n        var e = false;\n        var f = false;\n        var g = false;\n        for (var h = 0; h < this.ag.k.count; h++) {\n            var i = this.ag.k.item(h);\n            if (this.l == 0 || this.l == 1) {\n                var j = this.d[h].itemRemoved(b, this.e[h], this.m.actualCount);\n                j.summaryIndex = h;\n                this.e[h] = j;\n                if (this.d[h].isSummaryDirty) {\n                    e = true;\n                }\n                else {\n                    f = true;\n                }\n            }\n            if (this.l == 0 || this.l == 2) {\n                if (c != null && c.i != null) {\n                    var k = i.d();\n                    k.dataSource = this.m;\n                    k.propertyName = i.propertyName;\n                    k.propertyType = this.m.resolveSchemaPropertyType(i.propertyName);\n                    var l = this.g();\n                    var m = c.w();\n                    for (var n = m; n < l.length; n++) {\n                        this.cf(c, k, b, n, h, false);\n                        if (k.isSummaryDirty) {\n                            e = true;\n                        }\n                        g = true;\n                    }\n                    var o = c.z;\n                    while (o != -1) {\n                        var p = this.z.t._inner[o];\n                        var q = p.w();\n                        for (var r = q; r < m; r++) {\n                            this.cf(p, k, b, r, h, false);\n                            if (k.isSummaryDirty) {\n                                e = true;\n                            }\n                        }\n                        o = p.z;\n                        m = m - 1;\n                    }\n                }\n            }\n        }\n        if (e) {\n            this.m.queueAutoRefresh();\n        }\n        else {\n            if (f) {\n                var s = SectionData.r(this.e);\n                this.cd(s);\n            }\n            if (g) {\n                this.ch(c, null);\n                var t = c.z;\n                while (t != -1) {\n                    var u = this.z.t._inner[t];\n                    this.ch(u, null);\n                    t = u.z;\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.ch = function (a, b) {\n        var _this = this;\n        if (this.l == 2 || this.l == 0) {\n            if (this.am) {\n                if (!a.o && !a.n()) {\n                    if (this.as) {\n                        this.by(a, true);\n                    }\n                    else {\n                        this.bz(a, true);\n                    }\n                }\n                else {\n                    a.am(function (c) {\n                        if (_this.ab != null) {\n                            var d = _this.a4.indexOf1(c);\n                            _this.ab.notifySetItem(d, c, c);\n                        }\n                    });\n                }\n            }\n            else {\n                for (var c = 0; c < a.i.length; c++) {\n                    var d = a.af + a.b[c];\n                    var e = this.a4._inner[d];\n                    if (e != null) {\n                        e.summaryResults = a.i[c];\n                        if (this.ab != null) {\n                            this.ab.notifySetItem(d, e, e);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    RearrangedListView.prototype.cd = function (a) {\n        for (var b = 0; b < a.count; b++) {\n            var c = new Array(a._inner[b].count);\n            a._inner[b].values.copyTo(c, 0);\n            var d = this.a4.count - a.count + b;\n            var e = typeCast(DataSourceSpecialRow.$, this.a4._inner[d]);\n            e.summaryResults = c;\n            if (this.ab != null) {\n                this.ab.notifySetItem(d, e, e);\n            }\n        }\n    };\n    RearrangedListView.$t = markType(RearrangedListView, 'RearrangedListView', Base.$, [ISupportsDataChangeNotifications_$type]);\n    return RearrangedListView;\n}(Base));\nexport { RearrangedListView };\n"]},"metadata":{},"sourceType":"module"}