{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, typeCast, runOn, delegateCombine, fromEnum, markType, String_$type, delegateRemove, EnumUtil, IEnumerable_$type, enumGetBox, markDep } from \"igniteui-react-core\";\nimport { IOuterLabelWidthDecider_$type } from \"./IOuterLabelWidthDecider\";\nimport { IFunnelLabelSizeDecider_$type } from \"./IFunnelLabelSizeDecider\";\nimport { ServiceProvider } from \"./ServiceProvider\";\nimport { MessageChannel } from \"./MessageChannel\";\nimport { MouseLeaveMessage } from \"./MouseLeaveMessage\";\nimport { MouseMoveMessage } from \"./MouseMoveMessage\";\nimport { MouseButtonMessage } from \"./MouseButtonMessage\";\nimport { Rect } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { SetAreaSizeMessage } from \"./SetAreaSizeMessage\";\nimport { RenderingMessage } from \"./RenderingMessage\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { PointCollection } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { RenderSliceMessage } from \"./RenderSliceMessage\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { RenderOuterLabelMessage } from \"./RenderOuterLabelMessage\";\nimport { SliceInfo } from \"./SliceInfo\";\nimport { TooltipValueChangedMessage } from \"./TooltipValueChangedMessage\";\nimport { TooltipUpdateMessage } from \"./TooltipUpdateMessage\";\nimport { FunnelDataContext } from \"./FunnelDataContext\";\nimport { PropertyChangedMessage } from \"./PropertyChangedMessage\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DOMEventProxy } from \"igniteui-react-core\";\nimport { BrushCollection } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { MessageHandler } from \"./MessageHandler\";\nimport { ClearMessage } from \"./ClearMessage\";\nimport { ClearTooltipMessage } from \"./ClearTooltipMessage\";\nimport { ContainerSizeChangedMessage } from \"./ContainerSizeChangedMessage\";\nimport { ViewportChangedMessage } from \"./ViewportChangedMessage\";\nimport { ViewPropertyChangedMessage } from \"./ViewPropertyChangedMessage\";\nimport { ObjectColumn } from \"./ObjectColumn\";\nimport { Size } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringReplace } from \"igniteui-react-core\";\nimport { SliceInfoList } from \"./SliceInfoList\";\nimport { DoubleAnimator } from \"igniteui-react-core\";\nimport { Bezier } from \"./Bezier\";\nimport { DoubleColumn } from \"./DoubleColumn\";\nimport { OuterLabelAlignment_$type } from \"./OuterLabelAlignment\";\nimport { FunnelSliceDisplay_$type } from \"./FunnelSliceDisplay\";\nimport { IItemProvider_$type } from \"./IItemProvider\";\nimport { SliceSelectionManager } from \"./SliceSelectionManager\";\nimport { FunnelFrame } from \"./FunnelFrame\";\nimport { Style } from \"igniteui-react-core\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { DataTemplate } from \"igniteui-react-core\";\nimport { DataUpdatedMessage } from \"./DataUpdatedMessage\";\nimport { UserSelectedItemsChangedMessage } from \"./UserSelectedItemsChangedMessage\";\nimport { LabelSizeChangedMessage } from \"./LabelSizeChangedMessage\";\nimport { NotifyCollectionChangedEventArgs } from \"igniteui-react-core\";\nimport { FrameRenderCompleteMessage } from \"./FrameRenderCompleteMessage\";\nimport { IntColumn } from \"./IntColumn\";\nimport { PointList } from \"./PointList\";\nimport { Convert } from \"igniteui-react-core\";\nimport { ObservableCollection$1 } from \"igniteui-react-core\";\nimport { ILegendSeries_$type } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { FunnelSliceDataContext } from \"./FunnelSliceDataContext\";\nimport { Control } from \"igniteui-react-core\";\nimport { SliceClickedMessage } from \"./SliceClickedMessage\";\nimport { SelectedItemsChangedMessage } from \"./SelectedItemsChangedMessage\";\nimport { SliceMouseMessage } from \"./SliceMouseMessage\";\nimport { ILegendOwner_$type } from \"igniteui-react-core\";\nimport { ILegendTemplateProvider_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { FastItemsSource } from \"igniteui-react-core\";\nimport { Visibility_$type } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { FunnelLegendTemplates } from \"./FunnelLegendTemplates\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { FunnelSliceClickedEventArgs } from \"./FunnelSliceClickedEventArgs\";\nimport { FunnelSliceEventArgs } from \"./FunnelSliceEventArgs\";\nimport { FunnelChartVisualData } from \"./FunnelChartVisualData\";\nimport { RectData } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar XamFunnelView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamFunnelView, _super);\n\n  function XamFunnelView() {\n    var _this = _super.call(this) || this;\n\n    _this.g = null;\n    _this.h = null;\n    _this.f = null;\n    _this.bg = null;\n    _this.ad = null;\n    _this.ae = null;\n    _this.ah = null;\n    _this.ai = null;\n    _this.ag = null;\n    _this.af = null;\n    _this.o = null;\n    _this.q = null;\n    _this.r = null;\n    _this.p = null;\n    _this.j = null;\n    _this.be = null;\n    _this.bf = null;\n    _this.k = null;\n    _this.l = null;\n    _this.x = -1;\n    _this.y = -1;\n    _this.z = -1;\n    _this.u = 0;\n    _this.v = 0;\n    _this.aj = null;\n    _this.c = null;\n    _this.e = null;\n    _this.t = 1;\n    _this.w = NaN;\n    _this.t = 1;\n    _this.w = NaN;\n    _this.f = new MessageChannel();\n\n    _this.a9();\n\n    _this.a8();\n\n    var a = _this.g = new MessageHandler();\n    a.b(ClearMessage.$, runOn(_this, _this.ap));\n    a.b(RenderSliceMessage.$, runOn(_this, _this.a6));\n    a.b(RenderOuterLabelMessage.$, runOn(_this, _this.a5));\n    a.b(SetAreaSizeMessage.$, runOn(_this, _this.ba));\n    a.b(TooltipValueChangedMessage.$, runOn(_this, _this.bc));\n    a.b(TooltipUpdateMessage.$, runOn(_this, _this.bb));\n    a.b(ClearTooltipMessage.$, runOn(_this, _this.ar));\n    a.b(PropertyChangedMessage.$, runOn(_this, _this.a3));\n    a.b(ContainerSizeChangedMessage.$, function (b) {\n      return _this.as();\n    });\n\n    _this.as();\n\n    return _this;\n  }\n\n  Object.defineProperty(XamFunnelView.prototype, \"i\", {\n    get: function () {\n      return this.h;\n    },\n    set: function (a) {\n      var b = this.h;\n      this.h = a;\n      this.a1(b, this.h);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelView.prototype.am = function (a) {\n    this.f.i(new MouseLeaveMessage());\n  };\n\n  XamFunnelView.prototype.an = function (a, b, c) {\n    var d = new MouseMoveMessage();\n    d.c = a;\n    this.f.i(d);\n  };\n\n  XamFunnelView.prototype.al = function (a) {\n    var b = new MouseButtonMessage();\n    b.h = a;\n    b.c = 1;\n    b.e = this.j.al ? 1 : 0;\n    b.f = this.j.bi;\n    this.f.i(b);\n  };\n\n  XamFunnelView.prototype.ao = function (a) {\n    var b = new MouseButtonMessage();\n    b.h = a;\n    b.c = 0;\n    b.e = this.j.al ? 1 : 0;\n    b.f = this.j.bi;\n    this.f.i(b);\n  };\n\n  XamFunnelView.prototype.ap = function (a) {\n    var b = this.bg;\n\n    if (Rect.l_op_Equality(b, null)) {\n      return;\n    }\n\n    var c = b.left,\n        d = b.top,\n        e = b.width,\n        f = b.height;\n    this.aq(this.q, c, d, e, f);\n    this.aq(this.o, c, d, e, f);\n    this.aq(this.p, c, d, e, f);\n    this.aq(this.r, c, d, e, f);\n  };\n\n  XamFunnelView.prototype.aq = function (a, b, c, d, e) {\n    if (a != null) {\n      if (a.d && this.t != 1) {\n        a.z();\n        a.aa(this.t, this.t);\n      }\n\n      a.k(b, c, d, e);\n\n      if (a.d && this.t != 1) {\n        a.y();\n      }\n    }\n  };\n\n  XamFunnelView.prototype.ba = function (a) {\n    var b = a.m;\n    var c = a.e;\n\n    if (c == \"LeftPanel\") {\n      this.u = b;\n    }\n\n    if (c == \"RightPanel\") {\n      this.v = b;\n    }\n  };\n\n  XamFunnelView.prototype.a6 = function (a) {\n    var b = a.g;\n    var c = this.q;\n\n    if (c.d && this.t != 1) {\n      c.z();\n      c.aa(this.t, this.t);\n    }\n\n    var d = new Polygon();\n    var e = new PointCollection(0);\n\n    for (var f = 0; f < b.au.count; f++) {\n      var g = b.au._inner[f];\n      e.add({\n        $type: Point_$type,\n        x: g.x + this.u + b.aq.x,\n        y: g.y + b.aq.y\n      });\n    }\n\n    d.ak = e;\n    d.ac = a.h;\n    d._opacity = b.p;\n    d._fill = b.ad;\n    d._stroke = a.h < 1 ? b.ad : b.ag;\n\n    if (b.a0 != null) {\n      c.i(d, b.a0);\n      b.ad = d._fill;\n      b.ag = d._stroke;\n      b.q = d.ac;\n      b.p = d._opacity;\n    }\n\n    c.t(d);\n    b.q = d.ac;\n\n    if (b.i) {\n      var h = new TextBlock();\n\n      if (this.bf == null) {\n        this.bf = new Brush();\n        this.bf._fill = this.ak(\"ui-funnel-slice\", \"color\", -1);\n      }\n\n      h.ao = this.bf;\n      c.ac(this.m());\n      var i = b.v.toString();\n      var j = c.f(i);\n      var k = this.ab();\n      h.al = i;\n      h.o = b.an.y + b.aq.y - k / 2;\n      h.n = b.an.x + this.u + b.aq.x - j / 2;\n      b.ax = new Rect(0, h.n, h.o, j, k);\n      b.a2 = h._visibility;\n      c.w(h);\n    }\n\n    if (c.d && this.t != 1) {\n      c.y();\n    }\n  };\n\n  XamFunnelView.prototype.a5 = function (a) {\n    var b = 0;\n\n    if (this.v > 0) {\n      b = this.bg.width - this.v;\n    }\n\n    var c = a;\n    var d = this.p;\n\n    if (d.d && this.t != 1) {\n      d.z();\n      d.aa(this.t, this.t);\n    }\n\n    var e = new TextBlock();\n    e.al = c.j.toString();\n    d.ac(this.n());\n\n    if (this.be == null) {\n      this.be = new Brush();\n      this.be._fill = this.ad.rootWrapper.getStyleProperty(\"color\");\n    }\n\n    e.ao = this.be;\n    var f = this.ac();\n    var g = c.l.y - f / 2;\n    var h = d.f(e.al);\n    e.n = b;\n    e.o = g;\n    c.f.b.ay = new Rect(0, b, g, h, f);\n    d.w(e);\n\n    if (d.d && this.t != 1) {\n      d.y();\n    }\n  };\n\n  XamFunnelView.prototype.az = function () {\n    if (this.j != null) {\n      this.j.bh(this.ae, \"\");\n    }\n  };\n\n  XamFunnelView.prototype.ax = function (a) {\n    this.av(a);\n\n    if (this.j != null) {\n      this.j.at(this.ae, \"\");\n    }\n  };\n\n  XamFunnelView.prototype.bc = function (a) {\n    this.aj = a.g;\n  };\n\n  XamFunnelView.prototype.bb = function (a) {\n    this.at(a);\n  };\n\n  XamFunnelView.prototype.ar = function (a) {\n    this.at(null);\n  };\n\n  XamFunnelView.prototype.at = function (a) {\n    var x_ = 0,\n        y_ = 0;\n    var t_ = null,\n        v_ = null,\n        i_ = this.ad;\n    {\n      if (a != null) {\n        t_ = this.aj;\n        x_ = a.i.x + 6;\n        y_ = a.i.y + 6;\n        v_ = a.g.item;\n      }\n\n      var ren_ = this.ad;\n      var dc_ = null;\n\n      if (a != null) {\n        dc_ = a.g;\n      }\n\n      if (dc_ == null) {\n        dc_ = new FunnelDataContext();\n      }\n\n      dc_.item = v_;\n      var tt_ = this.aj;\n\n      if (tt_ != null) {\n        if (v_ != null) {\n          tt_.updateToolTip(dc_);\n          tt_.setRawPosition(x_, y_);\n        } else {\n          tt_.hideToolTip();\n        }\n      }\n    }\n  };\n\n  XamFunnelView.prototype.a3 = function (a) {\n    var b = a;\n    var c = b.g;\n\n    switch (c) {\n      case \"Container\":\n        this.ay(b.d);\n        break;\n\n      case \"TextStyle\":\n        this.l = FontUtil.toFontInfo(this.ad, b.d.toString());\n        break;\n\n      case \"OuterLabelTextStyle\":\n        this.k = FontUtil.toFontInfo(this.ad, b.d.toString());\n        break;\n\n      case \"ActualPixelScalingRatio\":\n        if (isNaN_(this.w) || this.w == 0) {\n          this.t = b.d;\n        }\n\n        break;\n\n      case \"OuterLabelTextColor\":\n        this.be = typeCast(Brush.$, b.d);\n        break;\n\n      case \"LabelTextColor\":\n        this.bf = typeCast(Brush.$, b.d);\n        break;\n    }\n  };\n\n  XamFunnelView.prototype.a4 = function (a) {\n    if (this.ad != null) {\n      this.ad.setTimeout(a, 0);\n    } else {\n      window.setTimeout(a, 0);\n    }\n  };\n\n  XamFunnelView.prototype.ay = function (a) {\n    if (a == null) {\n      if (this.j != null) {\n        this.j.av();\n      }\n\n      this.ad = null;\n      this.ae = this.ah = this.ag = this.ai = null;\n      this.o = this.q = this.p = this.r = null;\n      this.j = null;\n      return;\n    }\n\n    var b = a;\n    var c = this.ad = b;\n    c.rootWrapper.setStyleProperty(\"position\", \"relative\");\n\n    for (var d = 0; d < 4; d++) {\n      var e = this.ad.createElement(\"canvas\");\n      e.setStyleProperty(\"position\", \"absolute\");\n      c.append(e);\n      var f = new RenderingContext(new CanvasViewRenderer(), this.ad.get2DCanvasContext(e));\n\n      if (d == 0) {\n        this.ae = e;\n        this.o = f;\n      }\n\n      if (d == 1) {\n        this.ah = e;\n        this.q = f;\n      }\n\n      if (d == 2) {\n        this.ag = e;\n        this.p = f;\n      }\n\n      if (d == 3) {\n        this.ai = e;\n        this.r = f;\n      }\n    }\n\n    this.af = this.ad.createElement(\"span\");\n    this.af.setStyleProperty(\"position\", \"absolute\");\n    this.af.setStyleProperty(\"display\", \"none\");\n    c.append(this.af);\n    this.j = new DOMEventProxy(this.ai, this.ad, false);\n    var g = this.j;\n    g.onMouseOver = delegateCombine(g.onMouseOver, runOn(this, this.an));\n    var h = this.j;\n    h.onMouseLeave = delegateCombine(h.onMouseLeave, runOn(this, this.am));\n    var i = this.j;\n    i.onMouseDown = delegateCombine(i.onMouseDown, runOn(this, this.al));\n    var j = this.j;\n    j.onMouseUp = delegateCombine(j.onMouseUp, runOn(this, this.ao));\n    this.as();\n  };\n\n  XamFunnelView.prototype.aa = function () {\n    var a = this.ak(\"ui-funnel-slice\", \"border-top-width\", -1);\n    return a == null ? -1 : parseInt(a);\n  };\n\n  XamFunnelView.prototype.m = function () {\n    var a = this.l;\n\n    if (a == null) {\n      this.l = FontUtil.getFontForClass(this.ad, \"ui-funnel-slice\");\n      a = this.l;\n    }\n\n    return a;\n  };\n\n  XamFunnelView.prototype.n = function () {\n    var a = this.k;\n\n    if (a == null) {\n      this.k = a = FontUtil.getFont(this.ad);\n    }\n\n    return a;\n  };\n\n  XamFunnelView.prototype.ab = function () {\n    var a = this.z;\n\n    if (a < 0) {\n      var b = this.l;\n      a = FontUtil.getCurrentFontHeight(this.ad, b);\n      this.z = a;\n    }\n\n    return a;\n  };\n\n  XamFunnelView.prototype.ac = function () {\n    var a = this.y;\n\n    if (a < 0) {\n      var b = this.k;\n      a = FontUtil.getCurrentFontHeight(this.ad, b);\n      this.y = a;\n    }\n\n    return a;\n  };\n\n  XamFunnelView.prototype.d = function (a) {\n    if (this.c != null) {\n      return a ? this.c : this.e;\n    }\n\n    var b = BrushUtil.e(\"chart\", this.ad, this.c, this.e);\n    this.c = b.p2;\n    this.e = b.p3;\n    return a ? this.c : this.e;\n  };\n\n  XamFunnelView.prototype.ak = function (a, b, c) {\n    var d = this.af;\n\n    if (d == null) {\n      return null;\n    }\n\n    d.addClass(a);\n    var e = d.getStyleProperty(b);\n\n    if (e == null || e.length == 0 || e == \"null\" || e == \"transparent\") {\n      e = null;\n    }\n\n    if (c >= 0) {\n      var f = new Brush();\n\n      if (e != null && e.length != stringReplace(e, \"(0, 0, 0, 0\", \"\").length) {\n        e = null;\n      }\n\n      f._fill = e == null ? XamFunnelView.a[c % XamFunnelView.a.length] : e;\n      this.c.item(c, f);\n      var g = null;\n\n      if (e != null) {\n        g = d.getStyleProperty(\"border-top-color\");\n\n        if (g == null || g.length == 0 || g == \"null\" || g == \"transparent\") {\n          g = e;\n        }\n      }\n\n      f = new Brush();\n      f._fill = g == null ? XamFunnelView.b[c % XamFunnelView.b.length] : g;\n      this.e.item(c, f);\n    }\n\n    d.removeClass(a);\n    return e;\n  };\n\n  XamFunnelView.prototype.a7 = function (a, b, c) {\n    var d = new PropertyChangedMessage();\n    d.g = a;\n    d.e = b;\n    d.d = c;\n    this.f.i(d);\n  };\n\n  XamFunnelView.prototype.av = function (a) {\n    var b = a.bs;\n    var c = a.bn;\n\n    if (!isNaN_(b) && b != 0) {\n      return;\n    }\n\n    if (window.devicePixelRatio != undefined && window.devicePixelRatio != c) {\n      a.bn = window.devicePixelRatio;\n    }\n  };\n\n  XamFunnelView.prototype.aw = function (a) {\n    this.g.c(a);\n  };\n\n  XamFunnelView.prototype.a1 = function (a, b) {\n    if (a != null) {\n      var c = typeCast(MessageChannel.$, a.b(\"RenderingMessages\"));\n\n      if (c != null) {\n        c.h(runOn(this, this.aw));\n      }\n\n      this.f.g();\n    }\n\n    if (b != null) {\n      var d = typeCast(MessageChannel.$, b.b(\"RenderingMessages\"));\n\n      if (d != null) {\n        d.e(runOn(this, this.aw));\n      }\n\n      var e = typeCast(MessageChannel.$, b.b(\"InteractionMessages\"));\n      this.f.f(e);\n    }\n  };\n\n  XamFunnelView.prototype.bd = function (a, b, c, d, e) {\n    a.setAttribute(\"width\", b.toString());\n    a.setAttribute(\"height\", c.toString());\n    a.setStyleProperty(\"width\", d.toString() + \"px\");\n    a.setStyleProperty(\"height\", e.toString() + \"px\");\n  };\n\n  XamFunnelView.prototype.as = function () {\n    if (this.ad == null) {\n      return;\n    }\n\n    var a = this.ad.rootWrapper.width();\n    var b = this.ad.rootWrapper.height();\n    this.bg = new Rect(0, 0, 0, a, b);\n\n    if (this.j != null) {\n      this.j.bl = this.bg;\n    }\n\n    this.bd(this.ae, a * this.t, b * this.t, a, b);\n    this.bd(this.ah, a * this.t, b * this.t, a, b);\n    this.bd(this.ag, a * this.t, b * this.t, a, b);\n    this.bd(this.ai, a * this.t, b * this.t, a, b);\n    var c = new ViewportChangedMessage();\n    c.e = a;\n    c.d = b;\n    this.f.i(c);\n  };\n\n  XamFunnelView.prototype.a0 = function () {\n    this.as();\n  };\n\n  XamFunnelView.prototype.a9 = function () {\n    var a = new ViewPropertyChangedMessage();\n    a.g = \"OuterLabelWidthDecider\";\n    a.e = null;\n    a.d = typeCast(IOuterLabelWidthDecider_$type, this);\n    this.f.i(a);\n  };\n\n  XamFunnelView.prototype.a8 = function () {\n    var a = new ViewPropertyChangedMessage();\n    a.g = \"FunnelLabelSizeDecider\";\n    a.e = null;\n    a.d = typeCast(IFunnelLabelSizeDecider_$type, this);\n    this.f.i(a);\n  };\n\n  XamFunnelView.prototype.decideWidth = function (a) {\n    var e_1, _a;\n\n    var b = a == null ? null : a.a;\n\n    if (b == null) {\n      return 0;\n    }\n\n    var c = 0;\n    this.p.ac(this.n());\n\n    try {\n      for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var d = _c.value;\n\n        if (d != null) {\n          c = Math.max(this.p.f(d.toString()), c);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return c;\n  };\n\n  XamFunnelView.prototype.decideLabelSize = function (a, b) {\n    var c = 0;\n\n    if (a.b.i) {\n      this.p.ac(this.m());\n      c = this.p.f(a.b.v.toString());\n    }\n\n    return new Size(1, c, b ? this.ab() : this.ac());\n  };\n\n  XamFunnelView.prototype.s = function (a, f_) {\n    if (f_ == null) {\n      return true;\n    }\n\n    var b = a.a;\n    var c_ = this.ad;\n    c_ = c_ ? c_.data('igFunnelChart') : null;\n\n    if (b == null || c_ == null) {\n      return false;\n    }\n\n    var i_ = b.count;\n    var c = new Array(i_);\n\n    while (i_-- > 0) {\n      var v_ = b.item(i_);\n      c[i_] = f_(v_, i_, c_);\n    }\n\n    a.b(c);\n    return true;\n  };\n\n  XamFunnelView.prototype.au = function () {};\n\n  XamFunnelView.prototype.a2 = function () {};\n\n  XamFunnelView.$t = markType(XamFunnelView, 'XamFunnelView', Base.$, [IOuterLabelWidthDecider_$type, IFunnelLabelSizeDecider_$type]);\n  XamFunnelView.a = [\"#7000ff\", \"#70ff00\", \"#00f0f0\", \"#ff0070\", \"#ff00ff\"];\n  XamFunnelView.b = [\"#7000dd\", \"#70dd00\", \"#00d0d0\", \"#dd0070\", \"#dd00dd\"];\n  return XamFunnelView;\n}(Base);\n\nexport { XamFunnelView };\n/**\n * @hidden\n */\n\nvar XamFunnelController =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamFunnelController, _super);\n\n  function XamFunnelController() {\n    var _this = _super.call(this) || this;\n\n    _this.bp = null;\n    _this.ag = null;\n    _this.at = null;\n    _this.cf = null;\n    _this.cg = null;\n    _this.cb = null;\n    _this.cc = null;\n    _this.bb = false;\n    _this.bg = false;\n    _this.au = null;\n    _this.aj = null;\n    _this.z = null;\n    _this.al = null;\n    _this.ao = null;\n    _this.ap = null;\n    _this.cl = null;\n    _this.ci = null;\n    _this.ch = null;\n    _this.a4 = false;\n    _this.bv = 0;\n    _this.bu = 0;\n    _this.w = null;\n    _this.v = null;\n    _this.t = null;\n    _this.p = null;\n    _this.a0 = false;\n    _this.a3 = false;\n    _this.bt = 0;\n    _this.a2 = false;\n    _this.bq = 0;\n    _this.a = null;\n    _this.b = null;\n    _this.ad = 0;\n    _this.m = 0;\n    _this.ax = false;\n    _this.bs = 0;\n    _this.a5 = false;\n    _this.dv = null;\n    _this.du = null;\n    _this.aw = false;\n    _this.b5 = 0;\n    _this.b6 = 0;\n    _this.r = null;\n    _this.ab = null;\n    _this.ah = null;\n    _this.g = null;\n    _this.e = null;\n    _this.f = null;\n    _this.d0 = null;\n    _this.d1 = null;\n    _this.a7 = false;\n    _this.a1 = false;\n    _this.a6 = false;\n    _this.az = false;\n    _this.ck = null;\n    _this.cj = null;\n    _this.br = -1;\n    _this.ay = false;\n    _this.l = null;\n    _this.o = null;\n    _this.dp = null;\n    _this.dn = null;\n    _this.dz = null;\n    _this.av = new DoubleAnimator(0, 1, 2000);\n    var a = _this.av;\n    a.propertyChanged = delegateCombine(a.propertyChanged, runOn(_this, _this.cz));\n    _this.k = new FunnelFrame();\n    _this.j = new FunnelFrame();\n    _this.h = new FunnelFrame();\n    _this.ai = new SliceSelectionManager();\n    _this.am = new DoubleColumn();\n    _this.ar = new ObjectColumn();\n    _this.as = new ObjectColumn();\n    _this.y = new MessageChannel();\n    _this.x = new MessageChannel();\n    _this.aa = new MessageHandler();\n\n    _this.aa.b(PropertyChangedMessage.$, runOn(_this, _this.de));\n\n    _this.aa.b(DataUpdatedMessage.$, runOn(_this, _this.cv));\n\n    _this.aa.b(ViewportChangedMessage.$, runOn(_this, _this.dl));\n\n    _this.aa.b(ViewPropertyChangedMessage.$, runOn(_this, _this.dm));\n\n    _this.aa.b(MouseMoveMessage.$, runOn(_this, _this.c5));\n\n    _this.aa.b(MouseButtonMessage.$, runOn(_this, _this.c3));\n\n    _this.aa.b(MouseLeaveMessage.$, runOn(_this, _this.c4));\n\n    _this.aa.b(UserSelectedItemsChangedMessage.$, runOn(_this, _this.dk));\n\n    _this.aa.b(LabelSizeChangedMessage.$, runOn(_this, _this.c1));\n\n    _this.aa.b(ContainerSizeChangedMessage.$, function (b) {\n      return _this.y.i(b);\n    });\n\n    _this.bp = function (b, c) {\n      _this.bj = true;\n\n      _this.df();\n    };\n\n    return _this;\n  }\n\n  XamFunnelController.prototype.cz = function (a, b) {\n    this.b2 = this.av.o;\n\n    if (this.b2 == 1) {\n      this.a9 = false;\n      this.cw(this.h);\n    }\n\n    if (this.a9) {\n      var c = 1 - this.b2;\n      FunnelFrame.k(this.j, this.k, this.h, this.b2);\n      this.cw(this.j);\n    }\n  };\n\n  Object.defineProperty(XamFunnelController.prototype, \"av\", {\n    get: function () {\n      return this.au;\n    },\n    set: function (a) {\n      this.au = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ak\", {\n    get: function () {\n      return this.aj;\n    },\n    set: function (a) {\n      this.aj = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"aa\", {\n    get: function () {\n      return this.z;\n    },\n    set: function (a) {\n      this.z = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"am\", {\n    get: function () {\n      return this.al;\n    },\n    set: function (a) {\n      this.al = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ar\", {\n    get: function () {\n      if (!this.bb && this.at != null) {\n        this.bb = this.at.s(this.ao, this.cb);\n      }\n\n      return this.ao;\n    },\n    set: function (a) {\n      this.ao = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"as\", {\n    get: function () {\n      if (!this.bg && this.at != null) {\n        this.bg = this.at.s(this.ap, this.cc);\n      }\n\n      return this.ap;\n    },\n    set: function (a) {\n      this.ap = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"cq\", {\n    get: function () {\n      return this.cl;\n    },\n    set: function (a) {\n      this.cl = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"cn\", {\n    get: function () {\n      return this.ci;\n    },\n    set: function (a) {\n      this.ci = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"cm\", {\n    get: function () {\n      return this.ch;\n    },\n    set: function (a) {\n      this.ch = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bj\", {\n    get: function () {\n      return this.a4;\n    },\n    set: function (a) {\n      this.a4 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"b4\", {\n    get: function () {\n      return this.bv;\n    },\n    set: function (a) {\n      this.bv = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"b3\", {\n    get: function () {\n      return this.bu;\n    },\n    set: function (a) {\n      this.bu = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"y\", {\n    get: function () {\n      return this.w;\n    },\n    set: function (a) {\n      this.w = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"x\", {\n    get: function () {\n      return this.v;\n    },\n    set: function (a) {\n      this.v = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"u\", {\n    get: function () {\n      return this.t;\n    },\n    set: function (a) {\n      this.t = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"q\", {\n    get: function () {\n      return this.p;\n    },\n    set: function (a) {\n      this.p = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bc\", {\n    get: function () {\n      return this.a0;\n    },\n    set: function (a) {\n      this.a0 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bh\", {\n    get: function () {\n      return this.a3;\n    },\n    set: function (a) {\n      this.a3 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"b2\", {\n    get: function () {\n      return this.bt;\n    },\n    set: function (a) {\n      this.bt = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"be\", {\n    get: function () {\n      return this.a2;\n    },\n    set: function (a) {\n      this.a2 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bw\", {\n    get: function () {\n      return this.bq;\n    },\n    set: function (a) {\n      this.bq = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"c\", {\n    get: function () {\n      if ((this.a == null || this.a.count < 1) && this.at != null) {\n        this.a = this.at.d(true);\n      }\n\n      return this.a;\n    },\n    set: function (a) {\n      this.a = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"d\", {\n    get: function () {\n      if ((this.b == null || this.b.count < 1) && this.at != null) {\n        this.b = this.at.d(false);\n      }\n\n      return this.b;\n    },\n    set: function (a) {\n      this.b = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ae\", {\n    get: function () {\n      return this.ad;\n    },\n    set: function (a) {\n      this.ad = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"n\", {\n    get: function () {\n      return this.m;\n    },\n    set: function (a) {\n      this.m = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"a9\", {\n    get: function () {\n      return this.ax;\n    },\n    set: function (a) {\n      this.ax = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"b1\", {\n    get: function () {\n      return this.bs;\n    },\n    set: function (a) {\n      this.bs = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bm\", {\n    get: function () {\n      return this.a5;\n    },\n    set: function (a) {\n      this.a5 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"dy\", {\n    get: function () {\n      return this.dv;\n    },\n    set: function (a) {\n      this.dv = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"dx\", {\n    get: function () {\n      return this.du;\n    },\n    set: function (a) {\n      this.du = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"a8\", {\n    get: function () {\n      return this.aw;\n    },\n    set: function (a) {\n      this.aw = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"b9\", {\n    get: function () {\n      return this.b5;\n    },\n    set: function (a) {\n      this.b5 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ca\", {\n    get: function () {\n      return this.b6;\n    },\n    set: function (a) {\n      this.b6 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"s\", {\n    get: function () {\n      return this.r;\n    },\n    set: function (a) {\n      this.r = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ac\", {\n    get: function () {\n      return this.ab;\n    },\n    set: function (a) {\n      var b = this.ab;\n      this.ab = a;\n      this.c7(b, this.ab);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ai\", {\n    get: function () {\n      return this.ah;\n    },\n    set: function (a) {\n      this.ah = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"k\", {\n    get: function () {\n      return this.g;\n    },\n    set: function (a) {\n      this.g = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"h\", {\n    get: function () {\n      return this.e;\n    },\n    set: function (a) {\n      this.e = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"j\", {\n    get: function () {\n      return this.f;\n    },\n    set: function (a) {\n      this.f = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"d3\", {\n    get: function () {\n      return this.d0;\n    },\n    set: function (a) {\n      this.d0 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"d4\", {\n    get: function () {\n      return this.d1;\n    },\n    set: function (a) {\n      this.d1 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bo\", {\n    get: function () {\n      return this.a7;\n    },\n    set: function (a) {\n      this.a7 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bd\", {\n    get: function () {\n      return this.a1;\n    },\n    set: function (a) {\n      this.a1 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bn\", {\n    get: function () {\n      return this.a6;\n    },\n    set: function (a) {\n      this.a6 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"ba\", {\n    get: function () {\n      return this.az;\n    },\n    set: function (a) {\n      this.az = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"cp\", {\n    get: function () {\n      return this.ck;\n    },\n    set: function (a) {\n      this.ck = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"co\", {\n    get: function () {\n      return this.cj;\n    },\n    set: function (a) {\n      this.cj = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"bz\", {\n    get: function () {\n      var a = this.br;\n\n      if (a < 0 && this.at != null) {\n        this.br = this.at.aa();\n        a = this.br;\n      }\n\n      return a < 0 ? 1 : a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelController.prototype.c7 = function (a, b) {\n    if (a != null) {\n      var c = typeCast(MessageChannel.$, a.b(\"ConfigurationMessages\"));\n\n      if (c != null) {\n        c.h(runOn(this, this.c2));\n      }\n\n      c = typeCast(MessageChannel.$, a.b(\"InteractionMessages\"));\n\n      if (c != null) {\n        c.h(runOn(this, this.c2));\n      }\n\n      this.y.g();\n      this.x.g();\n    }\n\n    if (b != null) {\n      var d = typeCast(MessageChannel.$, b.b(\"ConfigurationMessages\"));\n\n      if (d != null) {\n        d.e(runOn(this, this.c2));\n      }\n\n      d = typeCast(MessageChannel.$, b.b(\"InteractionMessages\"));\n\n      if (d != null) {\n        d.e(runOn(this, this.c2));\n      }\n\n      var e = typeCast(MessageChannel.$, b.b(\"RenderingMessages\"));\n      this.y.f(e);\n      var f = typeCast(MessageChannel.$, b.b(\"ModelUpdateMessages\"));\n      this.x.f(f);\n    }\n\n    this.bj = true;\n  };\n\n  XamFunnelController.prototype.c2 = function (a) {\n    this.aa.c(a);\n    var b = typeCast(RenderingMessage.$, a);\n\n    if (b != null) {\n      this.bj = b.c;\n    }\n\n    this.df();\n  };\n\n  XamFunnelController.prototype.bl = function () {\n    return this.b3 >= 0 && this.b4 >= 0;\n  };\n\n  XamFunnelController.prototype.bf = function () {\n    return this.am != null && this.am.a != null && this.am.a.count > 0 && this.u != null && this.q != null && this.c != null && this.c.count > 0 && this.d != null && this.d.count > 0 && this.bl();\n  };\n\n  XamFunnelController.prototype.df = function () {\n    if (!this.bj) {\n      return;\n    }\n\n    if (!this.bf()) {\n      this.cu();\n      return;\n    }\n\n    this.bj = false;\n    var a = this.u.decideWidth(this.aq());\n\n    if (a > this.b4) {\n      a = 0;\n    }\n\n    if (!this.bh) {\n      a = 0;\n    }\n\n    var b = this.b4 - a;\n    var c = a > 0;\n    var d = this.bc;\n    var e = b >= 0;\n\n    if (e || c) {\n      this.dc(e, c, d, b, a);\n    }\n  };\n\n  XamFunnelController.prototype.cu = function () {\n    if (this.bk() && this.b2 > 0) {\n      this.av.w();\n    }\n\n    this.dh(\"LeftLabels\");\n    this.dh(\"RightLabels\");\n    this.dh(\"SliceArea\");\n    this.ct();\n    this.h.b.clear();\n    this.j.b.clear();\n    this.k.b.clear();\n  };\n\n  XamFunnelController.prototype.ct = function () {\n    var a = new FrameRenderCompleteMessage();\n    this.y.i(a);\n  };\n\n  XamFunnelController.prototype.dc = function (a, b, c, d, e) {\n    if (this.a9) {\n      var f = this.k;\n      this.k = this.j;\n      this.j = f;\n    } else {\n      var g = this.k;\n      this.k = this.h;\n      this.h = g;\n    }\n\n    this.dd(this.h, a, b, c, d, e);\n    this.av.w();\n    this.b2 = 0;\n\n    if (this.bk()) {\n      FunnelFrame.k(this.j, this.k, this.h, this.b2);\n      this.cw(this.j);\n      this.a9 = true;\n      this.av.v();\n    } else {\n      this.cw(this.h);\n    }\n  };\n\n  XamFunnelController.prototype.b0 = function (a) {\n    if (isNaN_(a)) {\n      return 0;\n    }\n\n    return Math.abs(a);\n  };\n\n  XamFunnelController.prototype.dd = function (a, b, c, d, e, f) {\n    var e_2, _a, e_3, _b;\n\n    var g = e / 2;\n    this.ay = this.bm;\n\n    if (this.ay) {\n      this.c0(e, g);\n    } else {\n      this.ak = null;\n    }\n\n    var h = this.n == 1;\n    var i = this.an();\n    var j = 0;\n\n    try {\n      for (var _c = __values(fromEnum(i.a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var k = _d.value;\n        j += this.b0(this.am.a.item(k));\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    if (j == 0) {\n      h = false;\n    }\n\n    var l = this.b3 / i.a.count;\n    var m = 0;\n    var n = 0;\n    n = this.bz / 2;\n    a.j = f;\n    a.f = d;\n    a.h = c;\n    a.g = this.ae == 0;\n    a.b = new SliceInfoList();\n    var o = 0;\n\n    try {\n      for (var _e = __values(fromEnum(i.a)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var p = _f.value;\n        var q = void 0;\n\n        if (h) {\n          q = this.b0(this.am.a.item(p)) / j * this.b3;\n        } else {\n          q = l;\n        }\n\n        var r = this.by(e, m + n);\n        var s = m + q;\n        var t = this.by(e, s - n);\n        var u = r / 2;\n        var v = t / 2;\n        var w = new SliceInfo();\n        var x = w.b;\n        x.o = m;\n        x.n = s;\n        var y = new Rect(4);\n        var z = new Rect(4);\n        var aa = 0;\n\n        if (v > u) {\n          aa = g - v;\n        } else {\n          aa = g - u;\n        }\n\n        var ab = m;\n        x.ad = this.ds(p);\n        x.ag = this.dt(p);\n        x.a0 = this.d2(p);\n        x.j = this.ai.c(p);\n\n        if (b) {\n          w.h = true;\n          x.ar = {\n            $type: Point_$type,\n            x: g - u - aa + n,\n            y: m - ab + n\n          };\n          x.as = {\n            $type: Point_$type,\n            x: g + u - aa - n,\n            y: m - ab + n\n          };\n          x.ao = {\n            $type: Point_$type,\n            x: g - v - aa + n,\n            y: s - ab - n\n          };\n          x.ap = {\n            $type: Point_$type,\n            x: g + v - aa - n,\n            y: s - ab - n\n          };\n\n          if (this.ay) {\n            this.cr(x, m + n, s - n, g, aa - n, ab);\n          }\n\n          x.x();\n        }\n\n        if (d) {\n          x.i = true;\n          x.an = {\n            $type: Point_$type,\n            x: g - aa,\n            y: (m + s) / 2 - ab\n          };\n          x.v = this.cd(p);\n          var ac = this.q.decideLabelSize(w, true);\n\n          if (ac.width > e) {\n            x.i = false;\n          }\n\n          if (ac.height > q) {\n            x.i = false;\n          }\n\n          y.height = ac.height;\n          y.width = ac.width;\n          y.x = x.an.x;\n          y.y = x.an.y;\n          x.ax = y;\n        } else {\n          x.i = false;\n          x.v = this.cd(p);\n        }\n\n        if (d || b) {\n          x.aq = {\n            $type: Point_$type,\n            x: aa,\n            y: ab\n          };\n          x.item = this.am.a.item(p);\n          x.s = p;\n        }\n\n        if (c) {\n          w.g = true;\n          w.n = {\n            $type: Point_$type,\n            x: 0,\n            y: (m + s) / 2\n          };\n          w.l = this.ce(p);\n          var ad = this.q.decideLabelSize(w, false);\n\n          if (ad.height > q) {\n            w.g = false;\n          }\n\n          z.height = ad.height;\n          z.width = ad.width;\n          y.x = w.n.x;\n          y.y = w.n.y;\n          x.ay = z;\n        } else {\n          w.g = false;\n          w.l = this.ce(p);\n        }\n\n        w.j = p;\n        a.b.add(w);\n        m += q;\n        o++;\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    if (this.ar != null && this.ar.a != null && this.ar.a.count > 0 || this.as != null && this.as.a != null && this.as.a.count > 0) {\n      this.dg(a);\n    }\n\n    a.b.ae();\n  };\n\n  XamFunnelController.prototype.cr = function (a, b, c, d, e, f) {\n    var g = this.ak.b(b);\n    var h = this.ak.b(c);\n    var i = new PointList();\n    var j = new PointList();\n    var k = g.b;\n    var l = h.b;\n\n    for (var m = k; m <= l; m++) {\n      i.add({\n        $type: Point_$type,\n        x: this.ak.e._inner[m].c.x - e,\n        y: this.ak.e._inner[m].c.y - f\n      });\n    }\n\n    e += this.bz;\n\n    for (var n = l; n >= k; n--) {\n      var o = this.ak.e._inner[n].c;\n      j.add({\n        $type: Point_$type,\n        x: d + d - o.x - e,\n        y: o.y - f\n      });\n    }\n\n    a.c = i;\n    a.e = j;\n  };\n\n  XamFunnelController.prototype.bi = function (a, b) {\n    if (a.x != b.x || a.y != b.y) {\n      return true;\n    }\n\n    return false;\n  };\n\n  XamFunnelController.prototype.c0 = function (a, b) {\n    var c;\n    var d;\n    var e = 0,\n        f = this.b3;\n    e = this.bz / 2;\n    f -= e;\n\n    if (this.bd) {\n      c = {\n        $type: Point_$type,\n        x: b - a * this.bw / 2,\n        y: e\n      };\n      d = {\n        $type: Point_$type,\n        x: b - a / 2,\n        y: f\n      };\n    } else {\n      c = {\n        $type: Point_$type,\n        x: b - a / 2,\n        y: e\n      };\n      d = {\n        $type: Point_$type,\n        x: b - a * this.bw / 2,\n        y: f\n      };\n    }\n\n    var g = this.dy.y < this.dx.y ? this.dy : this.dx;\n    var h = this.dx.y > this.dy.y ? this.dx : this.dy;\n\n    if (g.y < 0) {\n      g.y = 0;\n    }\n\n    if (h.y > 1) {\n      h.y = 1;\n    }\n\n    if (this.bd) {\n      var i = h.x;\n      h.x = g.x;\n      g.x = i;\n      i = g.y;\n      g.y = 1 - h.y;\n      h.y = 1 - i;\n    }\n\n    var j = {\n      $type: Point_$type,\n      x: a * g.x,\n      y: this.b3 * g.y\n    };\n    var k = {\n      $type: Point_$type,\n      x: a * h.x,\n      y: this.b3 * h.y\n    };\n\n    if (this.ak == null || this.bi(c, this.ak.q) || this.bi(j, this.ak.r) || this.bi(k, this.ak.s) || this.bi(d, this.ak.t)) {\n      this.ak = new Bezier(c, j, k, d, 2, b);\n    }\n\n    if (this.ak == null) {\n      this.ay = false;\n    } else {\n      this.ay = this.ak.d;\n    }\n  };\n\n  XamFunnelController.prototype.ce = function (a) {\n    var b = this.as;\n    var c = b == null ? null : b.a;\n    return c == null || a >= c.count ? null : c.item(a);\n  };\n\n  XamFunnelController.prototype.cd = function (a) {\n    var b = this.ar;\n    var c = b == null ? null : b.a;\n    return c == null || a >= c.count ? null : c.item(a);\n  };\n\n  XamFunnelController.prototype.d2 = function (a) {\n    if (this.ai.c(a)) {\n      return this.d3;\n    }\n\n    if (this.ai.d(a) && this.bo) {\n      return this.d4;\n    }\n\n    return null;\n  };\n\n  XamFunnelController.prototype.dt = function (a) {\n    return this.d.item(a % this.d.count);\n  };\n\n  XamFunnelController.prototype.ds = function (a) {\n    return this.c.item(a % this.c.count);\n  };\n\n  XamFunnelController.prototype.by = function (a, b) {\n    var c = a * this.bw;\n\n    if (this.ay) {\n      var d = this.ak.b(b).c.x;\n      return (a / 2 - d) * 2;\n    } else {\n      if (this.bd) {\n        return a - (a - c) * ((this.b3 - b) / this.b3);\n      } else {\n        return a - (a - c) * (b / this.b3);\n      }\n    }\n  };\n\n  XamFunnelController.prototype.an = function () {\n    var _this = this;\n\n    var a = new IntColumn();\n    a.b(this.am.a.count);\n    a.c(function (b, c) {\n      if (_this.am.a.item(b) < _this.am.a.item(c)) {\n        return _this.bd ? -1 : 1;\n      }\n\n      if (_this.am.a.item(b) > _this.am.a.item(c)) {\n        return _this.bd ? 1 : -1;\n      }\n\n      return 0;\n    });\n    return a;\n  };\n\n  XamFunnelController.prototype.cw = function (a) {\n    this.cx(a);\n  };\n\n  XamFunnelController.prototype.cy = function () {\n    if (this.l != null) {\n      this.cx(this.l);\n    }\n  };\n\n  XamFunnelController.prototype.cx = function (a) {\n    var e_4, _a, e_5, _b;\n\n    this.dh(\"LeftLabels\");\n    this.dh(\"RightLabels\");\n    this.dh(\"SliceArea\");\n\n    if (a.g) {\n      this.di(\"LeftPanel\", a.j);\n      this.di(\"RightPanel\", 0);\n    } else {\n      this.di(\"LeftPanel\", 0);\n      this.di(\"RightPanel\", a.j);\n    }\n\n    this.ag = a.b;\n\n    try {\n      for (var _c = __values(fromEnum(a.b)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var b = _d.value;\n\n        if (b.h) {\n          var c = new RenderSliceMessage();\n          c.e = \"SliceArea\";\n          c.g = b.b;\n          c.h = this.bz;\n          this.y.i(c);\n        }\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    try {\n      for (var _e = __values(fromEnum(a.b)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var d = _f.value;\n\n        if (d.g) {\n          var e = new RenderOuterLabelMessage();\n\n          if (a.g) {\n            e.e = \"LeftLabels\";\n          } else {\n            e.e = \"RightLabels\";\n          }\n\n          e.j = d.l;\n          e.l = d.n;\n          e.h = a.j;\n          e.f = d;\n          this.y.i(e);\n        }\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    var f = new FrameRenderCompleteMessage();\n    this.y.i(f);\n  };\n\n  XamFunnelController.prototype.di = function (a, b) {\n    var c = new SetAreaSizeMessage();\n    c.e = a;\n    c.i = true;\n    c.m = b;\n    this.y.i(c);\n  };\n\n  XamFunnelController.prototype.bk = function () {\n    return this.b1 > 0;\n  };\n\n  XamFunnelController.prototype.dh = function (a) {\n    var b = new ClearMessage();\n    b.e = a;\n    this.y.i(b);\n  };\n\n  XamFunnelController.prototype.aq = function () {\n    return this.as;\n  };\n\n  XamFunnelController.prototype.cv = function (a) {\n    this.bj = true;\n  };\n\n  XamFunnelController.prototype.b7 = function (a) {\n    return Convert.toInt32(a);\n  };\n\n  XamFunnelController.prototype.de = function (a) {\n    var b = a;\n    var c = b.d;\n\n    switch (b.g) {\n      case \"TextStyle\":\n        this.cp = c != null ? c.toString() : \"\";\n        var d = new PropertyChangedMessage();\n        d.g = b.g;\n        d.e = b.e;\n        d.d = c;\n        this.y.i(d);\n        this.bj = true;\n        break;\n\n      case \"OuterLabelTextStyle\":\n        this.co = c != null ? c.toString() : \"\";\n        var e = new PropertyChangedMessage();\n        e.g = b.g;\n        e.e = b.e;\n        e.d = c;\n        this.y.i(e);\n        this.bj = true;\n        break;\n\n      case \"ValueColumn\":\n        this.am.b(c);\n        this.bj = true;\n        break;\n\n      case \"InnerLabelColumn\":\n        this.bb = false;\n        this.cf = c;\n        this.ar.b(c);\n        this.bj = true;\n        break;\n\n      case \"InnerLabelVisibility\":\n        this.bc = c;\n        this.bj = true;\n        break;\n\n      case \"OuterLabelVisibility\":\n        this.bh = c;\n        this.bj = true;\n        break;\n\n      case \"OuterLabelColumn\":\n        this.bg = false;\n        this.cg = c;\n        this.as.b(c);\n        this.bj = true;\n        break;\n\n      case \"ValueMemberPath\":\n        this.cq = typeCast(String_$type, c);\n        break;\n\n      case \"OuterLabelMemberPath\":\n        this.cn = typeCast(String_$type, c);\n        break;\n\n      case \"InnerLabelMemberPath\":\n        this.cm = typeCast(String_$type, c);\n        break;\n\n      case \"BottomEdgeWidth\":\n        this.bw = c;\n\n        if (this.bw > 1) {\n          this.bw = 1;\n        }\n\n        if (this.bw < 0.001) {\n          this.bw = 0.001;\n        }\n\n        this.bj = true;\n        break;\n\n      case \"Brushes\":\n        if (b.e != null) {\n          var f = b.e;\n          f.collectionChanged = delegateRemove(f.collectionChanged, this.bp);\n        }\n\n        if (c != null) {\n          var g = c;\n          g.collectionChanged = delegateCombine(g.collectionChanged, this.bp);\n        }\n\n        this.c = typeCast(BrushCollection.$, c);\n        this.bj = true;\n        break;\n\n      case \"Outlines\":\n        this.d = typeCast(BrushCollection.$, c);\n        this.bj = true;\n        break;\n\n      case \"OuterLabelAlignment\":\n        this.ae = EnumUtil.getEnumValue(OuterLabelAlignment_$type, c);\n        this.bj = true;\n        break;\n\n      case \"FunnelSliceDisplay\":\n        this.n = EnumUtil.getEnumValue(FunnelSliceDisplay_$type, c);\n        this.bj = true;\n        break;\n\n      case \"FormatInnerLabel\":\n        this.ar.b(this.cf);\n        this.bb = false;\n        this.cb = c;\n        this.bj = true;\n        break;\n\n      case \"FormatOuterLabel\":\n        this.as.b(this.cg);\n        this.cc = c;\n        this.bg = false;\n        this.bj = true;\n        break;\n\n      case \"IsInverted\":\n        this.bd = c;\n        this.bj = true;\n        break;\n\n      case \"TransitionDuration\":\n        this.av.r = this.b7(c);\n        this.b1 = this.av.r;\n        break;\n\n      case \"AllowSliceSelection\":\n        this.a8 = c;\n        break;\n\n      case \"SelectedSliceStyle\":\n        this.d3 = c;\n        this.bj = true;\n        break;\n\n      case \"UnselectedSliceStyle\":\n        this.d4 = c;\n        this.bj = true;\n        break;\n\n      case \"UseUnselectedStyle\":\n        this.bo = c;\n        this.bj = true;\n        break;\n\n      case \"UseBezierCurve\":\n        this.bm = c;\n        this.bj = true;\n        break;\n\n      case \"UpperBezierControlPoint\":\n        this.dy = c;\n        this.bj = true;\n        break;\n\n      case \"LowerBezierControlPoint\":\n        this.dx = c;\n        this.bj = true;\n        break;\n\n      case \"ItemProvider\":\n        this.s = c;\n        break;\n\n      case \"ToolTip\":\n        var h = new TooltipValueChangedMessage();\n\n        if (c != null) {\n          this.ba = true;\n        } else {\n          this.ba = false;\n          var i = new ClearTooltipMessage();\n          this.y.i(i);\n        }\n\n        h.g = c;\n        this.y.i(h);\n        break;\n\n      case \"Legend\":\n        this.c6(c);\n        this.bj = true;\n        break;\n\n      case \"LegendItemTemplate\":\n        this.dr = c;\n        this.bj = true;\n        break;\n\n      case \"LegendItemBadgeTemplate\":\n        this.dq = c;\n        this.bj = true;\n        break;\n\n      case \"UseOuterLabelsForLegend\":\n        this.bn = c;\n        this.bj = true;\n        break;\n\n      case \"OutlineThickness\":\n        this.br = c;\n        this.bj = true;\n        this.y.i(b);\n        break;\n\n      case \"Container\":\n      case \"PixelScalingRatio\":\n      case \"ActualPixelScalingRatio\":\n      case \"OuterLabelTextColor\":\n      case \"LabelTextColor\":\n        if (b.g == \"Container\") {\n          var j = b.d;\n          this.av.u(j);\n        }\n\n        var k = new PropertyChangedMessage();\n        k.g = b.g;\n        k.e = b.e;\n        k.d = c;\n        this.y.i(k);\n        break;\n    }\n  };\n\n  Object.defineProperty(XamFunnelController.prototype, \"dr\", {\n    get: function () {\n      return this.dp;\n    },\n    set: function (a) {\n      this.dp = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelController.prototype, \"dq\", {\n    get: function () {\n      return this.dn;\n    },\n    set: function (a) {\n      this.dn = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelController.prototype.c6 = function (a) {\n    if (this.o != null) {\n      this.o.clearLegendItemsForSeries(this.ac.b(\"Model\"));\n    }\n\n    this.o = a;\n  };\n\n  XamFunnelController.prototype.dg = function (a) {\n    var e_6, _a;\n\n    var _this = this;\n\n    var b = new List$1(UIElement.$, 0);\n\n    var _loop_1 = function (c) {\n      var d = new ContentControl();\n      var e = \"\";\n\n      if (c.b.v != null) {\n        if (this_1.bn && c.l != null) {\n          e = c.l.toString();\n        } else {\n          e = c.b.v.toString();\n        }\n      } else if (c.l != null) {\n        e = c.l.toString();\n      }\n\n      var f = null;\n      var g = null;\n\n      if (f == null && c.b.ad != null) {\n        f = c.b.ad;\n      }\n\n      if (g == null && c.b.ag != null) {\n        g = c.b.ag;\n      }\n\n      var h = null;\n\n      if (this_1.s != null) {\n        h = this_1.s.getItem(c.b.s);\n      }\n\n      d.content = function () {\n        var $ret = new FunnelSliceDataContext();\n        $ret.series = _this.ac.b(\"Model\");\n        $ret.item = h;\n        $ret.itemBrush = f;\n        $ret.itemLabel = e;\n        $ret.thickness = _this.bz;\n        $ret.outline = g;\n        $ret.itemOutline = g;\n        return $ret;\n      }();\n\n      d.ah = this_1.dr;\n      b.add(d);\n    };\n\n    var this_1 = this;\n\n    try {\n      for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var c = _c.value;\n\n        _loop_1(c);\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    if (this.o != null) {\n      if (this.o.isItemwise) {\n        var i = this.o;\n        i.createItemwiseLegendItems(b, this.ac.b(\"Model\"));\n      }\n    }\n  };\n\n  XamFunnelController.prototype.dm = function (a) {\n    var b = a;\n\n    switch (b.g) {\n      case \"OuterLabelWidthDecider\":\n        this.u = typeCast(IOuterLabelWidthDecider_$type, b.d);\n        this.bj = true;\n        break;\n\n      case \"FunnelLabelSizeDecider\":\n        this.q = typeCast(IFunnelLabelSizeDecider_$type, b.d);\n        this.bj = true;\n        break;\n    }\n  };\n\n  XamFunnelController.prototype.dl = function (a) {\n    var b = a;\n    this.b4 = b.e;\n    this.b3 = b.d;\n    this.bj = true;\n  };\n\n  XamFunnelController.prototype.c3 = function (a) {\n    var b = a;\n\n    if (b.e == 1) {\n      return;\n    }\n\n    if (b.c == 1) {\n      this.ca = this.b9;\n    } else if (b.c == 0) {\n      var c = this.ca;\n      this.ca = -1;\n\n      if (b.f == 0) {} else if (b.f != 2) {\n        return;\n      }\n\n      if (c == this.b9) {\n        this.c8(c);\n      }\n    }\n  };\n\n  XamFunnelController.prototype.c8 = function (a) {\n    if (a < 0 || a > this.am.a.count - 1) {\n      return;\n    }\n\n    if (this.a8) {\n      this.ai.k(a, this.am.a.item(a));\n      var b = this.ai.a();\n      var c = new SelectedItemsChangedMessage();\n      c.c = b;\n      this.x.i(c);\n      this.bj = true;\n    }\n\n    var d = new SliceClickedMessage();\n    d.c = a;\n    d.item = this.am.a.item(a);\n    d.f = this.dz;\n    this.x.i(d);\n  };\n\n  XamFunnelController.prototype.da = function (a) {\n    if (this.am != null && a >= 0 && a < this.am.a.count) {\n      var b = new SliceMouseMessage();\n      b.e = a;\n      b.item = this.am.a.item(a);\n      b.c = 0;\n      b.h = this.dz;\n      this.x.i(b);\n    }\n  };\n\n  XamFunnelController.prototype.db = function (a) {\n    if (this.am != null && a >= 0 && a < this.am.a.count) {\n      var b = new SliceMouseMessage();\n      b.e = a;\n      b.item = this.am.a.item(a);\n      b.c = 2;\n      b.h = this.dz;\n      this.x.i(b);\n    }\n  };\n\n  XamFunnelController.prototype.c9 = function (a) {\n    if (this.am != null && a >= 0 && a < this.am.a.count) {\n      var b = new SliceMouseMessage();\n      b.e = a;\n      b.item = this.am.a.item(a);\n      b.c = 1;\n      b.h = this.dz;\n      this.x.i(b);\n    }\n  };\n\n  XamFunnelController.prototype.c5 = function (a) {\n    var b = a;\n    var c = this.b9;\n    this.b9 = this.b8(b.c);\n\n    if (c != this.b9) {\n      if (c != -1) {\n        this.da(c);\n      }\n\n      if (this.b9 != -1) {\n        this.c9(this.b9);\n      }\n    } else {\n      if (this.b9 != -1) {\n        this.db(this.b9);\n      }\n    }\n\n    if (this.ba) {\n      this.dj(b.c);\n    }\n  };\n\n  XamFunnelController.prototype.c4 = function (a) {\n    var b = this.b9;\n    this.b9 = -1;\n\n    if (b != -1) {\n      this.da(b);\n    }\n\n    var c = new ClearTooltipMessage();\n    this.y.i(c);\n  };\n\n  XamFunnelController.prototype.dj = function (a) {\n    var b = new FunnelDataContext();\n\n    if (this.s != null && this.b9 >= 0 && this.b9 < this.s.count) {\n      b.item = this.s.getItem(this.b9);\n    }\n\n    b.b = this.b9;\n\n    if (b.b < 0) {\n      var c = new ClearTooltipMessage();\n      this.y.i(c);\n      return;\n    }\n\n    var d = new TooltipUpdateMessage();\n    d.g = b;\n    d.i = this.dw(a, b);\n    this.y.i(d);\n  };\n\n  XamFunnelController.prototype.dw = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a.x + 10,\n      y: a.y + 10\n    };\n    return c;\n  };\n\n  XamFunnelController.prototype.b8 = function (a) {\n    if (!this.bf()) {\n      return -1;\n    }\n\n    var b = a.y;\n    var c = a.x;\n    var d = this.i();\n\n    if (d.g) {\n      c -= d.j;\n    }\n\n    var e = this.af(b);\n\n    if (e == null) {\n      return -1;\n    }\n\n    var f = this.bx();\n    var g = this.by(f, b);\n    var h = g / 2;\n    var i = f / 2;\n    var j = new Rect(0, e.b.ar.x, e.b.ar.y, Math.max(e.b.ap.x - e.b.ar.x, 0), Math.max(e.b.ap.y - e.b.ar.y, 0));\n\n    if (c >= i - h && c <= i + h) {\n      this.dz = j;\n      return e.j;\n    } else {\n      return -1;\n    }\n  };\n\n  XamFunnelController.prototype.bx = function () {\n    var a = this.i();\n    return this.b4 - a.j;\n  };\n\n  XamFunnelController.prototype.af = function (a) {\n    var b = this.i();\n    var c = b.b.ad(a);\n\n    if (c >= 0 && c < b.b.count) {\n      return b.b._inner[c];\n    }\n\n    return null;\n  };\n\n  XamFunnelController.prototype.i = function () {\n    var a = null;\n\n    if (this.a9) {\n      a = this.j;\n    } else {\n      a = this.h;\n    }\n\n    return a;\n  };\n\n  XamFunnelController.prototype.dk = function (a) {\n    var b = a;\n    this.ai.i(b.c, this.am);\n    this.bj = true;\n  };\n\n  XamFunnelController.prototype.c1 = function (a) {\n    this.cs(a);\n  };\n\n  XamFunnelController.prototype.cs = function (a) {\n    var b = this.i();\n\n    if (a.c == -1) {\n      this.bj = true;\n    } else {\n      var c = b.b._inner[a.c];\n\n      if (a.b) {\n        if (a.d.width > b.j) {\n          this.bj = true;\n        }\n\n        if (a.d.height != a.e.height) {\n          this.bj = true;\n        }\n\n        if (a.d.height > c.b.ap.y - c.b.as.y) {\n          this.bj = true;\n        }\n      } else {\n        if (a.d.height > c.b.ap.y - c.b.as.y) {\n          this.bj = true;\n        }\n      }\n    }\n  };\n\n  XamFunnelController.$t = markType(XamFunnelController, 'XamFunnelController');\n  return XamFunnelController;\n}(Base);\n\nexport { XamFunnelController };\n/**\n * @hidden\n */\n\nvar XamFunnelChart =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamFunnelChart, _super);\n\n  function XamFunnelChart() {\n    var _this = _super.call(this) || this;\n\n    _this.aq = null;\n    _this.as = null;\n    _this.ap = null;\n    _this.ax = null;\n    _this.bt = null;\n    _this.a2 = null;\n    _this.a0 = null;\n    _this.a1 = null;\n    _this.bu = null;\n    _this.bv = null;\n    _this.bk = new ObservableCollection$1(Base.$, 0);\n    _this.bh = new Dictionary$2(Base.$, Base.$, 0);\n    _this.b2 = null;\n    _this.b1 = null;\n    _this.sliceClicked = null;\n    _this.sliceEnter = null;\n    _this.sliceLeave = null;\n    _this.sliceHover = null;\n    _this.bz = null;\n    _this.bm = NaN;\n    _this.bl = 1;\n    _this.eq = null;\n    _this.er = null;\n    _this.bl = 1;\n    _this.bm = NaN;\n    var a = _this.bk;\n    a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ds));\n    _this.ar = new MessageHandler();\n\n    _this.ar.b(SliceClickedMessage.$, runOn(_this, _this.dw));\n\n    _this.ar.b(SliceMouseMessage.$, runOn(_this, _this.dx));\n\n    _this.ar.b(SelectedItemsChangedMessage.$, runOn(_this, _this.dt));\n\n    _this.ap = new MessageChannel();\n\n    _this.bt = function (b, c) {\n      return _this.db(c.action, c.position, c.count, c.propertyName);\n    };\n\n    _this.du();\n\n    _this.ab = XamFunnelChart.$;\n    _this.ax = new XamFunnelConnector(new XamFunnelView(), _this);\n\n    _this.legendItemTemplate = function () {\n      var $ret = new DataTemplate();\n      $ret.render = FunnelLegendTemplates.c;\n      $ret.measure = FunnelLegendTemplates.a;\n      return $ret;\n    }();\n\n    _this.legendItemBadgeTemplate = function () {\n      var $ret = new DataTemplate();\n      $ret.render = FunnelLegendTemplates.b;\n      $ret.measure = FunnelLegendTemplates.d;\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  XamFunnelChart.prototype.destroy = function () {\n    this.provideContainer(null);\n  };\n\n  Object.defineProperty(XamFunnelChart.prototype, \"ar\", {\n    get: function () {\n      return this.aq;\n    },\n    set: function (a) {\n      this.aq = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelChart.prototype.du = function () {\n    this.dp(XamFunnelChart.$$p[1], 0, this.bo);\n    this.dp(XamFunnelChart.$$p[6], enumGetBox(Visibility_$type, this.ey), enumGetBox(Visibility_$type, this.ey));\n    this.dp(XamFunnelChart.$$p[13], enumGetBox(OuterLabelAlignment_$type, this.au), enumGetBox(OuterLabelAlignment_$type, this.au));\n    this.dp(XamFunnelChart.$$p[4], enumGetBox(FunnelSliceDisplay_$type, this.ak), enumGetBox(FunnelSliceDisplay_$type, this.ak));\n    this.dp(XamFunnelChart.$$p[22], this.ev, this.ev);\n    this.dp(XamFunnelChart.$$p[12], this.eu, this.eu);\n    this.dv();\n  };\n\n  XamFunnelChart.prototype.dv = function () {\n    var a = new PropertyChangedMessage();\n    a.g = \"ItemProvider\";\n    a.e = null;\n    a.d = this;\n    this.ap.i(a);\n  };\n\n  Object.defineProperty(XamFunnelChart.prototype, \"at\", {\n    get: function () {\n      return this.as;\n    },\n    set: function (a) {\n      var b = this.as;\n      this.as = a;\n      this.dq(b, this.as);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelChart.prototype.dq = function (a, b) {\n    if (a != null) {\n      var c = typeCast(MessageChannel.$, a.b(\"ModelUpdateMessages\"));\n\n      if (c != null) {\n        c.h(runOn(this, this.df));\n      }\n\n      this.ap.g();\n    }\n\n    if (b != null) {\n      var d = typeCast(MessageChannel.$, b.b(\"ModelUpdateMessages\"));\n\n      if (d != null) {\n        d.e(runOn(this, this.df));\n      }\n\n      var e = typeCast(MessageChannel.$, b.b(\"ConfigurationMessages\"));\n      this.ap.f(e);\n    }\n  };\n\n  XamFunnelChart.prototype.df = function (a) {\n    this.ar.c(a);\n  };\n\n  XamFunnelChart.prototype.db = function (a, b, c, d) {\n    var e = function () {\n      var $ret = new DataUpdatedMessage();\n      $ret.g = b;\n      $ret.f = c;\n      $ret.i = d;\n      return $ret;\n    }();\n\n    switch (a) {\n      case 3:\n        e.c = 3;\n        break;\n\n      case 1:\n        e.c = 1;\n        break;\n\n      case 0:\n        e.c = 0;\n        break;\n\n      case 2:\n        e.c = 2;\n        break;\n\n      case 4:\n        e.c = 4;\n        break;\n    }\n\n    this.dp(\"ValueColumn\", this.a7, this.a7);\n    this.dp(\"InnerLabelColumn\", this.a3, this.a3);\n    this.dp(\"OuterLabelColumn\", this.a4, this.a4);\n    this.ap.i(e);\n  };\n\n  Object.defineProperty(XamFunnelChart.prototype, \"a7\", {\n    get: function () {\n      return this.a2;\n    },\n    set: function (a) {\n      if (this.a2 != a) {\n        var b = this.a2;\n        this.a2 = a;\n        this.dp(\"ValueColumn\", b, this.a2);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"a3\", {\n    get: function () {\n      return this.a0;\n    },\n    set: function (a) {\n      if (this.a0 != a) {\n        var b = this.a0;\n        this.a0 = a;\n        this.dp(\"InnerLabelColumn\", b, this.a3);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"a4\", {\n    get: function () {\n      return this.a1;\n    },\n    set: function (a) {\n      if (this.a1 != a) {\n        var b = this.a1;\n        this.a1 = a;\n        this.dp(\"OuterLabelColumn\", b, this.a4);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"bw\", {\n    get: function () {\n      return this.bu;\n    },\n    set: function (a) {\n      var b = this.bu;\n      this.bu = a;\n      this.dp(\"FormatInnerLabel\", b, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"bx\", {\n    get: function () {\n      return this.bv;\n    },\n    set: function (a) {\n      var b = this.bv;\n      this.bv = a;\n      this.dp(\"FormatOuterLabel\", b, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"bj\", {\n    get: function () {\n      return this.bk;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"cz\", {\n    get: function () {\n      return this.b2;\n    },\n    set: function (a) {\n      var b = this.b2;\n      this.b2 = a;\n      this.dp(\"TextStyle\", b, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"cr\", {\n    get: function () {\n      return this.b1;\n    },\n    set: function (a) {\n      var b = this.b1;\n      this.b1 = a;\n      this.dp(\"OuterLabelTextStyle\", b, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelChart.prototype.onDetachedFromUI = function () {\n    this.ax.e.az();\n  };\n\n  XamFunnelChart.prototype.onAttachedToUI = function () {\n    this.ax.e.ax(this);\n  };\n\n  XamFunnelChart.prototype.dp = function (a, b, c) {\n    if (this.ba(a, b, c) || this.a9(a, b, c) || this.bc(a, b, c) || this.bb(a, b, c)) {\n      return;\n    }\n\n    if (a == \"PixelScalingRatio\") {\n      if (isNaN_(DeviceUtils.a(this.bs))) {\n        this.bn = 1;\n      } else {\n        this.bn = DeviceUtils.a(this.bs);\n      }\n    }\n\n    this.ap.i(function () {\n      var $ret = new PropertyChangedMessage();\n      $ret.g = a;\n      $ret.e = b;\n      $ret.d = c;\n      return $ret;\n    }());\n  };\n\n  XamFunnelChart.prototype.a9 = function (a, b, c) {\n    if (a == XamFunnelChart.$$p[2] || a == XamFunnelChart.$$p[16]) {\n      this.ap.i(function () {\n        var $ret = new PropertyChangedMessage();\n        $ret.g = a;\n        $ret.e = b == null ? null : b;\n        $ret.d = c == null ? null : c;\n        return $ret;\n      }());\n      return true;\n    }\n\n    return false;\n  };\n\n  XamFunnelChart.prototype.ba = function (a, b, c) {\n    var _this = this;\n\n    if (a == XamFunnelChart.$$p[8]) {\n      if (b != null) {\n        this.az = null;\n      }\n\n      if (c != null) {\n        this.bj.clear();\n\n        this.az = function () {\n          var $ret = new FastItemsSource();\n          $ret.e = _this.itemsSource;\n          return $ret;\n        }();\n      }\n\n      return true;\n    } else if (a == XamFunnelChart.$$p[3]) {\n      if (b != null) {\n        var d = b;\n        d.event = delegateRemove(d.event, this.bt);\n      }\n\n      if (c != null) {\n        var e = c;\n        e.event = delegateCombine(e.event, this.bt);\n      }\n\n      this.dd(a, b, c);\n      return true;\n    } else if (a == XamFunnelChart.$$p[26] || a == XamFunnelChart.$$p[5] || a == XamFunnelChart.$$p[14]) {\n      this.dd(a, b, c);\n      return false;\n    }\n\n    return false;\n  };\n\n  XamFunnelChart.prototype.a5 = function (a, b) {\n    return a.registerColumn(b, null, false);\n  };\n\n  XamFunnelChart.prototype.a6 = function (a, b) {\n    return a.registerColumnObject(b, null, false);\n  };\n\n  XamFunnelChart.prototype.dd = function (a, b, c) {\n    if (this.az == null) {\n      var d = typeCast(FastItemsSource.$, b);\n\n      if (d != null) {\n        if (this.a7 != null) {\n          d.deregisterColumn(this.a7);\n        }\n\n        if (this.a3 != null) {\n          d.deregisterColumn(this.a3);\n        }\n\n        if (this.a4 != null) {\n          d.deregisterColumn(this.a4);\n        }\n\n        this.a7 = null;\n        this.a3 = null;\n        this.a4 = null;\n      }\n\n      return;\n    }\n\n    if (b != null && typeof b === 'string') {\n      switch (a) {\n        case XamFunnelChart.$$p[26]:\n          this.az.deregisterColumn(this.a7);\n          this.a7 = null;\n          break;\n\n        case XamFunnelChart.$$p[5]:\n          this.az.deregisterColumn(this.a3);\n          this.a3 = null;\n          break;\n\n        case XamFunnelChart.$$p[14]:\n          this.az.deregisterColumn(this.a4);\n          this.a4 = null;\n          break;\n      }\n    }\n\n    if (c != null && typeCast(FastItemsSource.$, c) !== null) {\n      if (this.c9 != null) {\n        this.a7 = this.a5(c, this.c9);\n      }\n\n      if (this.cd != null) {\n        this.a3 = this.a6(c, this.cd);\n      }\n\n      if (this.co != null) {\n        this.a4 = this.a6(c, this.co);\n      }\n    }\n\n    if (c != null && typeof c === 'string') {\n      switch (a) {\n        case XamFunnelChart.$$p[26]:\n          this.a7 = this.a5(this.az, this.c9);\n          break;\n\n        case XamFunnelChart.$$p[5]:\n          this.a3 = this.a6(this.az, this.cd);\n          break;\n\n        case XamFunnelChart.$$p[14]:\n          this.a4 = this.a6(this.az, this.co);\n          break;\n      }\n    }\n  };\n\n  XamFunnelChart.prototype.bc = function (a, b, c) {\n    if (a == XamFunnelChart.$$p[6] || a == XamFunnelChart.$$p[15]) {\n      var d_1 = EnumUtil.getEnumValue(Visibility_$type, b) == 0;\n      var e_7 = EnumUtil.getEnumValue(Visibility_$type, c) == 0;\n      this.ap.i(function () {\n        var $ret = new PropertyChangedMessage();\n        $ret.g = a;\n        $ret.d = e_7;\n        $ret.e = d_1;\n        return $ret;\n      }());\n      return true;\n    }\n\n    return false;\n  };\n\n  XamFunnelChart.prototype.bb = function (a, b, c) {\n    if (a == XamFunnelChart.$$p[20]) {\n      var d = new PropertyChangedMessage();\n      d.g = a;\n\n      if (b != null) {\n        d.e = b;\n      }\n\n      if (c != null) {\n        d.d = c;\n      }\n\n      this.ap.i(d);\n      return true;\n    }\n\n    return false;\n  };\n\n  XamFunnelChart.prototype.dw = function (a) {\n    var b = a;\n\n    if (this.sliceClicked != null) {\n      var c = new FunnelSliceClickedEventArgs();\n      c.index = b.c;\n      c.bounds = b.f;\n\n      if (this.az.count > b.c && b.c >= 0) {\n        c.item = this.az.item(b.c);\n      }\n\n      this.sliceClicked(this, c);\n    }\n  };\n\n  XamFunnelChart.prototype.dx = function (a) {\n    var b = a;\n\n    switch (b.c) {\n      case 1:\n        {\n          if (this.sliceEnter != null) {\n            var c = new FunnelSliceEventArgs();\n            c.index = b.e;\n            c.bounds = b.h;\n\n            if (this.az.count > b.e && b.e >= 0) {\n              c.item = this.az.item(b.e);\n            }\n\n            this.sliceEnter(this, c);\n          }\n\n          break;\n        }\n\n      case 0:\n        {\n          if (this.sliceLeave != null) {\n            var d = new FunnelSliceEventArgs();\n            d.index = b.e;\n            d.bounds = b.h;\n\n            if (this.az.count > b.e && b.e >= 0) {\n              d.item = this.az.item(b.e);\n            }\n\n            this.sliceLeave(this, d);\n          }\n\n          break;\n        }\n\n      case 2:\n        {\n          if (this.sliceHover != null) {\n            var e = new FunnelSliceEventArgs();\n            e.index = b.e;\n            e.bounds = b.h;\n\n            if (this.az.count > b.e && b.e >= 0) {\n              e.item = this.az.item(b.e);\n            }\n\n            this.sliceHover(this, e);\n          }\n\n          break;\n        }\n    }\n  };\n\n  XamFunnelChart.prototype.dt = function (a) {};\n\n  XamFunnelChart.prototype.ds = function (a, b) {};\n\n  XamFunnelChart.prototype.de = function (a, b, c, d) {\n    var e_8, _a, e_9, _b, e_10, _c;\n\n    var e = new List$1(Base.$, 0);\n\n    try {\n      for (var _d = __values(fromEnum(a)), _e = _d.next(); !_e.done; _e = _d.next()) {\n        var f = _e.value;\n\n        if (!d.containsKey(f)) {\n          e.add1(f);\n        }\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    try {\n      for (var _f = __values(fromEnum(e)), _g = _f.next(); !_g.done; _g = _f.next()) {\n        var g = _g.value;\n        a.remove(g);\n        b.removeItem(g);\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    try {\n      for (var _h = __values(fromEnum(c)), _j = _h.next(); !_j.done; _j = _h.next()) {\n        var h = _j.value;\n\n        if (!b.containsKey(h)) {\n          a.add(h);\n          b.addItem(h, h);\n        }\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (_j && !_j.done && (_c = _h.return)) _c.call(_h);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n  };\n\n  XamFunnelChart.prototype.getItem = function (a) {\n    return this.az.item(a);\n  };\n\n  Object.defineProperty(XamFunnelChart.prototype, \"count\", {\n    get: function () {\n      return this.az != null ? this.az.count : 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelChart.prototype.provideContainer = function (a) {\n    var b = this.bz;\n    this.bz = a;\n    this.dp(\"Container\", b, this.bz);\n  };\n\n  XamFunnelChart.prototype.notifyResized = function () {\n    this.ax.g();\n    this.ap.i(new ContainerSizeChangedMessage());\n  };\n\n  XamFunnelChart.prototype.dl = function (source_, a, b, c) {\n    this.dh(source_, new NotifyCollectionChangedEventArgs(2, 2, c, b, a));\n  };\n\n  XamFunnelChart.prototype.dg = function (source_) {\n    this.dh(source_, new NotifyCollectionChangedEventArgs(0, 4));\n  };\n\n  XamFunnelChart.prototype.di = function (source_, a, b) {\n    this.dh(source_, new NotifyCollectionChangedEventArgs(1, 0, b, a));\n  };\n\n  XamFunnelChart.prototype.dj = function (source_, a, b) {\n    this.dh(source_, new NotifyCollectionChangedEventArgs(1, 1, b, a));\n  };\n\n  XamFunnelChart.prototype.dh = function (s_, a) {\n    if (s_.dataView && s_.dataSource) {\n      s_ = s_.dataView();\n    }\n\n    ;\n\n    if (s_ == this.itemsSource) {\n      var b = this.az;\n\n      if (b != null) {\n        b.handleCollectionChanged(a);\n      }\n    }\n  };\n\n  XamFunnelChart.prototype.ay = function () {\n    var a = this.ax;\n    return a == null ? null : a.c;\n  };\n\n  XamFunnelChart.prototype.av = function () {\n    var a = this.ay();\n    return a == null ? null : a.ai;\n  };\n\n  Object.defineProperty(XamFunnelChart.prototype, \"ag\", {\n    get: function () {\n      var a = this.av();\n      return a == null ? null : a.a();\n    },\n    set: function (a) {\n      var b = this.av();\n\n      if (b == null) {\n        return;\n      }\n\n      var c = this.ay();\n      b.f();\n      var d = a == null ? 0 : a.length;\n\n      while (d-- > 0) {\n        b.k(a[d], c.am.a.item(a[d]));\n      }\n\n      c.bj = true;\n      c.df();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelChart.prototype.dy = function (a) {\n    var b = this.av();\n\n    if (b == null) {\n      return;\n    }\n\n    var c = this.ay();\n    var d = c.am.a.item(a);\n\n    if (d != null) {\n      c.ai.k(a, d);\n      c.bj = true;\n      c.df();\n    }\n  };\n\n  XamFunnelChart.prototype.aw = function () {\n    var a = new FunnelChartVisualData();\n    var b = this.ax.c.ag;\n\n    if (b != null) {\n      for (var c = 0; c < b.count; c++) {\n        var d = b._inner[c].d();\n\n        a.slices.add(d);\n      }\n    }\n\n    a.opacity = this._opacity;\n    a.isInverted = this.bd;\n    a.selectedItems = this.bj;\n    a.name = this.name;\n    a.viewport = new RectData(0, 0, this.ax.c.b4, this.ax.c.b3);\n    return a;\n  };\n\n  XamFunnelChart.prototype.b7 = function () {\n    var a = this.aw();\n    a.scaleByViewport();\n    return a.serialize();\n  };\n\n  XamFunnelChart.prototype.resolveLegendIndex = function () {\n    return -1;\n  };\n\n  XamFunnelChart.prototype.forSubItems = function (a) {};\n\n  Object.defineProperty(XamFunnelChart.prototype, \"bs\", {\n    get: function () {\n      return this.bm;\n    },\n    set: function (a) {\n      if (isNaN_(a) || a == 0) {\n        return;\n      }\n\n      var b = this.bm;\n      this.bm = a;\n      this.dp(\"PixelScalingRatio\", b, this.bm);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"bn\", {\n    get: function () {\n      return this.bl;\n    },\n    set: function (a) {\n      var b = this.bl;\n      this.bl = a;\n\n      if (this.bl != b) {\n        this.dp(\"ActualPixelScalingRatio\", b, this.bl);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"container\", {\n    get: function () {\n      return this;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"isStacked\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"isVertical\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"isUsableInLegend\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"hasSubItems\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"hasMarkers\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"es\", {\n    get: function () {\n      return this.eq;\n    },\n    set: function (a) {\n      var b = this.es;\n\n      if (a != b) {\n        this.eq = a;\n        this.dp(\"OuterLabelTextColor\", b, this.es);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelChart.prototype, \"et\", {\n    get: function () {\n      return this.er;\n    },\n    set: function (a) {\n      var b = this.et;\n\n      if (a != b) {\n        this.er = a;\n        this.dp(\"LabelTextColor\", b, this.et);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  XamFunnelChart.$t = markType(XamFunnelChart, 'XamFunnelChart', Control.$, [IItemProvider_$type, ILegendOwner_$type, ILegendTemplateProvider_$type, ILegendSeries_$type]);\n  XamFunnelChart.$$p = markDep(DependencyProperty, PropertyMetadata, XamFunnelChart, 'dp', ['AllowSliceSelection:a8:dz', [0, false], 'BottomEdgeWidth:bo:d0', [1, 0.35], 'Brushes:ah:d1', [BrushCollection.$, null], 'FastItemsSource:az:d2', [FastItemsSource.$], 'FunnelSliceDisplay:ak:d3', [FunnelSliceDisplay_$type, enumGetBox(FunnelSliceDisplay_$type, 0)], 'InnerLabelMemberPath:cd:d4', [2, null], 'InnerLabelVisibility:ey:d5', [Visibility_$type, enumGetBox(Visibility_$type, 0)], 'IsInverted:bd:d6', [0, false], 'ItemsSource::d7', [IEnumerable_$type, null], 'LegendItemBadgeTemplate::d8', [DataTemplate.$, null], 'LegendItemTemplate::d9', [DataTemplate.$, null], 'Legend::ea', [IChartLegend_$type, null], 'LowerBezierControlPoint:eu:eb', [Point_$type, {\n    $type: Point_$type,\n    x: 0.5,\n    y: 1\n  }], 'OuterLabelAlignment:au:ec', [OuterLabelAlignment_$type, enumGetBox(OuterLabelAlignment_$type, 0)], 'OuterLabelMemberPath:co:ed', [2, null], 'OuterLabelVisibility:ez:ee', [Visibility_$type, enumGetBox(Visibility_$type, 1)], 'Outlines:ai:ef', [BrushCollection.$, null], 'OutlineThickness:bq:eg', [1, -1], 'SelectedSliceStyle:ew:eh', [Style.$, null], 'ToolTip:b0:ei', [4, null], 'TransitionDuration:by:ej', [1, 0], 'UnselectedSliceStyle:ex:ek', [Style.$, null], 'UpperBezierControlPoint:ev:el', [Point_$type, {\n    $type: Point_$type,\n    x: 0.5,\n    y: 0\n  }], 'UseBezierCurve:be:em', [0, false], 'UseOuterLabelsForLegend:bf:en', [0, false], 'UseUnselectedStyle:bg:eo', [0, false], 'ValueMemberPath:c9:ep', [2, null]]);\n  return XamFunnelChart;\n}(Control);\n\nexport { XamFunnelChart };\n/**\n * @hidden\n */\n\nvar XamFunnelConnector =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamFunnelConnector, _super);\n\n  function XamFunnelConnector(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.d = null;\n    _this.b = null;\n    _this.a = null;\n    var c = new ServiceProvider();\n    c.c(\"ConfigurationMessages\", new MessageChannel());\n    c.c(\"RenderingMessages\", new MessageChannel());\n    c.c(\"InteractionMessages\", new MessageChannel());\n    c.c(\"ModelUpdateMessages\", new MessageChannel());\n    a.av(b);\n    var d = new XamFunnelController();\n    d.at = a;\n    d.ac = c;\n    a.i = c;\n    _this.b = d;\n    _this.d = a;\n    b.at = c;\n    _this.a = b;\n    c.c(\"Model\", _this.a);\n    return _this;\n  }\n\n  Object.defineProperty(XamFunnelConnector.prototype, \"e\", {\n    get: function () {\n      return this.d;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamFunnelConnector.prototype, \"c\", {\n    get: function () {\n      return this.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamFunnelConnector.prototype.g = function () {\n    this.c.at.av(this.a);\n  };\n\n  XamFunnelConnector.prototype.h = function (a) {\n    this.d = a;\n    var b = this.b.ac;\n    this.b.ac = null;\n    this.b.ac = b;\n    this.d.i = b;\n  };\n\n  XamFunnelConnector.prototype.f = function () {\n    if (this.d != null) {\n      this.d.i = null;\n    }\n  };\n\n  XamFunnelConnector.$t = markType(XamFunnelConnector, 'XamFunnelConnector');\n  return XamFunnelConnector;\n}(Base);\n\nexport { XamFunnelConnector };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/XamFunnelView_combined.js"],"names":["__extends","__values","Base","Point_$type","typeCast","runOn","delegateCombine","fromEnum","markType","String_$type","delegateRemove","EnumUtil","IEnumerable_$type","enumGetBox","markDep","IOuterLabelWidthDecider_$type","IFunnelLabelSizeDecider_$type","ServiceProvider","MessageChannel","MouseLeaveMessage","MouseMoveMessage","MouseButtonMessage","Rect","RenderingContext","SetAreaSizeMessage","RenderingMessage","Polygon","PointCollection","TextBlock","RenderSliceMessage","List$1","Brush","RenderOuterLabelMessage","SliceInfo","TooltipValueChangedMessage","TooltipUpdateMessage","FunnelDataContext","PropertyChangedMessage","FontUtil","CanvasViewRenderer","DOMEventProxy","BrushCollection","BrushUtil","MessageHandler","ClearMessage","ClearTooltipMessage","ContainerSizeChangedMessage","ViewportChangedMessage","ViewPropertyChangedMessage","ObjectColumn","Size","isNaN_","stringReplace","SliceInfoList","DoubleAnimator","Bezier","DoubleColumn","OuterLabelAlignment_$type","FunnelSliceDisplay_$type","IItemProvider_$type","SliceSelectionManager","FunnelFrame","Style","IChartLegend_$type","DataTemplate","DataUpdatedMessage","UserSelectedItemsChangedMessage","LabelSizeChangedMessage","NotifyCollectionChangedEventArgs","FrameRenderCompleteMessage","IntColumn","PointList","Convert","ObservableCollection$1","ILegendSeries_$type","UIElement","ContentControl","FunnelSliceDataContext","Control","SliceClickedMessage","SelectedItemsChangedMessage","SliceMouseMessage","ILegendOwner_$type","ILegendTemplateProvider_$type","DependencyProperty","FastItemsSource","Visibility_$type","Dictionary$2","FunnelLegendTemplates","DeviceUtils","FunnelSliceClickedEventArgs","FunnelSliceEventArgs","FunnelChartVisualData","RectData","PropertyMetadata","XamFunnelView","_super","_this","call","g","h","f","bg","ad","ae","ah","ai","ag","af","o","q","r","p","j","be","bf","k","l","x","y","z","u","v","aj","c","e","t","w","NaN","a9","a8","a","b","$","ap","a6","a5","ba","bc","bb","ar","a3","as","Object","defineProperty","prototype","get","set","a1","enumerable","configurable","am","i","an","d","al","bi","ao","l_op_Equality","left","top","width","height","aq","aa","m","au","count","_inner","add","$type","ak","ac","_opacity","_fill","_stroke","a0","toString","ab","n","ax","a2","_visibility","rootWrapper","getStyleProperty","ay","az","bh","av","at","x_","y_","t_","v_","i_","item","ren_","dc_","tt_","updateToolTip","setRawPosition","hideToolTip","toFontInfo","a4","setTimeout","window","setStyleProperty","createElement","append","get2DCanvasContext","onMouseOver","onMouseLeave","onMouseDown","onMouseUp","parseInt","getFontForClass","getFont","getCurrentFontHeight","p2","p3","addClass","length","removeClass","a7","bs","bn","devicePixelRatio","undefined","aw","bd","setAttribute","bl","decideWidth","e_1","_a","_b","_c","next","done","value","Math","max","e_1_1","error","return","decideLabelSize","s","f_","c_","data","Array","$t","XamFunnelController","bp","cf","cg","cb","cc","cl","ci","ch","bv","bu","bt","bq","dv","du","b5","b6","d0","d1","ck","cj","br","dp","dn","dz","propertyChanged","cz","de","cv","dl","dm","c5","c3","c4","dk","c1","bj","df","b2","cw","c7","c2","b3","b4","cu","dc","bk","dh","ct","clear","dd","b0","abs","e_2","e_3","bm","c0","_d","e_2_1","bz","_e","_f","by","ds","dt","d2","cr","cd","ce","e_3_1","dg","bw","dy","dx","d3","bo","d4","cx","cy","e_4","e_5","di","e_4_1","e_5_1","b1","b7","toInt32","cp","co","cq","cn","cm","collectionChanged","getEnumValue","c6","dr","dq","clearLegendItemsForSeries","e_6","_loop_1","this_1","getItem","content","$ret","series","itemBrush","itemLabel","thickness","outline","itemOutline","e_6_1","isItemwise","createItemwiseLegendItems","ca","b9","c8","da","db","c9","b8","dj","dw","bx","cs","XamFunnelChart","sliceClicked","sliceEnter","sliceLeave","sliceHover","eq","er","action","position","propertyName","XamFunnelConnector","legendItemTemplate","render","measure","legendItemBadgeTemplate","destroy","provideContainer","$$p","ey","ev","eu","onDetachedFromUI","onAttachedToUI","itemsSource","event","registerColumn","registerColumnObject","deregisterColumn","d_1","e_7","index","bounds","e_8","e_9","e_10","containsKey","add1","e_8_1","_g","remove","removeItem","e_9_1","_h","_j","addItem","e_10_1","notifyResized","source_","s_","dataView","dataSource","handleCollectionChanged","slices","opacity","isInverted","selectedItems","name","viewport","scaleByViewport","serialize","resolveLegendIndex","forSubItems","es","et"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, typeCast, runOn, delegateCombine, fromEnum, markType, String_$type, delegateRemove, EnumUtil, IEnumerable_$type, enumGetBox, markDep } from \"igniteui-react-core\";\nimport { IOuterLabelWidthDecider_$type } from \"./IOuterLabelWidthDecider\";\nimport { IFunnelLabelSizeDecider_$type } from \"./IFunnelLabelSizeDecider\";\nimport { ServiceProvider } from \"./ServiceProvider\";\nimport { MessageChannel } from \"./MessageChannel\";\nimport { MouseLeaveMessage } from \"./MouseLeaveMessage\";\nimport { MouseMoveMessage } from \"./MouseMoveMessage\";\nimport { MouseButtonMessage } from \"./MouseButtonMessage\";\nimport { Rect } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { SetAreaSizeMessage } from \"./SetAreaSizeMessage\";\nimport { RenderingMessage } from \"./RenderingMessage\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { PointCollection } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { RenderSliceMessage } from \"./RenderSliceMessage\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { RenderOuterLabelMessage } from \"./RenderOuterLabelMessage\";\nimport { SliceInfo } from \"./SliceInfo\";\nimport { TooltipValueChangedMessage } from \"./TooltipValueChangedMessage\";\nimport { TooltipUpdateMessage } from \"./TooltipUpdateMessage\";\nimport { FunnelDataContext } from \"./FunnelDataContext\";\nimport { PropertyChangedMessage } from \"./PropertyChangedMessage\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DOMEventProxy } from \"igniteui-react-core\";\nimport { BrushCollection } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { MessageHandler } from \"./MessageHandler\";\nimport { ClearMessage } from \"./ClearMessage\";\nimport { ClearTooltipMessage } from \"./ClearTooltipMessage\";\nimport { ContainerSizeChangedMessage } from \"./ContainerSizeChangedMessage\";\nimport { ViewportChangedMessage } from \"./ViewportChangedMessage\";\nimport { ViewPropertyChangedMessage } from \"./ViewPropertyChangedMessage\";\nimport { ObjectColumn } from \"./ObjectColumn\";\nimport { Size } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringReplace } from \"igniteui-react-core\";\nimport { SliceInfoList } from \"./SliceInfoList\";\nimport { DoubleAnimator } from \"igniteui-react-core\";\nimport { Bezier } from \"./Bezier\";\nimport { DoubleColumn } from \"./DoubleColumn\";\nimport { OuterLabelAlignment_$type } from \"./OuterLabelAlignment\";\nimport { FunnelSliceDisplay_$type } from \"./FunnelSliceDisplay\";\nimport { IItemProvider_$type } from \"./IItemProvider\";\nimport { SliceSelectionManager } from \"./SliceSelectionManager\";\nimport { FunnelFrame } from \"./FunnelFrame\";\nimport { Style } from \"igniteui-react-core\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { DataTemplate } from \"igniteui-react-core\";\nimport { DataUpdatedMessage } from \"./DataUpdatedMessage\";\nimport { UserSelectedItemsChangedMessage } from \"./UserSelectedItemsChangedMessage\";\nimport { LabelSizeChangedMessage } from \"./LabelSizeChangedMessage\";\nimport { NotifyCollectionChangedEventArgs } from \"igniteui-react-core\";\nimport { FrameRenderCompleteMessage } from \"./FrameRenderCompleteMessage\";\nimport { IntColumn } from \"./IntColumn\";\nimport { PointList } from \"./PointList\";\nimport { Convert } from \"igniteui-react-core\";\nimport { ObservableCollection$1 } from \"igniteui-react-core\";\nimport { ILegendSeries_$type } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { FunnelSliceDataContext } from \"./FunnelSliceDataContext\";\nimport { Control } from \"igniteui-react-core\";\nimport { SliceClickedMessage } from \"./SliceClickedMessage\";\nimport { SelectedItemsChangedMessage } from \"./SelectedItemsChangedMessage\";\nimport { SliceMouseMessage } from \"./SliceMouseMessage\";\nimport { ILegendOwner_$type } from \"igniteui-react-core\";\nimport { ILegendTemplateProvider_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { FastItemsSource } from \"igniteui-react-core\";\nimport { Visibility_$type } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { FunnelLegendTemplates } from \"./FunnelLegendTemplates\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { FunnelSliceClickedEventArgs } from \"./FunnelSliceClickedEventArgs\";\nimport { FunnelSliceEventArgs } from \"./FunnelSliceEventArgs\";\nimport { FunnelChartVisualData } from \"./FunnelChartVisualData\";\nimport { RectData } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar XamFunnelView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamFunnelView, _super);\n    function XamFunnelView() {\n        var _this = _super.call(this) || this;\n        _this.g = null;\n        _this.h = null;\n        _this.f = null;\n        _this.bg = null;\n        _this.ad = null;\n        _this.ae = null;\n        _this.ah = null;\n        _this.ai = null;\n        _this.ag = null;\n        _this.af = null;\n        _this.o = null;\n        _this.q = null;\n        _this.r = null;\n        _this.p = null;\n        _this.j = null;\n        _this.be = null;\n        _this.bf = null;\n        _this.k = null;\n        _this.l = null;\n        _this.x = -1;\n        _this.y = -1;\n        _this.z = -1;\n        _this.u = 0;\n        _this.v = 0;\n        _this.aj = null;\n        _this.c = null;\n        _this.e = null;\n        _this.t = 1;\n        _this.w = NaN;\n        _this.t = 1;\n        _this.w = NaN;\n        _this.f = new MessageChannel();\n        _this.a9();\n        _this.a8();\n        var a = _this.g = new MessageHandler();\n        a.b(ClearMessage.$, runOn(_this, _this.ap));\n        a.b(RenderSliceMessage.$, runOn(_this, _this.a6));\n        a.b(RenderOuterLabelMessage.$, runOn(_this, _this.a5));\n        a.b(SetAreaSizeMessage.$, runOn(_this, _this.ba));\n        a.b(TooltipValueChangedMessage.$, runOn(_this, _this.bc));\n        a.b(TooltipUpdateMessage.$, runOn(_this, _this.bb));\n        a.b(ClearTooltipMessage.$, runOn(_this, _this.ar));\n        a.b(PropertyChangedMessage.$, runOn(_this, _this.a3));\n        a.b(ContainerSizeChangedMessage.$, function (b) { return _this.as(); });\n        _this.as();\n        return _this;\n    }\n    Object.defineProperty(XamFunnelView.prototype, \"i\", {\n        get: function () {\n            return this.h;\n        },\n        set: function (a) {\n            var b = this.h;\n            this.h = a;\n            this.a1(b, this.h);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelView.prototype.am = function (a) {\n        this.f.i(new MouseLeaveMessage());\n    };\n    XamFunnelView.prototype.an = function (a, b, c) {\n        var d = new MouseMoveMessage();\n        d.c = a;\n        this.f.i(d);\n    };\n    XamFunnelView.prototype.al = function (a) {\n        var b = new MouseButtonMessage();\n        b.h = a;\n        b.c = 1;\n        b.e = this.j.al ? 1 : 0;\n        b.f = this.j.bi;\n        this.f.i(b);\n    };\n    XamFunnelView.prototype.ao = function (a) {\n        var b = new MouseButtonMessage();\n        b.h = a;\n        b.c = 0;\n        b.e = this.j.al ? 1 : 0;\n        b.f = this.j.bi;\n        this.f.i(b);\n    };\n    XamFunnelView.prototype.ap = function (a) {\n        var b = this.bg;\n        if (Rect.l_op_Equality(b, null)) {\n            return;\n        }\n        var c = b.left, d = b.top, e = b.width, f = b.height;\n        this.aq(this.q, c, d, e, f);\n        this.aq(this.o, c, d, e, f);\n        this.aq(this.p, c, d, e, f);\n        this.aq(this.r, c, d, e, f);\n    };\n    XamFunnelView.prototype.aq = function (a, b, c, d, e) {\n        if (a != null) {\n            if (a.d && this.t != 1) {\n                a.z();\n                a.aa(this.t, this.t);\n            }\n            a.k(b, c, d, e);\n            if (a.d && this.t != 1) {\n                a.y();\n            }\n        }\n    };\n    XamFunnelView.prototype.ba = function (a) {\n        var b = a.m;\n        var c = a.e;\n        if (c == \"LeftPanel\") {\n            this.u = b;\n        }\n        if (c == \"RightPanel\") {\n            this.v = b;\n        }\n    };\n    XamFunnelView.prototype.a6 = function (a) {\n        var b = a.g;\n        var c = this.q;\n        if (c.d && this.t != 1) {\n            c.z();\n            c.aa(this.t, this.t);\n        }\n        var d = new Polygon();\n        var e = new PointCollection(0);\n        for (var f = 0; f < b.au.count; f++) {\n            var g = b.au._inner[f];\n            e.add({ $type: Point_$type, x: g.x + this.u + b.aq.x, y: g.y + b.aq.y });\n        }\n        d.ak = e;\n        d.ac = a.h;\n        d._opacity = b.p;\n        d._fill = b.ad;\n        d._stroke = a.h < 1 ? b.ad : b.ag;\n        if (b.a0 != null) {\n            c.i(d, b.a0);\n            b.ad = d._fill;\n            b.ag = d._stroke;\n            b.q = d.ac;\n            b.p = d._opacity;\n        }\n        c.t(d);\n        b.q = d.ac;\n        if (b.i) {\n            var h = new TextBlock();\n            if (this.bf == null) {\n                this.bf = new Brush();\n                this.bf._fill = this.ak(\"ui-funnel-slice\", \"color\", -1);\n            }\n            h.ao = this.bf;\n            c.ac(this.m());\n            var i = b.v.toString();\n            var j = c.f(i);\n            var k = this.ab();\n            h.al = i;\n            h.o = b.an.y + b.aq.y - (k / 2);\n            h.n = b.an.x + this.u + b.aq.x - (j / 2);\n            b.ax = new Rect(0, h.n, h.o, j, k);\n            b.a2 = h._visibility;\n            c.w(h);\n        }\n        if (c.d && this.t != 1) {\n            c.y();\n        }\n    };\n    XamFunnelView.prototype.a5 = function (a) {\n        var b = 0;\n        if (this.v > 0) {\n            b = this.bg.width - this.v;\n        }\n        var c = a;\n        var d = this.p;\n        if (d.d && this.t != 1) {\n            d.z();\n            d.aa(this.t, this.t);\n        }\n        var e = new TextBlock();\n        e.al = c.j.toString();\n        d.ac(this.n());\n        if (this.be == null) {\n            this.be = new Brush();\n            this.be._fill = this.ad.rootWrapper.getStyleProperty(\"color\");\n        }\n        e.ao = this.be;\n        var f = this.ac();\n        var g = c.l.y - f / 2;\n        var h = d.f(e.al);\n        e.n = b;\n        e.o = g;\n        c.f.b.ay = new Rect(0, b, g, h, f);\n        d.w(e);\n        if (d.d && this.t != 1) {\n            d.y();\n        }\n    };\n    XamFunnelView.prototype.az = function () {\n        if (this.j != null) {\n            this.j.bh(this.ae, \"\");\n        }\n    };\n    XamFunnelView.prototype.ax = function (a) {\n        this.av(a);\n        if (this.j != null) {\n            this.j.at(this.ae, \"\");\n        }\n    };\n    XamFunnelView.prototype.bc = function (a) {\n        this.aj = a.g;\n    };\n    XamFunnelView.prototype.bb = function (a) {\n        this.at(a);\n    };\n    XamFunnelView.prototype.ar = function (a) {\n        this.at(null);\n    };\n    XamFunnelView.prototype.at = function (a) {\n        var x_ = 0, y_ = 0;\n        var t_ = null, v_ = null, i_ = this.ad;\n        {\n            if (a != null) {\n                t_ = this.aj;\n                x_ = a.i.x + 6;\n                y_ = a.i.y + 6;\n                v_ = a.g.item;\n            }\n            var ren_ = this.ad;\n            var dc_ = null;\n            if (a != null) {\n                dc_ = a.g;\n            }\n            if (dc_ == null) {\n                dc_ = new FunnelDataContext();\n            }\n            dc_.item = v_;\n            var tt_ = this.aj;\n            if (tt_ != null) {\n                if (v_ != null) {\n                    tt_.updateToolTip(dc_);\n                    tt_.setRawPosition(x_, y_);\n                }\n                else {\n                    tt_.hideToolTip();\n                }\n            }\n        }\n    };\n    XamFunnelView.prototype.a3 = function (a) {\n        var b = a;\n        var c = b.g;\n        switch (c) {\n            case \"Container\":\n                this.ay(b.d);\n                break;\n            case \"TextStyle\":\n                this.l = FontUtil.toFontInfo(this.ad, b.d.toString());\n                break;\n            case \"OuterLabelTextStyle\":\n                this.k = FontUtil.toFontInfo(this.ad, b.d.toString());\n                break;\n            case \"ActualPixelScalingRatio\":\n                if (isNaN_(this.w) || this.w == 0) {\n                    this.t = b.d;\n                }\n                break;\n            case \"OuterLabelTextColor\":\n                this.be = typeCast(Brush.$, b.d);\n                break;\n            case \"LabelTextColor\":\n                this.bf = typeCast(Brush.$, b.d);\n                break;\n        }\n    };\n    XamFunnelView.prototype.a4 = function (a) {\n        if (this.ad != null) {\n            this.ad.setTimeout(a, 0);\n        }\n        else {\n            window.setTimeout(a, 0);\n        }\n    };\n    XamFunnelView.prototype.ay = function (a) {\n        if (a == null) {\n            if (this.j != null) {\n                this.j.av();\n            }\n            this.ad = null;\n            this.ae = this.ah = this.ag = this.ai = null;\n            this.o = this.q = this.p = this.r = null;\n            this.j = null;\n            return;\n        }\n        var b = a;\n        var c = this.ad = b;\n        c.rootWrapper.setStyleProperty(\"position\", \"relative\");\n        for (var d = 0; d < 4; d++) {\n            var e = this.ad.createElement(\"canvas\");\n            e.setStyleProperty(\"position\", \"absolute\");\n            c.append(e);\n            var f = new RenderingContext(new CanvasViewRenderer(), this.ad.get2DCanvasContext(e));\n            if (d == 0) {\n                this.ae = e;\n                this.o = f;\n            }\n            if (d == 1) {\n                this.ah = e;\n                this.q = f;\n            }\n            if (d == 2) {\n                this.ag = e;\n                this.p = f;\n            }\n            if (d == 3) {\n                this.ai = e;\n                this.r = f;\n            }\n        }\n        this.af = this.ad.createElement(\"span\");\n        this.af.setStyleProperty(\"position\", \"absolute\");\n        this.af.setStyleProperty(\"display\", \"none\");\n        c.append(this.af);\n        this.j = new DOMEventProxy(this.ai, this.ad, false);\n        var g = this.j;\n        g.onMouseOver = delegateCombine(g.onMouseOver, runOn(this, this.an));\n        var h = this.j;\n        h.onMouseLeave = delegateCombine(h.onMouseLeave, runOn(this, this.am));\n        var i = this.j;\n        i.onMouseDown = delegateCombine(i.onMouseDown, runOn(this, this.al));\n        var j = this.j;\n        j.onMouseUp = delegateCombine(j.onMouseUp, runOn(this, this.ao));\n        this.as();\n    };\n    XamFunnelView.prototype.aa = function () {\n        var a = this.ak(\"ui-funnel-slice\", \"border-top-width\", -1);\n        return (a == null) ? -1 : parseInt(a);\n    };\n    XamFunnelView.prototype.m = function () {\n        var a = this.l;\n        if (a == null) {\n            this.l = FontUtil.getFontForClass(this.ad, \"ui-funnel-slice\");\n            a = this.l;\n        }\n        return a;\n    };\n    XamFunnelView.prototype.n = function () {\n        var a = this.k;\n        if (a == null) {\n            this.k = a = FontUtil.getFont(this.ad);\n        }\n        return a;\n    };\n    XamFunnelView.prototype.ab = function () {\n        var a = this.z;\n        if (a < 0) {\n            var b = this.l;\n            a = FontUtil.getCurrentFontHeight(this.ad, b);\n            this.z = a;\n        }\n        return a;\n    };\n    XamFunnelView.prototype.ac = function () {\n        var a = this.y;\n        if (a < 0) {\n            var b = this.k;\n            a = FontUtil.getCurrentFontHeight(this.ad, b);\n            this.y = a;\n        }\n        return a;\n    };\n    XamFunnelView.prototype.d = function (a) {\n        if (this.c != null) {\n            return a ? this.c : this.e;\n        }\n        var b = BrushUtil.e(\"chart\", this.ad, this.c, this.e);\n        this.c = b.p2;\n        this.e = b.p3;\n        return a ? this.c : this.e;\n    };\n    XamFunnelView.prototype.ak = function (a, b, c) {\n        var d = this.af;\n        if (d == null) {\n            return null;\n        }\n        d.addClass(a);\n        var e = d.getStyleProperty(b);\n        if (e == null || e.length == 0 || e == \"null\" || e == \"transparent\") {\n            e = null;\n        }\n        if (c >= 0) {\n            var f = new Brush();\n            if (e != null && e.length != stringReplace(e, \"(0, 0, 0, 0\", \"\").length) {\n                e = null;\n            }\n            f._fill = e == null ? XamFunnelView.a[c % XamFunnelView.a.length] : e;\n            this.c.item(c, f);\n            var g = null;\n            if (e != null) {\n                g = d.getStyleProperty(\"border-top-color\");\n                if (g == null || g.length == 0 || g == \"null\" || g == \"transparent\") {\n                    g = e;\n                }\n            }\n            f = new Brush();\n            f._fill = (g == null) ? XamFunnelView.b[c % XamFunnelView.b.length] : g;\n            this.e.item(c, f);\n        }\n        d.removeClass(a);\n        return e;\n    };\n    XamFunnelView.prototype.a7 = function (a, b, c) {\n        var d = new PropertyChangedMessage();\n        d.g = a;\n        d.e = b;\n        d.d = c;\n        this.f.i(d);\n    };\n    XamFunnelView.prototype.av = function (a) {\n        var b = a.bs;\n        var c = a.bn;\n        if (!isNaN_(b) && b != 0) {\n            return;\n        }\n        if (window.devicePixelRatio != undefined && window.devicePixelRatio != c) {\n            a.bn = window.devicePixelRatio;\n        }\n    };\n    XamFunnelView.prototype.aw = function (a) {\n        this.g.c(a);\n    };\n    XamFunnelView.prototype.a1 = function (a, b) {\n        if (a != null) {\n            var c = typeCast(MessageChannel.$, a.b(\"RenderingMessages\"));\n            if (c != null) {\n                c.h(runOn(this, this.aw));\n            }\n            this.f.g();\n        }\n        if (b != null) {\n            var d = typeCast(MessageChannel.$, b.b(\"RenderingMessages\"));\n            if (d != null) {\n                d.e(runOn(this, this.aw));\n            }\n            var e = typeCast(MessageChannel.$, b.b(\"InteractionMessages\"));\n            this.f.f(e);\n        }\n    };\n    XamFunnelView.prototype.bd = function (a, b, c, d, e) {\n        a.setAttribute(\"width\", b.toString());\n        a.setAttribute(\"height\", c.toString());\n        a.setStyleProperty(\"width\", d.toString() + \"px\");\n        a.setStyleProperty(\"height\", e.toString() + \"px\");\n    };\n    XamFunnelView.prototype.as = function () {\n        if (this.ad == null) {\n            return;\n        }\n        var a = this.ad.rootWrapper.width();\n        var b = this.ad.rootWrapper.height();\n        this.bg = new Rect(0, 0, 0, a, b);\n        if (this.j != null) {\n            this.j.bl = this.bg;\n        }\n        this.bd(this.ae, a * this.t, b * this.t, a, b);\n        this.bd(this.ah, a * this.t, b * this.t, a, b);\n        this.bd(this.ag, a * this.t, b * this.t, a, b);\n        this.bd(this.ai, a * this.t, b * this.t, a, b);\n        var c = new ViewportChangedMessage();\n        c.e = a;\n        c.d = b;\n        this.f.i(c);\n    };\n    XamFunnelView.prototype.a0 = function () {\n        this.as();\n    };\n    XamFunnelView.prototype.a9 = function () {\n        var a = new ViewPropertyChangedMessage();\n        a.g = \"OuterLabelWidthDecider\";\n        a.e = null;\n        a.d = typeCast(IOuterLabelWidthDecider_$type, this);\n        this.f.i(a);\n    };\n    XamFunnelView.prototype.a8 = function () {\n        var a = new ViewPropertyChangedMessage();\n        a.g = \"FunnelLabelSizeDecider\";\n        a.e = null;\n        a.d = typeCast(IFunnelLabelSizeDecider_$type, this);\n        this.f.i(a);\n    };\n    XamFunnelView.prototype.decideWidth = function (a) {\n        var e_1, _a;\n        var b = a == null ? null : a.a;\n        if (b == null) {\n            return 0;\n        }\n        var c = 0;\n        this.p.ac(this.n());\n        try {\n            for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var d = _c.value;\n                if (d != null) {\n                    c = Math.max(this.p.f(d.toString()), c);\n                }\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        return c;\n    };\n    XamFunnelView.prototype.decideLabelSize = function (a, b) {\n        var c = 0;\n        if (a.b.i) {\n            this.p.ac(this.m());\n            c = this.p.f(a.b.v.toString());\n        }\n        return new Size(1, c, b ? this.ab() : this.ac());\n    };\n    XamFunnelView.prototype.s = function (a, f_) {\n        if (f_ == null) {\n            return true;\n        }\n        var b = a.a;\n        var c_ = this.ad;\n        c_ = c_ ? c_.data('igFunnelChart') : null;\n        if (b == null || c_ == null) {\n            return false;\n        }\n        var i_ = b.count;\n        var c = new Array(i_);\n        while (i_-- > 0) {\n            var v_ = b.item(i_);\n            c[i_] = f_(v_, i_, c_);\n        }\n        a.b(c);\n        return true;\n    };\n    XamFunnelView.prototype.au = function () {\n    };\n    XamFunnelView.prototype.a2 = function () {\n    };\n    XamFunnelView.$t = markType(XamFunnelView, 'XamFunnelView', Base.$, [IOuterLabelWidthDecider_$type, IFunnelLabelSizeDecider_$type]);\n    XamFunnelView.a = [\"#7000ff\", \"#70ff00\", \"#00f0f0\", \"#ff0070\", \"#ff00ff\"];\n    XamFunnelView.b = [\"#7000dd\", \"#70dd00\", \"#00d0d0\", \"#dd0070\", \"#dd00dd\"];\n    return XamFunnelView;\n}(Base));\nexport { XamFunnelView };\n/**\n * @hidden\n */\nvar XamFunnelController = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamFunnelController, _super);\n    function XamFunnelController() {\n        var _this = _super.call(this) || this;\n        _this.bp = null;\n        _this.ag = null;\n        _this.at = null;\n        _this.cf = null;\n        _this.cg = null;\n        _this.cb = null;\n        _this.cc = null;\n        _this.bb = false;\n        _this.bg = false;\n        _this.au = null;\n        _this.aj = null;\n        _this.z = null;\n        _this.al = null;\n        _this.ao = null;\n        _this.ap = null;\n        _this.cl = null;\n        _this.ci = null;\n        _this.ch = null;\n        _this.a4 = false;\n        _this.bv = 0;\n        _this.bu = 0;\n        _this.w = null;\n        _this.v = null;\n        _this.t = null;\n        _this.p = null;\n        _this.a0 = false;\n        _this.a3 = false;\n        _this.bt = 0;\n        _this.a2 = false;\n        _this.bq = 0;\n        _this.a = null;\n        _this.b = null;\n        _this.ad = 0;\n        _this.m = 0;\n        _this.ax = false;\n        _this.bs = 0;\n        _this.a5 = false;\n        _this.dv = null;\n        _this.du = null;\n        _this.aw = false;\n        _this.b5 = 0;\n        _this.b6 = 0;\n        _this.r = null;\n        _this.ab = null;\n        _this.ah = null;\n        _this.g = null;\n        _this.e = null;\n        _this.f = null;\n        _this.d0 = null;\n        _this.d1 = null;\n        _this.a7 = false;\n        _this.a1 = false;\n        _this.a6 = false;\n        _this.az = false;\n        _this.ck = null;\n        _this.cj = null;\n        _this.br = -1;\n        _this.ay = false;\n        _this.l = null;\n        _this.o = null;\n        _this.dp = null;\n        _this.dn = null;\n        _this.dz = null;\n        _this.av = new DoubleAnimator(0, 1, 2000);\n        var a = _this.av;\n        a.propertyChanged = delegateCombine(a.propertyChanged, runOn(_this, _this.cz));\n        _this.k = new FunnelFrame();\n        _this.j = new FunnelFrame();\n        _this.h = new FunnelFrame();\n        _this.ai = new SliceSelectionManager();\n        _this.am = new DoubleColumn();\n        _this.ar = new ObjectColumn();\n        _this.as = new ObjectColumn();\n        _this.y = new MessageChannel();\n        _this.x = new MessageChannel();\n        _this.aa = new MessageHandler();\n        _this.aa.b(PropertyChangedMessage.$, runOn(_this, _this.de));\n        _this.aa.b(DataUpdatedMessage.$, runOn(_this, _this.cv));\n        _this.aa.b(ViewportChangedMessage.$, runOn(_this, _this.dl));\n        _this.aa.b(ViewPropertyChangedMessage.$, runOn(_this, _this.dm));\n        _this.aa.b(MouseMoveMessage.$, runOn(_this, _this.c5));\n        _this.aa.b(MouseButtonMessage.$, runOn(_this, _this.c3));\n        _this.aa.b(MouseLeaveMessage.$, runOn(_this, _this.c4));\n        _this.aa.b(UserSelectedItemsChangedMessage.$, runOn(_this, _this.dk));\n        _this.aa.b(LabelSizeChangedMessage.$, runOn(_this, _this.c1));\n        _this.aa.b(ContainerSizeChangedMessage.$, function (b) { return _this.y.i(b); });\n        _this.bp = function (b, c) {\n            _this.bj = true;\n            _this.df();\n        };\n        return _this;\n    }\n    XamFunnelController.prototype.cz = function (a, b) {\n        this.b2 = this.av.o;\n        if (this.b2 == 1) {\n            this.a9 = false;\n            this.cw(this.h);\n        }\n        if (this.a9) {\n            var c = 1 - this.b2;\n            FunnelFrame.k(this.j, this.k, this.h, this.b2);\n            this.cw(this.j);\n        }\n    };\n    Object.defineProperty(XamFunnelController.prototype, \"av\", {\n        get: function () {\n            return this.au;\n        },\n        set: function (a) {\n            this.au = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ak\", {\n        get: function () {\n            return this.aj;\n        },\n        set: function (a) {\n            this.aj = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"aa\", {\n        get: function () {\n            return this.z;\n        },\n        set: function (a) {\n            this.z = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"am\", {\n        get: function () {\n            return this.al;\n        },\n        set: function (a) {\n            this.al = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ar\", {\n        get: function () {\n            if (!this.bb && this.at != null) {\n                this.bb = this.at.s(this.ao, this.cb);\n            }\n            return this.ao;\n        },\n        set: function (a) {\n            this.ao = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"as\", {\n        get: function () {\n            if (!this.bg && this.at != null) {\n                this.bg = this.at.s(this.ap, this.cc);\n            }\n            return this.ap;\n        },\n        set: function (a) {\n            this.ap = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"cq\", {\n        get: function () {\n            return this.cl;\n        },\n        set: function (a) {\n            this.cl = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"cn\", {\n        get: function () {\n            return this.ci;\n        },\n        set: function (a) {\n            this.ci = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"cm\", {\n        get: function () {\n            return this.ch;\n        },\n        set: function (a) {\n            this.ch = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bj\", {\n        get: function () {\n            return this.a4;\n        },\n        set: function (a) {\n            this.a4 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"b4\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            this.bv = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"b3\", {\n        get: function () {\n            return this.bu;\n        },\n        set: function (a) {\n            this.bu = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"y\", {\n        get: function () {\n            return this.w;\n        },\n        set: function (a) {\n            this.w = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"x\", {\n        get: function () {\n            return this.v;\n        },\n        set: function (a) {\n            this.v = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"u\", {\n        get: function () {\n            return this.t;\n        },\n        set: function (a) {\n            this.t = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"q\", {\n        get: function () {\n            return this.p;\n        },\n        set: function (a) {\n            this.p = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bc\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            this.a0 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bh\", {\n        get: function () {\n            return this.a3;\n        },\n        set: function (a) {\n            this.a3 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"b2\", {\n        get: function () {\n            return this.bt;\n        },\n        set: function (a) {\n            this.bt = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"be\", {\n        get: function () {\n            return this.a2;\n        },\n        set: function (a) {\n            this.a2 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bw\", {\n        get: function () {\n            return this.bq;\n        },\n        set: function (a) {\n            this.bq = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"c\", {\n        get: function () {\n            if ((this.a == null || this.a.count < 1) && this.at != null) {\n                this.a = this.at.d(true);\n            }\n            return this.a;\n        },\n        set: function (a) {\n            this.a = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"d\", {\n        get: function () {\n            if ((this.b == null || this.b.count < 1) && this.at != null) {\n                this.b = this.at.d(false);\n            }\n            return this.b;\n        },\n        set: function (a) {\n            this.b = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ae\", {\n        get: function () {\n            return this.ad;\n        },\n        set: function (a) {\n            this.ad = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"n\", {\n        get: function () {\n            return this.m;\n        },\n        set: function (a) {\n            this.m = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"a9\", {\n        get: function () {\n            return this.ax;\n        },\n        set: function (a) {\n            this.ax = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"b1\", {\n        get: function () {\n            return this.bs;\n        },\n        set: function (a) {\n            this.bs = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bm\", {\n        get: function () {\n            return this.a5;\n        },\n        set: function (a) {\n            this.a5 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"dy\", {\n        get: function () {\n            return this.dv;\n        },\n        set: function (a) {\n            this.dv = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"dx\", {\n        get: function () {\n            return this.du;\n        },\n        set: function (a) {\n            this.du = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"a8\", {\n        get: function () {\n            return this.aw;\n        },\n        set: function (a) {\n            this.aw = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"b9\", {\n        get: function () {\n            return this.b5;\n        },\n        set: function (a) {\n            this.b5 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ca\", {\n        get: function () {\n            return this.b6;\n        },\n        set: function (a) {\n            this.b6 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"s\", {\n        get: function () {\n            return this.r;\n        },\n        set: function (a) {\n            this.r = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ac\", {\n        get: function () {\n            return this.ab;\n        },\n        set: function (a) {\n            var b = this.ab;\n            this.ab = a;\n            this.c7(b, this.ab);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ai\", {\n        get: function () {\n            return this.ah;\n        },\n        set: function (a) {\n            this.ah = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"k\", {\n        get: function () {\n            return this.g;\n        },\n        set: function (a) {\n            this.g = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"h\", {\n        get: function () {\n            return this.e;\n        },\n        set: function (a) {\n            this.e = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"j\", {\n        get: function () {\n            return this.f;\n        },\n        set: function (a) {\n            this.f = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"d3\", {\n        get: function () {\n            return this.d0;\n        },\n        set: function (a) {\n            this.d0 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"d4\", {\n        get: function () {\n            return this.d1;\n        },\n        set: function (a) {\n            this.d1 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bo\", {\n        get: function () {\n            return this.a7;\n        },\n        set: function (a) {\n            this.a7 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bd\", {\n        get: function () {\n            return this.a1;\n        },\n        set: function (a) {\n            this.a1 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bn\", {\n        get: function () {\n            return this.a6;\n        },\n        set: function (a) {\n            this.a6 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"ba\", {\n        get: function () {\n            return this.az;\n        },\n        set: function (a) {\n            this.az = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"cp\", {\n        get: function () {\n            return this.ck;\n        },\n        set: function (a) {\n            this.ck = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"co\", {\n        get: function () {\n            return this.cj;\n        },\n        set: function (a) {\n            this.cj = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"bz\", {\n        get: function () {\n            var a = this.br;\n            if (a < 0 && this.at != null) {\n                this.br = this.at.aa();\n                a = this.br;\n            }\n            return a < 0 ? 1 : a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelController.prototype.c7 = function (a, b) {\n        if (a != null) {\n            var c = typeCast(MessageChannel.$, a.b(\"ConfigurationMessages\"));\n            if (c != null) {\n                c.h(runOn(this, this.c2));\n            }\n            c = typeCast(MessageChannel.$, a.b(\"InteractionMessages\"));\n            if (c != null) {\n                c.h(runOn(this, this.c2));\n            }\n            this.y.g();\n            this.x.g();\n        }\n        if (b != null) {\n            var d = typeCast(MessageChannel.$, b.b(\"ConfigurationMessages\"));\n            if (d != null) {\n                d.e(runOn(this, this.c2));\n            }\n            d = typeCast(MessageChannel.$, b.b(\"InteractionMessages\"));\n            if (d != null) {\n                d.e(runOn(this, this.c2));\n            }\n            var e = typeCast(MessageChannel.$, b.b(\"RenderingMessages\"));\n            this.y.f(e);\n            var f = typeCast(MessageChannel.$, b.b(\"ModelUpdateMessages\"));\n            this.x.f(f);\n        }\n        this.bj = true;\n    };\n    XamFunnelController.prototype.c2 = function (a) {\n        this.aa.c(a);\n        var b = typeCast(RenderingMessage.$, a);\n        if (b != null) {\n            this.bj = b.c;\n        }\n        this.df();\n    };\n    XamFunnelController.prototype.bl = function () {\n        return this.b3 >= 0 && this.b4 >= 0;\n    };\n    XamFunnelController.prototype.bf = function () {\n        return this.am != null && this.am.a != null && this.am.a.count > 0 && this.u != null && this.q != null && this.c != null && this.c.count > 0 && this.d != null && this.d.count > 0 && this.bl();\n    };\n    XamFunnelController.prototype.df = function () {\n        if (!this.bj) {\n            return;\n        }\n        if (!this.bf()) {\n            this.cu();\n            return;\n        }\n        this.bj = false;\n        var a = this.u.decideWidth(this.aq());\n        if (a > this.b4) {\n            a = 0;\n        }\n        if (!this.bh) {\n            a = 0;\n        }\n        var b = this.b4 - a;\n        var c = a > 0;\n        var d = this.bc;\n        var e = b >= 0;\n        if (e || c) {\n            this.dc(e, c, d, b, a);\n        }\n    };\n    XamFunnelController.prototype.cu = function () {\n        if (this.bk() && this.b2 > 0) {\n            this.av.w();\n        }\n        this.dh(\"LeftLabels\");\n        this.dh(\"RightLabels\");\n        this.dh(\"SliceArea\");\n        this.ct();\n        this.h.b.clear();\n        this.j.b.clear();\n        this.k.b.clear();\n    };\n    XamFunnelController.prototype.ct = function () {\n        var a = new FrameRenderCompleteMessage();\n        this.y.i(a);\n    };\n    XamFunnelController.prototype.dc = function (a, b, c, d, e) {\n        if (this.a9) {\n            var f = this.k;\n            this.k = this.j;\n            this.j = f;\n        }\n        else {\n            var g = this.k;\n            this.k = this.h;\n            this.h = g;\n        }\n        this.dd(this.h, a, b, c, d, e);\n        this.av.w();\n        this.b2 = 0;\n        if (this.bk()) {\n            FunnelFrame.k(this.j, this.k, this.h, this.b2);\n            this.cw(this.j);\n            this.a9 = true;\n            this.av.v();\n        }\n        else {\n            this.cw(this.h);\n        }\n    };\n    XamFunnelController.prototype.b0 = function (a) {\n        if (isNaN_(a)) {\n            return 0;\n        }\n        return Math.abs(a);\n    };\n    XamFunnelController.prototype.dd = function (a, b, c, d, e, f) {\n        var e_2, _a, e_3, _b;\n        var g = e / 2;\n        this.ay = this.bm;\n        if (this.ay) {\n            this.c0(e, g);\n        }\n        else {\n            this.ak = null;\n        }\n        var h = this.n == 1;\n        var i = this.an();\n        var j = 0;\n        try {\n            for (var _c = __values(fromEnum(i.a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var k = _d.value;\n                j += this.b0(this.am.a.item(k));\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n        if (j == 0) {\n            h = false;\n        }\n        var l = this.b3 / i.a.count;\n        var m = 0;\n        var n = 0;\n        n = this.bz / 2;\n        a.j = f;\n        a.f = d;\n        a.h = c;\n        a.g = this.ae == 0;\n        a.b = new SliceInfoList();\n        var o = 0;\n        try {\n            for (var _e = __values(fromEnum(i.a)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var p = _f.value;\n                var q = void 0;\n                if (h) {\n                    q = (this.b0(this.am.a.item(p)) / j) * this.b3;\n                }\n                else {\n                    q = l;\n                }\n                var r = this.by(e, m + n);\n                var s = m + q;\n                var t = this.by(e, s - n);\n                var u = r / 2;\n                var v = t / 2;\n                var w = new SliceInfo();\n                var x = w.b;\n                x.o = m;\n                x.n = s;\n                var y = new Rect(4);\n                var z = new Rect(4);\n                var aa = 0;\n                if (v > u) {\n                    aa = g - v;\n                }\n                else {\n                    aa = g - u;\n                }\n                var ab = m;\n                x.ad = this.ds(p);\n                x.ag = this.dt(p);\n                x.a0 = this.d2(p);\n                x.j = this.ai.c(p);\n                if (b) {\n                    w.h = true;\n                    x.ar = { $type: Point_$type, x: g - u - aa + n, y: m - ab + n };\n                    x.as = { $type: Point_$type, x: g + u - aa - n, y: m - ab + n };\n                    x.ao = { $type: Point_$type, x: g - v - aa + n, y: s - ab - n };\n                    x.ap = { $type: Point_$type, x: g + v - aa - n, y: s - ab - n };\n                    if (this.ay) {\n                        this.cr(x, m + n, s - n, g, aa - n, ab);\n                    }\n                    x.x();\n                }\n                if (d) {\n                    x.i = true;\n                    x.an = { $type: Point_$type, x: g - aa, y: (m + s) / 2 - ab };\n                    x.v = this.cd(p);\n                    var ac = this.q.decideLabelSize(w, true);\n                    if (ac.width > e) {\n                        x.i = false;\n                    }\n                    if (ac.height > q) {\n                        x.i = false;\n                    }\n                    y.height = ac.height;\n                    y.width = ac.width;\n                    y.x = x.an.x;\n                    y.y = x.an.y;\n                    x.ax = y;\n                }\n                else {\n                    x.i = false;\n                    x.v = this.cd(p);\n                }\n                if (d || b) {\n                    x.aq = { $type: Point_$type, x: aa, y: ab };\n                    x.item = this.am.a.item(p);\n                    x.s = p;\n                }\n                if (c) {\n                    w.g = true;\n                    w.n = { $type: Point_$type, x: 0, y: (m + s) / 2 };\n                    w.l = this.ce(p);\n                    var ad = this.q.decideLabelSize(w, false);\n                    if (ad.height > q) {\n                        w.g = false;\n                    }\n                    z.height = ad.height;\n                    z.width = ad.width;\n                    y.x = w.n.x;\n                    y.y = w.n.y;\n                    x.ay = z;\n                }\n                else {\n                    w.g = false;\n                    w.l = this.ce(p);\n                }\n                w.j = p;\n                a.b.add(w);\n                m += q;\n                o++;\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        if ((this.ar != null && this.ar.a != null && this.ar.a.count > 0) || (this.as != null && this.as.a != null && this.as.a.count > 0)) {\n            this.dg(a);\n        }\n        a.b.ae();\n    };\n    XamFunnelController.prototype.cr = function (a, b, c, d, e, f) {\n        var g = this.ak.b(b);\n        var h = this.ak.b(c);\n        var i = new PointList();\n        var j = new PointList();\n        var k = g.b;\n        var l = h.b;\n        for (var m = k; m <= l; m++) {\n            i.add({ $type: Point_$type, x: this.ak.e._inner[m].c.x - e, y: this.ak.e._inner[m].c.y - f });\n        }\n        e += this.bz;\n        for (var n = l; n >= k; n--) {\n            var o = this.ak.e._inner[n].c;\n            j.add({ $type: Point_$type, x: d + d - o.x - e, y: o.y - f });\n        }\n        a.c = i;\n        a.e = j;\n    };\n    XamFunnelController.prototype.bi = function (a, b) {\n        if (a.x != b.x || a.y != b.y) {\n            return true;\n        }\n        return false;\n    };\n    XamFunnelController.prototype.c0 = function (a, b) {\n        var c;\n        var d;\n        var e = 0, f = this.b3;\n        e = this.bz / 2;\n        f -= e;\n        if (this.bd) {\n            c = { $type: Point_$type, x: b - (a * this.bw / 2), y: e };\n            d = { $type: Point_$type, x: b - (a / 2), y: f };\n        }\n        else {\n            c = { $type: Point_$type, x: b - (a / 2), y: e };\n            d = { $type: Point_$type, x: b - (a * this.bw / 2), y: f };\n        }\n        var g = this.dy.y < this.dx.y ? this.dy : this.dx;\n        var h = this.dx.y > this.dy.y ? this.dx : this.dy;\n        if (g.y < 0) {\n            g.y = 0;\n        }\n        if (h.y > 1) {\n            h.y = 1;\n        }\n        if (this.bd) {\n            var i = h.x;\n            h.x = g.x;\n            g.x = i;\n            i = g.y;\n            g.y = 1 - h.y;\n            h.y = 1 - i;\n        }\n        var j = { $type: Point_$type, x: a * g.x, y: this.b3 * g.y };\n        var k = { $type: Point_$type, x: a * h.x, y: this.b3 * h.y };\n        if (this.ak == null || this.bi(c, this.ak.q) || this.bi(j, this.ak.r) || this.bi(k, this.ak.s) || this.bi(d, this.ak.t)) {\n            this.ak = new Bezier(c, j, k, d, 2, b);\n        }\n        if (this.ak == null) {\n            this.ay = false;\n        }\n        else {\n            this.ay = this.ak.d;\n        }\n    };\n    XamFunnelController.prototype.ce = function (a) {\n        var b = this.as;\n        var c = b == null ? null : b.a;\n        return c == null || a >= c.count ? null : c.item(a);\n    };\n    XamFunnelController.prototype.cd = function (a) {\n        var b = this.ar;\n        var c = b == null ? null : b.a;\n        return c == null || a >= c.count ? null : c.item(a);\n    };\n    XamFunnelController.prototype.d2 = function (a) {\n        if (this.ai.c(a)) {\n            return this.d3;\n        }\n        if (this.ai.d(a) && this.bo) {\n            return this.d4;\n        }\n        return null;\n    };\n    XamFunnelController.prototype.dt = function (a) {\n        return this.d.item(a % this.d.count);\n    };\n    XamFunnelController.prototype.ds = function (a) {\n        return this.c.item(a % this.c.count);\n    };\n    XamFunnelController.prototype.by = function (a, b) {\n        var c = a * this.bw;\n        if (this.ay) {\n            var d = this.ak.b(b).c.x;\n            return ((a / 2) - d) * 2;\n        }\n        else {\n            if (this.bd) {\n                return a - ((a - c) * ((this.b3 - b) / this.b3));\n            }\n            else {\n                return a - ((a - c) * (b / this.b3));\n            }\n        }\n    };\n    XamFunnelController.prototype.an = function () {\n        var _this = this;\n        var a = new IntColumn();\n        a.b(this.am.a.count);\n        a.c(function (b, c) {\n            if (_this.am.a.item(b) < _this.am.a.item(c)) {\n                return _this.bd ? -1 : 1;\n            }\n            if (_this.am.a.item(b) > _this.am.a.item(c)) {\n                return _this.bd ? 1 : -1;\n            }\n            return 0;\n        });\n        return a;\n    };\n    XamFunnelController.prototype.cw = function (a) {\n        this.cx(a);\n    };\n    XamFunnelController.prototype.cy = function () {\n        if (this.l != null) {\n            this.cx(this.l);\n        }\n    };\n    XamFunnelController.prototype.cx = function (a) {\n        var e_4, _a, e_5, _b;\n        this.dh(\"LeftLabels\");\n        this.dh(\"RightLabels\");\n        this.dh(\"SliceArea\");\n        if (a.g) {\n            this.di(\"LeftPanel\", a.j);\n            this.di(\"RightPanel\", 0);\n        }\n        else {\n            this.di(\"LeftPanel\", 0);\n            this.di(\"RightPanel\", a.j);\n        }\n        this.ag = a.b;\n        try {\n            for (var _c = __values(fromEnum(a.b)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var b = _d.value;\n                if (b.h) {\n                    var c = new RenderSliceMessage();\n                    c.e = \"SliceArea\";\n                    c.g = b.b;\n                    c.h = this.bz;\n                    this.y.i(c);\n                }\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n        try {\n            for (var _e = __values(fromEnum(a.b)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var d = _f.value;\n                if (d.g) {\n                    var e = new RenderOuterLabelMessage();\n                    if (a.g) {\n                        e.e = \"LeftLabels\";\n                    }\n                    else {\n                        e.e = \"RightLabels\";\n                    }\n                    e.j = d.l;\n                    e.l = d.n;\n                    e.h = a.j;\n                    e.f = d;\n                    this.y.i(e);\n                }\n            }\n        }\n        catch (e_5_1) {\n            e_5 = { error: e_5_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_5)\n                    throw e_5.error;\n            }\n        }\n        var f = new FrameRenderCompleteMessage();\n        this.y.i(f);\n    };\n    XamFunnelController.prototype.di = function (a, b) {\n        var c = new SetAreaSizeMessage();\n        c.e = a;\n        c.i = true;\n        c.m = b;\n        this.y.i(c);\n    };\n    XamFunnelController.prototype.bk = function () {\n        return this.b1 > 0;\n    };\n    XamFunnelController.prototype.dh = function (a) {\n        var b = new ClearMessage();\n        b.e = a;\n        this.y.i(b);\n    };\n    XamFunnelController.prototype.aq = function () {\n        return this.as;\n    };\n    XamFunnelController.prototype.cv = function (a) {\n        this.bj = true;\n    };\n    XamFunnelController.prototype.b7 = function (a) {\n        return Convert.toInt32(a);\n    };\n    XamFunnelController.prototype.de = function (a) {\n        var b = a;\n        var c = b.d;\n        switch (b.g) {\n            case \"TextStyle\":\n                this.cp = c != null ? c.toString() : \"\";\n                var d = new PropertyChangedMessage();\n                d.g = b.g;\n                d.e = b.e;\n                d.d = c;\n                this.y.i(d);\n                this.bj = true;\n                break;\n            case \"OuterLabelTextStyle\":\n                this.co = c != null ? c.toString() : \"\";\n                var e = new PropertyChangedMessage();\n                e.g = b.g;\n                e.e = b.e;\n                e.d = c;\n                this.y.i(e);\n                this.bj = true;\n                break;\n            case \"ValueColumn\":\n                this.am.b(c);\n                this.bj = true;\n                break;\n            case \"InnerLabelColumn\":\n                this.bb = false;\n                this.cf = c;\n                this.ar.b(c);\n                this.bj = true;\n                break;\n            case \"InnerLabelVisibility\":\n                this.bc = c;\n                this.bj = true;\n                break;\n            case \"OuterLabelVisibility\":\n                this.bh = c;\n                this.bj = true;\n                break;\n            case \"OuterLabelColumn\":\n                this.bg = false;\n                this.cg = c;\n                this.as.b(c);\n                this.bj = true;\n                break;\n            case \"ValueMemberPath\":\n                this.cq = typeCast(String_$type, c);\n                break;\n            case \"OuterLabelMemberPath\":\n                this.cn = typeCast(String_$type, c);\n                break;\n            case \"InnerLabelMemberPath\":\n                this.cm = typeCast(String_$type, c);\n                break;\n            case \"BottomEdgeWidth\":\n                this.bw = c;\n                if (this.bw > 1) {\n                    this.bw = 1;\n                }\n                if (this.bw < 0.001) {\n                    this.bw = 0.001;\n                }\n                this.bj = true;\n                break;\n            case \"Brushes\":\n                if (b.e != null) {\n                    var f = b.e;\n                    f.collectionChanged = delegateRemove(f.collectionChanged, this.bp);\n                }\n                if (c != null) {\n                    var g = c;\n                    g.collectionChanged = delegateCombine(g.collectionChanged, this.bp);\n                }\n                this.c = typeCast(BrushCollection.$, c);\n                this.bj = true;\n                break;\n            case \"Outlines\":\n                this.d = typeCast(BrushCollection.$, c);\n                this.bj = true;\n                break;\n            case \"OuterLabelAlignment\":\n                this.ae = EnumUtil.getEnumValue(OuterLabelAlignment_$type, c);\n                this.bj = true;\n                break;\n            case \"FunnelSliceDisplay\":\n                this.n = EnumUtil.getEnumValue(FunnelSliceDisplay_$type, c);\n                this.bj = true;\n                break;\n            case \"FormatInnerLabel\":\n                this.ar.b(this.cf);\n                this.bb = false;\n                this.cb = c;\n                this.bj = true;\n                break;\n            case \"FormatOuterLabel\":\n                this.as.b(this.cg);\n                this.cc = c;\n                this.bg = false;\n                this.bj = true;\n                break;\n            case \"IsInverted\":\n                this.bd = c;\n                this.bj = true;\n                break;\n            case \"TransitionDuration\":\n                this.av.r = this.b7(c);\n                this.b1 = this.av.r;\n                break;\n            case \"AllowSliceSelection\":\n                this.a8 = c;\n                break;\n            case \"SelectedSliceStyle\":\n                this.d3 = c;\n                this.bj = true;\n                break;\n            case \"UnselectedSliceStyle\":\n                this.d4 = c;\n                this.bj = true;\n                break;\n            case \"UseUnselectedStyle\":\n                this.bo = c;\n                this.bj = true;\n                break;\n            case \"UseBezierCurve\":\n                this.bm = c;\n                this.bj = true;\n                break;\n            case \"UpperBezierControlPoint\":\n                this.dy = c;\n                this.bj = true;\n                break;\n            case \"LowerBezierControlPoint\":\n                this.dx = c;\n                this.bj = true;\n                break;\n            case \"ItemProvider\":\n                this.s = c;\n                break;\n            case \"ToolTip\":\n                var h = new TooltipValueChangedMessage();\n                if (c != null) {\n                    this.ba = true;\n                }\n                else {\n                    this.ba = false;\n                    var i = new ClearTooltipMessage();\n                    this.y.i(i);\n                }\n                h.g = c;\n                this.y.i(h);\n                break;\n            case \"Legend\":\n                this.c6(c);\n                this.bj = true;\n                break;\n            case \"LegendItemTemplate\":\n                this.dr = c;\n                this.bj = true;\n                break;\n            case \"LegendItemBadgeTemplate\":\n                this.dq = c;\n                this.bj = true;\n                break;\n            case \"UseOuterLabelsForLegend\":\n                this.bn = c;\n                this.bj = true;\n                break;\n            case \"OutlineThickness\":\n                this.br = c;\n                this.bj = true;\n                this.y.i(b);\n                break;\n            case \"Container\":\n            case \"PixelScalingRatio\":\n            case \"ActualPixelScalingRatio\":\n            case \"OuterLabelTextColor\":\n            case \"LabelTextColor\":\n                if (b.g == \"Container\") {\n                    var j = b.d;\n                    this.av.u(j);\n                }\n                var k = new PropertyChangedMessage();\n                k.g = b.g;\n                k.e = b.e;\n                k.d = c;\n                this.y.i(k);\n                break;\n        }\n    };\n    Object.defineProperty(XamFunnelController.prototype, \"dr\", {\n        get: function () {\n            return this.dp;\n        },\n        set: function (a) {\n            this.dp = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelController.prototype, \"dq\", {\n        get: function () {\n            return this.dn;\n        },\n        set: function (a) {\n            this.dn = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelController.prototype.c6 = function (a) {\n        if (this.o != null) {\n            this.o.clearLegendItemsForSeries(this.ac.b(\"Model\"));\n        }\n        this.o = a;\n    };\n    XamFunnelController.prototype.dg = function (a) {\n        var e_6, _a;\n        var _this = this;\n        var b = new List$1(UIElement.$, 0);\n        var _loop_1 = function (c) {\n            var d = new ContentControl();\n            var e = \"\";\n            if (c.b.v != null) {\n                if (this_1.bn && c.l != null) {\n                    e = c.l.toString();\n                }\n                else {\n                    e = c.b.v.toString();\n                }\n            }\n            else if (c.l != null) {\n                e = c.l.toString();\n            }\n            var f = null;\n            var g = null;\n            if (f == null && c.b.ad != null) {\n                f = c.b.ad;\n            }\n            if (g == null && c.b.ag != null) {\n                g = c.b.ag;\n            }\n            var h = null;\n            if (this_1.s != null) {\n                h = this_1.s.getItem(c.b.s);\n            }\n            d.content = ((function () {\n                var $ret = new FunnelSliceDataContext();\n                $ret.series = _this.ac.b(\"Model\");\n                $ret.item = h;\n                $ret.itemBrush = f;\n                $ret.itemLabel = e;\n                $ret.thickness = _this.bz;\n                $ret.outline = g;\n                $ret.itemOutline = g;\n                return $ret;\n            })());\n            d.ah = this_1.dr;\n            b.add(d);\n        };\n        var this_1 = this;\n        try {\n            for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var c = _c.value;\n                _loop_1(c);\n            }\n        }\n        catch (e_6_1) {\n            e_6 = { error: e_6_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_6)\n                    throw e_6.error;\n            }\n        }\n        if (this.o != null) {\n            if (this.o.isItemwise) {\n                var i = this.o;\n                i.createItemwiseLegendItems(b, this.ac.b(\"Model\"));\n            }\n        }\n    };\n    XamFunnelController.prototype.dm = function (a) {\n        var b = a;\n        switch (b.g) {\n            case \"OuterLabelWidthDecider\":\n                this.u = typeCast(IOuterLabelWidthDecider_$type, b.d);\n                this.bj = true;\n                break;\n            case \"FunnelLabelSizeDecider\":\n                this.q = typeCast(IFunnelLabelSizeDecider_$type, b.d);\n                this.bj = true;\n                break;\n        }\n    };\n    XamFunnelController.prototype.dl = function (a) {\n        var b = a;\n        this.b4 = b.e;\n        this.b3 = b.d;\n        this.bj = true;\n    };\n    XamFunnelController.prototype.c3 = function (a) {\n        var b = a;\n        if (b.e == 1) {\n            return;\n        }\n        if (b.c == 1) {\n            this.ca = this.b9;\n        }\n        else if (b.c == 0) {\n            var c = this.ca;\n            this.ca = -1;\n            if (b.f == 0) {\n            }\n            else if (b.f != 2) {\n                return;\n            }\n            if (c == this.b9) {\n                this.c8(c);\n            }\n        }\n    };\n    XamFunnelController.prototype.c8 = function (a) {\n        if (a < 0 || a > this.am.a.count - 1) {\n            return;\n        }\n        if (this.a8) {\n            this.ai.k(a, this.am.a.item(a));\n            var b = this.ai.a();\n            var c = new SelectedItemsChangedMessage();\n            c.c = b;\n            this.x.i(c);\n            this.bj = true;\n        }\n        var d = new SliceClickedMessage();\n        d.c = a;\n        d.item = this.am.a.item(a);\n        d.f = this.dz;\n        this.x.i(d);\n    };\n    XamFunnelController.prototype.da = function (a) {\n        if (this.am != null && a >= 0 && a < this.am.a.count) {\n            var b = new SliceMouseMessage();\n            b.e = a;\n            b.item = this.am.a.item(a);\n            b.c = 0;\n            b.h = this.dz;\n            this.x.i(b);\n        }\n    };\n    XamFunnelController.prototype.db = function (a) {\n        if (this.am != null && a >= 0 && a < this.am.a.count) {\n            var b = new SliceMouseMessage();\n            b.e = a;\n            b.item = this.am.a.item(a);\n            b.c = 2;\n            b.h = this.dz;\n            this.x.i(b);\n        }\n    };\n    XamFunnelController.prototype.c9 = function (a) {\n        if (this.am != null && a >= 0 && a < this.am.a.count) {\n            var b = new SliceMouseMessage();\n            b.e = a;\n            b.item = this.am.a.item(a);\n            b.c = 1;\n            b.h = this.dz;\n            this.x.i(b);\n        }\n    };\n    XamFunnelController.prototype.c5 = function (a) {\n        var b = a;\n        var c = this.b9;\n        this.b9 = this.b8(b.c);\n        if (c != this.b9) {\n            if (c != -1) {\n                this.da(c);\n            }\n            if (this.b9 != -1) {\n                this.c9(this.b9);\n            }\n        }\n        else {\n            if (this.b9 != -1) {\n                this.db(this.b9);\n            }\n        }\n        if (this.ba) {\n            this.dj(b.c);\n        }\n    };\n    XamFunnelController.prototype.c4 = function (a) {\n        var b = this.b9;\n        this.b9 = -1;\n        if (b != -1) {\n            this.da(b);\n        }\n        var c = new ClearTooltipMessage();\n        this.y.i(c);\n    };\n    XamFunnelController.prototype.dj = function (a) {\n        var b = new FunnelDataContext();\n        if (this.s != null && this.b9 >= 0 && this.b9 < this.s.count) {\n            b.item = this.s.getItem(this.b9);\n        }\n        b.b = this.b9;\n        if (b.b < 0) {\n            var c = new ClearTooltipMessage();\n            this.y.i(c);\n            return;\n        }\n        var d = new TooltipUpdateMessage();\n        d.g = b;\n        d.i = this.dw(a, b);\n        this.y.i(d);\n    };\n    XamFunnelController.prototype.dw = function (a, b) {\n        var c = { $type: Point_$type, x: a.x + 10, y: a.y + 10 };\n        return c;\n    };\n    XamFunnelController.prototype.b8 = function (a) {\n        if (!this.bf()) {\n            return -1;\n        }\n        var b = a.y;\n        var c = a.x;\n        var d = this.i();\n        if (d.g) {\n            c -= d.j;\n        }\n        var e = this.af(b);\n        if (e == null) {\n            return -1;\n        }\n        var f = this.bx();\n        var g = this.by(f, b);\n        var h = g / 2;\n        var i = f / 2;\n        var j = new Rect(0, e.b.ar.x, e.b.ar.y, Math.max(e.b.ap.x - e.b.ar.x, 0), Math.max(e.b.ap.y - e.b.ar.y, 0));\n        if (c >= (i - h) && c <= (i + h)) {\n            this.dz = j;\n            return e.j;\n        }\n        else {\n            return -1;\n        }\n    };\n    XamFunnelController.prototype.bx = function () {\n        var a = this.i();\n        return this.b4 - a.j;\n    };\n    XamFunnelController.prototype.af = function (a) {\n        var b = this.i();\n        var c = b.b.ad(a);\n        if (c >= 0 && c < b.b.count) {\n            return b.b._inner[c];\n        }\n        return null;\n    };\n    XamFunnelController.prototype.i = function () {\n        var a = null;\n        if (this.a9) {\n            a = this.j;\n        }\n        else {\n            a = this.h;\n        }\n        return a;\n    };\n    XamFunnelController.prototype.dk = function (a) {\n        var b = a;\n        this.ai.i(b.c, this.am);\n        this.bj = true;\n    };\n    XamFunnelController.prototype.c1 = function (a) {\n        this.cs(a);\n    };\n    XamFunnelController.prototype.cs = function (a) {\n        var b = this.i();\n        if (a.c == -1) {\n            this.bj = true;\n        }\n        else {\n            var c = b.b._inner[a.c];\n            if (a.b) {\n                if (a.d.width > b.j) {\n                    this.bj = true;\n                }\n                if (a.d.height != a.e.height) {\n                    this.bj = true;\n                }\n                if (a.d.height > c.b.ap.y - c.b.as.y) {\n                    this.bj = true;\n                }\n            }\n            else {\n                if (a.d.height > c.b.ap.y - c.b.as.y) {\n                    this.bj = true;\n                }\n            }\n        }\n    };\n    XamFunnelController.$t = markType(XamFunnelController, 'XamFunnelController');\n    return XamFunnelController;\n}(Base));\nexport { XamFunnelController };\n/**\n * @hidden\n */\nvar XamFunnelChart = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamFunnelChart, _super);\n    function XamFunnelChart() {\n        var _this = _super.call(this) || this;\n        _this.aq = null;\n        _this.as = null;\n        _this.ap = null;\n        _this.ax = null;\n        _this.bt = null;\n        _this.a2 = null;\n        _this.a0 = null;\n        _this.a1 = null;\n        _this.bu = null;\n        _this.bv = null;\n        _this.bk = new ObservableCollection$1(Base.$, 0);\n        _this.bh = new Dictionary$2(Base.$, Base.$, 0);\n        _this.b2 = null;\n        _this.b1 = null;\n        _this.sliceClicked = null;\n        _this.sliceEnter = null;\n        _this.sliceLeave = null;\n        _this.sliceHover = null;\n        _this.bz = null;\n        _this.bm = NaN;\n        _this.bl = 1;\n        _this.eq = null;\n        _this.er = null;\n        _this.bl = 1;\n        _this.bm = NaN;\n        var a = _this.bk;\n        a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ds));\n        _this.ar = new MessageHandler();\n        _this.ar.b(SliceClickedMessage.$, runOn(_this, _this.dw));\n        _this.ar.b(SliceMouseMessage.$, runOn(_this, _this.dx));\n        _this.ar.b(SelectedItemsChangedMessage.$, runOn(_this, _this.dt));\n        _this.ap = new MessageChannel();\n        _this.bt = function (b, c) { return _this.db(c.action, c.position, c.count, c.propertyName); };\n        _this.du();\n        _this.ab = XamFunnelChart.$;\n        _this.ax = new XamFunnelConnector(new XamFunnelView(), _this);\n        _this.legendItemTemplate = ((function () {\n            var $ret = new DataTemplate();\n            $ret.render = FunnelLegendTemplates.c;\n            $ret.measure = FunnelLegendTemplates.a;\n            return $ret;\n        })());\n        _this.legendItemBadgeTemplate = ((function () {\n            var $ret = new DataTemplate();\n            $ret.render = FunnelLegendTemplates.b;\n            $ret.measure = FunnelLegendTemplates.d;\n            return $ret;\n        })());\n        return _this;\n    }\n    XamFunnelChart.prototype.destroy = function () {\n        this.provideContainer(null);\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"ar\", {\n        get: function () {\n            return this.aq;\n        },\n        set: function (a) {\n            this.aq = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.prototype.du = function () {\n        this.dp(XamFunnelChart.$$p[1], 0, this.bo);\n        this.dp(XamFunnelChart.$$p[6], enumGetBox(Visibility_$type, this.ey), enumGetBox(Visibility_$type, this.ey));\n        this.dp(XamFunnelChart.$$p[13], enumGetBox(OuterLabelAlignment_$type, this.au), enumGetBox(OuterLabelAlignment_$type, this.au));\n        this.dp(XamFunnelChart.$$p[4], enumGetBox(FunnelSliceDisplay_$type, this.ak), enumGetBox(FunnelSliceDisplay_$type, this.ak));\n        this.dp(XamFunnelChart.$$p[22], this.ev, this.ev);\n        this.dp(XamFunnelChart.$$p[12], this.eu, this.eu);\n        this.dv();\n    };\n    XamFunnelChart.prototype.dv = function () {\n        var a = new PropertyChangedMessage();\n        a.g = \"ItemProvider\";\n        a.e = null;\n        a.d = this;\n        this.ap.i(a);\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"at\", {\n        get: function () {\n            return this.as;\n        },\n        set: function (a) {\n            var b = this.as;\n            this.as = a;\n            this.dq(b, this.as);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.prototype.dq = function (a, b) {\n        if (a != null) {\n            var c = typeCast(MessageChannel.$, a.b(\"ModelUpdateMessages\"));\n            if (c != null) {\n                c.h(runOn(this, this.df));\n            }\n            this.ap.g();\n        }\n        if (b != null) {\n            var d = typeCast(MessageChannel.$, b.b(\"ModelUpdateMessages\"));\n            if (d != null) {\n                d.e(runOn(this, this.df));\n            }\n            var e = typeCast(MessageChannel.$, b.b(\"ConfigurationMessages\"));\n            this.ap.f(e);\n        }\n    };\n    XamFunnelChart.prototype.df = function (a) {\n        this.ar.c(a);\n    };\n    XamFunnelChart.prototype.db = function (a, b, c, d) {\n        var e = ((function () {\n            var $ret = new DataUpdatedMessage();\n            $ret.g = b;\n            $ret.f = c;\n            $ret.i = d;\n            return $ret;\n        })());\n        switch (a) {\n            case 3:\n                e.c = 3;\n                break;\n            case 1:\n                e.c = 1;\n                break;\n            case 0:\n                e.c = 0;\n                break;\n            case 2:\n                e.c = 2;\n                break;\n            case 4:\n                e.c = 4;\n                break;\n        }\n        this.dp(\"ValueColumn\", this.a7, this.a7);\n        this.dp(\"InnerLabelColumn\", this.a3, this.a3);\n        this.dp(\"OuterLabelColumn\", this.a4, this.a4);\n        this.ap.i(e);\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"a7\", {\n        get: function () {\n            return this.a2;\n        },\n        set: function (a) {\n            if (this.a2 != a) {\n                var b = this.a2;\n                this.a2 = a;\n                this.dp(\"ValueColumn\", b, this.a2);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"a3\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            if (this.a0 != a) {\n                var b = this.a0;\n                this.a0 = a;\n                this.dp(\"InnerLabelColumn\", b, this.a3);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"a4\", {\n        get: function () {\n            return this.a1;\n        },\n        set: function (a) {\n            if (this.a1 != a) {\n                var b = this.a1;\n                this.a1 = a;\n                this.dp(\"OuterLabelColumn\", b, this.a4);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"bw\", {\n        get: function () {\n            return this.bu;\n        },\n        set: function (a) {\n            var b = this.bu;\n            this.bu = a;\n            this.dp(\"FormatInnerLabel\", b, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"bx\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            var b = this.bv;\n            this.bv = a;\n            this.dp(\"FormatOuterLabel\", b, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"bj\", {\n        get: function () {\n            return this.bk;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"cz\", {\n        get: function () {\n            return this.b2;\n        },\n        set: function (a) {\n            var b = this.b2;\n            this.b2 = a;\n            this.dp(\"TextStyle\", b, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"cr\", {\n        get: function () {\n            return this.b1;\n        },\n        set: function (a) {\n            var b = this.b1;\n            this.b1 = a;\n            this.dp(\"OuterLabelTextStyle\", b, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.prototype.onDetachedFromUI = function () {\n        this.ax.e.az();\n    };\n    XamFunnelChart.prototype.onAttachedToUI = function () {\n        this.ax.e.ax(this);\n    };\n    XamFunnelChart.prototype.dp = function (a, b, c) {\n        if (this.ba(a, b, c) || this.a9(a, b, c) || this.bc(a, b, c) || this.bb(a, b, c)) {\n            return;\n        }\n        if (a == \"PixelScalingRatio\") {\n            if (isNaN_(DeviceUtils.a(this.bs))) {\n                this.bn = 1;\n            }\n            else {\n                this.bn = DeviceUtils.a(this.bs);\n            }\n        }\n        this.ap.i(((function () {\n            var $ret = new PropertyChangedMessage();\n            $ret.g = a;\n            $ret.e = b;\n            $ret.d = c;\n            return $ret;\n        })()));\n    };\n    XamFunnelChart.prototype.a9 = function (a, b, c) {\n        if (a == XamFunnelChart.$$p[2] || a == XamFunnelChart.$$p[16]) {\n            this.ap.i(((function () {\n                var $ret = new PropertyChangedMessage();\n                $ret.g = a;\n                $ret.e = b == null ? null : b;\n                $ret.d = c == null ? null : c;\n                return $ret;\n            })()));\n            return true;\n        }\n        return false;\n    };\n    XamFunnelChart.prototype.ba = function (a, b, c) {\n        var _this = this;\n        if (a == XamFunnelChart.$$p[8]) {\n            if (b != null) {\n                this.az = null;\n            }\n            if (c != null) {\n                this.bj.clear();\n                this.az = ((function () {\n                    var $ret = new FastItemsSource();\n                    $ret.e = _this.itemsSource;\n                    return $ret;\n                })());\n            }\n            return true;\n        }\n        else if (a == XamFunnelChart.$$p[3]) {\n            if (b != null) {\n                var d = b;\n                d.event = delegateRemove(d.event, this.bt);\n            }\n            if (c != null) {\n                var e = c;\n                e.event = delegateCombine(e.event, this.bt);\n            }\n            this.dd(a, b, c);\n            return true;\n        }\n        else if (a == XamFunnelChart.$$p[26] || a == XamFunnelChart.$$p[5] || a == XamFunnelChart.$$p[14]) {\n            this.dd(a, b, c);\n            return false;\n        }\n        return false;\n    };\n    XamFunnelChart.prototype.a5 = function (a, b) {\n        return a.registerColumn(b, null, false);\n    };\n    XamFunnelChart.prototype.a6 = function (a, b) {\n        return a.registerColumnObject(b, null, false);\n    };\n    XamFunnelChart.prototype.dd = function (a, b, c) {\n        if (this.az == null) {\n            var d = typeCast(FastItemsSource.$, b);\n            if (d != null) {\n                if (this.a7 != null) {\n                    d.deregisterColumn(this.a7);\n                }\n                if (this.a3 != null) {\n                    d.deregisterColumn(this.a3);\n                }\n                if (this.a4 != null) {\n                    d.deregisterColumn(this.a4);\n                }\n                this.a7 = null;\n                this.a3 = null;\n                this.a4 = null;\n            }\n            return;\n        }\n        if (b != null && typeof b === 'string') {\n            switch (a) {\n                case XamFunnelChart.$$p[26]:\n                    this.az.deregisterColumn(this.a7);\n                    this.a7 = null;\n                    break;\n                case XamFunnelChart.$$p[5]:\n                    this.az.deregisterColumn(this.a3);\n                    this.a3 = null;\n                    break;\n                case XamFunnelChart.$$p[14]:\n                    this.az.deregisterColumn(this.a4);\n                    this.a4 = null;\n                    break;\n            }\n        }\n        if (c != null && typeCast(FastItemsSource.$, c) !== null) {\n            if (this.c9 != null) {\n                this.a7 = this.a5(c, this.c9);\n            }\n            if (this.cd != null) {\n                this.a3 = this.a6(c, this.cd);\n            }\n            if (this.co != null) {\n                this.a4 = this.a6(c, this.co);\n            }\n        }\n        if (c != null && typeof c === 'string') {\n            switch (a) {\n                case XamFunnelChart.$$p[26]:\n                    this.a7 = this.a5(this.az, this.c9);\n                    break;\n                case XamFunnelChart.$$p[5]:\n                    this.a3 = this.a6(this.az, this.cd);\n                    break;\n                case XamFunnelChart.$$p[14]:\n                    this.a4 = this.a6(this.az, this.co);\n                    break;\n            }\n        }\n    };\n    XamFunnelChart.prototype.bc = function (a, b, c) {\n        if (a == XamFunnelChart.$$p[6] || a == XamFunnelChart.$$p[15]) {\n            var d_1 = EnumUtil.getEnumValue(Visibility_$type, b) == 0;\n            var e_7 = EnumUtil.getEnumValue(Visibility_$type, c) == 0;\n            this.ap.i(((function () {\n                var $ret = new PropertyChangedMessage();\n                $ret.g = a;\n                $ret.d = e_7;\n                $ret.e = d_1;\n                return $ret;\n            })()));\n            return true;\n        }\n        return false;\n    };\n    XamFunnelChart.prototype.bb = function (a, b, c) {\n        if (a == XamFunnelChart.$$p[20]) {\n            var d = new PropertyChangedMessage();\n            d.g = a;\n            if (b != null) {\n                d.e = b;\n            }\n            if (c != null) {\n                d.d = c;\n            }\n            this.ap.i(d);\n            return true;\n        }\n        return false;\n    };\n    XamFunnelChart.prototype.dw = function (a) {\n        var b = a;\n        if (this.sliceClicked != null) {\n            var c = new FunnelSliceClickedEventArgs();\n            c.index = b.c;\n            c.bounds = b.f;\n            if (this.az.count > b.c && b.c >= 0) {\n                c.item = this.az.item(b.c);\n            }\n            this.sliceClicked(this, c);\n        }\n    };\n    XamFunnelChart.prototype.dx = function (a) {\n        var b = a;\n        switch (b.c) {\n            case 1:\n                {\n                    if (this.sliceEnter != null) {\n                        var c = new FunnelSliceEventArgs();\n                        c.index = b.e;\n                        c.bounds = b.h;\n                        if (this.az.count > b.e && b.e >= 0) {\n                            c.item = this.az.item(b.e);\n                        }\n                        this.sliceEnter(this, c);\n                    }\n                    break;\n                }\n            case 0:\n                {\n                    if (this.sliceLeave != null) {\n                        var d = new FunnelSliceEventArgs();\n                        d.index = b.e;\n                        d.bounds = b.h;\n                        if (this.az.count > b.e && b.e >= 0) {\n                            d.item = this.az.item(b.e);\n                        }\n                        this.sliceLeave(this, d);\n                    }\n                    break;\n                }\n            case 2:\n                {\n                    if (this.sliceHover != null) {\n                        var e = new FunnelSliceEventArgs();\n                        e.index = b.e;\n                        e.bounds = b.h;\n                        if (this.az.count > b.e && b.e >= 0) {\n                            e.item = this.az.item(b.e);\n                        }\n                        this.sliceHover(this, e);\n                    }\n                    break;\n                }\n        }\n    };\n    XamFunnelChart.prototype.dt = function (a) {\n    };\n    XamFunnelChart.prototype.ds = function (a, b) {\n    };\n    XamFunnelChart.prototype.de = function (a, b, c, d) {\n        var e_8, _a, e_9, _b, e_10, _c;\n        var e = new List$1(Base.$, 0);\n        try {\n            for (var _d = __values(fromEnum(a)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var f = _e.value;\n                if (!d.containsKey(f)) {\n                    e.add1(f);\n                }\n            }\n        }\n        catch (e_8_1) {\n            e_8 = { error: e_8_1 };\n        }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return))\n                    _a.call(_d);\n            }\n            finally {\n                if (e_8)\n                    throw e_8.error;\n            }\n        }\n        try {\n            for (var _f = __values(fromEnum(e)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var g = _g.value;\n                a.remove(g);\n                b.removeItem(g);\n            }\n        }\n        catch (e_9_1) {\n            e_9 = { error: e_9_1 };\n        }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f.return))\n                    _b.call(_f);\n            }\n            finally {\n                if (e_9)\n                    throw e_9.error;\n            }\n        }\n        try {\n            for (var _h = __values(fromEnum(c)), _j = _h.next(); !_j.done; _j = _h.next()) {\n                var h = _j.value;\n                if (!b.containsKey(h)) {\n                    a.add(h);\n                    b.addItem(h, h);\n                }\n            }\n        }\n        catch (e_10_1) {\n            e_10 = { error: e_10_1 };\n        }\n        finally {\n            try {\n                if (_j && !_j.done && (_c = _h.return))\n                    _c.call(_h);\n            }\n            finally {\n                if (e_10)\n                    throw e_10.error;\n            }\n        }\n    };\n    XamFunnelChart.prototype.getItem = function (a) {\n        return this.az.item(a);\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"count\", {\n        get: function () {\n            return this.az != null ? this.az.count : 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.prototype.provideContainer = function (a) {\n        var b = this.bz;\n        this.bz = a;\n        this.dp(\"Container\", b, this.bz);\n    };\n    XamFunnelChart.prototype.notifyResized = function () {\n        this.ax.g();\n        this.ap.i(new ContainerSizeChangedMessage());\n    };\n    XamFunnelChart.prototype.dl = function (source_, a, b, c) {\n        this.dh(source_, new NotifyCollectionChangedEventArgs(2, 2, c, b, a));\n    };\n    XamFunnelChart.prototype.dg = function (source_) {\n        this.dh(source_, new NotifyCollectionChangedEventArgs(0, 4));\n    };\n    XamFunnelChart.prototype.di = function (source_, a, b) {\n        this.dh(source_, new NotifyCollectionChangedEventArgs(1, 0, b, a));\n    };\n    XamFunnelChart.prototype.dj = function (source_, a, b) {\n        this.dh(source_, new NotifyCollectionChangedEventArgs(1, 1, b, a));\n    };\n    XamFunnelChart.prototype.dh = function (s_, a) {\n        if (s_.dataView && s_.dataSource) {\n            s_ = s_.dataView();\n        }\n        ;\n        if (s_ == this.itemsSource) {\n            var b = this.az;\n            if (b != null) {\n                b.handleCollectionChanged(a);\n            }\n        }\n    };\n    XamFunnelChart.prototype.ay = function () {\n        var a = this.ax;\n        return a == null ? null : a.c;\n    };\n    XamFunnelChart.prototype.av = function () {\n        var a = this.ay();\n        return a == null ? null : a.ai;\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"ag\", {\n        get: function () {\n            var a = this.av();\n            return a == null ? null : a.a();\n        },\n        set: function (a) {\n            var b = this.av();\n            if (b == null) {\n                return;\n            }\n            var c = this.ay();\n            b.f();\n            var d = a == null ? 0 : a.length;\n            while (d-- > 0) {\n                b.k(a[d], c.am.a.item(a[d]));\n            }\n            c.bj = true;\n            c.df();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.prototype.dy = function (a) {\n        var b = this.av();\n        if (b == null) {\n            return;\n        }\n        var c = this.ay();\n        var d = c.am.a.item(a);\n        if (d != null) {\n            c.ai.k(a, d);\n            c.bj = true;\n            c.df();\n        }\n    };\n    XamFunnelChart.prototype.aw = function () {\n        var a = new FunnelChartVisualData();\n        var b = this.ax.c.ag;\n        if (b != null) {\n            for (var c = 0; c < b.count; c++) {\n                var d = b._inner[c].d();\n                a.slices.add(d);\n            }\n        }\n        a.opacity = this._opacity;\n        a.isInverted = this.bd;\n        a.selectedItems = this.bj;\n        a.name = this.name;\n        a.viewport = new RectData(0, 0, this.ax.c.b4, this.ax.c.b3);\n        return a;\n    };\n    XamFunnelChart.prototype.b7 = function () {\n        var a = this.aw();\n        a.scaleByViewport();\n        return a.serialize();\n    };\n    XamFunnelChart.prototype.resolveLegendIndex = function () {\n        return -1;\n    };\n    XamFunnelChart.prototype.forSubItems = function (a) {\n    };\n    Object.defineProperty(XamFunnelChart.prototype, \"bs\", {\n        get: function () {\n            return this.bm;\n        },\n        set: function (a) {\n            if (isNaN_(a) || a == 0) {\n                return;\n            }\n            var b = this.bm;\n            this.bm = a;\n            this.dp(\"PixelScalingRatio\", b, this.bm);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"bn\", {\n        get: function () {\n            return this.bl;\n        },\n        set: function (a) {\n            var b = this.bl;\n            this.bl = a;\n            if (this.bl != b) {\n                this.dp(\"ActualPixelScalingRatio\", b, this.bl);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"container\", {\n        get: function () {\n            return this;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"isStacked\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"isVertical\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"isUsableInLegend\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"hasSubItems\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"hasMarkers\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"es\", {\n        get: function () {\n            return this.eq;\n        },\n        set: function (a) {\n            var b = this.es;\n            if (a != b) {\n                this.eq = a;\n                this.dp(\"OuterLabelTextColor\", b, this.es);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelChart.prototype, \"et\", {\n        get: function () {\n            return this.er;\n        },\n        set: function (a) {\n            var b = this.et;\n            if (a != b) {\n                this.er = a;\n                this.dp(\"LabelTextColor\", b, this.et);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelChart.$t = markType(XamFunnelChart, 'XamFunnelChart', Control.$, [IItemProvider_$type, ILegendOwner_$type, ILegendTemplateProvider_$type, ILegendSeries_$type]);\n    XamFunnelChart.$$p = markDep(DependencyProperty, PropertyMetadata, XamFunnelChart, 'dp', ['AllowSliceSelection:a8:dz', [0, false], 'BottomEdgeWidth:bo:d0', [1, 0.35], 'Brushes:ah:d1', [BrushCollection.$, null], 'FastItemsSource:az:d2', [FastItemsSource.$], 'FunnelSliceDisplay:ak:d3', [FunnelSliceDisplay_$type, enumGetBox(FunnelSliceDisplay_$type, 0)], 'InnerLabelMemberPath:cd:d4', [2, null], 'InnerLabelVisibility:ey:d5', [Visibility_$type, enumGetBox(Visibility_$type, 0)], 'IsInverted:bd:d6', [0, false], 'ItemsSource::d7', [IEnumerable_$type, null], 'LegendItemBadgeTemplate::d8', [DataTemplate.$, null], 'LegendItemTemplate::d9', [DataTemplate.$, null], 'Legend::ea', [IChartLegend_$type, null], 'LowerBezierControlPoint:eu:eb', [Point_$type, { $type: Point_$type, x: 0.5, y: 1 }], 'OuterLabelAlignment:au:ec', [OuterLabelAlignment_$type, enumGetBox(OuterLabelAlignment_$type, 0)], 'OuterLabelMemberPath:co:ed', [2, null], 'OuterLabelVisibility:ez:ee', [Visibility_$type, enumGetBox(Visibility_$type, 1)], 'Outlines:ai:ef', [BrushCollection.$, null], 'OutlineThickness:bq:eg', [1, -1], 'SelectedSliceStyle:ew:eh', [Style.$, null], 'ToolTip:b0:ei', [4, null], 'TransitionDuration:by:ej', [1, 0], 'UnselectedSliceStyle:ex:ek', [Style.$, null], 'UpperBezierControlPoint:ev:el', [Point_$type, { $type: Point_$type, x: 0.5, y: 0 }], 'UseBezierCurve:be:em', [0, false], 'UseOuterLabelsForLegend:bf:en', [0, false], 'UseUnselectedStyle:bg:eo', [0, false], 'ValueMemberPath:c9:ep', [2, null]]);\n    return XamFunnelChart;\n}(Control));\nexport { XamFunnelChart };\n/**\n * @hidden\n */\nvar XamFunnelConnector = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamFunnelConnector, _super);\n    function XamFunnelConnector(a, b) {\n        var _this = _super.call(this) || this;\n        _this.d = null;\n        _this.b = null;\n        _this.a = null;\n        var c = new ServiceProvider();\n        c.c(\"ConfigurationMessages\", new MessageChannel());\n        c.c(\"RenderingMessages\", new MessageChannel());\n        c.c(\"InteractionMessages\", new MessageChannel());\n        c.c(\"ModelUpdateMessages\", new MessageChannel());\n        a.av(b);\n        var d = new XamFunnelController();\n        d.at = a;\n        d.ac = c;\n        a.i = c;\n        _this.b = d;\n        _this.d = a;\n        b.at = c;\n        _this.a = b;\n        c.c(\"Model\", _this.a);\n        return _this;\n    }\n    Object.defineProperty(XamFunnelConnector.prototype, \"e\", {\n        get: function () {\n            return this.d;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamFunnelConnector.prototype, \"c\", {\n        get: function () {\n            return this.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamFunnelConnector.prototype.g = function () {\n        this.c.at.av(this.a);\n    };\n    XamFunnelConnector.prototype.h = function (a) {\n        this.d = a;\n        var b = this.b.ac;\n        this.b.ac = null;\n        this.b.ac = b;\n        this.d.i = b;\n    };\n    XamFunnelConnector.prototype.f = function () {\n        if (this.d != null) {\n            this.d.i = null;\n        }\n    };\n    XamFunnelConnector.$t = markType(XamFunnelConnector, 'XamFunnelConnector');\n    return XamFunnelConnector;\n}(Base));\nexport { XamFunnelConnector };\n"]},"metadata":{},"sourceType":"module"}