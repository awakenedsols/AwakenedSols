{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { IndicatorDisplayType_$type } from \"./IndicatorDisplayType\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Number_$type, typeCast, enumGetBox, EnumUtil, runOn, markType, markDep } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { CategorySeries } from \"./CategorySeries\";\nimport { NotImplementedException } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { Defaults } from \"./Defaults\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { IndicatorRenderer } from \"./IndicatorRenderer\";\n/**\n * @hidden\n */\n\nvar FinancialIndicator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialIndicator, _super);\n\n  function FinancialIndicator() {\n    var _this = _super.call(this) || this;\n\n    _this._indicatorColumn = null;\n    _this.tm = null;\n    _this.qg = new CategoryFrame(3);\n    _this.qi = new CategoryFrame(3);\n    _this.qe = new CategoryFrame(3);\n    _this.indicatorColumn = new List$1(Number_$type, 0);\n    _this.tm = new AxisRange(-100, 100);\n    return _this;\n  }\n\n  FinancialIndicator.prototype.get_dq = function () {\n    return true;\n  };\n\n  FinancialIndicator.prototype.bx = function () {\n    return new FinancialIndicatorView(this);\n  };\n\n  FinancialIndicator.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.tn = a;\n  };\n\n  FinancialIndicator.prototype.t0 = function (a) {\n    if (this.qy != null && !this.qy.c0()) {\n      this.mi(true);\n    }\n  };\n\n  FinancialIndicator.prototype.ts = function (a, b, c) {\n    if (isNaN_(b.x) || isNaN_(b.y)) {\n      return false;\n    }\n\n    var d = this.qy;\n    var e = 0;\n\n    if (d != null) {\n      e = d.e3(d.l5);\n    }\n\n    if (a.y >= e && a.y <= b.y || a.y <= e && a.y >= b.y) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FinancialIndicator.prototype.bp = function () {\n    if (this.bq == 0) {\n      return 1;\n    } else {\n      return _super.prototype.bp.call(this);\n    }\n  };\n\n  FinancialIndicator.prototype.pv = function (a) {\n    if (this.qc == null || this.qy == null) {\n      return Rect.empty;\n    }\n\n    var b = this.ph(a);\n    var c = this.b0.bv;\n    var d = this.b0.bu;\n    var e = this.getEffectiveViewport1(this.b0);\n    var f = new ScalerParams(0, c, d, this.qy.cg, e);\n    f.b = this.gc();\n    var g = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n\n    if (g == null) {\n      return Rect.empty;\n    }\n\n    var h = g[0];\n    var i = g[1];\n    var j = Math.abs(b.x - h[0]);\n    var k = Math.abs(b.x - i[0]);\n    var l = this.qy.ei(this.qy.l5, f);\n    var m = 1;\n\n    if (j < k) {\n      var n = h[0] - 0.5 * m;\n      var o = h[1];\n      var p = l;\n      return new Rect(0, n, Math.min(o, p), m, Math.max(o, p) - Math.min(o, p));\n    } else {\n      var q = i[0] - 0.5 * m;\n      var r = i[1];\n      var s = l;\n      return new Rect(0, q, Math.min(r, s), m, Math.max(r, s) - Math.min(r, s));\n    }\n  };\n\n  FinancialIndicator.prototype.ev = function (a, b) {\n    var c = this.pm(this.pp(a), true, false);\n\n    if (this.tp == 1) {\n      if (this.ts(a, c, b)) {\n        return true;\n      }\n    }\n\n    if (this.tp == 1 || this.tp == 0) {\n      if (this.eu(a, b)) {\n        return true;\n      }\n    }\n\n    if (this.tp == 2) {\n      if (this.ey(a, b)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  FinancialIndicator.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n      this.qc.i$i();\n    }\n\n    if (this.tn.b7) {\n      this.tn.b5.g$e(a, b, c, d);\n    }\n\n    if (d != null && this.ro.containsKey(d)) {\n      var e = this.ro.tryGetValue(d, d);\n      d = e.p1;\n    }\n\n    if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n      a = 4;\n      b = 0;\n      c = this.ck.count;\n    }\n\n    switch (a) {\n      case 3:\n        if (this.tr(b, c, d)) {\n          this.t2(b, c, d);\n          this.t0(true);\n        }\n\n        break;\n\n      case 2:\n        if (this.tr(b, this.ck.count - b, d)) {\n          this.t2(b, this.ck.count - b, d);\n          this.t0(true);\n        }\n\n        break;\n\n      case 1:\n        if (this.tr(b, this.ck.count - b, d)) {\n          var f = new Array(c);\n\n          for (var g = 0; g < c; g++) {\n            f[g] = 0;\n          }\n\n          this.indicatorColumn.s(b, f);\n          this.t2(b, this.ck.count - b, d);\n          this.t0(true);\n        }\n\n        break;\n\n      case 0:\n        if (this.tr(b, this.ck.count - b, d)) {\n          this.indicatorColumn.v(b, c);\n          this.t2(b, this.ck.count - b, d);\n          this.t0(true);\n        }\n\n        break;\n\n      case 4:\n        if (this.tr(b, this.ck.count - b, d)) {\n          this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n          var h = new Array(c);\n\n          for (var i = 0; i < c; i++) {\n            h[i] = 0;\n          }\n\n          this.indicatorColumn.s(0, h);\n          this.t2(b, this.ck.count - b, d);\n          this.t0(true);\n        }\n\n        break;\n    }\n  };\n\n  FinancialIndicator.prototype.get_to = function () {\n    return 0;\n  };\n\n  Object.defineProperty(FinancialIndicator.prototype, \"to\", {\n    get: function () {\n      return this.get_to();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(FinancialIndicator.prototype, \"ud\", {\n    get: function () {\n      return this.c(FinancialIndicator.t3);\n    },\n    set: function (a) {\n      this.h(FinancialIndicator.t3, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialIndicator.prototype.tx = function () {\n    return -1;\n  };\n\n  Object.defineProperty(FinancialIndicator.prototype, \"indicatorColumn\", {\n    get: function () {\n      return this._indicatorColumn;\n    },\n    set: function (a) {\n      this._indicatorColumn = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialIndicator.prototype.l4 = function (a, b, c, d) {\n    switch (b) {\n      case \"XAxis\":\n        this.tn.cd();\n        break;\n\n      case \"TrendLineType\":\n        var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n\n        if (e != 0) {\n          this.tn.b5 = CategoryTrendLineManagerFactory.a(this.tn.b5, this.qc, this.na, this, this.cn);\n        }\n\n        break;\n    }\n\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    if (this.tn.b7 && this.tn.b5.g$b(a, b, c, d)) {\n      this.mi(false);\n      var f = typeCast(FinancialIndicatorView.$, this.bz);\n\n      if (f != null && f.b7) {\n        f.b5.g$b(a, b, c, d);\n      }\n\n      this.lp();\n    }\n\n    switch (b) {\n      case \"FastItemsSource\":\n        if (this.ck != null) {\n          this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n          var g = new Array(this.ck.count);\n\n          for (var h = 0; h < this.ck.count; h++) {\n            g[h] = 0;\n          }\n\n          this.indicatorColumn.s(0, g);\n          this.t2(0, this.ck.count, null);\n\n          if (this.qy != null && !this.qy.c0()) {\n            this.qt.bx.e(this.ft);\n            this.mi(false);\n          }\n        }\n\n        break;\n\n      case \"TrendLineBrush\":\n        this.mw();\n        break;\n\n      case FinancialIndicator.$$p[0]:\n        this.kx(true, this.b0);\n        this.mx();\n        this.mi(false);\n        this.lp();\n        break;\n\n      case \"OpenColumn\":\n      case \"HighColumn\":\n      case \"LowColumn\":\n      case \"CloseColumn\":\n      case \"VolumeColumn\":\n        if (this.ck != null) {\n          if (this.indicatorColumn.count != this.ck.count) {\n            this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n            var i = new Array(this.ck.count);\n\n            for (var j = 0; j < this.ck.count; j++) {\n              i[j] = 0;\n            }\n\n            this.indicatorColumn.s(0, i);\n          }\n\n          if (this.tr(0, this.ck.count - 1, b)) {\n            this.t1();\n          }\n        }\n\n        break;\n\n      case \"XAxis\":\n        if (this.qc != null && (typeCast(ISortingAxis_$type, this.qc) !== null || typeCast(ISortingAxis_$type, c) !== null)) {\n          this.t1();\n        }\n\n        break;\n\n      case \"YAxis\":\n      case FinancialIndicator.$$p[1]:\n        this.t1();\n        this.lp();\n        break;\n\n      case \"TrendLineType\":\n        this.lp();\n        break;\n    }\n  };\n\n  FinancialIndicator.prototype.gj = function (a, b, c) {\n    if (this.indicatorColumn == null) {\n      return _super.prototype.gj.call(this, a, b, c);\n    }\n\n    var d = this.getEffectiveViewport1(this.b0);\n    var e = this.r3(this.b0.bv, this.b0.bu, d);\n    var f = new ScalerParams(0, this.b0.bv, this.b0.bu, this.qc.cg, d);\n    f.c = this.cd.su;\n    return this.gl(this.indicatorColumn, a, this.qc, f, e, runOn(this, this.r2), b, c);\n  };\n\n  FinancialIndicator.prototype.hj = function (a, b) {\n    if (this.indicatorColumn == null) {\n      return _super.prototype.hj.call(this, a, b);\n    }\n\n    return this.hk(a, b, this.qc, runOn(this, this.r2), this.indicatorColumn);\n  };\n\n  FinancialIndicator.prototype.hh = function (a, b) {\n    if (this.indicatorColumn == null) {\n      return _super.prototype.hh.call(this, a, b);\n    }\n\n    return this.hi(a, b, this.qc, runOn(this, this.r2), this.indicatorColumn);\n  };\n\n  FinancialIndicator.prototype.get_e8 = function () {\n    return true;\n  };\n\n  FinancialIndicator.prototype.tr = function (a, b, c) {\n    if (c == null) {\n      return true;\n    }\n\n    if (this.tt(a, b).contains(c)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FinancialIndicator.prototype.t2 = function (a, b, c) {\n    this.tq(a, b);\n  };\n\n  FinancialIndicator.prototype.ap = function (a) {\n    if (this.ck == null) {\n      return null;\n    }\n\n    if (a != null && a == this.qy) {\n      return this.tm;\n    }\n\n    return null;\n  };\n\n  FinancialIndicator.prototype.en = function (a) {\n    var b = this.ck != null ? this.ck.indexOf(a) : -1;\n    var c = this.b0.bv;\n    c = c.copy();\n    var d = this.b0.bu;\n    var e = new Rect(0, 0, 0, 1, 1);\n    var f = this.pt(this.b0);\n\n    if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n      if (this.qc != null) {\n        var g = new ScalerParams(0, e, e, this.qc.cg, f);\n        var h = this.qc.ei(b, g);\n\n        if (h < c.left + 0.1 * c.width) {\n          h = h + 0.4 * c.width;\n        }\n\n        if (h > c.right - 0.1 * c.width) {\n          h = h - 0.4 * c.width;\n        }\n\n        c.x = h - 0.5 * c.width;\n      }\n\n      if (this.qy != null && this.indicatorColumn != null && b < this.indicatorColumn.count) {\n        var i = new ScalerParams(0, e, e, this.qy.cg, f);\n        i.b = this.gc();\n        var j = this.qy.ei(this.indicatorColumn._inner[b], i);\n\n        if (j < c.top + 0.1 * c.height) {\n          j = j + 0.4 * c.height;\n        }\n\n        if (j > c.bottom - 0.1 * c.height) {\n          j = j - 0.4 * c.height;\n        }\n\n        c.y = j - 0.5 * c.height;\n      }\n\n      this.b8.au(this.cd, c, true);\n    }\n\n    return b >= 0;\n  };\n\n  FinancialIndicator.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.indicatorColumn == null || this.indicatorColumn.count == 0) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  FinancialIndicator.prototype.s3 = function (a, b) {\n    var _this = this;\n\n    _super.prototype.s3.call(this, a, b);\n\n    var c = b.bv;\n    var d = b.bu;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.qc;\n    var g = this.qy;\n    var h = new ScalerParams(0, c, d, f.cg, e);\n    var i = new ScalerParams(0, c, d, g.cg, e);\n    i.b = this.gc();\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = 0;\n    var k = typeCast(ISortingAxis_$type, this.qc);\n\n    if (k != null && k.i$b.count != this.ck.count) {\n      return;\n    }\n\n    j = this.r3(c, d, e);\n    var l = this.tx();\n\n    if (l == -1) {\n      l = this.trendLinePeriod;\n    }\n\n    var m = typeCast(FinancialIndicatorView.$, b);\n\n    if (m.b7) {\n      m.b5.prepareLineCore(a.p, this.trendLineType, this.indicatorColumn, l, function (n) {\n        return _this.qc.ei(n, h);\n      }, function (n) {\n        return _this.qy.ei(n, i);\n      }, function () {\n        var $ret = new TrendResolutionParams();\n        $ret.c = b.bx.b;\n        $ret.d = b.bx.c;\n        $ret.e = b.bx.d;\n        $ret.a = j;\n        $ret.b = _this.ft;\n        $ret.f = d;\n        $ret.g = c;\n        return $ret;\n      }());\n    }\n\n    var n = this.qc.el(2, h) - this.qc.el(1, h);\n\n    for (var o = b.bx.c; o <= b.bx.d; ++o) {\n      var p = void 0;\n\n      if (k == null) {\n        p = b.bx.getBucket(o);\n      } else {\n        var q = k.i$b._inner[o];\n        var r = k.i$d(q);\n        var s = this.indicatorColumn._inner[o];\n        var t = s;\n        var u = r;\n\n        while (o < b.bx.d) {\n          q = k.i$b._inner[o + 1];\n          u = k.i$d(q);\n\n          if (u - r > n) {\n            break;\n          }\n\n          o++;\n          var v = this.indicatorColumn._inner[o];\n          s = Math.min(s, v);\n          t = Math.max(t, v);\n        }\n\n        var w = NaN;\n\n        if (!isNaN_(r)) {\n          w = this.qc.ei(r, h);\n        }\n\n        p = [w, s, t];\n      }\n\n      if (!isNaN_(p[0])) {\n        if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n          p[0] = p[0] + j;\n        } else {\n          p[0] = f.ei(p[0], h) + j;\n        }\n\n        p[1] = g.ei(p[1], i);\n\n        if (b.bx.b > 1 || k != null) {\n          p[2] = g.ei(p[2], i);\n        } else {\n          p[2] = p[1];\n        }\n\n        a.f.add(p);\n      }\n    }\n\n    return;\n  };\n\n  FinancialIndicator.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    var c = b;\n    c.b8(a);\n\n    if (c.b7) {\n      c.b5.g$d();\n    }\n  };\n\n  FinancialIndicator.prototype.qm = function () {\n    switch (this.tp) {\n      case 1:\n        return 1;\n\n      case 2:\n        return 1;\n\n      case 0:\n        return 12;\n    }\n\n    return 1;\n  };\n\n  FinancialIndicator.prototype.s5 = function (a, b) {\n    _super.prototype.s5.call(this, a, b);\n\n    var c = typeCast(FinancialIndicatorView.$, b);\n\n    var d = function (e) {\n      return a.f._inner[e][0];\n    };\n\n    var e = function (f) {\n      return a.f._inner[f][1];\n    };\n\n    if (c.b7) {\n      c.b5.g$d();\n      c.b5.g$g(a.p);\n    }\n\n    var f = b.bu;\n    var g = this.getEffectiveViewport1(b);\n    var h = 0;\n    var i = this.oz;\n    var j = this.ti;\n\n    if (b.b0(a)) {\n      c.b8(false);\n\n      if (a.f.count > 0) {\n        switch (this.tp) {\n          case 0:\n            var k = CategorySeries.rj(a.f, a.f.count - 1, f, b.bv, false);\n            c.cc(a.f.count, d, e, true, k);\n            break;\n\n          case 1:\n            if (this.qy != null) {\n              h = this.r7(b);\n            } else {\n              h = 0.5 * (f.top + f.bottom);\n            }\n\n            var l = CategorySeries.rj(a.f, a.f.count - 1, f, b.bv, false);\n            c.ca(a.f.count, d, e, true, h, l);\n            break;\n\n          case 2:\n            h = this.r7(b);\n            c.cb(a.f.count, d, e, true, h);\n            break;\n\n          default:\n            throw new NotImplementedException(0);\n        }\n      }\n\n      b.b2(a);\n    }\n\n    var m = a.f;\n    var n = this.ck.count;\n    this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n    var o = false;\n    var p = this.ql.b;\n\n    if (p != null) {\n      o = true;\n    }\n\n    this.ql.ak = i;\n    this.ql.ag = i;\n\n    if (o) {\n      var q = new ScalerParams(0, b.bv, b.bu, this.qc.cg, g);\n      this.ql.f = false;\n      this.s2(m, -1, n, this.qc, q, b.q);\n    }\n\n    this.ql.ad(c.cu, true, false, true, false);\n    this.ql.ad(c.cw, true, false, true, false);\n    this.ql.ad(c.cv, false, true, false, false);\n    c.cv._opacity = 0.8 * this.ql.j * this.fq;\n    this.ql.ad(c.ct, true, false, false, false);\n    this.ql.ak = j;\n    this.ql.ag = j;\n\n    if (o) {\n      var r = new ScalerParams(0, b.bv, b.bu, this.qc.cg, g);\n      this.ql.f = true;\n      this.s2(m, -1, n, this.qc, r, b.q);\n    }\n\n    this.ql.ad(c.cq, true, false, true, false);\n    this.ql.ad(c.cs, true, false, true, false);\n    this.ql.ad(c.cr, false, true, false, false);\n    c.cr._opacity = 0.8 * this.ql.j * this.fq;\n    this.ql.ad(c.cp, true, false, false, false);\n    c.ce();\n  };\n\n  FinancialIndicator.prototype.mw = function () {\n    _super.prototype.mw.call(this);\n\n    if (this.index < 0) {\n      return;\n    }\n\n    if (this.tn.b7) {\n      this.tn.cf();\n    }\n  };\n\n  FinancialIndicator.prototype.t1 = function () {\n    if (this.tn.b7) {\n      this.tn.b5.g$i();\n    }\n\n    this.tq(0, this.indicatorColumn.count);\n\n    if (this.qy != null && !this.qy.c0()) {\n      this.mi(false);\n    }\n  };\n\n  FinancialIndicator.prototype.k7 = function (a) {\n    _super.prototype.k7.call(this, a);\n\n    this.a8.exportTrendlineData(this, a, this.tn.b5.g$j);\n  };\n\n  FinancialIndicator.prototype.ba = function (a) {\n    if (this.tp == 1 || this.tp == 2) {\n      return 3;\n    } else if (this.tp == 0) {\n      return 2;\n    }\n\n    return a;\n  };\n\n  FinancialIndicator.$t = markType(FinancialIndicator, 'FinancialIndicator', FinancialSeries.$, [ITrendLineSeries_$type]);\n  FinancialIndicator.t3 = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialIndicator.$, new PropertyMetadata(2, null, function (a, b) {\n    return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue);\n  }));\n  FinancialIndicator.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialIndicator, 'raisePropertyChanged', ['DisplayType:tp:t4', [IndicatorDisplayType_$type, enumGetBox(IndicatorDisplayType_$type, 0)], 'IgnoreFirst:tv:t5', [1, 0], 'TrendLineType::ub', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::ua', [1, 1.5], 'TrendLinePeriod::t9', [1, 7], 'TrendLineBrush::t6', [Brush.$, null], 'TrendLineZIndex:tw:uc', [1, 1001], 'TrendLineDashArray:ue:t7', [DoubleCollection.$], 'TrendLineDashCap:uf:t8', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n  return FinancialIndicator;\n}(FinancialSeries);\n\nexport { FinancialIndicator };\n/**\n * @hidden\n */\n\nvar FinancialIndicatorBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialIndicatorBucketCalculator, _super);\n\n  function FinancialIndicatorBucketCalculator(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.f = null;\n    _this.f = a;\n    return _this;\n  }\n\n  FinancialIndicatorBucketCalculator.prototype.getBucket = function (a) {\n    var b = a * this.b;\n    var c = Math.min(b + this.b - 1, this.f.b3.indicatorColumn.count - 1);\n    var d = NaN;\n    var e = NaN;\n\n    for (var f = b; f <= c; ++f) {\n      var g = this.f.b3.indicatorColumn._inner[f];\n\n      if (!isNaN_(d)) {\n        if (!isNaN_(g)) {\n          d = Math.min(d, g);\n          e = Math.max(e, g);\n        }\n      } else {\n        d = g;\n        e = g;\n      }\n    }\n\n    if (!isNaN_(d)) {\n      return [0.5 * (b + c), d, e];\n    }\n\n    return [NaN, NaN, NaN];\n  };\n\n  FinancialIndicatorBucketCalculator.$t = markType(FinancialIndicatorBucketCalculator, 'FinancialIndicatorBucketCalculator', FinancialBucketCalculator.$);\n  return FinancialIndicatorBucketCalculator;\n}(FinancialBucketCalculator);\n\nexport { FinancialIndicatorBucketCalculator };\n/**\n * @hidden\n */\n\nvar FinancialIndicatorView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialIndicatorView, _super);\n\n  function FinancialIndicatorView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b3 = null;\n    _this.b6 = null;\n\n    _this.cu = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.cq = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.cv = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.cr = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.cw = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.cs = function () {\n      var $ret = new Path();\n      $ret.ak = new PathGeometry();\n      return $ret;\n    }();\n\n    _this.ct = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.cp = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.b4 = null;\n    _this.cm = new Path();\n    _this.co = new Path();\n    _this.cn = new Path();\n    _this.cl = new Path();\n    _this.ci = new Path();\n    _this.ck = new Path();\n    _this.cj = new Path();\n    _this.ch = new Path();\n    _this.b3 = a;\n\n    _this.b6 = function () {\n      var $ret = new Pool$1(LineGeometry.$);\n      $ret.create = runOn(_this, _this.cg);\n      $ret.destroy = runOn(_this, _this.b9);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  FinancialIndicatorView.prototype.by = function () {\n    return new FinancialIndicatorBucketCalculator(this);\n  };\n\n  FinancialIndicatorView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.b3.ti = Defaults.ah;\n      this.b3.tp = this.b3.to;\n    }\n  };\n\n  FinancialIndicatorView.prototype.cg = function () {\n    return new LineGeometry();\n  };\n\n  FinancialIndicatorView.prototype.b9 = function (a) {};\n\n  Object.defineProperty(FinancialIndicatorView.prototype, \"b5\", {\n    get: function () {\n      if (this.b4 == null) {\n        this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n      }\n\n      return this.b4;\n    },\n    set: function (a) {\n      this.b4 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(FinancialIndicatorView.prototype, \"b7\", {\n    get: function () {\n      return this.b4 != null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialIndicatorView.prototype.b8 = function (a) {\n    Extensions.e(this.cu.ak);\n    Extensions.e(this.cv.ak);\n    Extensions.e(this.cw.ak);\n    Extensions.e(this.cq.ak);\n    Extensions.e(this.cr.ak);\n    Extensions.e(this.cs.ak);\n    Extensions.d(this.ct.ak);\n    Extensions.d(this.cp.ak);\n\n    if (a) {\n      this.b6.count = 0;\n    }\n\n    this.aq();\n  };\n\n  FinancialIndicatorView.prototype.ce = function () {};\n\n  FinancialIndicatorView.prototype.cc = function (a, b, c, d, e) {\n    IndicatorRenderer.g(a, b, c, d, this.bv, this.bu, this.cu, this.cq, this.bx.b, this.e.ft, e);\n    this.aq();\n  };\n\n  FinancialIndicatorView.prototype.ca = function (a, b, c, d, e, f) {\n    IndicatorRenderer.e(a, b, c, d, this.bv, this.bu, this.cu, this.cv, this.cq, this.cr, e, this.bx.b, this.e.ft, f);\n    this.aq();\n  };\n\n  FinancialIndicatorView.prototype.cb = function (a, b, c, d, e) {\n    IndicatorRenderer.f(a, b, c, d, this.bu, e, this.b6, this.ct, this.cp);\n    this.aq();\n  };\n\n  FinancialIndicatorView.prototype.cf = function () {\n    this.b3.ud = null;\n\n    if (this.b3.trendLineBrush != null) {\n      this.b3.ud = this.b3.trendLineBrush;\n    } else {\n      this.b3.ud = this.b3.oz;\n    }\n  };\n\n  FinancialIndicatorView.prototype.bc = function () {\n    _super.prototype.bc.call(this);\n\n    var a = this.bo();\n    this.cm.ak = this.cu.ak;\n    this.co.ak = this.cw.ak;\n    this.cn.ak = this.cv.ak;\n    this.cl.ak = this.ct.ak;\n    this.ci.ak = this.cq.ak;\n    this.ck.ak = this.cs.ak;\n    this.cj.ak = this.cr.ak;\n    this.ch.ak = this.cp.ak;\n    this.cm._stroke = a;\n    this.co._stroke = a;\n    this.cm.ac = this.e.fu + 3;\n    this.co.ac = this.e.fu + 3;\n    this.cn._fill = a;\n    this.cn._opacity = 1;\n    this.cl._stroke = a;\n    this.cl.ac = this.e.fu + 3;\n    this.ci._stroke = a;\n    this.ck._stroke = a;\n    this.ci.ac = this.e.fu + 3;\n    this.ck.ac = this.e.fu + 3;\n    this.cj._fill = a;\n    this.cj._opacity = 1;\n    this.ch._stroke = a;\n    this.ch.ac = this.e.fu + 3;\n  };\n\n  FinancialIndicatorView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (a.d) {\n      if (b) {\n        if (this.b3.tp == 2) {\n          a.s(this.cl);\n          a.s(this.ch);\n        } else {\n          a.s(this.cn);\n          a.s(this.cm);\n          a.s(this.co);\n          a.s(this.cj);\n          a.s(this.ci);\n          a.s(this.ck);\n        }\n      } else {\n        if (this.b3.tp == 2) {\n          a.s(this.ct);\n          a.s(this.cp);\n        } else {\n          a.s(this.cv);\n          a.s(this.cu);\n          a.s(this.cw);\n          a.s(this.cr);\n          a.s(this.cq);\n          a.s(this.cs);\n        }\n      }\n    }\n  };\n\n  FinancialIndicatorView.prototype.a5 = function (a, b) {\n    if (a.d) {\n      if (this.b3.trendLineType != 0 && !b) {\n        var c = this.b5.g$j;\n        c.ac = this.b3.trendLineThickness;\n        c._stroke = this.b3.ud;\n        c.ad = this.b3.uf;\n        c.ai = this.b3.ue;\n        a.u(c);\n      }\n    }\n\n    _super.prototype.a5.call(this, a, b);\n  };\n\n  FinancialIndicatorView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    this.e.a8.exportPathData(a, this.ct, \"positiveColumnsShape\", [\"Positive\", \"Main\"]);\n    this.e.a8.exportPathData(a, this.cp, \"negativeColumnsShape\", [\"Negative\"]);\n    this.e.a8.exportPathData(a, this.cu, \"positive0\", [\"Positive\", \"Main\"]);\n    this.e.a8.exportPathData(a, this.cw, \"positive1\", [\"Positive\"]);\n    this.e.a8.exportPathData(a, this.cv, \"positive01\", [\"PositiveFill\"]);\n    this.e.a8.exportPathData(a, this.cq, \"negative0\", [\"Negative\", \"Main\"]);\n    this.e.a8.exportPathData(a, this.cs, \"negative1\", [\"Negative\"]);\n    this.e.a8.exportPathData(a, this.cr, \"negative01\", [\"NegativeFill\"]);\n  };\n\n  FinancialIndicatorView.prototype.cd = function () {\n    if (this.b7) {\n      this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n    }\n  };\n\n  FinancialIndicatorView.$t = markType(FinancialIndicatorView, 'FinancialIndicatorView', FinancialSeriesView.$);\n  return FinancialIndicatorView;\n}(FinancialSeriesView);\n\nexport { FinancialIndicatorView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/FinancialIndicator_combined.js"],"names":["__extends","FinancialSeries","ITrendLineSeries_$type","IndicatorDisplayType_$type","DependencyProperty","TrendLineType_$type","Brush","PenLineCap_$type","DoubleCollection","List$1","AxisRange","CategoryFrame","Number_$type","typeCast","enumGetBox","EnumUtil","runOn","markType","markDep","Rect","ScalerParams","ISortingAxis_$type","CategoryTrendLineManagerFactory","FinancialSeriesView","FinancialBucketCalculator","TrendResolutionParams","CategorySeries","NotImplementedException","Path","PropertyMetadata","isNaN_","Pool$1","LineGeometry","PathGeometry","GeometryGroup","Defaults","Extensions","IndicatorRenderer","FinancialIndicator","_super","_this","call","_indicatorColumn","tm","qg","qi","qe","indicatorColumn","prototype","get_dq","bx","FinancialIndicatorView","lz","a","tn","t0","qy","c0","mi","ts","b","c","x","y","d","e","e3","l5","bp","bq","pv","qc","empty","ph","b0","bv","bu","getEffectiveViewport1","f","cg","gc","g","aj","r9","sb","h","i","j","Math","abs","k","l","ei","m","n","o","p","min","max","q","r","s","ev","pm","pp","tp","eu","ey","k0","i$i","b7","b5","g$e","ro","containsKey","tryGetValue","p1","ck","count","tr","t2","Array","v","get_to","Object","defineProperty","get","enumerable","configurable","t3","set","tx","l4","cd","getEnumValue","na","cn","g$b","$","bz","lp","qt","ft","mw","$$p","kx","mx","t1","gj","r3","su","gl","r2","hj","hk","hh","hi","get_e8","tt","contains","tq","ap","en","indexOf","copy","pt","l_op_Inequality","left","width","right","_inner","top","height","bottom","b8","au","e9","s3","clear","i$b","trendLinePeriod","prepareLineCore","trendLineType","$ret","el","getBucket","i$d","t","u","w","NaN","add","g$d","qm","s5","g$g","oz","ti","rj","cc","r7","ca","cb","b2","ql","a0","rk","p4","ak","ag","s2","ad","cu","cw","cv","_opacity","fq","ct","cq","cs","cr","cp","ce","index","cf","g$i","k7","a8","exportTrendlineData","g$j","ba","$t","raisePropertyChanged","oldValue","newValue","FinancialIndicatorBucketCalculator","b3","b6","b4","cm","co","cl","ci","cj","ch","create","destroy","b9","by","as","ah","to","ar","aq","ud","trendLineBrush","bc","bo","_stroke","ac","fu","_fill","a6","a5","trendLineThickness","uf","ai","ue","al","exportPathData"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { IndicatorDisplayType_$type } from \"./IndicatorDisplayType\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Number_$type, typeCast, enumGetBox, EnumUtil, runOn, markType, markDep } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { CategorySeries } from \"./CategorySeries\";\nimport { NotImplementedException } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { Defaults } from \"./Defaults\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { IndicatorRenderer } from \"./IndicatorRenderer\";\n/**\n * @hidden\n */\nvar FinancialIndicator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialIndicator, _super);\n    function FinancialIndicator() {\n        var _this = _super.call(this) || this;\n        _this._indicatorColumn = null;\n        _this.tm = null;\n        _this.qg = new CategoryFrame(3);\n        _this.qi = new CategoryFrame(3);\n        _this.qe = new CategoryFrame(3);\n        _this.indicatorColumn = new List$1(Number_$type, 0);\n        _this.tm = new AxisRange(-100, 100);\n        return _this;\n    }\n    FinancialIndicator.prototype.get_dq = function () {\n        return true;\n    };\n    FinancialIndicator.prototype.bx = function () {\n        return new FinancialIndicatorView(this);\n    };\n    FinancialIndicator.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.tn = a;\n    };\n    FinancialIndicator.prototype.t0 = function (a) {\n        if (this.qy != null && !this.qy.c0()) {\n            this.mi(true);\n        }\n    };\n    FinancialIndicator.prototype.ts = function (a, b, c) {\n        if (isNaN_(b.x) || isNaN_(b.y)) {\n            return false;\n        }\n        var d = this.qy;\n        var e = 0;\n        if (d != null) {\n            e = d.e3(d.l5);\n        }\n        if ((a.y >= e && a.y <= b.y) || (a.y <= e && a.y >= b.y)) {\n            return true;\n        }\n        return false;\n    };\n    FinancialIndicator.prototype.bp = function () {\n        if (this.bq == 0) {\n            return 1;\n        }\n        else {\n            return _super.prototype.bp.call(this);\n        }\n    };\n    FinancialIndicator.prototype.pv = function (a) {\n        if (this.qc == null || this.qy == null) {\n            return Rect.empty;\n        }\n        var b = this.ph(a);\n        var c = this.b0.bv;\n        var d = this.b0.bu;\n        var e = this.getEffectiveViewport1(this.b0);\n        var f = new ScalerParams(0, c, d, this.qy.cg, e);\n        f.b = this.gc();\n        var g = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n        if (g == null) {\n            return Rect.empty;\n        }\n        var h = g[0];\n        var i = g[1];\n        var j = Math.abs(b.x - h[0]);\n        var k = Math.abs(b.x - i[0]);\n        var l = this.qy.ei(this.qy.l5, f);\n        var m = 1;\n        if (j < k) {\n            var n = h[0] - 0.5 * m;\n            var o = h[1];\n            var p = l;\n            return new Rect(0, n, Math.min(o, p), m, Math.max(o, p) - Math.min(o, p));\n        }\n        else {\n            var q = i[0] - 0.5 * m;\n            var r = i[1];\n            var s = l;\n            return new Rect(0, q, Math.min(r, s), m, Math.max(r, s) - Math.min(r, s));\n        }\n    };\n    FinancialIndicator.prototype.ev = function (a, b) {\n        var c = this.pm(this.pp(a), true, false);\n        if (this.tp == 1) {\n            if (this.ts(a, c, b)) {\n                return true;\n            }\n        }\n        if (this.tp == 1 || this.tp == 0) {\n            if (this.eu(a, b)) {\n                return true;\n            }\n        }\n        if (this.tp == 2) {\n            if (this.ey(a, b)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    FinancialIndicator.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n            this.qc.i$i();\n        }\n        if (this.tn.b7) {\n            this.tn.b5.g$e(a, b, c, d);\n        }\n        if (d != null && this.ro.containsKey(d)) {\n            var e = this.ro.tryGetValue(d, d);\n            d = e.p1;\n        }\n        if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n            a = 4;\n            b = 0;\n            c = this.ck.count;\n        }\n        switch (a) {\n            case 3:\n                if (this.tr(b, c, d)) {\n                    this.t2(b, c, d);\n                    this.t0(true);\n                }\n                break;\n            case 2:\n                if (this.tr(b, this.ck.count - b, d)) {\n                    this.t2(b, this.ck.count - b, d);\n                    this.t0(true);\n                }\n                break;\n            case 1:\n                if (this.tr(b, this.ck.count - b, d)) {\n                    var f = new Array(c);\n                    for (var g = 0; g < c; g++) {\n                        f[g] = 0;\n                    }\n                    this.indicatorColumn.s(b, f);\n                    this.t2(b, this.ck.count - b, d);\n                    this.t0(true);\n                }\n                break;\n            case 0:\n                if (this.tr(b, this.ck.count - b, d)) {\n                    this.indicatorColumn.v(b, c);\n                    this.t2(b, this.ck.count - b, d);\n                    this.t0(true);\n                }\n                break;\n            case 4:\n                if (this.tr(b, this.ck.count - b, d)) {\n                    this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n                    var h = new Array(c);\n                    for (var i = 0; i < c; i++) {\n                        h[i] = 0;\n                    }\n                    this.indicatorColumn.s(0, h);\n                    this.t2(b, this.ck.count - b, d);\n                    this.t0(true);\n                }\n                break;\n        }\n    };\n    FinancialIndicator.prototype.get_to = function () {\n        return 0;\n    };\n    Object.defineProperty(FinancialIndicator.prototype, \"to\", {\n        get: function () {\n            return this.get_to();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FinancialIndicator.prototype, \"ud\", {\n        get: function () {\n            return this.c(FinancialIndicator.t3);\n        },\n        set: function (a) {\n            this.h(FinancialIndicator.t3, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialIndicator.prototype.tx = function () {\n        return -1;\n    };\n    Object.defineProperty(FinancialIndicator.prototype, \"indicatorColumn\", {\n        get: function () {\n            return this._indicatorColumn;\n        },\n        set: function (a) {\n            this._indicatorColumn = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialIndicator.prototype.l4 = function (a, b, c, d) {\n        switch (b) {\n            case \"XAxis\":\n                this.tn.cd();\n                break;\n            case \"TrendLineType\":\n                var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n                if (e != 0) {\n                    this.tn.b5 = CategoryTrendLineManagerFactory.a(this.tn.b5, this.qc, this.na, this, this.cn);\n                }\n                break;\n        }\n        _super.prototype.l4.call(this, a, b, c, d);\n        if (this.tn.b7 && this.tn.b5.g$b(a, b, c, d)) {\n            this.mi(false);\n            var f = typeCast(FinancialIndicatorView.$, this.bz);\n            if (f != null && f.b7) {\n                f.b5.g$b(a, b, c, d);\n            }\n            this.lp();\n        }\n        switch (b) {\n            case \"FastItemsSource\":\n                if (this.ck != null) {\n                    this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n                    var g = new Array(this.ck.count);\n                    for (var h = 0; h < this.ck.count; h++) {\n                        g[h] = 0;\n                    }\n                    this.indicatorColumn.s(0, g);\n                    this.t2(0, this.ck.count, null);\n                    if (this.qy != null && !this.qy.c0()) {\n                        this.qt.bx.e(this.ft);\n                        this.mi(false);\n                    }\n                }\n                break;\n            case \"TrendLineBrush\":\n                this.mw();\n                break;\n            case FinancialIndicator.$$p[0]:\n                this.kx(true, this.b0);\n                this.mx();\n                this.mi(false);\n                this.lp();\n                break;\n            case \"OpenColumn\":\n            case \"HighColumn\":\n            case \"LowColumn\":\n            case \"CloseColumn\":\n            case \"VolumeColumn\":\n                if (this.ck != null) {\n                    if (this.indicatorColumn.count != this.ck.count) {\n                        this.indicatorColumn = new List$1(Number_$type, 2, this.ck.count);\n                        var i = new Array(this.ck.count);\n                        for (var j = 0; j < this.ck.count; j++) {\n                            i[j] = 0;\n                        }\n                        this.indicatorColumn.s(0, i);\n                    }\n                    if (this.tr(0, this.ck.count - 1, b)) {\n                        this.t1();\n                    }\n                }\n                break;\n            case \"XAxis\":\n                if (this.qc != null && (typeCast(ISortingAxis_$type, this.qc) !== null || typeCast(ISortingAxis_$type, c) !== null)) {\n                    this.t1();\n                }\n                break;\n            case \"YAxis\":\n            case FinancialIndicator.$$p[1]:\n                this.t1();\n                this.lp();\n                break;\n            case \"TrendLineType\":\n                this.lp();\n                break;\n        }\n    };\n    FinancialIndicator.prototype.gj = function (a, b, c) {\n        if (this.indicatorColumn == null) {\n            return _super.prototype.gj.call(this, a, b, c);\n        }\n        var d = this.getEffectiveViewport1(this.b0);\n        var e = this.r3(this.b0.bv, this.b0.bu, d);\n        var f = new ScalerParams(0, this.b0.bv, this.b0.bu, this.qc.cg, d);\n        f.c = this.cd.su;\n        return this.gl(this.indicatorColumn, a, this.qc, f, e, runOn(this, this.r2), b, c);\n    };\n    FinancialIndicator.prototype.hj = function (a, b) {\n        if (this.indicatorColumn == null) {\n            return _super.prototype.hj.call(this, a, b);\n        }\n        return this.hk(a, b, this.qc, runOn(this, this.r2), this.indicatorColumn);\n    };\n    FinancialIndicator.prototype.hh = function (a, b) {\n        if (this.indicatorColumn == null) {\n            return _super.prototype.hh.call(this, a, b);\n        }\n        return this.hi(a, b, this.qc, runOn(this, this.r2), this.indicatorColumn);\n    };\n    FinancialIndicator.prototype.get_e8 = function () {\n        return true;\n    };\n    FinancialIndicator.prototype.tr = function (a, b, c) {\n        if (c == null) {\n            return true;\n        }\n        if (this.tt(a, b).contains(c)) {\n            return true;\n        }\n        return false;\n    };\n    FinancialIndicator.prototype.t2 = function (a, b, c) {\n        this.tq(a, b);\n    };\n    FinancialIndicator.prototype.ap = function (a) {\n        if (this.ck == null) {\n            return null;\n        }\n        if (a != null && a == this.qy) {\n            return this.tm;\n        }\n        return null;\n    };\n    FinancialIndicator.prototype.en = function (a) {\n        var b = this.ck != null ? this.ck.indexOf(a) : -1;\n        var c = this.b0.bv;\n        c = c.copy();\n        var d = this.b0.bu;\n        var e = new Rect(0, 0, 0, 1, 1);\n        var f = this.pt(this.b0);\n        if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n            if (this.qc != null) {\n                var g = new ScalerParams(0, e, e, this.qc.cg, f);\n                var h = this.qc.ei(b, g);\n                if (h < c.left + 0.1 * c.width) {\n                    h = h + 0.4 * c.width;\n                }\n                if (h > c.right - 0.1 * c.width) {\n                    h = h - 0.4 * c.width;\n                }\n                c.x = h - 0.5 * c.width;\n            }\n            if (this.qy != null && this.indicatorColumn != null && b < this.indicatorColumn.count) {\n                var i = new ScalerParams(0, e, e, this.qy.cg, f);\n                i.b = this.gc();\n                var j = this.qy.ei(this.indicatorColumn._inner[b], i);\n                if (j < c.top + 0.1 * c.height) {\n                    j = j + 0.4 * c.height;\n                }\n                if (j > c.bottom - 0.1 * c.height) {\n                    j = j - 0.4 * c.height;\n                }\n                c.y = j - 0.5 * c.height;\n            }\n            this.b8.au(this.cd, c, true);\n        }\n        return b >= 0;\n    };\n    FinancialIndicator.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.indicatorColumn == null || this.indicatorColumn.count == 0) {\n            d = false;\n        }\n        return d;\n    };\n    FinancialIndicator.prototype.s3 = function (a, b) {\n        var _this = this;\n        _super.prototype.s3.call(this, a, b);\n        var c = b.bv;\n        var d = b.bu;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.qc;\n        var g = this.qy;\n        var h = new ScalerParams(0, c, d, f.cg, e);\n        var i = new ScalerParams(0, c, d, g.cg, e);\n        i.b = this.gc();\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = 0;\n        var k = typeCast(ISortingAxis_$type, this.qc);\n        if (k != null && k.i$b.count != this.ck.count) {\n            return;\n        }\n        j = this.r3(c, d, e);\n        var l = this.tx();\n        if (l == -1) {\n            l = this.trendLinePeriod;\n        }\n        var m = typeCast(FinancialIndicatorView.$, b);\n        if (m.b7) {\n            m.b5.prepareLineCore(a.p, this.trendLineType, this.indicatorColumn, l, function (n) { return _this.qc.ei(n, h); }, function (n) { return _this.qy.ei(n, i); }, ((function () {\n                var $ret = new TrendResolutionParams();\n                $ret.c = b.bx.b;\n                $ret.d = b.bx.c;\n                $ret.e = b.bx.d;\n                $ret.a = j;\n                $ret.b = _this.ft;\n                $ret.f = d;\n                $ret.g = c;\n                return $ret;\n            })()));\n        }\n        var n = this.qc.el(2, h) - this.qc.el(1, h);\n        for (var o = b.bx.c; o <= b.bx.d; ++o) {\n            var p = void 0;\n            if (k == null) {\n                p = b.bx.getBucket(o);\n            }\n            else {\n                var q = k.i$b._inner[o];\n                var r = k.i$d(q);\n                var s = this.indicatorColumn._inner[o];\n                var t = s;\n                var u = r;\n                while (o < b.bx.d) {\n                    q = k.i$b._inner[o + 1];\n                    u = k.i$d(q);\n                    if (u - r > n) {\n                        break;\n                    }\n                    o++;\n                    var v = this.indicatorColumn._inner[o];\n                    s = Math.min(s, v);\n                    t = Math.max(t, v);\n                }\n                var w = NaN;\n                if (!isNaN_(r)) {\n                    w = this.qc.ei(r, h);\n                }\n                p = [w, s, t];\n            }\n            if (!isNaN_(p[0])) {\n                if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n                    p[0] = p[0] + j;\n                }\n                else {\n                    p[0] = f.ei(p[0], h) + j;\n                }\n                p[1] = g.ei(p[1], i);\n                if (b.bx.b > 1 || k != null) {\n                    p[2] = g.ei(p[2], i);\n                }\n                else {\n                    p[2] = p[1];\n                }\n                a.f.add(p);\n            }\n        }\n        return;\n    };\n    FinancialIndicator.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        var c = b;\n        c.b8(a);\n        if (c.b7) {\n            c.b5.g$d();\n        }\n    };\n    FinancialIndicator.prototype.qm = function () {\n        switch (this.tp) {\n            case 1: return 1;\n            case 2: return 1;\n            case 0: return 12;\n        }\n        return 1;\n    };\n    FinancialIndicator.prototype.s5 = function (a, b) {\n        _super.prototype.s5.call(this, a, b);\n        var c = typeCast(FinancialIndicatorView.$, b);\n        var d = function (e) { return a.f._inner[e][0]; };\n        var e = function (f) { return a.f._inner[f][1]; };\n        if (c.b7) {\n            c.b5.g$d();\n            c.b5.g$g(a.p);\n        }\n        var f = b.bu;\n        var g = this.getEffectiveViewport1(b);\n        var h = 0;\n        var i = this.oz;\n        var j = this.ti;\n        if (b.b0(a)) {\n            c.b8(false);\n            if (a.f.count > 0) {\n                switch (this.tp) {\n                    case 0:\n                        var k = CategorySeries.rj(a.f, a.f.count - 1, f, b.bv, false);\n                        c.cc(a.f.count, d, e, true, k);\n                        break;\n                    case 1:\n                        if (this.qy != null) {\n                            h = this.r7(b);\n                        }\n                        else {\n                            h = 0.5 * (f.top + f.bottom);\n                        }\n                        var l = CategorySeries.rj(a.f, a.f.count - 1, f, b.bv, false);\n                        c.ca(a.f.count, d, e, true, h, l);\n                        break;\n                    case 2:\n                        h = this.r7(b);\n                        c.cb(a.f.count, d, e, true, h);\n                        break;\n                    default: throw new NotImplementedException(0);\n                }\n            }\n            b.b2(a);\n        }\n        var m = a.f;\n        var n = this.ck.count;\n        this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n        var o = false;\n        var p = this.ql.b;\n        if (p != null) {\n            o = true;\n        }\n        this.ql.ak = i;\n        this.ql.ag = i;\n        if (o) {\n            var q = new ScalerParams(0, b.bv, b.bu, this.qc.cg, g);\n            this.ql.f = false;\n            this.s2(m, -1, n, this.qc, q, b.q);\n        }\n        this.ql.ad(c.cu, true, false, true, false);\n        this.ql.ad(c.cw, true, false, true, false);\n        this.ql.ad(c.cv, false, true, false, false);\n        c.cv._opacity = 0.8 * this.ql.j * this.fq;\n        this.ql.ad(c.ct, true, false, false, false);\n        this.ql.ak = j;\n        this.ql.ag = j;\n        if (o) {\n            var r = new ScalerParams(0, b.bv, b.bu, this.qc.cg, g);\n            this.ql.f = true;\n            this.s2(m, -1, n, this.qc, r, b.q);\n        }\n        this.ql.ad(c.cq, true, false, true, false);\n        this.ql.ad(c.cs, true, false, true, false);\n        this.ql.ad(c.cr, false, true, false, false);\n        c.cr._opacity = 0.8 * this.ql.j * this.fq;\n        this.ql.ad(c.cp, true, false, false, false);\n        c.ce();\n    };\n    FinancialIndicator.prototype.mw = function () {\n        _super.prototype.mw.call(this);\n        if (this.index < 0) {\n            return;\n        }\n        if (this.tn.b7) {\n            this.tn.cf();\n        }\n    };\n    FinancialIndicator.prototype.t1 = function () {\n        if (this.tn.b7) {\n            this.tn.b5.g$i();\n        }\n        this.tq(0, this.indicatorColumn.count);\n        if (this.qy != null && !this.qy.c0()) {\n            this.mi(false);\n        }\n    };\n    FinancialIndicator.prototype.k7 = function (a) {\n        _super.prototype.k7.call(this, a);\n        this.a8.exportTrendlineData(this, a, this.tn.b5.g$j);\n    };\n    FinancialIndicator.prototype.ba = function (a) {\n        if (this.tp == 1 || this.tp == 2) {\n            return 3;\n        }\n        else if (this.tp == 0) {\n            return 2;\n        }\n        return a;\n    };\n    FinancialIndicator.$t = markType(FinancialIndicator, 'FinancialIndicator', FinancialSeries.$, [ITrendLineSeries_$type]);\n    FinancialIndicator.t3 = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialIndicator.$, new PropertyMetadata(2, null, function (a, b) { return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue); }));\n    FinancialIndicator.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialIndicator, 'raisePropertyChanged', ['DisplayType:tp:t4', [IndicatorDisplayType_$type, enumGetBox(IndicatorDisplayType_$type, 0)], 'IgnoreFirst:tv:t5', [1, 0], 'TrendLineType::ub', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::ua', [1, 1.5], 'TrendLinePeriod::t9', [1, 7], 'TrendLineBrush::t6', [Brush.$, null], 'TrendLineZIndex:tw:uc', [1, 1001], 'TrendLineDashArray:ue:t7', [DoubleCollection.$], 'TrendLineDashCap:uf:t8', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n    return FinancialIndicator;\n}(FinancialSeries));\nexport { FinancialIndicator };\n/**\n * @hidden\n */\nvar FinancialIndicatorBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialIndicatorBucketCalculator, _super);\n    function FinancialIndicatorBucketCalculator(a) {\n        var _this = _super.call(this, a) || this;\n        _this.f = null;\n        _this.f = a;\n        return _this;\n    }\n    FinancialIndicatorBucketCalculator.prototype.getBucket = function (a) {\n        var b = a * this.b;\n        var c = Math.min(b + this.b - 1, this.f.b3.indicatorColumn.count - 1);\n        var d = NaN;\n        var e = NaN;\n        for (var f = b; f <= c; ++f) {\n            var g = this.f.b3.indicatorColumn._inner[f];\n            if (!isNaN_(d)) {\n                if (!isNaN_(g)) {\n                    d = Math.min(d, g);\n                    e = Math.max(e, g);\n                }\n            }\n            else {\n                d = g;\n                e = g;\n            }\n        }\n        if (!isNaN_(d)) {\n            return [0.5 * (b + c), d, e];\n        }\n        return [NaN, NaN, NaN];\n    };\n    FinancialIndicatorBucketCalculator.$t = markType(FinancialIndicatorBucketCalculator, 'FinancialIndicatorBucketCalculator', FinancialBucketCalculator.$);\n    return FinancialIndicatorBucketCalculator;\n}(FinancialBucketCalculator));\nexport { FinancialIndicatorBucketCalculator };\n/**\n * @hidden\n */\nvar FinancialIndicatorView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialIndicatorView, _super);\n    function FinancialIndicatorView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b3 = null;\n        _this.b6 = null;\n        _this.cu = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.cq = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.cv = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.cr = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.cw = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.cs = ((function () {\n            var $ret = new Path();\n            $ret.ak = new PathGeometry();\n            return $ret;\n        })());\n        _this.ct = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.cp = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.b4 = null;\n        _this.cm = new Path();\n        _this.co = new Path();\n        _this.cn = new Path();\n        _this.cl = new Path();\n        _this.ci = new Path();\n        _this.ck = new Path();\n        _this.cj = new Path();\n        _this.ch = new Path();\n        _this.b3 = a;\n        _this.b6 = ((function () {\n            var $ret = new Pool$1(LineGeometry.$);\n            $ret.create = runOn(_this, _this.cg);\n            $ret.destroy = runOn(_this, _this.b9);\n            return $ret;\n        })());\n        return _this;\n    }\n    FinancialIndicatorView.prototype.by = function () {\n        return new FinancialIndicatorBucketCalculator(this);\n    };\n    FinancialIndicatorView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.b3.ti = Defaults.ah;\n            this.b3.tp = this.b3.to;\n        }\n    };\n    FinancialIndicatorView.prototype.cg = function () {\n        return new LineGeometry();\n    };\n    FinancialIndicatorView.prototype.b9 = function (a) {\n    };\n    Object.defineProperty(FinancialIndicatorView.prototype, \"b5\", {\n        get: function () {\n            if (this.b4 == null) {\n                this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n            }\n            return this.b4;\n        },\n        set: function (a) {\n            this.b4 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FinancialIndicatorView.prototype, \"b7\", {\n        get: function () {\n            return this.b4 != null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialIndicatorView.prototype.b8 = function (a) {\n        Extensions.e(this.cu.ak);\n        Extensions.e(this.cv.ak);\n        Extensions.e(this.cw.ak);\n        Extensions.e(this.cq.ak);\n        Extensions.e(this.cr.ak);\n        Extensions.e(this.cs.ak);\n        Extensions.d(this.ct.ak);\n        Extensions.d(this.cp.ak);\n        if (a) {\n            this.b6.count = 0;\n        }\n        this.aq();\n    };\n    FinancialIndicatorView.prototype.ce = function () {\n    };\n    FinancialIndicatorView.prototype.cc = function (a, b, c, d, e) {\n        IndicatorRenderer.g(a, b, c, d, this.bv, this.bu, this.cu, this.cq, this.bx.b, this.e.ft, e);\n        this.aq();\n    };\n    FinancialIndicatorView.prototype.ca = function (a, b, c, d, e, f) {\n        IndicatorRenderer.e(a, b, c, d, this.bv, this.bu, this.cu, this.cv, this.cq, this.cr, e, this.bx.b, this.e.ft, f);\n        this.aq();\n    };\n    FinancialIndicatorView.prototype.cb = function (a, b, c, d, e) {\n        IndicatorRenderer.f(a, b, c, d, this.bu, e, this.b6, this.ct, this.cp);\n        this.aq();\n    };\n    FinancialIndicatorView.prototype.cf = function () {\n        this.b3.ud = null;\n        if (this.b3.trendLineBrush != null) {\n            this.b3.ud = this.b3.trendLineBrush;\n        }\n        else {\n            this.b3.ud = this.b3.oz;\n        }\n    };\n    FinancialIndicatorView.prototype.bc = function () {\n        _super.prototype.bc.call(this);\n        var a = this.bo();\n        this.cm.ak = this.cu.ak;\n        this.co.ak = this.cw.ak;\n        this.cn.ak = this.cv.ak;\n        this.cl.ak = this.ct.ak;\n        this.ci.ak = this.cq.ak;\n        this.ck.ak = this.cs.ak;\n        this.cj.ak = this.cr.ak;\n        this.ch.ak = this.cp.ak;\n        this.cm._stroke = a;\n        this.co._stroke = a;\n        this.cm.ac = this.e.fu + 3;\n        this.co.ac = this.e.fu + 3;\n        this.cn._fill = a;\n        this.cn._opacity = 1;\n        this.cl._stroke = a;\n        this.cl.ac = this.e.fu + 3;\n        this.ci._stroke = a;\n        this.ck._stroke = a;\n        this.ci.ac = this.e.fu + 3;\n        this.ck.ac = this.e.fu + 3;\n        this.cj._fill = a;\n        this.cj._opacity = 1;\n        this.ch._stroke = a;\n        this.ch.ac = this.e.fu + 3;\n    };\n    FinancialIndicatorView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (a.d) {\n            if (b) {\n                if (this.b3.tp == 2) {\n                    a.s(this.cl);\n                    a.s(this.ch);\n                }\n                else {\n                    a.s(this.cn);\n                    a.s(this.cm);\n                    a.s(this.co);\n                    a.s(this.cj);\n                    a.s(this.ci);\n                    a.s(this.ck);\n                }\n            }\n            else {\n                if (this.b3.tp == 2) {\n                    a.s(this.ct);\n                    a.s(this.cp);\n                }\n                else {\n                    a.s(this.cv);\n                    a.s(this.cu);\n                    a.s(this.cw);\n                    a.s(this.cr);\n                    a.s(this.cq);\n                    a.s(this.cs);\n                }\n            }\n        }\n    };\n    FinancialIndicatorView.prototype.a5 = function (a, b) {\n        if (a.d) {\n            if (this.b3.trendLineType != 0 && !b) {\n                var c = this.b5.g$j;\n                c.ac = this.b3.trendLineThickness;\n                c._stroke = this.b3.ud;\n                c.ad = this.b3.uf;\n                c.ai = this.b3.ue;\n                a.u(c);\n            }\n        }\n        _super.prototype.a5.call(this, a, b);\n    };\n    FinancialIndicatorView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        this.e.a8.exportPathData(a, this.ct, \"positiveColumnsShape\", [\"Positive\", \"Main\"]);\n        this.e.a8.exportPathData(a, this.cp, \"negativeColumnsShape\", [\"Negative\"]);\n        this.e.a8.exportPathData(a, this.cu, \"positive0\", [\"Positive\", \"Main\"]);\n        this.e.a8.exportPathData(a, this.cw, \"positive1\", [\"Positive\"]);\n        this.e.a8.exportPathData(a, this.cv, \"positive01\", [\"PositiveFill\"]);\n        this.e.a8.exportPathData(a, this.cq, \"negative0\", [\"Negative\", \"Main\"]);\n        this.e.a8.exportPathData(a, this.cs, \"negative1\", [\"Negative\"]);\n        this.e.a8.exportPathData(a, this.cr, \"negative01\", [\"NegativeFill\"]);\n    };\n    FinancialIndicatorView.prototype.cd = function () {\n        if (this.b7) {\n            this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n        }\n    };\n    FinancialIndicatorView.$t = markType(FinancialIndicatorView, 'FinancialIndicatorView', FinancialSeriesView.$);\n    return FinancialIndicatorView;\n}(FinancialSeriesView));\nexport { FinancialIndicatorView };\n"]},"metadata":{},"sourceType":"module"}