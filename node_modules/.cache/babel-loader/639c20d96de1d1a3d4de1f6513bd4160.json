{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, typeCast, markType, Array_$type, Number_$type, Point_$type, enumGetBox, runOn, fromEnum, markDep } from \"igniteui-react-core\";\nimport { IBucketizer_$type } from \"./IBucketizer\";\nimport { ArgumentNullException } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CategoryAxisBase } from \"./CategoryAxisBase\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Series } from \"./Series\";\nimport { truncate, intDivide, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { FramePreparer } from \"./FramePreparer\";\nimport { IIsCategoryBased_$type } from \"./IIsCategoryBased\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ISupportsMarkers_$type } from \"./ISupportsMarkers\";\nimport { IProvidesViewport_$type } from \"./IProvidesViewport\";\nimport { ISupportsErrorBars_$type } from \"./ISupportsErrorBars\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { PreparationParams } from \"./PreparationParams\";\nimport { IDateTimeAxis_$type } from \"./IDateTimeAxis\";\nimport { NumericAxisBase } from \"./NumericAxisBase\";\nimport { IHasCategoryTrendline_$type } from \"./IHasCategoryTrendline\";\nimport { IHasSingleValueCategory_$type } from \"./IHasSingleValueCategory\";\nimport { DefaultCategoryTrendlineHost } from \"./DefaultCategoryTrendlineHost\";\nimport { DefaultSingleValueProvider } from \"./DefaultSingleValueProvider\";\nimport { SingleValuesHolder } from \"./SingleValuesHolder\";\nimport { MarkerSeries } from \"./MarkerSeries\";\nimport { IHasCategoryModePreference_$type } from \"./IHasCategoryModePreference\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { DVContainer } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { CategoryTransitionInMode_$type } from \"./CategoryTransitionInMode\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { CategoryTransitionSourceFramePreparer } from \"./CategoryTransitionSourceFramePreparer\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { Marker } from \"./Marker\";\nimport { MarkerSeriesView } from \"./MarkerSeriesView\";\nimport { CategorySeriesRenderManager } from \"./CategorySeriesRenderManager\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Clipper } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CategoryBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategoryBucketCalculator, _super);\n\n  function CategoryBucketCalculator(a) {\n    var _this = _super.call(this) || this;\n\n    _this.c = null;\n    _this.e = 0;\n    _this.f = 0;\n    _this.d = 0;\n\n    if (a == null) {\n      throw new ArgumentNullException(0, \"view\");\n    }\n\n    _this.c = a;\n    _this.e = -1;\n    _this.d = 0;\n    return _this;\n  }\n\n  CategoryBucketCalculator.prototype.getBucket = function (a) {\n    return null;\n  };\n\n  CategoryBucketCalculator.prototype.getBucketWithoutUnknowns = function (a) {\n    return this.getBucket(a);\n  };\n\n  CategoryBucketCalculator.prototype.getErrorBucket = function (a, b) {\n    return NaN;\n  };\n\n  CategoryBucketCalculator.prototype.g = function (a) {\n    var b = this.c.bv;\n    var c = this.c.bu;\n    var d = this.c.ct;\n    var e = typeCast(CategoryAxisBase.$, d.fetchXAxis());\n    var f = d.ck;\n\n    if (b.isEmpty || c.isEmpty || e == null || f == null || f.count == 0) {\n      this.d = 0;\n      return;\n    }\n\n    var g = d.getEffectiveViewport1(this.c);\n    var h = d.pr(this.c);\n    var i = typeCast(ISortingAxis_$type, e);\n\n    if (i == null || i.i$b == null) {\n      var j = new ScalerParams(0, b, c, e.cg, g);\n      var k = Math.floor(e.em(h.left, j, 0));\n      var l = Math.ceil(e.em(h.right, j, 0));\n\n      if (e.cg) {\n        l = Math.ceil(e.em(h.left, j, 0));\n        k = Math.floor(e.em(h.right, j, 0));\n      }\n\n      var m = Math.floor((l - k + 1) * a / h.width);\n      this.d = truncate(Math.max(1, m));\n      this.e = truncate(Math.max(0, Math.floor(k / this.d) - 1));\n      this.f = truncate(Math.ceil(l / this.d));\n    } else {\n      this.e = i.i$e(b, c, g, h);\n      this.f = i.i$g(b, c, g, h);\n      this.d = 1;\n    }\n  };\n\n  CategoryBucketCalculator.prototype.getBucketInfo = function (a, b, c, d) {\n    a = this.e;\n    b = this.f;\n    c = this.d;\n    d = this.c.ct.ft;\n    return {\n      p0: a,\n      p1: b,\n      p2: c,\n      p3: d\n    };\n  };\n\n  CategoryBucketCalculator.prototype.cacheValues = function () {};\n\n  CategoryBucketCalculator.prototype.unCacheValues = function () {};\n\n  CategoryBucketCalculator.$t = markType(CategoryBucketCalculator, 'CategoryBucketCalculator', Base.$, [IBucketizer_$type]);\n  return CategoryBucketCalculator;\n}(Base);\n\nexport { CategoryBucketCalculator };\n/**\n * @hidden\n */\n\nvar CategoryFramePreparerBase =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategoryFramePreparerBase, _super);\n\n  function CategoryFramePreparerBase(a) {\n    var _rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      _rest[_i - 1] = arguments[_i];\n    }\n\n    var _this = this;\n\n    a = a == void 0 ? 0 : a;\n\n    switch (a) {\n      case 0:\n        {\n          var c = _rest[0];\n          var d = [c, typeCast(ISupportsMarkers_$type, c), typeCast(IProvidesViewport_$type, c), typeCast(ISupportsErrorBars_$type, c), typeCast(IBucketizer_$type, c)];\n          {\n            var f = d[0];\n            var g = d[1];\n            var h = d[2];\n            var i = d[3];\n            var j = d[4];\n            _this = _super.call(this, 1, g, h, i) || this;\n            _this.g = null;\n            _this.h = null;\n            _this.m = false;\n            _this.o = new List$1(Array_$type, 0);\n            _this.p = new List$1(Number_$type, 0);\n            _this.n = new List$1(Number_$type, 0);\n            _this.h = f;\n            _this.g = j;\n          }\n        }\n        break;\n\n      case 1:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          var g = _rest[4];\n          _this = _super.call(this, 1, d, e, f) || this;\n          _this.g = null;\n          _this.h = null;\n          _this.m = false;\n          _this.o = new List$1(Array_$type, 0);\n          _this.p = new List$1(Number_$type, 0);\n          _this.n = new List$1(Number_$type, 0);\n          _this.h = c;\n          _this.g = g;\n        }\n        break;\n    }\n\n    return _this;\n  }\n\n  CategoryFramePreparerBase.prototype.i = function (a) {\n    var b = new PreparationParams();\n    b.f = this.h.useHighMarkerFidelity;\n    b.b = this.h.scaler;\n    b.c = this.h.yScaler;\n    b.d = typeCast(ISortingAxis_$type, b.b);\n    b.a = typeCast(CategoryFrame.$, a);\n\n    if (b.a == null || b.b == null || b.c == null) {\n      return null;\n    }\n\n    var c;\n    var d;\n    var e;\n    var f;\n    var g = this.g.getBucketInfo(c, d, e, f);\n    c = g.p0;\n    d = g.p1;\n    e = g.p2;\n    f = g.p3;\n    b.i = c;\n    b.j = d;\n    b.h = e;\n    b.g = f;\n\n    if (b.j < b.i) {\n      return null;\n    }\n\n    var h;\n    var i;\n    var j;\n    var k = this.a.getViewInfo(i, h);\n    i = k.p0;\n    h = k.p1;\n    j = this.a.getEffectiveViewport();\n    b.m = h;\n    b.l = i;\n    b.k = j;\n\n    if (Rect.l_op_Equality(b.m, Rect.empty) || Rect.l_op_Equality(b.l, Rect.empty)) {\n      return null;\n    }\n\n    if (this.h != null && typeCast(Series.$, this.h) !== null && this.h.du && this.g != null) {\n      b.e = true;\n    }\n\n    return b;\n  };\n\n  CategoryFramePreparerBase.prototype.r = function (a, b, c, d) {\n    return a.getSeriesOffset(b, c, d, this.h.currentMode2Index, this.h.currentCategoryMode);\n  };\n\n  CategoryFramePreparerBase.prototype.s = function (a) {\n    return this.r(a.b, a.m, a.l, a.k);\n  };\n\n  CategoryFramePreparerBase.prototype.d = function (a, b) {\n    var c = this.i(a);\n\n    if (c == null || this.g == null) {\n      return;\n    }\n\n    c.a.f.clear();\n    c.a.k.clear();\n    c.a.m.clear();\n    c.a.p.clear();\n    c.a.i.clear();\n    c.a.h.clear();\n    c.a.g.clear();\n    var d = this.c.shouldDisplayMarkers;\n    var e = false;\n    var f = this.s(c);\n    var g = this.j(c);\n\n    if (c.d != null && c.d.i$b != null && c.d.i$b.count != g.e) {\n      return;\n    }\n\n    if (c.d != null && c.d.i$a) {\n      c.d.i$h();\n    }\n\n    this.g.cacheValues();\n\n    if (this.m && c.d != null && c.d.i$b.count > 0) {\n      var h = c.d.i$b._inner[c.i];\n      this.z(g, h, true, c.e);\n\n      while ((isNaN_(g.c) || isNaN_(g.d)) && c.i > 0) {\n        c.i = c.i - 1;\n        h = c.d.i$b._inner[c.i];\n        this.z(g, h, true, c.e);\n      }\n\n      var i = c.d.i$b._inner[c.j];\n      this.z(g, i, true, c.e);\n\n      while ((isNaN_(g.c) || isNaN_(g.d)) && c.j < g.e - 1) {\n        c.j = c.j + 1;\n        i = c.d.i$b._inner[c.j];\n        this.z(g, i, true, c.e);\n      }\n    }\n\n    if (this.m && c.d == null) {\n      var j = c.i;\n      var k = this.g.getBucket(j);\n\n      while ((isNaN_(k[1]) || isNaN_(k[2])) && c.i > 0) {\n        c.i = c.i - 1;\n        j = c.i;\n        k = this.g.getBucket(j);\n      }\n\n      var l = c.j;\n      k = this.g.getBucket(l);\n\n      while ((isNaN_(k[1]) || isNaN_(k[2])) && c.j < intDivide(g.e, c.h)) {\n        c.j = c.j + 1;\n        l = c.j;\n        k = this.g.getBucket(l);\n      }\n    }\n\n    this.w(c, g, f);\n    var m = this.t(c, g, f, d, e);\n    this.c.updateMarkerCount(m);\n    this.v(typeCast(CategoryFrame.$, a), b);\n    this.g.unCacheValues();\n    return;\n  };\n\n  CategoryFramePreparerBase.prototype.v = function (a, b) {};\n\n  Object.defineProperty(CategoryFramePreparerBase.prototype, \"q\", {\n    get: function () {\n      return this.o;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CategoryFramePreparerBase.prototype.t = function (a, b, c, d, e) {\n    var _this = this;\n\n    var f = 0;\n    var g = false;\n    var h = null;\n    var i = false;\n    var j = a.d != null;\n    var k = a.m;\n    var l = a.l;\n    var m = typeCast(NumericAxisBase.$, a.c) !== null && a.c.lh;\n    var n = a.f;\n    var o = this.h.mayContainUnknowns;\n    var p = this.o;\n    var q = this.n;\n    var r = this.p;\n    p.clear();\n    q.clear();\n    r.clear();\n    var s = this.g;\n    var t = this.h.provideCollisionDetector();\n    var u = 0;\n    var v = a.k;\n    var w = new ScalerParams(0, k, l, a.b.j$a, v);\n\n    var x = function () {\n      var $ret = new ScalerParams(0, k, l, a.c.j$a, v);\n      $ret.b = typeCast(Series.$, _this.h) !== null ? _this.h.gc() : NaN;\n      return $ret;\n    }();\n\n    if (j) {\n      u = a.b.j$c(2, w) - a.b.j$c(1, w);\n      i = this.k();\n    }\n\n    var y = a.i;\n    var z = a.j;\n    var aa = a.a.f;\n    var ab = typeCast(IDateTimeAxis_$type, a.b);\n\n    if (ab != null) {\n      ab.StartTimeCursor();\n    }\n\n    var _loop_1 = function (ac) {\n      var ad = void 0;\n\n      if (!j) {\n        if (!o) {\n          ad = s.getBucketWithoutUnknowns(ac);\n        } else {\n          ad = s.getBucket(ac);\n        }\n      } else {\n        ad = function () {\n          var ae = _this.f(a, ac, b, u, g, h, c);\n\n          ac = ae.p1;\n          g = ae.p4;\n          h = ae.p5;\n          return ae.ret;\n        }();\n      }\n\n      var ae = !m || m && ad[1] > 0;\n      var af = ad[0];\n\n      if (!j || !isNaN_(ad[0])) {\n        aa.add(ad);\n\n        if (g && i) {\n          if (h != null) {\n            aa.add(h);\n          }\n        }\n\n        if (d && ae) {\n          var ag = ac * a.h;\n          var ah = ag;\n\n          if (j && a.d.i$b != null && ag >= 0 && ag < a.d.i$b.count) {\n            ag = a.d.i$b._inner[ag];\n          }\n\n          var ai = new Array(ad.length);\n          ai[0] = ad[0];\n          ai[1] = ad[1];\n          ai[2] = ad[2];\n\n          if (n && ag < b.e) {\n            ai = new Array(ad.length);\n            ai[0] = af;\n            this_1.z(b, ag, true, a.e);\n            ai[1] = b.c;\n            ai[2] = b.d;\n          }\n\n          p.add(ai);\n          q.add(a.a.f.count - 1);\n          r.add(ag);\n        }\n      }\n\n      out_ac_1 = ac;\n    };\n\n    var this_1 = this,\n        out_ac_1;\n\n    for (var ac = y; ac <= z; ++ac) {\n      _loop_1(ac);\n\n      ac = out_ac_1;\n    }\n\n    if (ab != null) {\n      ab.ResetTimeCursor();\n    }\n\n    this.y(a, c, j, w, x, e, d);\n\n    if (d) {\n      var aj = p.count;\n      var ak = void 0;\n\n      for (var al = 0; al < aj; al++) {\n        ak = p._inner[al];\n\n        if (this.l(a.a, ak, t, Math.min(r._inner[al], b.e - 1), f, q._inner[al])) {\n          ++f;\n        }\n      }\n    }\n\n    return f;\n  };\n\n  CategoryFramePreparerBase.prototype.k = function () {\n    if (typeCast(Series.$, this.h) !== null) {\n      return this.h.de;\n    }\n\n    return false;\n  };\n\n  CategoryFramePreparerBase.prototype.f = function (a, b, c, d, e, f, g) {\n    var h;\n    f = null;\n    e = false;\n    var i = typeCast(CategorySeries.$, this.h);\n    var j = a.l;\n    var k = a.m;\n    var l = a.k;\n    var m = new ScalerParams(0, k, j, a.b.j$a, l);\n    var n = new ScalerParams(0, k, j, a.c.j$a, l);\n    var o = a.e;\n\n    if (a.d == null || a.d.i$b == null || a.d.i$b.count == 0) {\n      return {\n        ret: [NaN, NaN, NaN],\n        p1: b,\n        p4: e,\n        p5: f\n      };\n    }\n\n    if (i != null && i.ck != null && i.ck.count < a.d.i$b.count) {\n      return {\n        ret: [NaN, NaN, NaN],\n        p1: b,\n        p4: e,\n        p5: f\n      };\n    }\n\n    var p = a.d.i$b._inner[b];\n    var q = a.d.i$d(p);\n    var r = q;\n    this.z(c, p, false, o);\n\n    while (b < a.j) {\n      p = a.d.i$b._inner[b + 1];\n      r = a.d.i$d(p);\n      this.z(c, p, true, o);\n\n      if (r - q >= d || isNaN_(c.c) || isNaN_(c.d)) {\n        if (e) {\n          var s = a.d.i$b._inner[b];\n          this.z(c, s, true, o);\n          f = [a.b.j$b(q, m), c.c, c.d];\n        }\n\n        break;\n      }\n\n      if (!e && this.k()) {\n        var t = a.d.i$b._inner[b];\n        this.z(c, t, true, o);\n        var u = [a.b.j$b(q, m), c.c, c.d];\n\n        if (!isNaN_(u[0])) {\n          if (!isNaN_(u[1]) && !isNaN_(u[2])) {\n            if (a.d != null) {\n              u[0] = u[0] + g;\n            }\n\n            a.a.f.add(u);\n            e = true;\n          } else {\n            break;\n          }\n        }\n      }\n\n      b++;\n      this.u(c, p, o);\n    }\n\n    var v = NaN;\n\n    if (!isNaN_(q)) {\n      v = a.b.j$b(q, m);\n    }\n\n    h = this.e(v, c);\n    return {\n      ret: h,\n      p1: b,\n      p4: e,\n      p5: f\n    };\n  };\n\n  CategoryFramePreparerBase.prototype.y = function (a, b, c, d, e, f, g) {\n    var h = a.h;\n    var i = a.a.f.count;\n    var j = a.a.f;\n    var k = this.o;\n    var l = k.count;\n\n    if (f) {\n      var m = a.c.j$b(a.c.l5, e);\n      a.c.j$e(a.a.k, 0, a.a.k.count, e);\n      var n = a.a.k;\n      var o = n.count;\n\n      for (var p = 0; p < n.count; p++) {\n        n._inner[p] = Math.abs(n._inner[p] - m);\n      }\n    }\n  };\n\n  CategoryFramePreparerBase.prototype.w = function (a, b, c) {};\n\n  CategoryFramePreparerBase.$t = markType(CategoryFramePreparerBase, 'CategoryFramePreparerBase', FramePreparer.$);\n  return CategoryFramePreparerBase;\n}(FramePreparer);\n\nexport { CategoryFramePreparerBase };\n/**\n * @hidden\n */\n\nvar CategoryFramePreparer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategoryFramePreparer, _super);\n\n  function CategoryFramePreparer(a) {\n    var _rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      _rest[_i - 1] = arguments[_i];\n    }\n\n    var _this = this;\n\n    a = a == void 0 ? 0 : a;\n\n    switch (a) {\n      case 0:\n        {\n          var c = _rest[0];\n          var d = [c, typeCast(ISupportsMarkers_$type, c), typeCast(IProvidesViewport_$type, c), typeCast(ISupportsErrorBars_$type, c), typeCast(IBucketizer_$type, c)];\n          {\n            var f = d[0];\n            var g = d[1];\n            var h = d[2];\n            var i = d[3];\n            var j = d[4];\n            _this = _super.call(this, 1, f, g, h, i, j) || this;\n            _this.aa = new DefaultCategoryTrendlineHost();\n            _this.ab = new DefaultSingleValueProvider();\n            _this.ac = null;\n            _this.ad = null;\n            _this.ac = _this.aa;\n\n            if (typeCast(IHasCategoryTrendline_$type, f) !== null) {\n              _this.ac = typeCast(IHasCategoryTrendline_$type, f);\n            }\n\n            _this.ad = _this.ab;\n\n            if (typeCast(IHasSingleValueCategory_$type, f) !== null) {\n              _this.ad = typeCast(IHasSingleValueCategory_$type, f);\n            }\n          }\n        }\n        break;\n\n      case 1:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          var g = _rest[4];\n          _this = _super.call(this, 1, c, d, e, f, g) || this;\n          _this.aa = new DefaultCategoryTrendlineHost();\n          _this.ab = new DefaultSingleValueProvider();\n          _this.ac = null;\n          _this.ad = null;\n          _this.ac = _this.aa;\n\n          if (typeCast(IHasCategoryTrendline_$type, c) !== null) {\n            _this.ac = typeCast(IHasCategoryTrendline_$type, c);\n          }\n\n          _this.ad = _this.ab;\n\n          if (typeCast(IHasSingleValueCategory_$type, c) !== null) {\n            _this.ad = typeCast(IHasSingleValueCategory_$type, c);\n          }\n        }\n        break;\n    }\n\n    return _this;\n  }\n\n  CategoryFramePreparer.prototype.l = function (a, b, c, d, e, f) {\n    var g = b[0];\n    var h = b[1];\n    var i = new Rect(0, g - 5, h - 5, 11, 11);\n\n    if (!isNaN_(g) && !isNaN_(h) && !isInfinity(g) && !isInfinity(h) && c.tryAdd(i)) {\n      a.m.add({\n        $type: Point_$type,\n        x: g,\n        y: h\n      });\n      this.c.updateMarkerTemplate(e, d, f);\n      return true;\n    }\n\n    return false;\n  };\n\n  CategoryFramePreparer.prototype.j = function (a) {\n    var b = new SingleValuesHolder();\n    var c = this.ad.valueColumn;\n    b.f = c;\n    return b;\n  };\n\n  CategoryFramePreparer.prototype.x = function (a, b, c, d, e, f) {\n    if (d) {\n      b[0] = b[0] + c;\n    } else {\n      b[0] = a.b.j$b(b[0], e) + c;\n    }\n\n    b[1] = a.c.j$b(b[1], f);\n\n    if (a.h > 1 || d) {\n      b[2] = a.c.j$b(b[2], f);\n    } else {\n      b[2] = b[1];\n    }\n  };\n\n  CategoryFramePreparer.prototype.y = function (a, b, c, d, e, f, g) {\n    _super.prototype.y.call(this, a, b, c, d, e, f, g);\n\n    var h = a.h;\n    var i = a.a.f.count;\n    var j = a.a.f;\n    var k = this.q;\n    var l = k.count;\n    var m = new List$1(Number_$type, 0);\n\n    if (!c) {\n      m.add(0);\n    }\n\n    var n = new List$1(Number_$type, 0);\n    n.add(1);\n\n    if (c || h > 1) {\n      n.add(2);\n    }\n\n    a.b.j$d(j, m, 0, i, d);\n    a.c.j$d(j, n, 0, i, e);\n\n    for (var o = 0; o < i; o++) {\n      j._inner[o][0] = j._inner[o][0] + b;\n    }\n\n    if (h == 1 && !c) {\n      for (var p = 0; p < i; p++) {\n        j._inner[p][2] = j._inner[p][1];\n      }\n    }\n\n    if (g) {\n      a.b.j$d(k, m, 0, l, d);\n      a.c.j$d(k, n, 0, l, e);\n\n      for (var q = 0; q < l; q++) {\n        k._inner[q][0] = k._inner[q][0] + b;\n      }\n\n      if (h == 1 && !c) {\n        for (var r = 0; r < l; r++) {\n          k._inner[r][2] = k._inner[r][1];\n        }\n      }\n    }\n  };\n\n  CategoryFramePreparer.prototype.w = function (a, b, c) {\n    if (this.ac.trendLineType == 0 || this.ac.trendlinePreparer == null || this.ac.trendLinePeriod < 1) {\n      return;\n    }\n\n    this.ac.trendlinePreparer.prepareLine(this.ac, a, b, c);\n  };\n\n  CategoryFramePreparer.prototype.z = function (a, b, c, d) {\n    var e = a;\n    var f = e.f;\n    var g = f.item(b);\n    var h = g;\n\n    if (d) {\n      var i = this.g.getBucket(b);\n      g = i[1];\n      h = i[1];\n    }\n\n    if (c) {\n      e.c = g;\n      e.d = h;\n    } else {\n      e.a = g;\n      e.b = h;\n    }\n  };\n\n  CategoryFramePreparer.prototype.u = function (a, b, c) {\n    var d = a;\n    var e = d.f;\n\n    if (b < e.count) {\n      var f = void 0;\n\n      if (c) {\n        var g = this.g.getBucket(b);\n        f = g[1];\n      } else {\n        f = e.item(b);\n      }\n\n      d.a = Math.min(d.a, f);\n      d.b = Math.max(d.b, f);\n    }\n  };\n\n  CategoryFramePreparer.prototype.e = function (a, b) {\n    var c = b;\n    return [a, c.a, c.b];\n  };\n\n  CategoryFramePreparer.$t = markType(CategoryFramePreparer, 'CategoryFramePreparer', CategoryFramePreparerBase.$);\n  return CategoryFramePreparer;\n}(CategoryFramePreparerBase);\n\nexport { CategoryFramePreparer };\n/**\n * @hidden\n */\n\nvar CategorySeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategorySeries, _super);\n\n  function CategorySeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ru = null;\n    _this.r7 = null;\n    _this.sb = false;\n    _this.sa = false;\n    _this.assigningCategoryStyle = null;\n    _this.assigningCategoryMarkerStyle = null;\n    _this.r5 = null;\n    _this.r6 = null;\n    _this.rr = new CategoryFrame(3);\n    _this.rt = new CategoryFrame(3);\n    _this.rp = new CategoryFrame(3);\n    _this.rs = new CategoryFrame(3);\n    _this.rx = null;\n    _this.r1 = null;\n    _this.rx = new CategorySeriesRenderManager();\n    _this.r1 = new CategoryTransitionSourceFramePreparer();\n    _this.sb = false;\n    _this.sa = false;\n    _this.ab = CategorySeries.$;\n    return _this;\n  }\n\n  CategorySeries.prototype.bx = function () {\n    var a = new CategorySeriesView(this);\n    return a;\n  };\n\n  Object.defineProperty(CategorySeries.prototype, \"r8\", {\n    get: function () {\n      var _this = this;\n\n      if (this.r7 == null) {\n        this.r7 = DVContainer.instance.createInstance(ICategorySeriesInteractionManager_$type, function () {\n          return _this.cn.n;\n        });\n      }\n\n      return this.r7;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CategorySeries.prototype.c1 = function (a, b, c, d) {\n    var _this = this;\n\n    if (!this.hasMarkers) {\n      return false;\n    }\n\n    var e = this.getEffectiveViewport1(this.b0);\n    var f = this.ro();\n    var g = new ScalerParams(1, this.cd.sf, this.pz, f.cg);\n    g.c = e;\n    var h = this.r9();\n    var i = new ScalerParams(1, this.cd.sf, this.pz, h.cg);\n    i.c = e;\n    var j = this.cd.sf;\n    var k = this.pz;\n    var l = this.currentMode2Index;\n    var m = 0;\n\n    if (f.cd && f.cb) {\n      m = f.getSeriesOffset(j, k, e, l, f.categoryMode);\n    }\n\n    a.clear();\n    this.qc.cf(function (n) {\n      if (n._visibility == 0) {\n        var o = new SeriesPointOfInterest();\n        var p = n.n;\n        var q = n.o;\n\n        if (p < _this.pz.left || p > _this.pz.right || q < _this.pz.top || q > _this.pz.bottom) {\n          return;\n        }\n\n        if (_this.isVertical) {\n          if (f.ca && !f.cd && f.categoryMode != 0) {\n            o.c = n.ak;\n          } else {\n            o.c = f.el(q, g);\n          }\n\n          o.b = h.el(p, i);\n        } else {\n          if (f.ca && !f.cd && f.categoryMode != 0) {\n            o.b = n.ak;\n          } else {\n            o.b = f.el(p, g);\n          }\n\n          o.c = h.el(q, i);\n        }\n\n        o.a = n.content;\n\n        if (b) {\n          if (_this.isVertical) {\n            if (c) {\n              o.d = _this.st(o.b, d);\n            } else {\n              var r = _this.go(n);\n\n              if (!isNaN_(r)) {\n                o.d = _this.st(r, d);\n              } else {\n                o.d = _this.st(o.b, d);\n              }\n            }\n          } else {\n            if (c) {\n              o.d = _this.st(o.c, d);\n            } else {\n              var s = _this.go(n);\n\n              if (!isNaN_(s)) {\n                o.d = _this.st(s, d);\n              } else {\n                o.d = _this.st(o.c, d);\n              }\n            }\n          }\n        } else {\n          o.d = f.gc(n.ak);\n        }\n\n        a.add(o);\n      }\n    });\n    return true;\n  };\n\n  CategorySeries.prototype.st = function (a, b) {\n    if (b >= 0) {\n      return round10N(a, b).toString();\n    } else {\n      return a.toString();\n    }\n  };\n\n  CategorySeries.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.ry = a;\n  };\n\n  CategorySeries.prototype.preferredCategoryMode = function (a) {\n    return 0;\n  };\n\n  Object.defineProperty(CategorySeries.prototype, \"categoryAxis\", {\n    get: function () {\n      return this.ro();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CategorySeries.prototype.ro = function () {\n    return this.fetchXAxis();\n  };\n\n  CategorySeries.prototype.r9 = function () {\n    return this.fetchYAxis();\n  };\n\n  CategorySeries.prototype.get_c6 = function () {\n    return true;\n  };\n\n  CategorySeries.prototype.get_ej = function () {\n    return this.r9() != null && this.r9().cg;\n  };\n\n  CategorySeries.prototype.get_dg = function () {\n    return true;\n  };\n\n  CategorySeries.prototype.ac = function () {\n    _super.prototype.ac.call(this);\n\n    this.ry.cr.g(this.ft);\n  };\n\n  CategorySeries.prototype.sh = function () {\n    return this.assigningCategoryStyle != null && this.sb || this.bk != 1;\n  };\n\n  CategorySeries.prototype.si = function () {\n    return this.assigningCategoryMarkerStyle != null && this.sa || this.bk != 1;\n  };\n\n  CategorySeries.prototype.s6 = function (a) {\n    if (this.assigningCategoryStyle != null && this.sb) {\n      this.assigningCategoryStyle(this, a);\n    }\n  };\n\n  CategorySeries.prototype.s5 = function (a) {\n    if (this.assigningCategoryMarkerStyle != null && this.sa) {\n      this.assigningCategoryMarkerStyle(this, a);\n    }\n  };\n\n  CategorySeries.prototype.ri = function (a, b) {\n    return null;\n  };\n\n  CategorySeries.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    if (a) {\n      this.s0(b);\n    }\n  };\n\n  CategorySeries.prototype.bh = function () {\n    var a = _super.prototype.bh.call(this);\n\n    return a;\n  };\n\n  CategorySeries.prototype.lf = function () {\n    _super.prototype.lf.call(this);\n\n    var a = this.fetchXAxis();\n\n    if (a != null) {\n      a.h7(false);\n    }\n\n    var b = this.fetchYAxis();\n\n    if (b != null) {\n      b.h7(false);\n    }\n  };\n\n  CategorySeries.prototype.m6 = function (a, b) {\n    _super.prototype.m6.call(this, a, b);\n\n    this.ry.cr.g(this.ft);\n    this.mi(false);\n  };\n\n  CategorySeries.prototype.m5 = function (a, b) {\n    if (this.e0 && this.g0 < 0.05 && (this.cd == null || !this.cd.eo())) {\n      this.e1 = true;\n    }\n\n    _super.prototype.m5.call(this, a, b);\n\n    this.ry.cr.g(this.ft);\n    this.mi(false);\n  };\n\n  CategorySeries.prototype.l4 = function (a, b, c, d) {\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"SeriesViewer\":\n        var e = this.fetchYAxis();\n        var f = this.fetchXAxis();\n\n        if (c != null && d == null) {\n          this.k1(f);\n          this.k1(e);\n        }\n\n        if (c == null && d != null) {\n          this.l9(f);\n          this.l9(e);\n        }\n\n        this.ry.cr.g(this.ft);\n        this.mi(false);\n        break;\n\n      case \"SyncLink\":\n        if (this.b8 != null && this.cd != null) {\n          this.ry.cr.g(this.ft);\n        }\n\n        this.mi(false);\n        break;\n\n      case \"TransitionProgress\":\n        this.rt.c(this.g0, this.rr, this.rp);\n\n        if (this.cx(this.b0)) {\n          return;\n        }\n\n        if (this.g0 == 1) {\n          this.rp.v();\n          this.s7(this.rp, this.ry);\n\n          if (this.e0) {\n            this.e0 = false;\n            this.ky();\n            this.ce.r = truncate(this.gm());\n            this.ce.b = this.cf;\n          }\n        } else {\n          this.s7(this.rt, this.ry);\n        }\n\n        if (this.cd != null) {\n          this.cd.nn(this);\n        }\n\n        break;\n\n      case \"ErrorBarSettings\":\n        this.lp();\n        break;\n\n      case CategorySeries.$$p[4]:\n        this.mi(false);\n        break;\n\n      case CategorySeries.$$p[1]:\n        this.sb = this.sd();\n        this.mi(false);\n        break;\n\n      case CategorySeries.$$p[0]:\n        this.sa = this.sc();\n        this.mi(false);\n        break;\n    }\n  };\n\n  CategorySeries.prototype.sd = function () {\n    return this.sf;\n  };\n\n  CategorySeries.prototype.sc = function () {\n    return this.se;\n  };\n\n  CategorySeries.prototype.sn = function (a) {\n    return this.f7(a, this.fetchXAxis());\n  };\n\n  CategorySeries.prototype.get_d9 = function () {\n    return typeCast(ISortingAxis_$type, this.ro()) !== null;\n  };\n\n  CategorySeries.prototype.ar = function () {\n    return this.ro();\n  };\n\n  CategorySeries.prototype.hf = function (a) {\n    return this.r8.b$d(this, a);\n  };\n\n  CategorySeries.prototype.ht = function (a) {\n    return this.r8.b$f(this, a);\n  };\n\n  CategorySeries.prototype.hd = function (a) {\n    var b = truncate(Math.round(this.f5(a)));\n    return b;\n  };\n\n  CategorySeries.prototype.f5 = function (a) {\n    return this.r8.b$c(this, a);\n  };\n\n  CategorySeries.prototype.ax = function (a, b, c) {\n    if (this.ef(this.bk) && !c) {\n      var d = this.r4(a, b, this.r6);\n      this.r6 = d;\n      return d;\n    } else {\n      var e = this.r2(a, b, this.r6);\n      e.e = true;\n      this.r6 = e;\n      return e;\n    }\n  };\n\n  CategorySeries.prototype.get_dx = function () {\n    return true;\n  };\n\n  CategorySeries.prototype.kv = function () {\n    _super.prototype.kv.call(this);\n\n    this.r5 = null;\n    this.r6 = null;\n  };\n\n  CategorySeries.prototype.aw = function (a, b, c) {\n    if (this.c2 && this.ef(this.bk) && !c) {\n      var d = this.r3(a, b, this.r5);\n      this.r5 = d;\n      return d;\n    } else {\n      var e = this.r2(a, b, this.r5);\n      this.r5 = e;\n      return e;\n    }\n  };\n\n  CategorySeries.prototype.sm = function () {\n    return this.ry.cu.a;\n  };\n\n  CategorySeries.prototype.r4 = function (a, b, c) {\n    if (!this.qf()) {\n      return null;\n    }\n\n    var d = this.rq();\n    var e = this.sm();\n    return this.r8.b$b(this, e, this.sq(this.b0), this.sp(this.b0), d.f, a, b, c);\n  };\n\n  CategorySeries.prototype.r3 = function (a, b, c) {\n    var d = this.sq(this.b0);\n    var e = this.sr(this.b0);\n    var f = this.sp(this.b0);\n    var g = this.rq();\n    return this.r8.b$a(this, g.f, d, e, f, a, b, c);\n  };\n\n  CategorySeries.prototype.r2 = function (a, b, c) {\n    var d = new HighlightingInfo();\n    d.b = this;\n    d.h = 0;\n    d.g = this.ck != null ? this.ck.count - 1 : 0;\n    d.d = true;\n\n    if (c != null && c.h == d.h && c.g == d.g) {\n      return c;\n    }\n\n    return d;\n  };\n\n  CategorySeries.prototype.rq = function () {\n    var a = this.rp;\n\n    if (this.cv()) {\n      if (this.ce.g) {\n        this.ce.t();\n      }\n\n      a = this.rt;\n    }\n\n    return a;\n  };\n\n  CategorySeries.prototype.s2 = function (a, b, c, d, e, f) {\n    var g = this.bk != 1;\n    this.rx.a1(this.rx.d, d.cm, a, b, c, d, e, f, true);\n    this.rx.aa(this.fr);\n    var h = this.rx.av;\n    var i = null;\n    var j = this.ck;\n    var k = null;\n\n    if (g && this.cd != null) {\n      i = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, true);\n\n      if (this.cd.a3.isCrossSeriesHighlight(this)) {\n        k = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, true);\n      }\n\n      h.b = i;\n    }\n\n    h.f = f;\n    this.s5(h);\n    this.rx.y(this, i, f, g, h.m, this.cd.a3.totalHighlightingProgress);\n  };\n\n  CategorySeries.prototype.s3 = function (a, b, c, d, e, f) {\n    var g = this.bk != 1;\n    this.rx.a1(this.rx.b, d.cm, a, b, c, d, e, f, false);\n    this.rx.ab(this.fr);\n    var h = this.rx.aw;\n    var i = null;\n    var j = this.ck;\n\n    if (g && this.cd != null) {\n      i = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, false);\n      h.b = i;\n    }\n\n    h.f = f;\n    this.s6(h);\n    this.rx.z(this, i, f, g, b < 0);\n  };\n\n  CategorySeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    d = d && this.sl(this.fetchXAxis());\n    d = d && this.sl(this.fetchYAxis());\n    var e = c;\n\n    if (!c.o() || b.isEmpty || a.isEmpty || this.ck == null) {\n      d = false;\n    }\n\n    if (!d) {\n      e.cr.d = 0;\n    }\n\n    return d;\n  };\n\n  CategorySeries.prototype.sl = function (a) {\n    if (a == null || a.bh == null) {\n      return false;\n    }\n\n    var b = typeCast(CategoryAxisBase.$, a);\n\n    if (b != null) {\n      if (b.itemsSource == null) {\n        return false;\n      }\n\n      if (b.le < 1) {\n        return false;\n      }\n    } else {\n      var c = typeCast(NumericAxisBase.$, a);\n\n      if (c != null) {\n        return c.lv != c.lu;\n      }\n    }\n\n    return true;\n  };\n\n  CategorySeries.prototype.eq = function () {\n    return this.sg;\n  };\n\n  CategorySeries.prototype.rz = function () {\n    return 12;\n  };\n\n  CategorySeries.prototype.ky = function () {\n    _super.prototype.ky.call(this);\n\n    this.rr.v();\n    this.rp.v();\n    this.rt.v();\n  };\n\n  CategorySeries.prototype.mj = function (a) {\n    _super.prototype.mj.call(this, a);\n\n    this.ry.cr.g(this.ft);\n\n    if (this.cx(this.b0)) {\n      this.rp.y();\n      this.rt.y();\n      this.rr.y();\n      return;\n    }\n\n    if (this.es) {\n      if (this.cv()) {\n        if (this.ce.g) {\n          this.ce.t();\n        }\n\n        this.s7(this.rt, this.ry);\n      } else {\n        this.s7(this.rp, this.ry);\n      }\n\n      return;\n    }\n\n    if (this.eo(a)) {\n      var b = this.rr;\n\n      if (this.cv()) {\n        if (this.ce.g) {\n          this.ce.t();\n        }\n\n        this.rr = this.rt;\n        this.rt = b;\n      } else {\n        this.rr = this.rp;\n        this.rp = b;\n      }\n\n      this.s4(this.rp, this.ry);\n\n      if (this.e2) {\n        this.ce.w();\n        this.ce.r = truncate(this.gn());\n        this.ce.b = this.cg != null ? this.cg : this.cf;\n        this.r1.p(this.rr, this.rp, this.isVertical, this.fetchXAxis(), this.fetchYAxis(), this.r0, this.rz(), this.ca, this.b9(), runOn(this, this.so), this.ry.bu);\n      }\n\n      this.kt();\n      this.mr();\n\n      if (this.e2) {\n        this.e1 = false;\n        this.e0 = true;\n      }\n    } else {\n      this.s4(this.rp, this.ry);\n      this.s7(this.rp, this.ry);\n    }\n  };\n\n  CategorySeries.prototype.b9 = function () {\n    return 3;\n  };\n\n  CategorySeries.prototype.so = function () {\n    if (this.isVertical) {\n      return this.pz.left;\n    }\n\n    return this.pz.bottom;\n  };\n\n  CategorySeries.prototype.ss = function () {\n    var e_1, _a;\n\n    var a = 0;\n    var b = this.fetchXAxis();\n\n    try {\n      for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var c = _c.value;\n\n        if (c == this) {\n          return a;\n        }\n\n        var d = typeCast(CategorySeries.$, c);\n\n        if (d != null) {\n          var e = typeCast(CategoryAxisBase.$, d.fetchXAxis());\n\n          if (e == b && d.preferredCategoryMode(e) == 2) {\n            a++;\n          }\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return -1;\n  };\n\n  Object.defineProperty(CategorySeries.prototype, \"GetErrorBarsXAxis\", {\n    get: function () {\n      return this.fetchXAxis();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategorySeries.prototype, \"GetErrorBarsYAxis\", {\n    get: function () {\n      return this.fetchYAxis();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CategorySeries.prototype.s1 = function (a, b) {\n    this.rx.az(this, this.si(), runOn(this, this.ri), this.sp(a), this.sq(a));\n    var c = this.rx.d;\n    var d = c != null;\n    var e = this.ro();\n\n    if (e == null) {\n      return;\n    }\n\n    var f = this.getEffectiveViewport1(a);\n    var g = new ScalerParams(0, a.bv, a.bu, e.cg, f);\n    var h = this.ck == null ? 0 : this.ck.count;\n    var i = a;\n    var j = b.f;\n    var k = i.cr.e;\n    var l = i.cr.f;\n    var m = i.cr.d;\n    var n = k * m;\n\n    for (var o = 0; o < a.cu.count; o++) {\n      var p = a.cu.item(o);\n      var q = p.content;\n\n      if (d) {\n        var r = p.al;\n        this.s2(j, r, h, e, g, a.q);\n      }\n\n      this.rx.ac(p, q);\n    }\n  };\n\n  CategorySeries.prototype.s7 = function (a, b) {\n    this.pq = a.aa;\n    b.au();\n  };\n\n  CategorySeries.prototype.s4 = function (a, b) {\n    a.u();\n  };\n\n  CategorySeries.prototype.sp = function (a) {\n    return a.cr.d;\n  };\n\n  CategorySeries.prototype.sq = function (a) {\n    return a.cr.e;\n  };\n\n  CategorySeries.prototype.sr = function (a) {\n    return a.cr.f;\n  };\n\n  CategorySeries.prototype.s0 = function (a) {\n    var b = a;\n    b.cu.count = 0;\n  };\n\n  CategorySeries.prototype.mk = function (a, b) {\n    _super.prototype.mk.call(this, a, b);\n\n    if (!this.ez) {\n      this.b0.a2(b);\n      return;\n    }\n\n    var c = typeCast(CategorySeriesView.$, this.bz);\n    c.cr.g(this.ft);\n    this.b0.a2(b);\n\n    if (this.cx(this.bz)) {\n      return;\n    }\n\n    this.s8();\n    this.ez = false;\n  };\n\n  CategorySeries.prototype.s8 = function () {\n    var a = typeCast(CategorySeriesView.$, this.bz);\n\n    if (!this.et) {\n      this.s4(this.rs, a);\n    }\n\n    this.et = false;\n    this.s7(this.rs, a);\n  };\n\n  CategorySeries.prototype.rv = function (a) {\n    var b = typeCast(CategorySeriesView.$, a);\n\n    if (b != null && b.q) {\n      if (b.p) {\n        return new CategoryFramePreparer(1, typeCast(IIsCategoryBased_$type, this), typeCast(ISupportsMarkers_$type, b), b, this, b.cr);\n      } else {\n        return new CategoryFramePreparer(1, typeCast(IIsCategoryBased_$type, this), typeCast(ISupportsMarkers_$type, b), this.cd.cq.o, this, b.cr);\n      }\n    } else {\n      return this.ru;\n    }\n  };\n\n  CategorySeries.prototype.an = function (a) {\n    if (this.fetchXAxis() == a) {\n      return this.fetchYAxis();\n    }\n\n    if (this.fetchYAxis() == a) {\n      return this.fetchXAxis();\n    }\n\n    return null;\n  };\n\n  CategorySeries.prototype.ag = function () {\n    return [this.fetchXAxis(), this.fetchYAxis()];\n  };\n\n  CategorySeries.rj = function (a, b, c, d, e) {\n    var f = null;\n\n    if (b > -1 && !d.isEmpty && !c.isEmpty) {\n      var g = a._inner[0][0] < c.left - 2000 ? c.left - 10 : NaN;\n      var h = c.bottom + 10;\n      var i = a._inner[b][0] > c.right + 2000 ? c.right + 10 : NaN;\n      var j = c.top - 10;\n      f = new Clipper(1, g, h, i, j, e);\n    }\n\n    return f;\n  };\n\n  CategorySeries.$t = markType(CategorySeries, 'CategorySeries', MarkerSeries.$, [IHasCategoryModePreference_$type, ISupportsErrorBars_$type]);\n  CategorySeries.$$p = markDep(DependencyProperty, PropertyMetadata, CategorySeries, 'raisePropertyChanged', ['IsCustomCategoryMarkerStyleAllowed:se:s9', [0, false], 'IsCustomCategoryStyleAllowed:sf:ta', [0, false], 'IsTransitionInEnabled:sg:tb', [0, false], 'TransitionInMode:r0:tc', [CategoryTransitionInMode_$type, enumGetBox(CategoryTransitionInMode_$type, 0)], 'UseHighMarkerFidelity:sk:td', [0, false]]);\n  return CategorySeries;\n}(MarkerSeries);\n\nexport { CategorySeries };\n/**\n * @hidden\n */\n\nvar CategorySeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategorySeriesView, _super);\n\n  function CategorySeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.ct = null;\n    _this.cw = 0;\n    _this.cr = null;\n    _this.cu = null;\n    _this.cw = -1;\n    _this.ct = a;\n    _this.cr = _this.cs();\n\n    _this.cu = function () {\n      var $ret = new Pool$1(Marker.$);\n      $ret.create = runOn(_this, _this.b0);\n      $ret.activate = runOn(_this, _this.cj);\n      $ret.disactivate = runOn(_this, _this.cl);\n      $ret.destroy = runOn(_this, _this.ck);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  CategorySeriesView.prototype.cv = function (a) {\n    if (this.cw != a.t) {\n      return true;\n    }\n\n    return false;\n  };\n\n  CategorySeriesView.prototype.cy = function (a) {\n    this.cw = a.t;\n  };\n\n  CategorySeriesView.prototype.updateMarkerTemplate = function (a, b, c) {\n    if (!this.b1.qh) {\n      var d = this.cu.item(a);\n      var e = d.content;\n      e.item = this.e.ck.item(b);\n      d.ak = b;\n      d.al = c;\n    }\n  };\n\n  CategorySeriesView.prototype.cs = function () {\n    return new CategoryBucketCalculator(this);\n  };\n\n  Object.defineProperty(CategorySeriesView.prototype, \"shouldDisplayMarkers\", {\n    get: function () {\n      return this.ct.qf();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CategorySeriesView.prototype.updateMarkerCount = function (a) {\n    this.cu.count = a;\n  };\n\n  CategorySeriesView.prototype.cf = function (a) {\n    this.cu.c(a);\n  };\n\n  CategorySeriesView.prototype.cx = function () {};\n\n  CategorySeriesView.$t = markType(CategorySeriesView, 'CategorySeriesView', MarkerSeriesView.$, [ISupportsMarkers_$type]);\n  return CategorySeriesView;\n}(MarkerSeriesView);\n\nexport { CategorySeriesView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/CategoryBucketCalculator_combined.js"],"names":["__extends","__values","Base","typeCast","markType","Array_$type","Number_$type","Point_$type","enumGetBox","runOn","fromEnum","markDep","IBucketizer_$type","ArgumentNullException","Rect","CategoryAxisBase","ISortingAxis_$type","ScalerParams","Series","truncate","intDivide","isNaN_","isInfinity","FramePreparer","IIsCategoryBased_$type","List$1","ISupportsMarkers_$type","IProvidesViewport_$type","ISupportsErrorBars_$type","CategoryFrame","PreparationParams","IDateTimeAxis_$type","NumericAxisBase","IHasCategoryTrendline_$type","IHasSingleValueCategory_$type","DefaultCategoryTrendlineHost","DefaultSingleValueProvider","SingleValuesHolder","MarkerSeries","IHasCategoryModePreference_$type","ICategorySeriesInteractionManager_$type","DVContainer","DependencyProperty","CategoryTransitionInMode_$type","HighlightingInfo","CategoryTransitionSourceFramePreparer","SeriesPointOfInterest","Marker","MarkerSeriesView","CategorySeriesRenderManager","Pool$1","Clipper","PropertyMetadata","round10N","CategoryBucketCalculator","_super","a","_this","call","c","e","f","d","prototype","getBucket","getBucketWithoutUnknowns","getErrorBucket","b","NaN","g","bv","bu","ct","$","fetchXAxis","ck","isEmpty","count","getEffectiveViewport1","h","pr","i","i$b","j","cg","k","Math","floor","em","left","l","ceil","right","m","width","max","i$e","i$g","getBucketInfo","ft","p0","p1","p2","p3","cacheValues","unCacheValues","$t","CategoryFramePreparerBase","_rest","_i","arguments","length","o","p","n","useHighMarkerFidelity","scaler","yScaler","getViewInfo","getEffectiveViewport","l_op_Equality","empty","du","r","getSeriesOffset","currentMode2Index","currentCategoryMode","s","clear","shouldDisplayMarkers","i$a","i$h","_inner","z","w","t","updateMarkerCount","v","Object","defineProperty","get","enumerable","configurable","lh","mayContainUnknowns","q","provideCollisionDetector","u","j$a","x","$ret","gc","j$c","y","aa","ab","StartTimeCursor","_loop_1","ac","ad","ae","p4","p5","ret","af","add","ag","ah","ai","Array","this_1","out_ac_1","ResetTimeCursor","aj","ak","al","min","de","CategorySeries","i$d","j$b","l5","j$e","abs","CategoryFramePreparer","tryAdd","$type","updateMarkerTemplate","valueColumn","j$d","trendLineType","trendlinePreparer","trendLinePeriod","prepareLine","item","ru","r7","sb","sa","assigningCategoryStyle","assigningCategoryMarkerStyle","r5","r6","rr","rt","rp","rs","rx","r1","bx","CategorySeriesView","instance","createInstance","cn","c1","hasMarkers","b0","ro","cd","sf","pz","r9","cb","categoryMode","qc","cf","_visibility","top","bottom","isVertical","ca","el","content","st","go","toString","lz","ry","preferredCategoryMode","fetchYAxis","get_c6","get_ej","get_dg","cr","sh","bk","si","s6","s5","ri","kx","s0","bh","lf","h7","m6","mi","m5","e0","g0","eo","e1","l4","k1","l9","b8","cx","s7","ky","ce","gm","nn","lp","$$p","sd","sc","se","sn","f7","get_d9","ar","hf","r8","b$d","ht","b$f","hd","round","f5","b$c","ax","ef","r4","r2","get_dx","kv","aw","c2","r3","sm","cu","qf","rq","b$b","sq","sp","sr","b$a","cv","s2","a1","cm","fr","av","a3","getHighlightingInfo","isCrossSeriesHighlight","totalHighlightingProgress","s3","e9","sl","itemsSource","le","lv","lu","eq","sg","rz","mj","es","s4","e2","gn","r0","b9","so","kt","mr","ss","e_1","_a","_b","series","_c","next","done","value","e_1_1","error","return","s1","az","pq","au","mk","ez","a2","bz","s8","et","rv","cq","an","rj","cw","cs","create","activate","cj","disactivate","cl","destroy","cy","b1","qh"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, typeCast, markType, Array_$type, Number_$type, Point_$type, enumGetBox, runOn, fromEnum, markDep } from \"igniteui-react-core\";\nimport { IBucketizer_$type } from \"./IBucketizer\";\nimport { ArgumentNullException } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CategoryAxisBase } from \"./CategoryAxisBase\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Series } from \"./Series\";\nimport { truncate, intDivide, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { FramePreparer } from \"./FramePreparer\";\nimport { IIsCategoryBased_$type } from \"./IIsCategoryBased\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ISupportsMarkers_$type } from \"./ISupportsMarkers\";\nimport { IProvidesViewport_$type } from \"./IProvidesViewport\";\nimport { ISupportsErrorBars_$type } from \"./ISupportsErrorBars\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { PreparationParams } from \"./PreparationParams\";\nimport { IDateTimeAxis_$type } from \"./IDateTimeAxis\";\nimport { NumericAxisBase } from \"./NumericAxisBase\";\nimport { IHasCategoryTrendline_$type } from \"./IHasCategoryTrendline\";\nimport { IHasSingleValueCategory_$type } from \"./IHasSingleValueCategory\";\nimport { DefaultCategoryTrendlineHost } from \"./DefaultCategoryTrendlineHost\";\nimport { DefaultSingleValueProvider } from \"./DefaultSingleValueProvider\";\nimport { SingleValuesHolder } from \"./SingleValuesHolder\";\nimport { MarkerSeries } from \"./MarkerSeries\";\nimport { IHasCategoryModePreference_$type } from \"./IHasCategoryModePreference\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { DVContainer } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { CategoryTransitionInMode_$type } from \"./CategoryTransitionInMode\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { CategoryTransitionSourceFramePreparer } from \"./CategoryTransitionSourceFramePreparer\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { Marker } from \"./Marker\";\nimport { MarkerSeriesView } from \"./MarkerSeriesView\";\nimport { CategorySeriesRenderManager } from \"./CategorySeriesRenderManager\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Clipper } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CategoryBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategoryBucketCalculator, _super);\n    function CategoryBucketCalculator(a) {\n        var _this = _super.call(this) || this;\n        _this.c = null;\n        _this.e = 0;\n        _this.f = 0;\n        _this.d = 0;\n        if (a == null) {\n            throw new ArgumentNullException(0, \"view\");\n        }\n        _this.c = a;\n        _this.e = -1;\n        _this.d = 0;\n        return _this;\n    }\n    CategoryBucketCalculator.prototype.getBucket = function (a) {\n        return null;\n    };\n    CategoryBucketCalculator.prototype.getBucketWithoutUnknowns = function (a) {\n        return this.getBucket(a);\n    };\n    CategoryBucketCalculator.prototype.getErrorBucket = function (a, b) {\n        return NaN;\n    };\n    CategoryBucketCalculator.prototype.g = function (a) {\n        var b = this.c.bv;\n        var c = this.c.bu;\n        var d = this.c.ct;\n        var e = typeCast(CategoryAxisBase.$, d.fetchXAxis());\n        var f = d.ck;\n        if (b.isEmpty || c.isEmpty || e == null || f == null || f.count == 0) {\n            this.d = 0;\n            return;\n        }\n        var g = d.getEffectiveViewport1(this.c);\n        var h = d.pr(this.c);\n        var i = typeCast(ISortingAxis_$type, e);\n        if (i == null || i.i$b == null) {\n            var j = new ScalerParams(0, b, c, e.cg, g);\n            var k = Math.floor(e.em(h.left, j, 0));\n            var l = Math.ceil(e.em(h.right, j, 0));\n            if (e.cg) {\n                l = Math.ceil(e.em(h.left, j, 0));\n                k = Math.floor(e.em(h.right, j, 0));\n            }\n            var m = Math.floor((l - k + 1) * a / h.width);\n            this.d = truncate(Math.max(1, m));\n            this.e = truncate(Math.max(0, Math.floor(k / this.d) - 1));\n            this.f = truncate(Math.ceil(l / this.d));\n        }\n        else {\n            this.e = i.i$e(b, c, g, h);\n            this.f = i.i$g(b, c, g, h);\n            this.d = 1;\n        }\n    };\n    CategoryBucketCalculator.prototype.getBucketInfo = function (a, b, c, d) {\n        a = this.e;\n        b = this.f;\n        c = this.d;\n        d = this.c.ct.ft;\n        return {\n            p0: a,\n            p1: b,\n            p2: c,\n            p3: d\n        };\n    };\n    CategoryBucketCalculator.prototype.cacheValues = function () {\n    };\n    CategoryBucketCalculator.prototype.unCacheValues = function () {\n    };\n    CategoryBucketCalculator.$t = markType(CategoryBucketCalculator, 'CategoryBucketCalculator', Base.$, [IBucketizer_$type]);\n    return CategoryBucketCalculator;\n}(Base));\nexport { CategoryBucketCalculator };\n/**\n * @hidden\n */\nvar CategoryFramePreparerBase = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategoryFramePreparerBase, _super);\n    function CategoryFramePreparerBase(a) {\n        var _rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            _rest[_i - 1] = arguments[_i];\n        }\n        var _this = this;\n        a = (a == void 0) ? 0 : a;\n        switch (a) {\n            case 0:\n                {\n                    var c = _rest[0];\n                    var d = [c, typeCast(ISupportsMarkers_$type, c), typeCast(IProvidesViewport_$type, c), typeCast(ISupportsErrorBars_$type, c), typeCast(IBucketizer_$type, c)];\n                    {\n                        var f = d[0];\n                        var g = d[1];\n                        var h = d[2];\n                        var i = d[3];\n                        var j = d[4];\n                        _this = _super.call(this, 1, g, h, i) || this;\n                        _this.g = null;\n                        _this.h = null;\n                        _this.m = false;\n                        _this.o = new List$1(Array_$type, 0);\n                        _this.p = new List$1(Number_$type, 0);\n                        _this.n = new List$1(Number_$type, 0);\n                        _this.h = f;\n                        _this.g = j;\n                    }\n                }\n                break;\n            case 1:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    var g = _rest[4];\n                    _this = _super.call(this, 1, d, e, f) || this;\n                    _this.g = null;\n                    _this.h = null;\n                    _this.m = false;\n                    _this.o = new List$1(Array_$type, 0);\n                    _this.p = new List$1(Number_$type, 0);\n                    _this.n = new List$1(Number_$type, 0);\n                    _this.h = c;\n                    _this.g = g;\n                }\n                break;\n        }\n        return _this;\n    }\n    CategoryFramePreparerBase.prototype.i = function (a) {\n        var b = new PreparationParams();\n        b.f = this.h.useHighMarkerFidelity;\n        b.b = this.h.scaler;\n        b.c = this.h.yScaler;\n        b.d = typeCast(ISortingAxis_$type, b.b);\n        b.a = typeCast(CategoryFrame.$, a);\n        if (b.a == null || b.b == null || b.c == null) {\n            return null;\n        }\n        var c;\n        var d;\n        var e;\n        var f;\n        var g = this.g.getBucketInfo(c, d, e, f);\n        c = g.p0;\n        d = g.p1;\n        e = g.p2;\n        f = g.p3;\n        b.i = c;\n        b.j = d;\n        b.h = e;\n        b.g = f;\n        if (b.j < b.i) {\n            return null;\n        }\n        var h;\n        var i;\n        var j;\n        var k = this.a.getViewInfo(i, h);\n        i = k.p0;\n        h = k.p1;\n        j = this.a.getEffectiveViewport();\n        b.m = h;\n        b.l = i;\n        b.k = j;\n        if (Rect.l_op_Equality(b.m, Rect.empty) || Rect.l_op_Equality(b.l, Rect.empty)) {\n            return null;\n        }\n        if (this.h != null && (typeCast(Series.$, this.h) !== null && this.h.du) && this.g != null) {\n            b.e = true;\n        }\n        return b;\n    };\n    CategoryFramePreparerBase.prototype.r = function (a, b, c, d) {\n        return a.getSeriesOffset(b, c, d, this.h.currentMode2Index, this.h.currentCategoryMode);\n    };\n    CategoryFramePreparerBase.prototype.s = function (a) {\n        return this.r(a.b, a.m, a.l, a.k);\n    };\n    CategoryFramePreparerBase.prototype.d = function (a, b) {\n        var c = this.i(a);\n        if (c == null || this.g == null) {\n            return;\n        }\n        c.a.f.clear();\n        c.a.k.clear();\n        c.a.m.clear();\n        c.a.p.clear();\n        c.a.i.clear();\n        c.a.h.clear();\n        c.a.g.clear();\n        var d = this.c.shouldDisplayMarkers;\n        var e = false;\n        var f = this.s(c);\n        var g = this.j(c);\n        if (c.d != null && c.d.i$b != null && c.d.i$b.count != g.e) {\n            return;\n        }\n        if (c.d != null && c.d.i$a) {\n            c.d.i$h();\n        }\n        this.g.cacheValues();\n        if (this.m && c.d != null && c.d.i$b.count > 0) {\n            var h = c.d.i$b._inner[c.i];\n            this.z(g, h, true, c.e);\n            while ((isNaN_(g.c) || isNaN_(g.d)) && c.i > 0) {\n                c.i = c.i - 1;\n                h = c.d.i$b._inner[c.i];\n                this.z(g, h, true, c.e);\n            }\n            var i = c.d.i$b._inner[c.j];\n            this.z(g, i, true, c.e);\n            while ((isNaN_(g.c) || isNaN_(g.d)) && c.j < g.e - 1) {\n                c.j = c.j + 1;\n                i = c.d.i$b._inner[c.j];\n                this.z(g, i, true, c.e);\n            }\n        }\n        if (this.m && c.d == null) {\n            var j = c.i;\n            var k = this.g.getBucket(j);\n            while ((isNaN_(k[1]) || isNaN_(k[2])) && c.i > 0) {\n                c.i = c.i - 1;\n                j = c.i;\n                k = this.g.getBucket(j);\n            }\n            var l = c.j;\n            k = this.g.getBucket(l);\n            while ((isNaN_(k[1]) || isNaN_(k[2])) && c.j < (intDivide(g.e, c.h))) {\n                c.j = c.j + 1;\n                l = c.j;\n                k = this.g.getBucket(l);\n            }\n        }\n        this.w(c, g, f);\n        var m = this.t(c, g, f, d, e);\n        this.c.updateMarkerCount(m);\n        this.v(typeCast(CategoryFrame.$, a), b);\n        this.g.unCacheValues();\n        return;\n    };\n    CategoryFramePreparerBase.prototype.v = function (a, b) {\n    };\n    Object.defineProperty(CategoryFramePreparerBase.prototype, \"q\", {\n        get: function () {\n            return this.o;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategoryFramePreparerBase.prototype.t = function (a, b, c, d, e) {\n        var _this = this;\n        var f = 0;\n        var g = false;\n        var h = null;\n        var i = false;\n        var j = a.d != null;\n        var k = a.m;\n        var l = a.l;\n        var m = typeCast(NumericAxisBase.$, a.c) !== null && a.c.lh;\n        var n = a.f;\n        var o = this.h.mayContainUnknowns;\n        var p = this.o;\n        var q = this.n;\n        var r = this.p;\n        p.clear();\n        q.clear();\n        r.clear();\n        var s = this.g;\n        var t = this.h.provideCollisionDetector();\n        var u = 0;\n        var v = a.k;\n        var w = new ScalerParams(0, k, l, a.b.j$a, v);\n        var x = ((function () {\n            var $ret = new ScalerParams(0, k, l, a.c.j$a, v);\n            $ret.b = typeCast(Series.$, _this.h) !== null ? _this.h.gc() : NaN;\n            return $ret;\n        })());\n        if (j) {\n            u = a.b.j$c(2, w) - a.b.j$c(1, w);\n            i = this.k();\n        }\n        var y = a.i;\n        var z = a.j;\n        var aa = a.a.f;\n        var ab = typeCast(IDateTimeAxis_$type, a.b);\n        if (ab != null) {\n            ab.StartTimeCursor();\n        }\n        var _loop_1 = function (ac) {\n            var ad = void 0;\n            if (!j) {\n                if (!o) {\n                    ad = s.getBucketWithoutUnknowns(ac);\n                }\n                else {\n                    ad = s.getBucket(ac);\n                }\n            }\n            else {\n                ad = ((function () { var ae = _this.f(a, ac, b, u, g, h, c); ac = ae.p1; g = ae.p4; h = ae.p5; return ae.ret; })());\n            }\n            var ae = !m || (m && ad[1] > 0);\n            var af = ad[0];\n            if (!j || !isNaN_(ad[0])) {\n                aa.add(ad);\n                if (g && i) {\n                    if (h != null) {\n                        aa.add(h);\n                    }\n                }\n                if (d && ae) {\n                    var ag = ac * a.h;\n                    var ah = ag;\n                    if (j && a.d.i$b != null && ag >= 0 && ag < a.d.i$b.count) {\n                        ag = a.d.i$b._inner[ag];\n                    }\n                    var ai = new Array(ad.length);\n                    ai[0] = ad[0];\n                    ai[1] = ad[1];\n                    ai[2] = ad[2];\n                    if (n && ag < b.e) {\n                        ai = new Array(ad.length);\n                        ai[0] = af;\n                        this_1.z(b, ag, true, a.e);\n                        ai[1] = b.c;\n                        ai[2] = b.d;\n                    }\n                    p.add(ai);\n                    q.add(a.a.f.count - 1);\n                    r.add(ag);\n                }\n            }\n            out_ac_1 = ac;\n        };\n        var this_1 = this, out_ac_1;\n        for (var ac = y; ac <= z; ++ac) {\n            _loop_1(ac);\n            ac = out_ac_1;\n        }\n        if (ab != null) {\n            ab.ResetTimeCursor();\n        }\n        this.y(a, c, j, w, x, e, d);\n        if (d) {\n            var aj = p.count;\n            var ak = void 0;\n            for (var al = 0; al < aj; al++) {\n                ak = p._inner[al];\n                if (this.l(a.a, ak, t, Math.min(r._inner[al], b.e - 1), f, q._inner[al])) {\n                    ++f;\n                }\n            }\n        }\n        return f;\n    };\n    CategoryFramePreparerBase.prototype.k = function () {\n        if (typeCast(Series.$, this.h) !== null) {\n            return this.h.de;\n        }\n        return false;\n    };\n    CategoryFramePreparerBase.prototype.f = function (a, b, c, d, e, f, g) {\n        var h;\n        f = null;\n        e = false;\n        var i = typeCast(CategorySeries.$, this.h);\n        var j = a.l;\n        var k = a.m;\n        var l = a.k;\n        var m = new ScalerParams(0, k, j, a.b.j$a, l);\n        var n = new ScalerParams(0, k, j, a.c.j$a, l);\n        var o = a.e;\n        if (a.d == null || a.d.i$b == null || a.d.i$b.count == 0) {\n            return {\n                ret: [NaN, NaN, NaN],\n                p1: b,\n                p4: e,\n                p5: f\n            };\n        }\n        if (i != null && i.ck != null && i.ck.count < a.d.i$b.count) {\n            return {\n                ret: [NaN, NaN, NaN],\n                p1: b,\n                p4: e,\n                p5: f\n            };\n        }\n        var p = a.d.i$b._inner[b];\n        var q = a.d.i$d(p);\n        var r = q;\n        this.z(c, p, false, o);\n        while (b < a.j) {\n            p = a.d.i$b._inner[b + 1];\n            r = a.d.i$d(p);\n            this.z(c, p, true, o);\n            if (r - q >= d || isNaN_(c.c) || isNaN_(c.d)) {\n                if (e) {\n                    var s = a.d.i$b._inner[b];\n                    this.z(c, s, true, o);\n                    f = [a.b.j$b(q, m), c.c, c.d];\n                }\n                break;\n            }\n            if (!e && this.k()) {\n                var t = a.d.i$b._inner[b];\n                this.z(c, t, true, o);\n                var u = [a.b.j$b(q, m), c.c, c.d];\n                if (!isNaN_(u[0])) {\n                    if (!isNaN_(u[1]) && !isNaN_(u[2])) {\n                        if (a.d != null) {\n                            u[0] = u[0] + g;\n                        }\n                        a.a.f.add(u);\n                        e = true;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            b++;\n            this.u(c, p, o);\n        }\n        var v = NaN;\n        if (!isNaN_(q)) {\n            v = a.b.j$b(q, m);\n        }\n        h = this.e(v, c);\n        return {\n            ret: h,\n            p1: b,\n            p4: e,\n            p5: f\n        };\n    };\n    CategoryFramePreparerBase.prototype.y = function (a, b, c, d, e, f, g) {\n        var h = a.h;\n        var i = a.a.f.count;\n        var j = a.a.f;\n        var k = this.o;\n        var l = k.count;\n        if (f) {\n            var m = a.c.j$b(a.c.l5, e);\n            a.c.j$e(a.a.k, 0, a.a.k.count, e);\n            var n = a.a.k;\n            var o = n.count;\n            for (var p = 0; p < n.count; p++) {\n                n._inner[p] = Math.abs(n._inner[p] - m);\n            }\n        }\n    };\n    CategoryFramePreparerBase.prototype.w = function (a, b, c) {\n    };\n    CategoryFramePreparerBase.$t = markType(CategoryFramePreparerBase, 'CategoryFramePreparerBase', FramePreparer.$);\n    return CategoryFramePreparerBase;\n}(FramePreparer));\nexport { CategoryFramePreparerBase };\n/**\n * @hidden\n */\nvar CategoryFramePreparer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategoryFramePreparer, _super);\n    function CategoryFramePreparer(a) {\n        var _rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            _rest[_i - 1] = arguments[_i];\n        }\n        var _this = this;\n        a = (a == void 0) ? 0 : a;\n        switch (a) {\n            case 0:\n                {\n                    var c = _rest[0];\n                    var d = [c, typeCast(ISupportsMarkers_$type, c), typeCast(IProvidesViewport_$type, c), typeCast(ISupportsErrorBars_$type, c), typeCast(IBucketizer_$type, c)];\n                    {\n                        var f = d[0];\n                        var g = d[1];\n                        var h = d[2];\n                        var i = d[3];\n                        var j = d[4];\n                        _this = _super.call(this, 1, f, g, h, i, j) || this;\n                        _this.aa = new DefaultCategoryTrendlineHost();\n                        _this.ab = new DefaultSingleValueProvider();\n                        _this.ac = null;\n                        _this.ad = null;\n                        _this.ac = _this.aa;\n                        if (typeCast(IHasCategoryTrendline_$type, f) !== null) {\n                            _this.ac = typeCast(IHasCategoryTrendline_$type, f);\n                        }\n                        _this.ad = _this.ab;\n                        if (typeCast(IHasSingleValueCategory_$type, f) !== null) {\n                            _this.ad = typeCast(IHasSingleValueCategory_$type, f);\n                        }\n                    }\n                }\n                break;\n            case 1:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    var g = _rest[4];\n                    _this = _super.call(this, 1, c, d, e, f, g) || this;\n                    _this.aa = new DefaultCategoryTrendlineHost();\n                    _this.ab = new DefaultSingleValueProvider();\n                    _this.ac = null;\n                    _this.ad = null;\n                    _this.ac = _this.aa;\n                    if (typeCast(IHasCategoryTrendline_$type, c) !== null) {\n                        _this.ac = typeCast(IHasCategoryTrendline_$type, c);\n                    }\n                    _this.ad = _this.ab;\n                    if (typeCast(IHasSingleValueCategory_$type, c) !== null) {\n                        _this.ad = typeCast(IHasSingleValueCategory_$type, c);\n                    }\n                }\n                break;\n        }\n        return _this;\n    }\n    CategoryFramePreparer.prototype.l = function (a, b, c, d, e, f) {\n        var g = b[0];\n        var h = b[1];\n        var i = new Rect(0, g - 5, h - 5, 11, 11);\n        if (!isNaN_(g) && !isNaN_(h) && !isInfinity(g) && !isInfinity(h) && c.tryAdd(i)) {\n            a.m.add({ $type: Point_$type, x: g, y: h });\n            this.c.updateMarkerTemplate(e, d, f);\n            return true;\n        }\n        return false;\n    };\n    CategoryFramePreparer.prototype.j = function (a) {\n        var b = new SingleValuesHolder();\n        var c = this.ad.valueColumn;\n        b.f = c;\n        return b;\n    };\n    CategoryFramePreparer.prototype.x = function (a, b, c, d, e, f) {\n        if (d) {\n            b[0] = b[0] + c;\n        }\n        else {\n            b[0] = a.b.j$b(b[0], e) + c;\n        }\n        b[1] = a.c.j$b(b[1], f);\n        if (a.h > 1 || d) {\n            b[2] = a.c.j$b(b[2], f);\n        }\n        else {\n            b[2] = b[1];\n        }\n    };\n    CategoryFramePreparer.prototype.y = function (a, b, c, d, e, f, g) {\n        _super.prototype.y.call(this, a, b, c, d, e, f, g);\n        var h = a.h;\n        var i = a.a.f.count;\n        var j = a.a.f;\n        var k = this.q;\n        var l = k.count;\n        var m = new List$1(Number_$type, 0);\n        if (!c) {\n            m.add(0);\n        }\n        var n = new List$1(Number_$type, 0);\n        n.add(1);\n        if (c || h > 1) {\n            n.add(2);\n        }\n        a.b.j$d(j, m, 0, i, d);\n        a.c.j$d(j, n, 0, i, e);\n        for (var o = 0; o < i; o++) {\n            j._inner[o][0] = j._inner[o][0] + b;\n        }\n        if (h == 1 && !c) {\n            for (var p = 0; p < i; p++) {\n                j._inner[p][2] = j._inner[p][1];\n            }\n        }\n        if (g) {\n            a.b.j$d(k, m, 0, l, d);\n            a.c.j$d(k, n, 0, l, e);\n            for (var q = 0; q < l; q++) {\n                k._inner[q][0] = k._inner[q][0] + b;\n            }\n            if (h == 1 && !c) {\n                for (var r = 0; r < l; r++) {\n                    k._inner[r][2] = k._inner[r][1];\n                }\n            }\n        }\n    };\n    CategoryFramePreparer.prototype.w = function (a, b, c) {\n        if (this.ac.trendLineType == 0 || this.ac.trendlinePreparer == null || this.ac.trendLinePeriod < 1) {\n            return;\n        }\n        this.ac.trendlinePreparer.prepareLine(this.ac, a, b, c);\n    };\n    CategoryFramePreparer.prototype.z = function (a, b, c, d) {\n        var e = a;\n        var f = e.f;\n        var g = f.item(b);\n        var h = g;\n        if (d) {\n            var i = this.g.getBucket(b);\n            g = i[1];\n            h = i[1];\n        }\n        if (c) {\n            e.c = g;\n            e.d = h;\n        }\n        else {\n            e.a = g;\n            e.b = h;\n        }\n    };\n    CategoryFramePreparer.prototype.u = function (a, b, c) {\n        var d = a;\n        var e = d.f;\n        if (b < e.count) {\n            var f = void 0;\n            if (c) {\n                var g = this.g.getBucket(b);\n                f = g[1];\n            }\n            else {\n                f = e.item(b);\n            }\n            d.a = Math.min(d.a, f);\n            d.b = Math.max(d.b, f);\n        }\n    };\n    CategoryFramePreparer.prototype.e = function (a, b) {\n        var c = b;\n        return [a, c.a, c.b];\n    };\n    CategoryFramePreparer.$t = markType(CategoryFramePreparer, 'CategoryFramePreparer', CategoryFramePreparerBase.$);\n    return CategoryFramePreparer;\n}(CategoryFramePreparerBase));\nexport { CategoryFramePreparer };\n/**\n * @hidden\n */\nvar CategorySeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategorySeries, _super);\n    function CategorySeries() {\n        var _this = _super.call(this) || this;\n        _this.ru = null;\n        _this.r7 = null;\n        _this.sb = false;\n        _this.sa = false;\n        _this.assigningCategoryStyle = null;\n        _this.assigningCategoryMarkerStyle = null;\n        _this.r5 = null;\n        _this.r6 = null;\n        _this.rr = new CategoryFrame(3);\n        _this.rt = new CategoryFrame(3);\n        _this.rp = new CategoryFrame(3);\n        _this.rs = new CategoryFrame(3);\n        _this.rx = null;\n        _this.r1 = null;\n        _this.rx = new CategorySeriesRenderManager();\n        _this.r1 = new CategoryTransitionSourceFramePreparer();\n        _this.sb = false;\n        _this.sa = false;\n        _this.ab = CategorySeries.$;\n        return _this;\n    }\n    CategorySeries.prototype.bx = function () {\n        var a = new CategorySeriesView(this);\n        return a;\n    };\n    Object.defineProperty(CategorySeries.prototype, \"r8\", {\n        get: function () {\n            var _this = this;\n            if (this.r7 == null) {\n                this.r7 = DVContainer.instance.createInstance(ICategorySeriesInteractionManager_$type, function () { return _this.cn.n; });\n            }\n            return this.r7;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategorySeries.prototype.c1 = function (a, b, c, d) {\n        var _this = this;\n        if (!this.hasMarkers) {\n            return false;\n        }\n        var e = this.getEffectiveViewport1(this.b0);\n        var f = this.ro();\n        var g = new ScalerParams(1, this.cd.sf, this.pz, f.cg);\n        g.c = e;\n        var h = this.r9();\n        var i = new ScalerParams(1, this.cd.sf, this.pz, h.cg);\n        i.c = e;\n        var j = this.cd.sf;\n        var k = this.pz;\n        var l = this.currentMode2Index;\n        var m = 0;\n        if (f.cd && f.cb) {\n            m = f.getSeriesOffset(j, k, e, l, f.categoryMode);\n        }\n        a.clear();\n        this.qc.cf(function (n) {\n            if (n._visibility == 0) {\n                var o = new SeriesPointOfInterest();\n                var p = n.n;\n                var q = n.o;\n                if (p < _this.pz.left || p > _this.pz.right || q < _this.pz.top || q > _this.pz.bottom) {\n                    return;\n                }\n                if (_this.isVertical) {\n                    if (f.ca && !f.cd && f.categoryMode != 0) {\n                        o.c = n.ak;\n                    }\n                    else {\n                        o.c = f.el(q, g);\n                    }\n                    o.b = h.el(p, i);\n                }\n                else {\n                    if (f.ca && !f.cd && f.categoryMode != 0) {\n                        o.b = n.ak;\n                    }\n                    else {\n                        o.b = f.el(p, g);\n                    }\n                    o.c = h.el(q, i);\n                }\n                o.a = n.content;\n                if (b) {\n                    if (_this.isVertical) {\n                        if (c) {\n                            o.d = _this.st(o.b, d);\n                        }\n                        else {\n                            var r = _this.go(n);\n                            if (!isNaN_(r)) {\n                                o.d = _this.st(r, d);\n                            }\n                            else {\n                                o.d = _this.st(o.b, d);\n                            }\n                        }\n                    }\n                    else {\n                        if (c) {\n                            o.d = _this.st(o.c, d);\n                        }\n                        else {\n                            var s = _this.go(n);\n                            if (!isNaN_(s)) {\n                                o.d = _this.st(s, d);\n                            }\n                            else {\n                                o.d = _this.st(o.c, d);\n                            }\n                        }\n                    }\n                }\n                else {\n                    o.d = f.gc(n.ak);\n                }\n                a.add(o);\n            }\n        });\n        return true;\n    };\n    CategorySeries.prototype.st = function (a, b) {\n        if (b >= 0) {\n            return round10N(a, b).toString();\n        }\n        else {\n            return a.toString();\n        }\n    };\n    CategorySeries.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.ry = a;\n    };\n    CategorySeries.prototype.preferredCategoryMode = function (a) {\n        return 0;\n    };\n    Object.defineProperty(CategorySeries.prototype, \"categoryAxis\", {\n        get: function () {\n            return this.ro();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategorySeries.prototype.ro = function () {\n        return this.fetchXAxis();\n    };\n    CategorySeries.prototype.r9 = function () {\n        return this.fetchYAxis();\n    };\n    CategorySeries.prototype.get_c6 = function () {\n        return true;\n    };\n    CategorySeries.prototype.get_ej = function () {\n        return this.r9() != null && this.r9().cg;\n    };\n    CategorySeries.prototype.get_dg = function () {\n        return true;\n    };\n    CategorySeries.prototype.ac = function () {\n        _super.prototype.ac.call(this);\n        this.ry.cr.g(this.ft);\n    };\n    CategorySeries.prototype.sh = function () {\n        return (this.assigningCategoryStyle != null && this.sb) || (this.bk != 1);\n    };\n    CategorySeries.prototype.si = function () {\n        return (this.assigningCategoryMarkerStyle != null && this.sa) || (this.bk != 1);\n    };\n    CategorySeries.prototype.s6 = function (a) {\n        if (this.assigningCategoryStyle != null && this.sb) {\n            this.assigningCategoryStyle(this, a);\n        }\n    };\n    CategorySeries.prototype.s5 = function (a) {\n        if (this.assigningCategoryMarkerStyle != null && this.sa) {\n            this.assigningCategoryMarkerStyle(this, a);\n        }\n    };\n    CategorySeries.prototype.ri = function (a, b) {\n        return null;\n    };\n    CategorySeries.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        if (a) {\n            this.s0(b);\n        }\n    };\n    CategorySeries.prototype.bh = function () {\n        var a = _super.prototype.bh.call(this);\n        return a;\n    };\n    CategorySeries.prototype.lf = function () {\n        _super.prototype.lf.call(this);\n        var a = this.fetchXAxis();\n        if (a != null) {\n            a.h7(false);\n        }\n        var b = this.fetchYAxis();\n        if (b != null) {\n            b.h7(false);\n        }\n    };\n    CategorySeries.prototype.m6 = function (a, b) {\n        _super.prototype.m6.call(this, a, b);\n        this.ry.cr.g(this.ft);\n        this.mi(false);\n    };\n    CategorySeries.prototype.m5 = function (a, b) {\n        if (this.e0 && this.g0 < 0.05 && (this.cd == null || !this.cd.eo())) {\n            this.e1 = true;\n        }\n        _super.prototype.m5.call(this, a, b);\n        this.ry.cr.g(this.ft);\n        this.mi(false);\n    };\n    CategorySeries.prototype.l4 = function (a, b, c, d) {\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case \"SeriesViewer\":\n                var e = this.fetchYAxis();\n                var f = this.fetchXAxis();\n                if (c != null && d == null) {\n                    this.k1(f);\n                    this.k1(e);\n                }\n                if (c == null && d != null) {\n                    this.l9(f);\n                    this.l9(e);\n                }\n                this.ry.cr.g(this.ft);\n                this.mi(false);\n                break;\n            case \"SyncLink\":\n                if (this.b8 != null && this.cd != null) {\n                    this.ry.cr.g(this.ft);\n                }\n                this.mi(false);\n                break;\n            case \"TransitionProgress\":\n                this.rt.c(this.g0, this.rr, this.rp);\n                if (this.cx(this.b0)) {\n                    return;\n                }\n                if (this.g0 == 1) {\n                    this.rp.v();\n                    this.s7(this.rp, this.ry);\n                    if (this.e0) {\n                        this.e0 = false;\n                        this.ky();\n                        this.ce.r = truncate(this.gm());\n                        this.ce.b = this.cf;\n                    }\n                }\n                else {\n                    this.s7(this.rt, this.ry);\n                }\n                if (this.cd != null) {\n                    this.cd.nn(this);\n                }\n                break;\n            case \"ErrorBarSettings\":\n                this.lp();\n                break;\n            case CategorySeries.$$p[4]:\n                this.mi(false);\n                break;\n            case CategorySeries.$$p[1]:\n                this.sb = this.sd();\n                this.mi(false);\n                break;\n            case CategorySeries.$$p[0]:\n                this.sa = this.sc();\n                this.mi(false);\n                break;\n        }\n    };\n    CategorySeries.prototype.sd = function () {\n        return this.sf;\n    };\n    CategorySeries.prototype.sc = function () {\n        return this.se;\n    };\n    CategorySeries.prototype.sn = function (a) {\n        return this.f7(a, this.fetchXAxis());\n    };\n    CategorySeries.prototype.get_d9 = function () {\n        return typeCast(ISortingAxis_$type, this.ro()) !== null;\n    };\n    CategorySeries.prototype.ar = function () {\n        return this.ro();\n    };\n    CategorySeries.prototype.hf = function (a) {\n        return this.r8.b$d(this, a);\n    };\n    CategorySeries.prototype.ht = function (a) {\n        return this.r8.b$f(this, a);\n    };\n    CategorySeries.prototype.hd = function (a) {\n        var b = truncate(Math.round(this.f5(a)));\n        return b;\n    };\n    CategorySeries.prototype.f5 = function (a) {\n        return this.r8.b$c(this, a);\n    };\n    CategorySeries.prototype.ax = function (a, b, c) {\n        if (this.ef(this.bk) && !c) {\n            var d = this.r4(a, b, this.r6);\n            this.r6 = d;\n            return d;\n        }\n        else {\n            var e = this.r2(a, b, this.r6);\n            e.e = true;\n            this.r6 = e;\n            return e;\n        }\n    };\n    CategorySeries.prototype.get_dx = function () {\n        return true;\n    };\n    CategorySeries.prototype.kv = function () {\n        _super.prototype.kv.call(this);\n        this.r5 = null;\n        this.r6 = null;\n    };\n    CategorySeries.prototype.aw = function (a, b, c) {\n        if (this.c2 && this.ef(this.bk) && !c) {\n            var d = this.r3(a, b, this.r5);\n            this.r5 = d;\n            return d;\n        }\n        else {\n            var e = this.r2(a, b, this.r5);\n            this.r5 = e;\n            return e;\n        }\n    };\n    CategorySeries.prototype.sm = function () {\n        return this.ry.cu.a;\n    };\n    CategorySeries.prototype.r4 = function (a, b, c) {\n        if (!this.qf()) {\n            return null;\n        }\n        var d = this.rq();\n        var e = this.sm();\n        return this.r8.b$b(this, e, this.sq(this.b0), this.sp(this.b0), d.f, a, b, c);\n    };\n    CategorySeries.prototype.r3 = function (a, b, c) {\n        var d = this.sq(this.b0);\n        var e = this.sr(this.b0);\n        var f = this.sp(this.b0);\n        var g = this.rq();\n        return this.r8.b$a(this, g.f, d, e, f, a, b, c);\n    };\n    CategorySeries.prototype.r2 = function (a, b, c) {\n        var d = new HighlightingInfo();\n        d.b = this;\n        d.h = 0;\n        d.g = this.ck != null ? this.ck.count - 1 : 0;\n        d.d = true;\n        if (c != null && c.h == d.h && c.g == d.g) {\n            return c;\n        }\n        return d;\n    };\n    CategorySeries.prototype.rq = function () {\n        var a = this.rp;\n        if (this.cv()) {\n            if (this.ce.g) {\n                this.ce.t();\n            }\n            a = this.rt;\n        }\n        return a;\n    };\n    CategorySeries.prototype.s2 = function (a, b, c, d, e, f) {\n        var g = this.bk != 1;\n        this.rx.a1(this.rx.d, d.cm, a, b, c, d, e, f, true);\n        this.rx.aa(this.fr);\n        var h = this.rx.av;\n        var i = null;\n        var j = this.ck;\n        var k = null;\n        if (g && this.cd != null) {\n            i = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, true);\n            if (this.cd.a3.isCrossSeriesHighlight(this)) {\n                k = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, true);\n            }\n            h.b = i;\n        }\n        h.f = f;\n        this.s5(h);\n        this.rx.y(this, i, f, g, h.m, this.cd.a3.totalHighlightingProgress);\n    };\n    CategorySeries.prototype.s3 = function (a, b, c, d, e, f) {\n        var g = this.bk != 1;\n        this.rx.a1(this.rx.b, d.cm, a, b, c, d, e, f, false);\n        this.rx.ab(this.fr);\n        var h = this.rx.aw;\n        var i = null;\n        var j = this.ck;\n        if (g && this.cd != null) {\n            i = this.cd.a3.getHighlightingInfo(this, j, h.o, h.n, false);\n            h.b = i;\n        }\n        h.f = f;\n        this.s6(h);\n        this.rx.z(this, i, f, g, b < 0);\n    };\n    CategorySeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        d = d && this.sl(this.fetchXAxis());\n        d = d && this.sl(this.fetchYAxis());\n        var e = c;\n        if (!c.o() || b.isEmpty || a.isEmpty || this.ck == null) {\n            d = false;\n        }\n        if (!d) {\n            e.cr.d = 0;\n        }\n        return d;\n    };\n    CategorySeries.prototype.sl = function (a) {\n        if (a == null || a.bh == null) {\n            return false;\n        }\n        var b = typeCast(CategoryAxisBase.$, a);\n        if (b != null) {\n            if (b.itemsSource == null) {\n                return false;\n            }\n            if (b.le < 1) {\n                return false;\n            }\n        }\n        else {\n            var c = typeCast(NumericAxisBase.$, a);\n            if (c != null) {\n                return c.lv != c.lu;\n            }\n        }\n        return true;\n    };\n    CategorySeries.prototype.eq = function () {\n        return this.sg;\n    };\n    CategorySeries.prototype.rz = function () {\n        return 12;\n    };\n    CategorySeries.prototype.ky = function () {\n        _super.prototype.ky.call(this);\n        this.rr.v();\n        this.rp.v();\n        this.rt.v();\n    };\n    CategorySeries.prototype.mj = function (a) {\n        _super.prototype.mj.call(this, a);\n        this.ry.cr.g(this.ft);\n        if (this.cx(this.b0)) {\n            this.rp.y();\n            this.rt.y();\n            this.rr.y();\n            return;\n        }\n        if (this.es) {\n            if (this.cv()) {\n                if (this.ce.g) {\n                    this.ce.t();\n                }\n                this.s7(this.rt, this.ry);\n            }\n            else {\n                this.s7(this.rp, this.ry);\n            }\n            return;\n        }\n        if (this.eo(a)) {\n            var b = this.rr;\n            if (this.cv()) {\n                if (this.ce.g) {\n                    this.ce.t();\n                }\n                this.rr = this.rt;\n                this.rt = b;\n            }\n            else {\n                this.rr = this.rp;\n                this.rp = b;\n            }\n            this.s4(this.rp, this.ry);\n            if (this.e2) {\n                this.ce.w();\n                this.ce.r = truncate(this.gn());\n                this.ce.b = this.cg != null ? this.cg : this.cf;\n                this.r1.p(this.rr, this.rp, this.isVertical, this.fetchXAxis(), this.fetchYAxis(), this.r0, this.rz(), this.ca, this.b9(), runOn(this, this.so), this.ry.bu);\n            }\n            this.kt();\n            this.mr();\n            if (this.e2) {\n                this.e1 = false;\n                this.e0 = true;\n            }\n        }\n        else {\n            this.s4(this.rp, this.ry);\n            this.s7(this.rp, this.ry);\n        }\n    };\n    CategorySeries.prototype.b9 = function () {\n        return 3;\n    };\n    CategorySeries.prototype.so = function () {\n        if (this.isVertical) {\n            return this.pz.left;\n        }\n        return this.pz.bottom;\n    };\n    CategorySeries.prototype.ss = function () {\n        var e_1, _a;\n        var a = 0;\n        var b = this.fetchXAxis();\n        try {\n            for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var c = _c.value;\n                if (c == this) {\n                    return a;\n                }\n                var d = typeCast(CategorySeries.$, c);\n                if (d != null) {\n                    var e = typeCast(CategoryAxisBase.$, d.fetchXAxis());\n                    if (e == b && d.preferredCategoryMode(e) == 2) {\n                        a++;\n                    }\n                }\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        return -1;\n    };\n    Object.defineProperty(CategorySeries.prototype, \"GetErrorBarsXAxis\", {\n        get: function () {\n            return this.fetchXAxis();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CategorySeries.prototype, \"GetErrorBarsYAxis\", {\n        get: function () {\n            return this.fetchYAxis();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategorySeries.prototype.s1 = function (a, b) {\n        this.rx.az(this, this.si(), runOn(this, this.ri), this.sp(a), this.sq(a));\n        var c = this.rx.d;\n        var d = c != null;\n        var e = this.ro();\n        if (e == null) {\n            return;\n        }\n        var f = this.getEffectiveViewport1(a);\n        var g = new ScalerParams(0, a.bv, a.bu, e.cg, f);\n        var h = this.ck == null ? 0 : this.ck.count;\n        var i = a;\n        var j = b.f;\n        var k = i.cr.e;\n        var l = i.cr.f;\n        var m = i.cr.d;\n        var n = k * m;\n        for (var o = 0; o < a.cu.count; o++) {\n            var p = a.cu.item(o);\n            var q = p.content;\n            if (d) {\n                var r = p.al;\n                this.s2(j, r, h, e, g, a.q);\n            }\n            this.rx.ac(p, q);\n        }\n    };\n    CategorySeries.prototype.s7 = function (a, b) {\n        this.pq = a.aa;\n        b.au();\n    };\n    CategorySeries.prototype.s4 = function (a, b) {\n        a.u();\n    };\n    CategorySeries.prototype.sp = function (a) {\n        return a.cr.d;\n    };\n    CategorySeries.prototype.sq = function (a) {\n        return a.cr.e;\n    };\n    CategorySeries.prototype.sr = function (a) {\n        return a.cr.f;\n    };\n    CategorySeries.prototype.s0 = function (a) {\n        var b = a;\n        b.cu.count = 0;\n    };\n    CategorySeries.prototype.mk = function (a, b) {\n        _super.prototype.mk.call(this, a, b);\n        if (!this.ez) {\n            this.b0.a2(b);\n            return;\n        }\n        var c = typeCast(CategorySeriesView.$, this.bz);\n        c.cr.g(this.ft);\n        this.b0.a2(b);\n        if (this.cx(this.bz)) {\n            return;\n        }\n        this.s8();\n        this.ez = false;\n    };\n    CategorySeries.prototype.s8 = function () {\n        var a = typeCast(CategorySeriesView.$, this.bz);\n        if (!this.et) {\n            this.s4(this.rs, a);\n        }\n        this.et = false;\n        this.s7(this.rs, a);\n    };\n    CategorySeries.prototype.rv = function (a) {\n        var b = typeCast(CategorySeriesView.$, a);\n        if (b != null && b.q) {\n            if (b.p) {\n                return new CategoryFramePreparer(1, typeCast(IIsCategoryBased_$type, this), typeCast(ISupportsMarkers_$type, b), b, this, b.cr);\n            }\n            else {\n                return new CategoryFramePreparer(1, typeCast(IIsCategoryBased_$type, this), typeCast(ISupportsMarkers_$type, b), this.cd.cq.o, this, b.cr);\n            }\n        }\n        else {\n            return this.ru;\n        }\n    };\n    CategorySeries.prototype.an = function (a) {\n        if (this.fetchXAxis() == a) {\n            return this.fetchYAxis();\n        }\n        if (this.fetchYAxis() == a) {\n            return this.fetchXAxis();\n        }\n        return null;\n    };\n    CategorySeries.prototype.ag = function () {\n        return [this.fetchXAxis(), this.fetchYAxis()];\n    };\n    CategorySeries.rj = function (a, b, c, d, e) {\n        var f = null;\n        if (b > -1 && !d.isEmpty && !c.isEmpty) {\n            var g = a._inner[0][0] < c.left - 2000 ? c.left - 10 : NaN;\n            var h = c.bottom + 10;\n            var i = a._inner[b][0] > c.right + 2000 ? c.right + 10 : NaN;\n            var j = c.top - 10;\n            f = new Clipper(1, g, h, i, j, e);\n        }\n        return f;\n    };\n    CategorySeries.$t = markType(CategorySeries, 'CategorySeries', MarkerSeries.$, [IHasCategoryModePreference_$type, ISupportsErrorBars_$type]);\n    CategorySeries.$$p = markDep(DependencyProperty, PropertyMetadata, CategorySeries, 'raisePropertyChanged', ['IsCustomCategoryMarkerStyleAllowed:se:s9', [0, false], 'IsCustomCategoryStyleAllowed:sf:ta', [0, false], 'IsTransitionInEnabled:sg:tb', [0, false], 'TransitionInMode:r0:tc', [CategoryTransitionInMode_$type, enumGetBox(CategoryTransitionInMode_$type, 0)], 'UseHighMarkerFidelity:sk:td', [0, false]]);\n    return CategorySeries;\n}(MarkerSeries));\nexport { CategorySeries };\n/**\n * @hidden\n */\nvar CategorySeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategorySeriesView, _super);\n    function CategorySeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.ct = null;\n        _this.cw = 0;\n        _this.cr = null;\n        _this.cu = null;\n        _this.cw = -1;\n        _this.ct = a;\n        _this.cr = _this.cs();\n        _this.cu = ((function () {\n            var $ret = new Pool$1(Marker.$);\n            $ret.create = runOn(_this, _this.b0);\n            $ret.activate = runOn(_this, _this.cj);\n            $ret.disactivate = runOn(_this, _this.cl);\n            $ret.destroy = runOn(_this, _this.ck);\n            return $ret;\n        })());\n        return _this;\n    }\n    CategorySeriesView.prototype.cv = function (a) {\n        if (this.cw != a.t) {\n            return true;\n        }\n        return false;\n    };\n    CategorySeriesView.prototype.cy = function (a) {\n        this.cw = a.t;\n    };\n    CategorySeriesView.prototype.updateMarkerTemplate = function (a, b, c) {\n        if (!this.b1.qh) {\n            var d = this.cu.item(a);\n            var e = d.content;\n            e.item = this.e.ck.item(b);\n            d.ak = b;\n            d.al = c;\n        }\n    };\n    CategorySeriesView.prototype.cs = function () {\n        return new CategoryBucketCalculator(this);\n    };\n    Object.defineProperty(CategorySeriesView.prototype, \"shouldDisplayMarkers\", {\n        get: function () {\n            return this.ct.qf();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategorySeriesView.prototype.updateMarkerCount = function (a) {\n        this.cu.count = a;\n    };\n    CategorySeriesView.prototype.cf = function (a) {\n        this.cu.c(a);\n    };\n    CategorySeriesView.prototype.cx = function () {\n    };\n    CategorySeriesView.$t = markType(CategorySeriesView, 'CategorySeriesView', MarkerSeriesView.$, [ISupportsMarkers_$type]);\n    return CategorySeriesView;\n}(MarkerSeriesView));\nexport { CategorySeriesView };\n"]},"metadata":{},"sourceType":"module"}