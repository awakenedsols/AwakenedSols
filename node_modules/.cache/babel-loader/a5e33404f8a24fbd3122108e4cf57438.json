{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { List$1 } from \"./List$1\";\nimport { String_$type } from './type';\nimport { CssHelper } from './CssHelper';\nimport * as ReactDOM from 'react-dom';\nimport * as React from 'react';\nimport { TypeRegistrar } from \"./type\";\nimport { fromSpinal } from './componentUtil';\nimport { Localization } from './Localization';\n\nvar ReactRenderer =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ReactRenderer(container, document, useDefaultsSource, defaultsSource, portalManager) {\n    if (portalManager === void 0) {\n      portalManager = null;\n    }\n\n    this.container = container;\n    this._useDefaultsSource = false;\n    this._checkResized = null;\n    this._resizeListener = null;\n    this._resizeTicking = false;\n    this._portalManager = null;\n    this._resizeTickId = -1;\n    this._discStack = [];\n    this._toUnbind = [];\n    this._currentFontQuery = null;\n    this._document = document;\n    this._container = container;\n    this._rootElement = container;\n    this._rootWrapper = new ReactWrapper(this._rootElement, this);\n    this._cssHelper = new ReactCssHelper(this, this._document);\n    this._useDefaultsSource = useDefaultsSource;\n    this._defaultsSource = defaultsSource;\n    this._portalManager = portalManager;\n\n    if (this._portalManager) {\n      this._portalManager.renderer = this;\n    }\n  }\n\n  ReactRenderer.prototype.addSizeWatcher = function (onResized) {\n    var _this = this;\n\n    var previousWidth = this._rootElement.offsetWidth;\n    var previousHeight = this._rootElement.offsetHeight;\n    var previousRatio = window.devicePixelRatio;\n\n    if (this._checkResized == null) {\n      this._checkResized = function () {\n        var currWidth = _this._rootElement.offsetWidth;\n        var currHeight = _this._rootElement.offsetHeight;\n        var currRatio = window.devicePixelRatio;\n        var changed = false;\n\n        if (previousWidth != currWidth || previousHeight != currHeight || previousRatio != currRatio) {\n          changed = true;\n        }\n\n        previousWidth = currWidth;\n        previousHeight = currHeight;\n        previousRatio = currRatio;\n\n        if (changed) {\n          onResized();\n        }\n      };\n    }\n\n    this._resizeListener = this.globalListen(\"window\", \"resize\", function (ev) {\n      return _this._checkResized();\n    });\n    var self = this;\n    this._resizeTicking = true;\n\n    function resizeTick() {\n      self._resizeTickId = -1;\n\n      if (self._resizeTicking) {\n        self._checkResized();\n\n        self._resizeTickId = self.setTimeout(resizeTick, 100);\n      }\n    }\n\n    this._resizeTickId = this.setTimeout(resizeTick, 100);\n  };\n\n  ReactRenderer.prototype.destroy = function () {\n    for (var i = 0; i < this._toUnbind.length; i++) {\n      this._toUnbind[i]();\n    }\n\n    this._toUnbind = [];\n    this.removeSizeWatcher();\n\n    this._rootWrapper.destroy();\n\n    this._rootWrapper = null;\n    this._rootElement = null;\n  };\n\n  ReactRenderer.prototype.removeSizeWatcher = function () {\n    this._resizeTicking = false;\n\n    if (this._resizeTickId != -1) {\n      window.clearTimeout(this._resizeTickId);\n      this._resizeTickId = -1;\n    }\n\n    if (this._resizeListener != null) {\n      this._resizeListener();\n\n      this._resizeListener = null;\n    }\n  };\n\n  ReactRenderer.prototype.updateRoot = function (root) {\n    this._rootWrapper = root;\n    this._rootElement = root.getNativeElement();\n  };\n\n  ReactRenderer.prototype.withRenderer = function (act) {\n    act(this);\n  };\n\n  ReactRenderer.prototype.supportsAnimation = function () {\n    return true;\n  };\n\n  ReactRenderer.prototype.getRequestAnimationFrame = function () {\n    var ret = function (act) {\n      requestAnimationFrame(act);\n    };\n\n    return ret;\n  };\n\n  ReactRenderer.prototype.setTimeout = function (act, millisecondsDelay) {\n    var val;\n    val = window.setTimeout(act, millisecondsDelay);\n    return val;\n  };\n\n  ReactRenderer.prototype.clearTimeout = function (timerId) {\n    window.clearTimeout(timerId);\n  };\n\n  Object.defineProperty(ReactRenderer.prototype, \"rootWrapper\", {\n    get: function () {\n      return this._rootWrapper;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ReactRenderer.prototype.querySelector = function (selector) {\n    var _this = this;\n\n    var wrapper = null;\n    this.withRenderer(function (ren) {\n      var ele = _this.rootWrapper.getNativeElement().querySelector(selector);\n\n      if (ele === null) {\n        return null;\n      }\n\n      wrapper = new ReactWrapper(ele, ren);\n    });\n    return wrapper;\n  };\n\n  ReactRenderer.prototype.getWrapper = function (ele) {\n    if (!ele) {\n      return null;\n    }\n\n    var wrapper = null;\n    this.withRenderer(function (ren) {\n      wrapper = new ReactWrapper(ele, ren);\n    });\n    return wrapper;\n  };\n\n  ReactRenderer.prototype.getResourceString = function (resourceId) {\n    // check if the resource culture is available.  It is a combination of the bundle ID and culture ID\n    var grouping = this._resourceBundleId + \"-\" + this._cultureId;\n    var isRegistered = Localization.isRegistered(grouping);\n\n    if (isRegistered) {\n      return Localization.getString(grouping, resourceId);\n    } else {\n      return \"\";\n    }\n  };\n\n  ReactRenderer.prototype.setResourceBundleId = function (bundle) {\n    this._resourceBundleId = bundle;\n  };\n\n  ReactRenderer.prototype.setCultureId = function (culture) {\n    this._cultureId = culture;\n  };\n\n  ReactRenderer.prototype.append = function (child) {\n    this._rootWrapper.append(child);\n\n    return this;\n  };\n\n  ReactRenderer.prototype.appendToBody = function (element) {\n    if (this._document !== null && this._document.body !== null) {\n      this._document.body.appendChild(element.getNativeElement());\n    }\n  };\n\n  ReactRenderer.prototype.createElement = function (elementName) {\n    var _this = this;\n\n    var ele;\n    this.withRenderer(function (ren) {\n      ele = _this._document.createElement(elementName);\n    });\n    var wrap = new ReactWrapper(ele, this);\n    return wrap;\n  };\n\n  ReactRenderer.prototype.createElementNS = function (elementName, ns) {\n    var _this = this;\n\n    var ele;\n    this.withRenderer(function (ren) {\n      ele = _this._document.createElementNS(ns, elementName);\n    });\n    var wrap = new ReactWrapper(ele, this);\n    return wrap;\n  };\n\n  ReactRenderer.prototype.endCSSQuery = function () {\n    this._currentFontQuery = null;\n\n    if (!this.hasBody()) {\n      return;\n    }\n\n    if (this._discStack.length > 0) {\n      var toRemove = this._discStack.pop();\n\n      toRemove.remove();\n    }\n  };\n\n  ReactRenderer.prototype.expandTemplate = function (template, args) {\n    throw new Error(\"not implemented\");\n  };\n\n  ReactRenderer.prototype.get2DCanvasContext = function (canvas) {\n    var context = null;\n    this.withRenderer(function (ren) {\n      var canv = canvas.getNativeElement();\n      context = canv.getContext(\"2d\");\n    });\n    return context;\n  };\n\n  Object.defineProperty(ReactRenderer.prototype, \"isComputedFontQuery\", {\n    get: function () {\n      return this._currentFontQuery != null && this.hasBody();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ReactRenderer.prototype.getCssDefaultPropertyValue = function (className, propertyName) {\n    if (this._useDefaultsSource && !this.isComputedFontQuery) {\n      var c = this._defaultsSource[className];\n\n      if (className == \"\" || className == null) {\n        c = this._defaultsSource;\n      }\n\n      if (c === undefined) {\n        return null;\n      }\n\n      var v = c[propertyName];\n\n      if (v === undefined) {\n        return null;\n      }\n\n      return v;\n    }\n\n    return this._cssHelper.getPropertyValue(this.getCurrentDiscovery(), className, propertyName);\n  };\n\n  ReactRenderer.prototype.getCssDefaultValuesForClassCollection = function (classPrefix, propertyNames) {\n    if (this._useDefaultsSource) {\n      var ret = [];\n\n      for (var k in this._defaultsSource) {\n        if (k.indexOf(classPrefix) === 0) {\n          var subRet = [];\n          ret.push(subRet);\n\n          for (var i = 0; i < propertyNames.length; i++) {\n            var v = this._defaultsSource[k][propertyNames[i]];\n\n            if (v === undefined) {\n              subRet.push(null);\n            } else {\n              subRet.push(v);\n            }\n          }\n        }\n      }\n\n      return ret;\n    }\n\n    return this._cssHelper.getValuesForClassCollection(this.getCurrentDiscovery(), classPrefix, propertyNames);\n  };\n\n  ReactRenderer.prototype.getDefaultFontHeight = function () {\n    if (this._defaultsSource[\"default-font-height\"] !== undefined) {\n      return +this._defaultsSource[\"default-font-height\"];\n    }\n\n    return 16;\n  };\n\n  ReactRenderer.prototype.getHeightForFontString = function (fontString, text, useOffsetHeight) {\n    if (this._rootWrapper.getNativeElement() == null) {\n      //TODO: some voodoo here.\n      return 12;\n    }\n\n    this.startCSSQuery();\n    var disc = this.getCurrentDiscovery();\n\n    if (disc == null || !this.hasWindow) {\n      return this.getDefaultFontHeight();\n    }\n\n    if (disc.getNativeElement().parentElement) {\n      disc.getNativeElement().parentElement.removeChild(disc.getNativeElement());\n    }\n\n    disc.setStyleProperty(\"position\", \"absolute\");\n    disc.setStyleProperty(\"visibility\", \"hidden\");\n    disc.setStyleProperty(\"font\", fontString);\n    document.body.appendChild(disc.getNativeElement());\n    var span;\n    this.withRenderer(function (ren) {\n      span = ren.createElement(\"span\");\n    });\n    var spanWrap = new ReactWrapper(span, this);\n    this.getCurrentDiscovery().append(spanWrap);\n    spanWrap.setText(text);\n    var height;\n\n    if (useOffsetHeight) {\n      var offHeight = spanWrap.getNativeElement().offsetHeight;\n      height = offHeight;\n    } else {\n      height = spanWrap.getNativeElement().height();\n    }\n\n    if (height == 0) {\n      //HACK: HACK! HACK! HACK!\n      height = this.getDefaultFontHeight();\n    } //console.log(\"font height: \" + height);\n\n\n    document.body.removeChild(disc.getNativeElement());\n    this.endCSSQuery();\n    return height;\n  };\n\n  ReactRenderer.prototype.getSubRenderer = function (root) {\n    var elem = root;\n    elem = elem.getNativeElement();\n    return new ReactRenderer(elem, this._document, this._useDefaultsSource, this._defaultsSource, this._portalManager);\n  };\n\n  ReactRenderer.prototype.listen = function (element, eventName, handler) {\n    var retVal = null;\n\n    if (element == \"window\") {\n      element = window;\n    }\n\n    if (element == \"document\") {\n      element = document;\n    }\n\n    var $self = this;\n    var ret = element.addEventListener(eventName, handler);\n    var self = this;\n\n    retVal = function () {\n      var ind = self._toUnbind.indexOf(retVal);\n\n      if (ind >= 0) {\n        self._toUnbind.splice(ind, 1);\n      }\n\n      element.removeEventListener(eventName, handler);\n      handler = null;\n    };\n\n    this._toUnbind.push(retVal);\n\n    return retVal;\n  };\n\n  ReactRenderer.prototype.runInMainZone = function (action) {\n    action();\n  };\n\n  ReactRenderer.prototype.globalListen = function (element, eventName, handler) {\n    var retVal = null; //this._ngZone.runOutsideAngular(() => {\n\n    var $self = this;\n\n    var a = function (e) {\n      var inner = {}; //TODO: normalize here?\n\n      inner.originalEvent = e;\n      inner.altKey = e.altKey;\n      inner.button = e.button;\n      inner.ctrlKey = e.ctrlKey;\n      inner.offsetX = e.offsetX;\n      inner.offsetY = e.offsetY;\n      inner.pageX = e.pageX;\n      inner.pageY = e.pageY;\n\n      if (e.touches && e.touches.length > 0) {\n        inner.pageX = e.touches[0].pageX;\n        inner.pageY = e.touches[0].pageY;\n      }\n\n      inner.shiftKey = e.shiftKey;\n      inner.which = e.which;\n\n      inner.preventDefault = function () {\n        e.preventDefault();\n      };\n\n      inner.stopPropagation = function () {\n        e.stopPropagation();\n      }; //console.log(e);\n\n\n      handler(inner);\n    };\n\n    var ret = this.listen(element, eventName, a);\n    var self = this;\n\n    retVal = function () {\n      var ind = self._toUnbind.indexOf(retVal);\n\n      if (ind >= 0) {\n        self._toUnbind.splice(ind, 1);\n      }\n\n      ret();\n      a = null;\n    };\n\n    this._toUnbind.push(retVal); //});\n\n\n    return retVal;\n  };\n\n  ReactRenderer.prototype.hasBody = function () {\n    return this._document !== null && this._document.body !== null;\n  };\n\n  ReactRenderer.prototype.hasWindow = function () {\n    //todo: hmmm\n    return true;\n  };\n\n  ReactRenderer.prototype.getCurrentDiscovery = function () {\n    if (this._discStack.length <= 0) {\n      return null;\n    }\n\n    return this._discStack[this._discStack.length - 1];\n  };\n\n  ReactRenderer.prototype.setCssQueryFontString = function (fontString) {\n    if (this._useDefaultsSource) {\n      this._currentFontQuery = fontString;\n    }\n\n    if (!document.body.contains(this.getCurrentDiscovery().getNativeElement())) {\n      this.getCurrentDiscovery().remove();\n      this.appendToBody(this.getCurrentDiscovery());\n    }\n\n    this.getCurrentDiscovery().setStyleProperty(\"font\", fontString);\n  };\n\n  ReactRenderer.prototype.startCSSQuery = function () {\n    if (!this.hasBody()) {\n      return;\n    }\n\n    var disc = this._cssHelper.getDiscoveryElement(this._rootElement);\n\n    this._discStack.push(disc);\n\n    this._rootWrapper.append(disc);\n  };\n\n  ReactRenderer.prototype.supportsDOMEvents = function () {\n    //todo: hmmm.\n    return true;\n  };\n\n  ReactRenderer.prototype.getPortal = function (hostElement, elementTag, portalCallback, isContentPortal) {\n    if (this._portalManager) {\n      this._portalManager.getPortal(hostElement, elementTag, portalCallback, isContentPortal);\n    }\n  };\n\n  ReactRenderer.prototype.getExternal = function (internalComponent, styleSourceElement, optionalParent) {\n    if (optionalParent === void 0) {\n      optionalParent = null;\n    }\n\n    if (internalComponent.externalObject) {\n      return internalComponent.externalObject;\n    }\n\n    var ext = null;\n\n    if (!internalComponent.$type) {\n      return null;\n    }\n\n    var name = internalComponent.$type.name;\n    var externalName = \"Igr\" + name;\n\n    if (!TypeRegistrar.isRegistered(externalName)) {\n      return null;\n    }\n\n    ext = TypeRegistrar.create(externalName);\n\n    if (ext) {\n      ext._implementation = internalComponent;\n      internalComponent.externalObject = ext;\n    }\n\n    if (styleSourceElement) {\n      if (ext._styling) {\n        ext._styling(styleSourceElement.getNativeElement(), ext, optionalParent);\n      }\n    }\n\n    return ext;\n  };\n\n  return ReactRenderer;\n}();\n\nexport { ReactRenderer };\n\nvar ReactWrapper =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ReactWrapper(element, renderer) {\n    this.renderer = renderer;\n    this._toUnbind = [];\n    this._attrCache = new Map();\n    this._styleCache = new Map();\n    this._innerText = undefined;\n\n    if (element.getNativeElement) {\n      element = element.getNativeElement();\n    }\n\n    this.ele = element;\n    this._toUnbind = [];\n  }\n\n  ReactWrapper.prototype.destroy = function () {\n    this.unlistenAll();\n    this.ele = null;\n  };\n\n  ReactWrapper.prototype.withRenderer = function (act) {\n    act(this.renderer);\n  };\n\n  ReactWrapper.prototype.addClass = function (className) {\n    var _this = this;\n\n    if (className == null || className.length == 0) {\n      return this;\n    }\n\n    this.withRenderer(function (ren) {\n      className.split(\" \").forEach(function (item) {\n        return _this.ele.classList.add(item);\n      });\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.append = function (child) {\n    var _this = this;\n\n    this.withRenderer(function (ren) {\n      _this.ele.appendChild(child.getNativeElement());\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.getAttribute = function (propertyName) {\n    if (this._attrCache.has(propertyName)) {\n      return this._attrCache.get(propertyName);\n    }\n\n    return null;\n  };\n\n  ReactWrapper.prototype.setAttribute = function (propertyName, value) {\n    var _this = this;\n\n    this._attrCache.set(propertyName, value);\n\n    this.withRenderer(function (ren) {\n      _this.ele.setAttribute(propertyName, value);\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.before = function (child) {\n    if (this.ele.parentElement) {\n      this.ele.parentElement.insertBefore(child.getNativeElement(), this.ele); // this.insertBefore(child.getNativeElement());\n    }\n\n    return this;\n  };\n\n  ReactWrapper.prototype.clone = function () {\n    return new ReactWrapper(this.getNativeElement().cloneNode(true), this.renderer);\n  };\n\n  ReactWrapper.prototype.getStyleProperty = function (propertyName) {\n    if (this.getNativeElement() !== null) {\n      if (getComputedStyle !== undefined) {\n        var computed = getComputedStyle(this.getNativeElement()); //console.log(\"getting computed value for: \" + propertyName + \": \" + computed[propertyName]);\n\n        return computed[propertyName];\n      }\n    }\n\n    if (this._styleCache.has(propertyName)) {\n      return this._styleCache.get(propertyName);\n    }\n\n    return null;\n  };\n\n  ReactWrapper.prototype.setStyleProperty = function (propertyName, value) {\n    var _this = this;\n\n    this._styleCache.set(propertyName, value);\n\n    this.withRenderer(function (ren) {\n      _this.ele.style[propertyName] = value;\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.findByClass = function (className) {\n    if (className.substring(0, 1) == '.') {\n      className = className.substring(1);\n    }\n\n    var ret = this.ele.getElementsByClassName(className);\n    var retVal = [];\n    retVal.length = ret.length;\n\n    for (var i = 0; i < ret.length; i++) {\n      retVal[i] = new ReactWrapper(ret[i], this.renderer);\n    }\n\n    return retVal;\n  };\n\n  ReactWrapper.prototype.focus = function (preventScroll) {\n    if (this.getNativeElement() !== null && this.getNativeElement().focus !== undefined) {\n      if (preventScroll) {\n        this.getNativeElement().focus({\n          preventScroll: true\n        });\n      } else {\n        this.getNativeElement().focus();\n      }\n    }\n\n    return this;\n  };\n\n  ReactWrapper.prototype.getChildAt = function (i) {\n    var child = this.ele.children[i];\n    return new ReactWrapper(child, this.renderer);\n  };\n\n  ReactWrapper.prototype.getChildCount = function () {\n    return this.ele.children.length;\n  };\n\n  ReactWrapper.prototype.getNativeElement = function () {\n    var _this = this;\n\n    var nativeElement = null;\n    this.withRenderer(function (ren) {\n      if (_this.ele == null) {\n        nativeElement = null;\n        return;\n      }\n\n      if (_this.ele.getNativeElement == undefined) {\n        nativeElement = _this.ele;\n        return nativeElement;\n      }\n\n      nativeElement = _this.ele.getNativeElement();\n    });\n    return nativeElement;\n  };\n\n  ReactWrapper.prototype.height = function () {\n    var ret = this.getStyleProperty(\"height\");\n\n    if (ret == null) {\n      //todo: some voodoo here.\n      return 500;\n    }\n\n    var val = parseFloat(ret.replace(\"px\", \"\"));\n\n    if (isNaN(val)) {\n      return 0;\n    }\n\n    return val;\n  };\n\n  ReactWrapper.prototype.hide = function () {\n    this.setStyleProperty(\"display\", \"none\");\n    return this;\n  };\n\n  ReactWrapper.prototype.listen = function (eventName, handler) {\n    var retVal = null; //this.ngZone.runOutsideAngular(() => {\n\n    var $self = this;\n\n    var a = function (e) {\n      var inner = {}; //TODO: normalize here?\n\n      inner.originalEvent = e;\n      inner.altKey = e.altKey;\n      inner.button = e.button;\n      inner.ctrlKey = e.ctrlKey;\n      inner.offsetX = e.offsetX;\n      inner.offsetY = e.offsetY;\n      inner.pageX = e.pageX;\n      inner.pageY = e.pageY;\n\n      if (e.touches && e.touches.length > 0) {\n        inner.pageX = e.touches[0].pageX;\n        inner.pageY = e.touches[0].pageY;\n      }\n\n      inner.shiftKey = e.shiftKey;\n      inner.which = e.which;\n\n      inner.preventDefault = function () {\n        e.preventDefault();\n      };\n\n      inner.stopPropagation = function () {\n        e.stopPropagation();\n      }; //console.log(e);\n\n\n      handler(inner);\n    };\n\n    var ret = this.renderer.listen(this.ele, eventName, a);\n    var self = this;\n\n    retVal = function () {\n      var ind = self._toUnbind.indexOf(retVal);\n\n      if (ind >= 0) {\n        self._toUnbind.splice(ind, 1);\n      }\n\n      ret();\n      a = null;\n    };\n\n    this._toUnbind.push(retVal); //});\n\n\n    return retVal;\n  };\n\n  ReactWrapper.prototype.getOffsetHelper = function (ele) {\n    var clientRect = ele.getBoundingClientRect();\n    return {\n      top: clientRect.top + window.pageYOffset,\n      left: clientRect.left + window.pageXOffset\n    };\n  };\n\n  ReactWrapper.prototype.getOffset = function () {\n    return this.getOffsetHelper(this.getNativeElement());\n  };\n\n  ReactWrapper.prototype.setOffset = function (x, y) {\n    var par = this.getNativeElement().offsetParent || this.getNativeElement().parentElement;\n    var parentOffset = this.getOffsetHelper(par);\n    return this.setRawPosition(x - parentOffset.left, y - parentOffset.top); //return this;\n  };\n\n  ReactWrapper.prototype.outerHeight = function () {\n    return this.getProperty(\"offsetHeight\");\n  };\n\n  ReactWrapper.prototype.outerHeightWithMargin = function () {\n    var height = this.outerHeight();\n    height += parseInt(this.getStyleProperty(\"marginTop\"));\n    height += parseInt(this.getStyleProperty(\"marginBottom\"));\n    return height;\n  };\n\n  ReactWrapper.prototype.outerWidth = function () {\n    return this.getProperty(\"offsetWidth\");\n  };\n\n  ReactWrapper.prototype.outerWidthWithMargin = function () {\n    var width = this.outerWidth();\n    width += parseInt(this.getStyleProperty(\"marginLeft\"));\n    width += parseInt(this.getStyleProperty(\"marginRight\"));\n    return width;\n  };\n\n  ReactWrapper.prototype.getProperty = function (propertyName) {\n    var native = this.getNativeElement();\n    return native[propertyName];\n  };\n\n  ReactWrapper.prototype.setProperty = function (propertyName, value) {\n    var _this = this;\n\n    this.withRenderer(function (ren) {\n      _this.ele[propertyName] = value;\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.remove = function () {\n    var _this = this;\n\n    this.withRenderer(function (ren) {\n      var ele = _this.getNativeElement();\n\n      if (ele.parentElement != null) {\n        _this.ele.parentElement.removeChild(ele);\n      } //ren.detachView([this.getNativeElement()]);\n\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.removeChild = function (child) {\n    var _this = this;\n\n    this.withRenderer(function (ren) {\n      _this.ele.removeChild(child.getNativeElement()); //ren.detachView([child.getNativeElement()]);\n\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.removeChildren = function () {\n    for (var i = this.getChildCount() - 1; i >= 0; i--) {\n      this.removeChild(this.getChildAt(i));\n    }\n\n    return this;\n  };\n\n  ReactWrapper.prototype.removeClass = function (className) {\n    var _this = this;\n\n    if (className == null || className.length == 0) {\n      return this;\n    }\n\n    this.withRenderer(function (ren) {\n      className.split(\" \").forEach(function (item) {\n        return _this.ele.classList.remove(item);\n      });\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawStyleProperty = function (propertyName, value) {\n    //this.withRenderer((ren) => {\n    this.ele.style[propertyName] = value; //})\n\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawPosition = function (x, y) {\n    this.ele.style.left = x + \"px\";\n    this.ele.style.top = y + \"px\";\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawXPosition = function (x) {\n    this.ele.style.left = x + \"px\";\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawYPosition = function (y) {\n    this.ele.style.top = y + \"px\";\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawSize = function (width, height) {\n    this.ele.style.width = width + \"px\";\n    this.ele.style.height = height + \"px\";\n    return this;\n  };\n\n  ReactWrapper.prototype.show = function () {\n    this.setStyleProperty(\"display\", \"\");\n    return this;\n  };\n\n  ReactWrapper.prototype.getText = function () {\n    if (this._innerText != undefined) {\n      return this._innerText;\n    }\n\n    return this.getNativeElement().innerText;\n  };\n\n  ReactWrapper.prototype.setText = function (value) {\n    var _this = this;\n\n    this._innerText = value;\n    this.withRenderer(function (ren) {\n      //workaround warning:\n      _this.getNativeElement().innerText = value; //ren.setText(this.ele, value);\n    });\n    return this;\n  };\n\n  ReactWrapper.prototype.setRawText = function (value) {\n    this._innerText = value;\n    this.ele.textContent = value;\n    return this;\n  };\n\n  ReactWrapper.prototype.unlistenAll = function () {\n    var toUnbind = [];\n\n    for (var i = 0; i < this._toUnbind.length; i++) {\n      toUnbind.push(this._toUnbind[i]);\n    }\n\n    for (var i = 0; i < toUnbind.length; i++) {\n      toUnbind[i]();\n    }\n\n    this._toUnbind.length = 0;\n    return this;\n  };\n\n  ReactWrapper.prototype.width = function () {\n    var ret = this.getStyleProperty(\"width\");\n\n    if (ret == null) {\n      //todo: some voodoo here.\n      return 500;\n    }\n\n    var val = parseFloat(ret.replace(\"px\", \"\"));\n\n    if (isNaN(val)) {\n      return 0;\n    }\n\n    return val;\n  };\n\n  ReactWrapper.prototype.parent = function () {\n    return this.ele == null || this.ele.parentElement == null ? null : new ReactWrapper(this.ele.parentElement, this.renderer);\n  };\n\n  ReactWrapper.prototype.querySelectorAll = function (selector) {\n    var elements = this.ele.querySelectorAll(selector);\n    var result = [];\n\n    for (var ii = 0; ii < elements.length; ii++) {\n      result.push(new ReactWrapper(elements[ii], this.renderer));\n    }\n\n    return result;\n  };\n\n  return ReactWrapper;\n}();\n\nexport { ReactWrapper };\n\nvar ReactCssHelper =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ReactCssHelper(renderer, document) {\n    this.renderer = renderer;\n    this.document = document;\n  }\n\n  ReactCssHelper.prototype.getDiscoveryElement = function (container) {\n    //console.log(container);\n    var ele = this.renderer.createElement(\"fakediscoveryelement\");\n    var wrapper = new ReactWrapper(ele, this.renderer);\n    wrapper.setStyleProperty(\"box-sizing\", \"content-box\");\n    return wrapper;\n  };\n\n  ReactCssHelper.prototype.getPropertyValue = function (discoveryElement, className, propertyName) {\n    //console.log(\"fetching: \" + className + \", prop: \" + propertyName);\n    var ret = CssHelper.getPropertyValue1(discoveryElement, className, propertyName); //console.log(\"for: \" + className + \", prop: \" + propertyName + \" value: \" + ret);\n\n    return ret;\n  };\n\n  ReactCssHelper.prototype.getValuesForClassCollection = function (discoveryElement, classPrefix, propertyNames) {\n    var prop = new List$1(String_$type, 0);\n\n    for (var i = 0; i < propertyNames.length; i++) {\n      prop.add(propertyNames[i]);\n    }\n\n    var ret = CssHelper.getValuesForClassCollection(discoveryElement, classPrefix, prop);\n    var retVal = new Array(ret.count);\n\n    for (var i1 = 0; i1 < ret.count; i1++) {\n      retVal[i1] = new Array(ret._inner[i1].count);\n\n      for (var j = 0; j < ret._inner[i1].count; j++) {\n        retVal[i1][j] = ret._inner[i1]._inner[j];\n      }\n    }\n\n    return retVal;\n  };\n\n  return ReactCssHelper;\n}();\n\nvar PortalManager =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function PortalManager(id, requestRender) {\n    this.disableContentPortal = false;\n    this._portals = [];\n    this._portalsMap = new Map();\n    this._id = null;\n    this._currId = 0;\n    this._requestRender = requestRender;\n    this._onPortalRef = this._onPortalRef.bind(this);\n    this._id = id;\n  }\n\n  PortalManager.prototype.onRender = function (children) {\n    if (this._portals && this._portals.length > 0) {\n      //children = React.Children.toArray(this.props.children);\n      for (var i = 0; i < this._portals.length; i++) {\n        var p = this._portals[i];\n\n        if (p.isContentPortal && !this.disableContentPortal) {\n          var mine = children.slice(0);\n          children.length = 0;\n\n          var n = p._createPortal(mine);\n\n          p._nativePortal = n;\n        } else {\n          var n = p._createPortal(null);\n\n          p._nativePortal = n;\n        }\n\n        children.push(p._nativePortal);\n      }\n    }\n  };\n\n  PortalManager.prototype.getId = function () {\n    return this._id + \"__\" + (this._currId++).toString();\n  };\n\n  PortalManager.prototype.getPortal = function (hostElement, elementTag, portalCallback, isContentPortal) {\n    var portal = new ReactDomPortal(this, hostElement, elementTag, portalCallback, this.getId(), this._onPortalRef, isContentPortal);\n\n    this._portals.push(portal);\n\n    this._portalsMap.set(portal._portalId, portal);\n\n    this._requestRender();\n  };\n\n  PortalManager.prototype._onPortalRef = function (ele) {\n    if (ele != null) {\n      var key = ele.props.id;\n\n      if (this._portalsMap.has(key)) {\n        var p = this._portalsMap.get(key);\n\n        p._onComponentProvided(ele);\n      }\n    }\n  };\n\n  PortalManager.prototype._destroy = function (portal) {\n    var ind = this._portals.indexOf(portal);\n\n    this._portalsMap.delete(portal._portalId);\n\n    this._portals.splice(ind, 1);\n\n    this._requestRender();\n  };\n\n  return PortalManager;\n}();\n\nexport { PortalManager };\n\nvar ReactDomPortal =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ReactDomPortal(portalManager, hostElement, elementTag, portalCallback, portalId, portalRef, isContentPortal) {\n    this._portalRef = null;\n    this.portalContainer = hostElement;\n    this._elementTag = elementTag;\n    this._portalCallback = portalCallback;\n    this._portalId = portalId;\n    this.isContentPortal = isContentPortal;\n    this._portalRef = portalRef;\n    this._owner = portalManager;\n  }\n\n  ReactDomPortal.prototype.destroy = function () {\n    this._owner._destroy(this);\n  };\n\n  ReactDomPortal.prototype._onComponentProvided = function (ele) {\n    var oldValue = this.componentRef;\n    this.componentRef = ele;\n\n    if (oldValue !== this.componentRef) {\n      this._portalCallback(this);\n    }\n  };\n\n  ReactDomPortal.prototype.toPascal = function (name) {\n    var val = fromSpinal(name);\n    return val.substr(0, 1).toUpperCase() + val.substr(1);\n  };\n\n  ReactDomPortal.prototype.createElementFromTag = function (elementTag, portalId, portalRef, children) {\n    if (elementTag.indexOf(\"-\") >= 0) {\n      elementTag = this.toPascal(elementTag);\n    }\n\n    var name = \"Igr\" + elementTag;\n    var ele = TypeRegistrar.get(name);\n    var rEle = React.createElement(ele, {\n      ref: portalRef,\n      key: portalId,\n      id: portalId,\n      children: children\n    });\n    return rEle;\n  };\n\n  ReactDomPortal.prototype._createPortal = function (children) {\n    var reactEle = this.createElementFromTag(this._elementTag, this._portalId, this._portalRef, children);\n    this._nativePortal = ReactDOM.createPortal(reactEle, this.portalContainer.getNativeElement(), this._portalId);\n    return this._nativePortal;\n  };\n\n  return ReactDomPortal;\n}();","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/react-renderer.js"],"names":["List$1","String_$type","CssHelper","ReactDOM","React","TypeRegistrar","fromSpinal","Localization","ReactRenderer","container","document","useDefaultsSource","defaultsSource","portalManager","_useDefaultsSource","_checkResized","_resizeListener","_resizeTicking","_portalManager","_resizeTickId","_discStack","_toUnbind","_currentFontQuery","_document","_container","_rootElement","_rootWrapper","ReactWrapper","_cssHelper","ReactCssHelper","_defaultsSource","renderer","prototype","addSizeWatcher","onResized","_this","previousWidth","offsetWidth","previousHeight","offsetHeight","previousRatio","window","devicePixelRatio","currWidth","currHeight","currRatio","changed","globalListen","ev","self","resizeTick","setTimeout","destroy","i","length","removeSizeWatcher","clearTimeout","updateRoot","root","getNativeElement","withRenderer","act","supportsAnimation","getRequestAnimationFrame","ret","requestAnimationFrame","millisecondsDelay","val","timerId","Object","defineProperty","get","enumerable","configurable","querySelector","selector","wrapper","ren","ele","rootWrapper","getWrapper","getResourceString","resourceId","grouping","_resourceBundleId","_cultureId","isRegistered","getString","setResourceBundleId","bundle","setCultureId","culture","append","child","appendToBody","element","body","appendChild","createElement","elementName","wrap","createElementNS","ns","endCSSQuery","hasBody","toRemove","pop","remove","expandTemplate","template","args","Error","get2DCanvasContext","canvas","context","canv","getContext","getCssDefaultPropertyValue","className","propertyName","isComputedFontQuery","c","undefined","v","getPropertyValue","getCurrentDiscovery","getCssDefaultValuesForClassCollection","classPrefix","propertyNames","k","indexOf","subRet","push","getValuesForClassCollection","getDefaultFontHeight","getHeightForFontString","fontString","text","useOffsetHeight","startCSSQuery","disc","hasWindow","parentElement","removeChild","setStyleProperty","span","spanWrap","setText","height","offHeight","getSubRenderer","elem","listen","eventName","handler","retVal","$self","addEventListener","ind","splice","removeEventListener","runInMainZone","action","a","e","inner","originalEvent","altKey","button","ctrlKey","offsetX","offsetY","pageX","pageY","touches","shiftKey","which","preventDefault","stopPropagation","setCssQueryFontString","contains","getDiscoveryElement","supportsDOMEvents","getPortal","hostElement","elementTag","portalCallback","isContentPortal","getExternal","internalComponent","styleSourceElement","optionalParent","externalObject","ext","$type","name","externalName","create","_implementation","_styling","_attrCache","Map","_styleCache","_innerText","unlistenAll","addClass","split","forEach","item","classList","add","getAttribute","has","setAttribute","value","set","before","insertBefore","clone","cloneNode","getStyleProperty","getComputedStyle","computed","style","findByClass","substring","getElementsByClassName","focus","preventScroll","getChildAt","children","getChildCount","nativeElement","parseFloat","replace","isNaN","hide","getOffsetHelper","clientRect","getBoundingClientRect","top","pageYOffset","left","pageXOffset","getOffset","setOffset","x","y","par","offsetParent","parentOffset","setRawPosition","outerHeight","getProperty","outerHeightWithMargin","parseInt","outerWidth","outerWidthWithMargin","width","native","setProperty","removeChildren","removeClass","setRawStyleProperty","setRawXPosition","setRawYPosition","setRawSize","show","getText","innerText","setRawText","textContent","toUnbind","parent","querySelectorAll","elements","result","ii","discoveryElement","getPropertyValue1","prop","Array","count","i1","_inner","j","PortalManager","id","requestRender","disableContentPortal","_portals","_portalsMap","_id","_currId","_requestRender","_onPortalRef","bind","onRender","p","mine","slice","n","_createPortal","_nativePortal","getId","toString","portal","ReactDomPortal","_portalId","key","props","_onComponentProvided","_destroy","delete","portalId","portalRef","_portalRef","portalContainer","_elementTag","_portalCallback","_owner","oldValue","componentRef","toPascal","substr","toUpperCase","createElementFromTag","rEle","ref","reactEle","createPortal"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { List$1 } from \"./List$1\";\nimport { String_$type } from './type';\nimport { CssHelper } from './CssHelper';\nimport * as ReactDOM from 'react-dom';\nimport * as React from 'react';\nimport { TypeRegistrar } from \"./type\";\nimport { fromSpinal } from './componentUtil';\nimport { Localization } from './Localization';\nvar ReactRenderer = /** @class */ /*@__PURE__*/ (function () {\n    function ReactRenderer(container, document, useDefaultsSource, defaultsSource, portalManager) {\n        if (portalManager === void 0) {\n            portalManager = null;\n        }\n        this.container = container;\n        this._useDefaultsSource = false;\n        this._checkResized = null;\n        this._resizeListener = null;\n        this._resizeTicking = false;\n        this._portalManager = null;\n        this._resizeTickId = -1;\n        this._discStack = [];\n        this._toUnbind = [];\n        this._currentFontQuery = null;\n        this._document = document;\n        this._container = container;\n        this._rootElement = container;\n        this._rootWrapper = new ReactWrapper(this._rootElement, this);\n        this._cssHelper = new ReactCssHelper(this, this._document);\n        this._useDefaultsSource = useDefaultsSource;\n        this._defaultsSource = defaultsSource;\n        this._portalManager = portalManager;\n        if (this._portalManager) {\n            this._portalManager.renderer = this;\n        }\n    }\n    ReactRenderer.prototype.addSizeWatcher = function (onResized) {\n        var _this = this;\n        var previousWidth = this._rootElement.offsetWidth;\n        var previousHeight = this._rootElement.offsetHeight;\n        var previousRatio = window.devicePixelRatio;\n        if (this._checkResized == null) {\n            this._checkResized = function () {\n                var currWidth = _this._rootElement.offsetWidth;\n                var currHeight = _this._rootElement.offsetHeight;\n                var currRatio = window.devicePixelRatio;\n                var changed = false;\n                if (previousWidth != currWidth ||\n                    previousHeight != currHeight ||\n                    previousRatio != currRatio) {\n                    changed = true;\n                }\n                previousWidth = currWidth;\n                previousHeight = currHeight;\n                previousRatio = currRatio;\n                if (changed) {\n                    onResized();\n                }\n            };\n        }\n        this._resizeListener = this.globalListen(\"window\", \"resize\", function (ev) { return _this._checkResized(); });\n        var self = this;\n        this._resizeTicking = true;\n        function resizeTick() {\n            self._resizeTickId = -1;\n            if (self._resizeTicking) {\n                self._checkResized();\n                self._resizeTickId = self.setTimeout(resizeTick, 100);\n            }\n        }\n        this._resizeTickId = this.setTimeout(resizeTick, 100);\n    };\n    ReactRenderer.prototype.destroy = function () {\n        for (var i = 0; i < this._toUnbind.length; i++) {\n            this._toUnbind[i]();\n        }\n        this._toUnbind = [];\n        this.removeSizeWatcher();\n        this._rootWrapper.destroy();\n        this._rootWrapper = null;\n        this._rootElement = null;\n    };\n    ReactRenderer.prototype.removeSizeWatcher = function () {\n        this._resizeTicking = false;\n        if (this._resizeTickId != -1) {\n            window.clearTimeout(this._resizeTickId);\n            this._resizeTickId = -1;\n        }\n        if (this._resizeListener != null) {\n            this._resizeListener();\n            this._resizeListener = null;\n        }\n    };\n    ReactRenderer.prototype.updateRoot = function (root) {\n        this._rootWrapper = root;\n        this._rootElement = root.getNativeElement();\n    };\n    ReactRenderer.prototype.withRenderer = function (act) {\n        act(this);\n    };\n    ReactRenderer.prototype.supportsAnimation = function () {\n        return true;\n    };\n    ReactRenderer.prototype.getRequestAnimationFrame = function () {\n        var ret = function (act) {\n            requestAnimationFrame(act);\n        };\n        return ret;\n    };\n    ReactRenderer.prototype.setTimeout = function (act, millisecondsDelay) {\n        var val;\n        val = window.setTimeout(act, millisecondsDelay);\n        return val;\n    };\n    ReactRenderer.prototype.clearTimeout = function (timerId) {\n        window.clearTimeout(timerId);\n    };\n    Object.defineProperty(ReactRenderer.prototype, \"rootWrapper\", {\n        get: function () {\n            return this._rootWrapper;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ReactRenderer.prototype.querySelector = function (selector) {\n        var _this = this;\n        var wrapper = null;\n        this.withRenderer(function (ren) {\n            var ele = _this.rootWrapper.getNativeElement().querySelector(selector);\n            if (ele === null) {\n                return null;\n            }\n            wrapper = new ReactWrapper(ele, ren);\n        });\n        return wrapper;\n    };\n    ReactRenderer.prototype.getWrapper = function (ele) {\n        if (!ele) {\n            return null;\n        }\n        var wrapper = null;\n        this.withRenderer(function (ren) {\n            wrapper = new ReactWrapper(ele, ren);\n        });\n        return wrapper;\n    };\n    ReactRenderer.prototype.getResourceString = function (resourceId) {\n        // check if the resource culture is available.  It is a combination of the bundle ID and culture ID\n        var grouping = this._resourceBundleId + \"-\" + this._cultureId;\n        var isRegistered = Localization.isRegistered(grouping);\n        if (isRegistered) {\n            return Localization.getString(grouping, resourceId);\n        }\n        else {\n            return \"\";\n        }\n    };\n    ReactRenderer.prototype.setResourceBundleId = function (bundle) {\n        this._resourceBundleId = bundle;\n    };\n    ReactRenderer.prototype.setCultureId = function (culture) {\n        this._cultureId = culture;\n    };\n    ReactRenderer.prototype.append = function (child) {\n        this._rootWrapper.append(child);\n        return this;\n    };\n    ReactRenderer.prototype.appendToBody = function (element) {\n        if (this._document !== null && this._document.body !== null) {\n            this._document.body.appendChild(element.getNativeElement());\n        }\n    };\n    ReactRenderer.prototype.createElement = function (elementName) {\n        var _this = this;\n        var ele;\n        this.withRenderer(function (ren) {\n            ele = _this._document.createElement(elementName);\n        });\n        var wrap = new ReactWrapper(ele, this);\n        return wrap;\n    };\n    ReactRenderer.prototype.createElementNS = function (elementName, ns) {\n        var _this = this;\n        var ele;\n        this.withRenderer(function (ren) {\n            ele = _this._document.createElementNS(ns, elementName);\n        });\n        var wrap = new ReactWrapper(ele, this);\n        return wrap;\n    };\n    ReactRenderer.prototype.endCSSQuery = function () {\n        this._currentFontQuery = null;\n        if (!this.hasBody()) {\n            return;\n        }\n        if (this._discStack.length > 0) {\n            var toRemove = this._discStack.pop();\n            toRemove.remove();\n        }\n    };\n    ReactRenderer.prototype.expandTemplate = function (template, args) {\n        throw new Error(\"not implemented\");\n    };\n    ReactRenderer.prototype.get2DCanvasContext = function (canvas) {\n        var context = null;\n        this.withRenderer(function (ren) {\n            var canv = (canvas.getNativeElement());\n            context = canv.getContext(\"2d\");\n        });\n        return context;\n    };\n    Object.defineProperty(ReactRenderer.prototype, \"isComputedFontQuery\", {\n        get: function () {\n            return this._currentFontQuery != null &&\n                this.hasBody();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ReactRenderer.prototype.getCssDefaultPropertyValue = function (className, propertyName) {\n        if (this._useDefaultsSource && !this.isComputedFontQuery) {\n            var c = this._defaultsSource[className];\n            if (className == \"\" || className == null) {\n                c = this._defaultsSource;\n            }\n            if (c === undefined) {\n                return null;\n            }\n            var v = c[propertyName];\n            if (v === undefined) {\n                return null;\n            }\n            return v;\n        }\n        return this._cssHelper.getPropertyValue(this.getCurrentDiscovery(), className, propertyName);\n    };\n    ReactRenderer.prototype.getCssDefaultValuesForClassCollection = function (classPrefix, propertyNames) {\n        if (this._useDefaultsSource) {\n            var ret = [];\n            for (var k in this._defaultsSource) {\n                if (k.indexOf(classPrefix) === 0) {\n                    var subRet = [];\n                    ret.push(subRet);\n                    for (var i = 0; i < propertyNames.length; i++) {\n                        var v = this._defaultsSource[k][propertyNames[i]];\n                        if (v === undefined) {\n                            subRet.push(null);\n                        }\n                        else {\n                            subRet.push(v);\n                        }\n                    }\n                }\n            }\n            return ret;\n        }\n        return this._cssHelper.getValuesForClassCollection(this.getCurrentDiscovery(), classPrefix, propertyNames);\n    };\n    ReactRenderer.prototype.getDefaultFontHeight = function () {\n        if (this._defaultsSource[\"default-font-height\"] !== undefined) {\n            return +this._defaultsSource[\"default-font-height\"];\n        }\n        return 16;\n    };\n    ReactRenderer.prototype.getHeightForFontString = function (fontString, text, useOffsetHeight) {\n        if (this._rootWrapper.getNativeElement() == null) {\n            //TODO: some voodoo here.\n            return 12;\n        }\n        this.startCSSQuery();\n        var disc = this.getCurrentDiscovery();\n        if (disc == null || !this.hasWindow) {\n            return this.getDefaultFontHeight();\n        }\n        if (disc.getNativeElement().parentElement) {\n            disc.getNativeElement().parentElement.removeChild(disc.getNativeElement());\n        }\n        disc.setStyleProperty(\"position\", \"absolute\");\n        disc.setStyleProperty(\"visibility\", \"hidden\");\n        disc.setStyleProperty(\"font\", fontString);\n        document.body.appendChild(disc.getNativeElement());\n        var span;\n        this.withRenderer(function (ren) {\n            span = ren.createElement(\"span\");\n        });\n        var spanWrap = new ReactWrapper(span, this);\n        this.getCurrentDiscovery().append(spanWrap);\n        spanWrap.setText(text);\n        var height;\n        if (useOffsetHeight) {\n            var offHeight = spanWrap.getNativeElement().offsetHeight;\n            height = offHeight;\n        }\n        else {\n            height = spanWrap.getNativeElement().height();\n        }\n        if (height == 0) {\n            //HACK: HACK! HACK! HACK!\n            height = this.getDefaultFontHeight();\n        }\n        //console.log(\"font height: \" + height);\n        document.body.removeChild(disc.getNativeElement());\n        this.endCSSQuery();\n        return height;\n    };\n    ReactRenderer.prototype.getSubRenderer = function (root) {\n        var elem = root;\n        elem = elem.getNativeElement();\n        return new ReactRenderer(elem, this._document, this._useDefaultsSource, this._defaultsSource, this._portalManager);\n    };\n    ReactRenderer.prototype.listen = function (element, eventName, handler) {\n        var retVal = null;\n        if (element == \"window\") {\n            element = window;\n        }\n        if (element == \"document\") {\n            element = document;\n        }\n        var $self = this;\n        var ret = element.addEventListener(eventName, handler);\n        var self = this;\n        retVal = function () {\n            var ind = self._toUnbind.indexOf(retVal);\n            if (ind >= 0) {\n                self._toUnbind.splice(ind, 1);\n            }\n            element.removeEventListener(eventName, handler);\n            handler = null;\n        };\n        this._toUnbind.push(retVal);\n        return retVal;\n    };\n    ReactRenderer.prototype.runInMainZone = function (action) {\n        action();\n    };\n    ReactRenderer.prototype.globalListen = function (element, eventName, handler) {\n        var retVal = null;\n        //this._ngZone.runOutsideAngular(() => {\n        var $self = this;\n        var a = function (e) {\n            var inner = {};\n            //TODO: normalize here?\n            inner.originalEvent = e;\n            inner.altKey = e.altKey;\n            inner.button = e.button;\n            inner.ctrlKey = e.ctrlKey;\n            inner.offsetX = e.offsetX;\n            inner.offsetY = e.offsetY;\n            inner.pageX = e.pageX;\n            inner.pageY = e.pageY;\n            if (e.touches && e.touches.length > 0) {\n                inner.pageX = e.touches[0].pageX;\n                inner.pageY = e.touches[0].pageY;\n            }\n            inner.shiftKey = e.shiftKey;\n            inner.which = e.which;\n            inner.preventDefault = function () {\n                e.preventDefault();\n            };\n            inner.stopPropagation = function () {\n                e.stopPropagation();\n            };\n            //console.log(e);\n            handler(inner);\n        };\n        var ret = this.listen(element, eventName, a);\n        var self = this;\n        retVal = function () {\n            var ind = self._toUnbind.indexOf(retVal);\n            if (ind >= 0) {\n                self._toUnbind.splice(ind, 1);\n            }\n            ret();\n            a = null;\n        };\n        this._toUnbind.push(retVal);\n        //});\n        return retVal;\n    };\n    ReactRenderer.prototype.hasBody = function () {\n        return this._document !== null && this._document.body !== null;\n    };\n    ReactRenderer.prototype.hasWindow = function () {\n        //todo: hmmm\n        return true;\n    };\n    ReactRenderer.prototype.getCurrentDiscovery = function () {\n        if (this._discStack.length <= 0) {\n            return null;\n        }\n        return this._discStack[this._discStack.length - 1];\n    };\n    ReactRenderer.prototype.setCssQueryFontString = function (fontString) {\n        if (this._useDefaultsSource) {\n            this._currentFontQuery = fontString;\n        }\n        if (!document.body.contains(this.getCurrentDiscovery().getNativeElement())) {\n            this.getCurrentDiscovery().remove();\n            this.appendToBody(this.getCurrentDiscovery());\n        }\n        this.getCurrentDiscovery().setStyleProperty(\"font\", fontString);\n    };\n    ReactRenderer.prototype.startCSSQuery = function () {\n        if (!this.hasBody()) {\n            return;\n        }\n        var disc = this._cssHelper.getDiscoveryElement(this._rootElement);\n        this._discStack.push(disc);\n        this._rootWrapper.append(disc);\n    };\n    ReactRenderer.prototype.supportsDOMEvents = function () {\n        //todo: hmmm.\n        return true;\n    };\n    ReactRenderer.prototype.getPortal = function (hostElement, elementTag, portalCallback, isContentPortal) {\n        if (this._portalManager) {\n            this._portalManager.getPortal(hostElement, elementTag, portalCallback, isContentPortal);\n        }\n    };\n    ReactRenderer.prototype.getExternal = function (internalComponent, styleSourceElement, optionalParent) {\n        if (optionalParent === void 0) {\n            optionalParent = null;\n        }\n        if (internalComponent.externalObject) {\n            return internalComponent.externalObject;\n        }\n        var ext = null;\n        if (!internalComponent.$type) {\n            return null;\n        }\n        var name = internalComponent.$type.name;\n        var externalName = \"Igr\" + name;\n        if (!TypeRegistrar.isRegistered(externalName)) {\n            return null;\n        }\n        ext = TypeRegistrar.create(externalName);\n        if (ext) {\n            ext._implementation = internalComponent;\n            internalComponent.externalObject = ext;\n        }\n        if (styleSourceElement) {\n            if (ext._styling) {\n                ext._styling(styleSourceElement.getNativeElement(), ext, optionalParent);\n            }\n        }\n        return ext;\n    };\n    return ReactRenderer;\n}());\nexport { ReactRenderer };\nvar ReactWrapper = /** @class */ /*@__PURE__*/ (function () {\n    function ReactWrapper(element, renderer) {\n        this.renderer = renderer;\n        this._toUnbind = [];\n        this._attrCache = new Map();\n        this._styleCache = new Map();\n        this._innerText = undefined;\n        if (element.getNativeElement) {\n            element = element.getNativeElement();\n        }\n        this.ele = element;\n        this._toUnbind = [];\n    }\n    ReactWrapper.prototype.destroy = function () {\n        this.unlistenAll();\n        this.ele = null;\n    };\n    ReactWrapper.prototype.withRenderer = function (act) {\n        act(this.renderer);\n    };\n    ReactWrapper.prototype.addClass = function (className) {\n        var _this = this;\n        if (className == null || className.length == 0) {\n            return this;\n        }\n        this.withRenderer(function (ren) {\n            className.split(\" \").forEach(function (item) { return _this.ele.classList.add(item); });\n        });\n        return this;\n    };\n    ReactWrapper.prototype.append = function (child) {\n        var _this = this;\n        this.withRenderer(function (ren) {\n            _this.ele.appendChild(child.getNativeElement());\n        });\n        return this;\n    };\n    ReactWrapper.prototype.getAttribute = function (propertyName) {\n        if (this._attrCache.has(propertyName)) {\n            return this._attrCache.get(propertyName);\n        }\n        return null;\n    };\n    ReactWrapper.prototype.setAttribute = function (propertyName, value) {\n        var _this = this;\n        this._attrCache.set(propertyName, value);\n        this.withRenderer(function (ren) {\n            _this.ele.setAttribute(propertyName, value);\n        });\n        return this;\n    };\n    ReactWrapper.prototype.before = function (child) {\n        if (this.ele.parentElement) {\n            this.ele.parentElement.insertBefore(child.getNativeElement(), this.ele);\n            // this.insertBefore(child.getNativeElement());\n        }\n        return this;\n    };\n    ReactWrapper.prototype.clone = function () {\n        return new ReactWrapper(this.getNativeElement().cloneNode(true), this.renderer);\n    };\n    ReactWrapper.prototype.getStyleProperty = function (propertyName) {\n        if (this.getNativeElement() !== null) {\n            if (getComputedStyle !== undefined) {\n                var computed = getComputedStyle(this.getNativeElement());\n                //console.log(\"getting computed value for: \" + propertyName + \": \" + computed[propertyName]);\n                return computed[propertyName];\n            }\n        }\n        if (this._styleCache.has(propertyName)) {\n            return this._styleCache.get(propertyName);\n        }\n        return null;\n    };\n    ReactWrapper.prototype.setStyleProperty = function (propertyName, value) {\n        var _this = this;\n        this._styleCache.set(propertyName, value);\n        this.withRenderer(function (ren) {\n            _this.ele.style[propertyName] = value;\n        });\n        return this;\n    };\n    ReactWrapper.prototype.findByClass = function (className) {\n        if (className.substring(0, 1) == '.') {\n            className = className.substring(1);\n        }\n        var ret = this.ele.getElementsByClassName(className);\n        var retVal = [];\n        retVal.length = ret.length;\n        for (var i = 0; i < ret.length; i++) {\n            retVal[i] = new ReactWrapper(ret[i], this.renderer);\n        }\n        return retVal;\n    };\n    ReactWrapper.prototype.focus = function (preventScroll) {\n        if (this.getNativeElement() !== null && this.getNativeElement().focus !== undefined) {\n            if (preventScroll) {\n                this.getNativeElement().focus({ preventScroll: true });\n            }\n            else {\n                this.getNativeElement().focus();\n            }\n        }\n        return this;\n    };\n    ReactWrapper.prototype.getChildAt = function (i) {\n        var child = this.ele.children[i];\n        return new ReactWrapper(child, this.renderer);\n    };\n    ReactWrapper.prototype.getChildCount = function () {\n        return this.ele.children.length;\n    };\n    ReactWrapper.prototype.getNativeElement = function () {\n        var _this = this;\n        var nativeElement = null;\n        this.withRenderer(function (ren) {\n            if (_this.ele == null) {\n                nativeElement = null;\n                return;\n            }\n            if (_this.ele.getNativeElement == undefined) {\n                nativeElement = _this.ele;\n                return nativeElement;\n            }\n            nativeElement = (_this.ele.getNativeElement());\n        });\n        return nativeElement;\n    };\n    ReactWrapper.prototype.height = function () {\n        var ret = this.getStyleProperty(\"height\");\n        if (ret == null) {\n            //todo: some voodoo here.\n            return 500;\n        }\n        var val = parseFloat(ret.replace(\"px\", \"\"));\n        if (isNaN(val)) {\n            return 0;\n        }\n        return val;\n    };\n    ReactWrapper.prototype.hide = function () {\n        this.setStyleProperty(\"display\", \"none\");\n        return this;\n    };\n    ReactWrapper.prototype.listen = function (eventName, handler) {\n        var retVal = null;\n        //this.ngZone.runOutsideAngular(() => {\n        var $self = this;\n        var a = function (e) {\n            var inner = {};\n            //TODO: normalize here?\n            inner.originalEvent = e;\n            inner.altKey = e.altKey;\n            inner.button = e.button;\n            inner.ctrlKey = e.ctrlKey;\n            inner.offsetX = e.offsetX;\n            inner.offsetY = e.offsetY;\n            inner.pageX = e.pageX;\n            inner.pageY = e.pageY;\n            if (e.touches && e.touches.length > 0) {\n                inner.pageX = e.touches[0].pageX;\n                inner.pageY = e.touches[0].pageY;\n            }\n            inner.shiftKey = e.shiftKey;\n            inner.which = e.which;\n            inner.preventDefault = function () {\n                e.preventDefault();\n            };\n            inner.stopPropagation = function () {\n                e.stopPropagation();\n            };\n            //console.log(e);\n            handler(inner);\n        };\n        var ret = this.renderer.listen(this.ele, eventName, a);\n        var self = this;\n        retVal = function () {\n            var ind = self._toUnbind.indexOf(retVal);\n            if (ind >= 0) {\n                self._toUnbind.splice(ind, 1);\n            }\n            ret();\n            a = null;\n        };\n        this._toUnbind.push(retVal);\n        //});\n        return retVal;\n    };\n    ReactWrapper.prototype.getOffsetHelper = function (ele) {\n        var clientRect = ele.getBoundingClientRect();\n        return {\n            top: clientRect.top + window.pageYOffset,\n            left: clientRect.left + window.pageXOffset\n        };\n    };\n    ReactWrapper.prototype.getOffset = function () {\n        return this.getOffsetHelper(this.getNativeElement());\n    };\n    ReactWrapper.prototype.setOffset = function (x, y) {\n        var par = this.getNativeElement().offsetParent || this.getNativeElement().parentElement;\n        var parentOffset = this.getOffsetHelper(par);\n        return this.setRawPosition(x - parentOffset.left, y - parentOffset.top);\n        //return this;\n    };\n    ReactWrapper.prototype.outerHeight = function () {\n        return this.getProperty(\"offsetHeight\");\n    };\n    ReactWrapper.prototype.outerHeightWithMargin = function () {\n        var height = this.outerHeight();\n        height += parseInt(this.getStyleProperty(\"marginTop\"));\n        height += parseInt(this.getStyleProperty(\"marginBottom\"));\n        return height;\n    };\n    ReactWrapper.prototype.outerWidth = function () {\n        return this.getProperty(\"offsetWidth\");\n    };\n    ReactWrapper.prototype.outerWidthWithMargin = function () {\n        var width = this.outerWidth();\n        width += parseInt(this.getStyleProperty(\"marginLeft\"));\n        width += parseInt(this.getStyleProperty(\"marginRight\"));\n        return width;\n    };\n    ReactWrapper.prototype.getProperty = function (propertyName) {\n        var native = this.getNativeElement();\n        return native[propertyName];\n    };\n    ReactWrapper.prototype.setProperty = function (propertyName, value) {\n        var _this = this;\n        this.withRenderer(function (ren) {\n            _this.ele[propertyName] = value;\n        });\n        return this;\n    };\n    ReactWrapper.prototype.remove = function () {\n        var _this = this;\n        this.withRenderer(function (ren) {\n            var ele = _this.getNativeElement();\n            if (ele.parentElement != null) {\n                _this.ele.parentElement.removeChild(ele);\n            }\n            //ren.detachView([this.getNativeElement()]);\n        });\n        return this;\n    };\n    ReactWrapper.prototype.removeChild = function (child) {\n        var _this = this;\n        this.withRenderer(function (ren) {\n            _this.ele.removeChild(child.getNativeElement());\n            //ren.detachView([child.getNativeElement()]);\n        });\n        return this;\n    };\n    ReactWrapper.prototype.removeChildren = function () {\n        for (var i = this.getChildCount() - 1; i >= 0; i--) {\n            this.removeChild(this.getChildAt(i));\n        }\n        return this;\n    };\n    ReactWrapper.prototype.removeClass = function (className) {\n        var _this = this;\n        if (className == null || className.length == 0) {\n            return this;\n        }\n        this.withRenderer(function (ren) {\n            className.split(\" \").forEach(function (item) { return _this.ele.classList.remove(item); });\n        });\n        return this;\n    };\n    ReactWrapper.prototype.setRawStyleProperty = function (propertyName, value) {\n        //this.withRenderer((ren) => {\n        this.ele.style[propertyName] = value;\n        //})\n        return this;\n    };\n    ReactWrapper.prototype.setRawPosition = function (x, y) {\n        this.ele.style.left = x + \"px\";\n        this.ele.style.top = y + \"px\";\n        return this;\n    };\n    ReactWrapper.prototype.setRawXPosition = function (x) {\n        this.ele.style.left = x + \"px\";\n        return this;\n    };\n    ReactWrapper.prototype.setRawYPosition = function (y) {\n        this.ele.style.top = y + \"px\";\n        return this;\n    };\n    ReactWrapper.prototype.setRawSize = function (width, height) {\n        this.ele.style.width = width + \"px\";\n        this.ele.style.height = height + \"px\";\n        return this;\n    };\n    ReactWrapper.prototype.show = function () {\n        this.setStyleProperty(\"display\", \"\");\n        return this;\n    };\n    ReactWrapper.prototype.getText = function () {\n        if (this._innerText != undefined) {\n            return this._innerText;\n        }\n        return this.getNativeElement().innerText;\n    };\n    ReactWrapper.prototype.setText = function (value) {\n        var _this = this;\n        this._innerText = value;\n        this.withRenderer(function (ren) {\n            //workaround warning:\n            _this.getNativeElement().innerText = value;\n            //ren.setText(this.ele, value);\n        });\n        return this;\n    };\n    ReactWrapper.prototype.setRawText = function (value) {\n        this._innerText = value;\n        this.ele.textContent = value;\n        return this;\n    };\n    ReactWrapper.prototype.unlistenAll = function () {\n        var toUnbind = [];\n        for (var i = 0; i < this._toUnbind.length; i++) {\n            toUnbind.push(this._toUnbind[i]);\n        }\n        for (var i = 0; i < toUnbind.length; i++) {\n            toUnbind[i]();\n        }\n        this._toUnbind.length = 0;\n        return this;\n    };\n    ReactWrapper.prototype.width = function () {\n        var ret = this.getStyleProperty(\"width\");\n        if (ret == null) {\n            //todo: some voodoo here.\n            return 500;\n        }\n        var val = parseFloat(ret.replace(\"px\", \"\"));\n        if (isNaN(val)) {\n            return 0;\n        }\n        return val;\n    };\n    ReactWrapper.prototype.parent = function () {\n        return this.ele == null || this.ele.parentElement == null ? null :\n            new ReactWrapper(this.ele.parentElement, this.renderer);\n    };\n    ReactWrapper.prototype.querySelectorAll = function (selector) {\n        var elements = this.ele.querySelectorAll(selector);\n        var result = [];\n        for (var ii = 0; ii < elements.length; ii++) {\n            result.push(new ReactWrapper(elements[ii], this.renderer));\n        }\n        return result;\n    };\n    return ReactWrapper;\n}());\nexport { ReactWrapper };\nvar ReactCssHelper = /** @class */ /*@__PURE__*/ (function () {\n    function ReactCssHelper(renderer, document) {\n        this.renderer = renderer;\n        this.document = document;\n    }\n    ReactCssHelper.prototype.getDiscoveryElement = function (container) {\n        //console.log(container);\n        var ele = this.renderer.createElement(\"fakediscoveryelement\");\n        var wrapper = new ReactWrapper(ele, this.renderer);\n        wrapper.setStyleProperty(\"box-sizing\", \"content-box\");\n        return wrapper;\n    };\n    ReactCssHelper.prototype.getPropertyValue = function (discoveryElement, className, propertyName) {\n        //console.log(\"fetching: \" + className + \", prop: \" + propertyName);\n        var ret = CssHelper.getPropertyValue1(discoveryElement, className, propertyName);\n        //console.log(\"for: \" + className + \", prop: \" + propertyName + \" value: \" + ret);\n        return ret;\n    };\n    ReactCssHelper.prototype.getValuesForClassCollection = function (discoveryElement, classPrefix, propertyNames) {\n        var prop = new List$1(String_$type, 0);\n        for (var i = 0; i < propertyNames.length; i++) {\n            prop.add(propertyNames[i]);\n        }\n        var ret = CssHelper.getValuesForClassCollection(discoveryElement, classPrefix, prop);\n        var retVal = new Array(ret.count);\n        for (var i1 = 0; i1 < ret.count; i1++) {\n            retVal[i1] = new Array(ret._inner[i1].count);\n            for (var j = 0; j < ret._inner[i1].count; j++) {\n                retVal[i1][j] = ret._inner[i1]._inner[j];\n            }\n        }\n        return retVal;\n    };\n    return ReactCssHelper;\n}());\nvar PortalManager = /** @class */ /*@__PURE__*/ (function () {\n    function PortalManager(id, requestRender) {\n        this.disableContentPortal = false;\n        this._portals = [];\n        this._portalsMap = new Map();\n        this._id = null;\n        this._currId = 0;\n        this._requestRender = requestRender;\n        this._onPortalRef = this._onPortalRef.bind(this);\n        this._id = id;\n    }\n    PortalManager.prototype.onRender = function (children) {\n        if (this._portals && this._portals.length > 0) {\n            //children = React.Children.toArray(this.props.children);\n            for (var i = 0; i < this._portals.length; i++) {\n                var p = this._portals[i];\n                if (p.isContentPortal && !this.disableContentPortal) {\n                    var mine = children.slice(0);\n                    children.length = 0;\n                    var n = p._createPortal(mine);\n                    p._nativePortal = n;\n                }\n                else {\n                    var n = p._createPortal(null);\n                    p._nativePortal = n;\n                }\n                children.push(p._nativePortal);\n            }\n        }\n    };\n    PortalManager.prototype.getId = function () {\n        return this._id + \"__\" + (this._currId++).toString();\n    };\n    PortalManager.prototype.getPortal = function (hostElement, elementTag, portalCallback, isContentPortal) {\n        var portal = new ReactDomPortal(this, hostElement, elementTag, portalCallback, this.getId(), this._onPortalRef, isContentPortal);\n        this._portals.push(portal);\n        this._portalsMap.set(portal._portalId, portal);\n        this._requestRender();\n    };\n    PortalManager.prototype._onPortalRef = function (ele) {\n        if (ele != null) {\n            var key = ele.props.id;\n            if (this._portalsMap.has(key)) {\n                var p = this._portalsMap.get(key);\n                p._onComponentProvided(ele);\n            }\n        }\n    };\n    PortalManager.prototype._destroy = function (portal) {\n        var ind = this._portals.indexOf(portal);\n        this._portalsMap.delete(portal._portalId);\n        this._portals.splice(ind, 1);\n        this._requestRender();\n    };\n    return PortalManager;\n}());\nexport { PortalManager };\nvar ReactDomPortal = /** @class */ /*@__PURE__*/ (function () {\n    function ReactDomPortal(portalManager, hostElement, elementTag, portalCallback, portalId, portalRef, isContentPortal) {\n        this._portalRef = null;\n        this.portalContainer = hostElement;\n        this._elementTag = elementTag;\n        this._portalCallback = portalCallback;\n        this._portalId = portalId;\n        this.isContentPortal = isContentPortal;\n        this._portalRef = portalRef;\n        this._owner = portalManager;\n    }\n    ReactDomPortal.prototype.destroy = function () {\n        this._owner._destroy(this);\n    };\n    ReactDomPortal.prototype._onComponentProvided = function (ele) {\n        var oldValue = this.componentRef;\n        this.componentRef = ele;\n        if (oldValue !== this.componentRef) {\n            this._portalCallback(this);\n        }\n    };\n    ReactDomPortal.prototype.toPascal = function (name) {\n        var val = fromSpinal(name);\n        return val.substr(0, 1).toUpperCase() + val.substr(1);\n    };\n    ReactDomPortal.prototype.createElementFromTag = function (elementTag, portalId, portalRef, children) {\n        if (elementTag.indexOf(\"-\") >= 0) {\n            elementTag = this.toPascal(elementTag);\n        }\n        var name = \"Igr\" + elementTag;\n        var ele = TypeRegistrar.get(name);\n        var rEle = React.createElement(ele, {\n            ref: portalRef,\n            key: portalId,\n            id: portalId,\n            children: children\n        });\n        return rEle;\n    };\n    ReactDomPortal.prototype._createPortal = function (children) {\n        var reactEle = this.createElementFromTag(this._elementTag, this._portalId, this._portalRef, children);\n        this._nativePortal = ReactDOM.createPortal(reactEle, this.portalContainer.getNativeElement(), this._portalId);\n        return this._nativePortal;\n    };\n    return ReactDomPortal;\n}());\n"]},"metadata":{},"sourceType":"module"}