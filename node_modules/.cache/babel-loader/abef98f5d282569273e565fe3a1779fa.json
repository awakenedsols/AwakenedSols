{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __read, __spreadArray, __values } from \"tslib\";\nimport { Base, fromEnum, EnumUtil, String_$type, markType } from \"./type\";\nimport { IDataSeriesAdapterRule_$type } from \"./IDataSeriesAdapterRule\";\nimport { List$1 } from \"./List$1\";\nimport { DataSeriesIntent_$type } from \"./DataSeriesIntent\";\nimport { DataSeries } from \"./DataSeries\";\nimport { DataSeriesMemberPathHint } from \"./DataSeriesMemberPathHint\";\nimport { truncate } from \"./number\";\nimport { stringJoin } from \"./string\";\n/**\n * @hidden\n */\n\nvar SimpleFinancialPriceSeriesRule =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(SimpleFinancialPriceSeriesRule, _super);\n\n  function SimpleFinancialPriceSeriesRule() {\n    var _this = _super.call(this) || this;\n\n    _this._priority = 0;\n    _this._distinctCheckThreshold = 0;\n    _this.priority = 10;\n    _this.distinctCheckThreshold = 50000;\n    return _this;\n  }\n\n  Object.defineProperty(SimpleFinancialPriceSeriesRule.prototype, \"priority\", {\n    get: function () {\n      return this._priority;\n    },\n    set: function (a) {\n      this._priority = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SimpleFinancialPriceSeriesRule.prototype, \"distinctCheckThreshold\", {\n    get: function () {\n      return this._distinctCheckThreshold;\n    },\n    set: function (a) {\n      this._distinctCheckThreshold = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SimpleFinancialPriceSeriesRule.prototype.e = function (a, b) {\n    var e_1, _a;\n\n    try {\n      for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var c = _c.value;\n\n        if (a.contains(c)) {\n          a.remove(c);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  SimpleFinancialPriceSeriesRule.d = function (a, b) {\n    var c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 17));\n\n    if (c.length > 0) {\n      return c[0];\n    }\n\n    return function (d) {\n      return d != null ? d : a.analyzer.getFirstDateTimeProperty();\n    }(a.analyzer.getFirstDistinctDateTimeProperty(b));\n  };\n\n  SimpleFinancialPriceSeriesRule.b = function (a, b) {\n    var c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 17));\n\n    if (c.length > 0) {\n      return c[0];\n    }\n\n    c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 16));\n\n    if (c.length > 0) {\n      return c[0];\n    }\n\n    return function (d) {\n      return d != null ? d : function (e) {\n        return e != null ? e : function (f) {\n          return f != null ? f : a.analyzer.getFirstStringProperty();\n        }(a.analyzer.getFirstDistinctMonotonicNumericProperty(b));\n      }(a.analyzer.getFirstDistinctStringProperty(b));\n    }(a.analyzer.getFirstDistinctDateTimeProperty(b));\n  };\n\n  SimpleFinancialPriceSeriesRule.prototype.evaluate = function (a) {\n    var e_2, _a;\n\n    var b = SimpleFinancialPriceSeriesRule.d(a, this.distinctCheckThreshold);\n    var c = SimpleFinancialPriceSeriesRule.b(a, this.distinctCheckThreshold);\n    var d = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 11)));\n    var e = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 12)));\n    var f = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 13)));\n    var g = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 14)));\n    var h = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, 15)));\n    var i = Math.min(d.count, Math.min(e.count, Math.min(f.count, g.count)));\n\n    if (i == 0) {\n      var j = new List$1(String_$type, 1, a.analyzer.getAllNumericProperties());\n\n      try {\n        for (var _b = __values(fromEnum(j)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var k = _c.value;\n\n          if (Base.equalsStatic(k.toLowerCase(), \"open\")) {\n            d.add(k);\n            continue;\n          }\n\n          if (Base.equalsStatic(k.toLowerCase(), \"high\")) {\n            e.add(k);\n            continue;\n          }\n\n          if (Base.equalsStatic(k.toLowerCase(), \"low\")) {\n            f.add(k);\n            continue;\n          }\n\n          if (Base.equalsStatic(k.toLowerCase(), \"close\")) {\n            g.add(k);\n            continue;\n          }\n\n          if (Base.equalsStatic(k.toLowerCase(), \"volume\")) {\n            h.add(k);\n            continue;\n          }\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      this.e(j, d);\n      this.e(j, e);\n      this.e(j, f);\n      this.e(j, g);\n      this.e(j, h);\n      var l = d.count + e.count + f.count + g.count + j.count;\n\n      if (l == 0) {\n        return;\n      }\n\n      i = l <= 4 ? 1 : truncate(Math.floor(l / 5));\n      var m = [d, e, f, g, h];\n      var n = 0;\n\n      while (j.count > 0) {\n        m[n++ % m.length].add(j._inner[0]);\n        j.removeAt(0);\n      }\n    }\n\n    var o = this.c(a.getCurrentDataSource());\n\n    var _loop_1 = function (p) {\n      a.pushParentTitle(i == 1 ? o : o + (p + 1));\n      var q = d.count > p ? d._inner[p] : null;\n      var r = e.count > p ? e._inner[p] : null;\n      var s = f.count > p ? f._inner[p] : null;\n      var t = g.count > p ? g._inner[p] : null;\n\n      var u = function () {\n        var $ret = new DataSeries();\n        $ret.name = stringJoin.apply(void 0, __spreadArray([\"_\"], __read([q, r, s, t]), false));\n        $ret.title = a.analyzer.getTitleString(null, [q, r, s, t]);\n        $ret.suggestedSeries = 20;\n        $ret.suggestedPrimaryAxis = 0;\n        $ret.suggestedSecondaryAxis = 1;\n        return $ret;\n      }();\n\n      u.addMemberPathHint(function () {\n        var $ret = new DataSeriesMemberPathHint();\n        $ret.intent = 11;\n        $ret.path = q;\n        return $ret;\n      }());\n      u.addMemberPathHint(function () {\n        var $ret = new DataSeriesMemberPathHint();\n        $ret.intent = 12;\n        $ret.path = r;\n        return $ret;\n      }());\n      u.addMemberPathHint(function () {\n        var $ret = new DataSeriesMemberPathHint();\n        $ret.intent = 13;\n        $ret.path = s;\n        return $ret;\n      }());\n      u.addMemberPathHint(function () {\n        var $ret = new DataSeriesMemberPathHint();\n        $ret.intent = 14;\n        $ret.path = t;\n        return $ret;\n      }());\n\n      if (h.count > p) {\n        u.addMemberPathHint(function () {\n          var $ret = new DataSeriesMemberPathHint();\n          $ret.intent = 15;\n          $ret.path = h._inner[p];\n          return $ret;\n        }());\n      }\n\n      if (b != null) {\n        u.addMemberPathHint(function () {\n          var $ret = new DataSeriesMemberPathHint();\n          $ret.intent = 17;\n          $ret.path = b;\n          return $ret;\n        }());\n      }\n\n      u.addMemberPathHint(function () {\n        var $ret = new DataSeriesMemberPathHint();\n        $ret.intent = 16;\n        $ret.path = c;\n        return $ret;\n      }());\n      a.addDataSeries(u, this_1);\n      a.popParentTitle();\n    };\n\n    var this_1 = this;\n\n    for (var p = 0; p < i; p++) {\n      _loop_1(p);\n    }\n  };\n\n  SimpleFinancialPriceSeriesRule.prototype.c = function (a) {\n    var b = a == null ? null : a.dataSource;\n\n    if (b == null) {\n      return null;\n    }\n\n    var c = typeof b.title === 'function';\n    return c ? b.title() : b.title ? b.title : null;\n  };\n\n  SimpleFinancialPriceSeriesRule.$t = markType(SimpleFinancialPriceSeriesRule, 'SimpleFinancialPriceSeriesRule', Base.$, [IDataSeriesAdapterRule_$type]);\n  return SimpleFinancialPriceSeriesRule;\n}(Base);\n\nexport { SimpleFinancialPriceSeriesRule };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/SimpleFinancialPriceSeriesRule.js"],"names":["__extends","__read","__spreadArray","__values","Base","fromEnum","EnumUtil","String_$type","markType","IDataSeriesAdapterRule_$type","List$1","DataSeriesIntent_$type","DataSeries","DataSeriesMemberPathHint","truncate","stringJoin","SimpleFinancialPriceSeriesRule","_super","_this","call","_priority","_distinctCheckThreshold","priority","distinctCheckThreshold","Object","defineProperty","prototype","get","set","a","enumerable","configurable","e","b","e_1","_a","_b","_c","next","done","c","value","contains","remove","e_1_1","error","return","d","analyzer","getAllPropertiesWithIntent","getName","length","getFirstDateTimeProperty","getFirstDistinctDateTimeProperty","f","getFirstStringProperty","getFirstDistinctMonotonicNumericProperty","getFirstDistinctStringProperty","evaluate","e_2","g","h","i","Math","min","count","j","getAllNumericProperties","k","equalsStatic","toLowerCase","add","e_2_1","l","floor","m","n","_inner","removeAt","o","getCurrentDataSource","_loop_1","p","pushParentTitle","q","r","s","t","u","$ret","name","apply","title","getTitleString","suggestedSeries","suggestedPrimaryAxis","suggestedSecondaryAxis","addMemberPathHint","intent","path","addDataSeries","this_1","popParentTitle","dataSource","$t","$"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __read, __spreadArray, __values } from \"tslib\";\nimport { Base, fromEnum, EnumUtil, String_$type, markType } from \"./type\";\nimport { IDataSeriesAdapterRule_$type } from \"./IDataSeriesAdapterRule\";\nimport { List$1 } from \"./List$1\";\nimport { DataSeriesIntent_$type } from \"./DataSeriesIntent\";\nimport { DataSeries } from \"./DataSeries\";\nimport { DataSeriesMemberPathHint } from \"./DataSeriesMemberPathHint\";\nimport { truncate } from \"./number\";\nimport { stringJoin } from \"./string\";\n/**\n * @hidden\n */\nvar SimpleFinancialPriceSeriesRule = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(SimpleFinancialPriceSeriesRule, _super);\n    function SimpleFinancialPriceSeriesRule() {\n        var _this = _super.call(this) || this;\n        _this._priority = 0;\n        _this._distinctCheckThreshold = 0;\n        _this.priority = 10;\n        _this.distinctCheckThreshold = 50000;\n        return _this;\n    }\n    Object.defineProperty(SimpleFinancialPriceSeriesRule.prototype, \"priority\", {\n        get: function () {\n            return this._priority;\n        },\n        set: function (a) {\n            this._priority = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SimpleFinancialPriceSeriesRule.prototype, \"distinctCheckThreshold\", {\n        get: function () {\n            return this._distinctCheckThreshold;\n        },\n        set: function (a) {\n            this._distinctCheckThreshold = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SimpleFinancialPriceSeriesRule.prototype.e = function (a, b) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var c = _c.value;\n                if (a.contains(c)) {\n                    a.remove(c);\n                }\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n    };\n    SimpleFinancialPriceSeriesRule.d = function (a, b) {\n        var c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (17)));\n        if (c.length > 0) {\n            return c[0];\n        }\n        return ((function (d) { return d != null ? d : a.analyzer.getFirstDateTimeProperty(); })(a.analyzer.getFirstDistinctDateTimeProperty(b)));\n    };\n    SimpleFinancialPriceSeriesRule.b = function (a, b) {\n        var c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (17)));\n        if (c.length > 0) {\n            return c[0];\n        }\n        c = a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (16)));\n        if (c.length > 0) {\n            return c[0];\n        }\n        return ((function (d) { return d != null ? d : ((function (e) { return e != null ? e : ((function (f) { return f != null ? f : a.analyzer.getFirstStringProperty(); })(a.analyzer.getFirstDistinctMonotonicNumericProperty(b))); })(a.analyzer.getFirstDistinctStringProperty(b))); })(a.analyzer.getFirstDistinctDateTimeProperty(b)));\n    };\n    SimpleFinancialPriceSeriesRule.prototype.evaluate = function (a) {\n        var e_2, _a;\n        var b = SimpleFinancialPriceSeriesRule.d(a, this.distinctCheckThreshold);\n        var c = SimpleFinancialPriceSeriesRule.b(a, this.distinctCheckThreshold);\n        var d = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (11))));\n        var e = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (12))));\n        var f = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (13))));\n        var g = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (14))));\n        var h = new List$1(String_$type, 1, a.analyzer.getAllPropertiesWithIntent(EnumUtil.getName(DataSeriesIntent_$type, (15))));\n        var i = Math.min(d.count, Math.min(e.count, Math.min(f.count, g.count)));\n        if (i == 0) {\n            var j = new List$1(String_$type, 1, a.analyzer.getAllNumericProperties());\n            try {\n                for (var _b = __values(fromEnum(j)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var k = _c.value;\n                    if (Base.equalsStatic(k.toLowerCase(), \"open\")) {\n                        d.add(k);\n                        continue;\n                    }\n                    if (Base.equalsStatic(k.toLowerCase(), \"high\")) {\n                        e.add(k);\n                        continue;\n                    }\n                    if (Base.equalsStatic(k.toLowerCase(), \"low\")) {\n                        f.add(k);\n                        continue;\n                    }\n                    if (Base.equalsStatic(k.toLowerCase(), \"close\")) {\n                        g.add(k);\n                        continue;\n                    }\n                    if (Base.equalsStatic(k.toLowerCase(), \"volume\")) {\n                        h.add(k);\n                        continue;\n                    }\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n            this.e(j, d);\n            this.e(j, e);\n            this.e(j, f);\n            this.e(j, g);\n            this.e(j, h);\n            var l = d.count + e.count + f.count + g.count + j.count;\n            if (l == 0) {\n                return;\n            }\n            i = l <= 4 ? 1 : truncate(Math.floor(l / 5));\n            var m = [d, e, f, g, h];\n            var n = 0;\n            while (j.count > 0) {\n                m[n++ % m.length].add(j._inner[0]);\n                j.removeAt(0);\n            }\n        }\n        var o = this.c(a.getCurrentDataSource());\n        var _loop_1 = function (p) {\n            a.pushParentTitle(i == 1 ? o : o + (p + 1));\n            var q = d.count > p ? d._inner[p] : null;\n            var r = e.count > p ? e._inner[p] : null;\n            var s = f.count > p ? f._inner[p] : null;\n            var t = g.count > p ? g._inner[p] : null;\n            var u = ((function () {\n                var $ret = new DataSeries();\n                $ret.name = stringJoin.apply(void 0, __spreadArray([\"_\"], __read([q, r, s, t]), false));\n                $ret.title = a.analyzer.getTitleString(null, [q, r, s, t]);\n                $ret.suggestedSeries = 20;\n                $ret.suggestedPrimaryAxis = 0;\n                $ret.suggestedSecondaryAxis = 1;\n                return $ret;\n            })());\n            u.addMemberPathHint(((function () {\n                var $ret = new DataSeriesMemberPathHint();\n                $ret.intent = 11;\n                $ret.path = q;\n                return $ret;\n            })()));\n            u.addMemberPathHint(((function () {\n                var $ret = new DataSeriesMemberPathHint();\n                $ret.intent = 12;\n                $ret.path = r;\n                return $ret;\n            })()));\n            u.addMemberPathHint(((function () {\n                var $ret = new DataSeriesMemberPathHint();\n                $ret.intent = 13;\n                $ret.path = s;\n                return $ret;\n            })()));\n            u.addMemberPathHint(((function () {\n                var $ret = new DataSeriesMemberPathHint();\n                $ret.intent = 14;\n                $ret.path = t;\n                return $ret;\n            })()));\n            if (h.count > p) {\n                u.addMemberPathHint(((function () {\n                    var $ret = new DataSeriesMemberPathHint();\n                    $ret.intent = 15;\n                    $ret.path = h._inner[p];\n                    return $ret;\n                })()));\n            }\n            if (b != null) {\n                u.addMemberPathHint(((function () {\n                    var $ret = new DataSeriesMemberPathHint();\n                    $ret.intent = 17;\n                    $ret.path = b;\n                    return $ret;\n                })()));\n            }\n            u.addMemberPathHint(((function () {\n                var $ret = new DataSeriesMemberPathHint();\n                $ret.intent = 16;\n                $ret.path = c;\n                return $ret;\n            })()));\n            a.addDataSeries(u, this_1);\n            a.popParentTitle();\n        };\n        var this_1 = this;\n        for (var p = 0; p < i; p++) {\n            _loop_1(p);\n        }\n    };\n    SimpleFinancialPriceSeriesRule.prototype.c = function (a) {\n        var b = a == null ? null : a.dataSource;\n        if (b == null) {\n            return null;\n        }\n        var c = (typeof b.title === 'function');\n        return c ? (b.title()) : (b.title) ? (b.title) : null;\n    };\n    SimpleFinancialPriceSeriesRule.$t = markType(SimpleFinancialPriceSeriesRule, 'SimpleFinancialPriceSeriesRule', Base.$, [IDataSeriesAdapterRule_$type]);\n    return SimpleFinancialPriceSeriesRule;\n}(Base));\nexport { SimpleFinancialPriceSeriesRule };\n"]},"metadata":{},"sourceType":"module"}