{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { ItemTooltipLayerFrame } from \"./ItemTooltipLayerFrame\";\nimport { Base, String_$type, fromEnum, Point_$type, markType, markDep, runOn, typeCast } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ItemTooltipCollisionInfo } from \"./ItemTooltipCollisionInfo\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\nimport { DomWrapper_$type } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar ItemToolTipLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ItemToolTipLayer, _super);\n\n  function ItemToolTipLayer() {\n    var _this = _super.call(this) || this;\n\n    var a = new ItemTooltipLayerFrame();\n    var b = new ItemTooltipLayerFrame();\n    var c = new ItemTooltipLayerFrame();\n    var d = _this.hm / 1000;\n    _this.p6 = a;\n    _this.p5 = b;\n    _this.p7 = c;\n    _this.ab = ItemToolTipLayer.$;\n    return _this;\n  }\n\n  ItemToolTipLayer.prototype.get_db = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.bx = function () {\n    return new ItemToolTipLayerView(this);\n  };\n\n  ItemToolTipLayer.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.q8 = a;\n  };\n\n  ItemToolTipLayer.prototype.get_dk = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.l4 = function (a, b, c, d) {\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case ItemToolTipLayer.$$p[1]:\n      case ItemToolTipLayer.$$p[2]:\n        this.mi(true);\n        break;\n\n      case ItemToolTipLayer.$$p[3]:\n        this.mi(true);\n        break;\n\n      case ItemToolTipLayer.$$p[0]:\n        this.mi(true);\n        break;\n\n      case \"SeriesViewer\":\n        this.q8.cg();\n        break;\n    }\n  };\n\n  ItemToolTipLayer.prototype.qp = function (a, b) {\n    if (this.q9 == null || this.q9 == a) {\n      if (!this.as.c) {\n        this.mi(b);\n      }\n    }\n  };\n\n  ItemToolTipLayer.prototype.qc = function (a) {\n    if (!_super.prototype.qc.call(this, a)) {\n      return false;\n    }\n\n    if (this.rf != null) {\n      if (a.du) {\n        var b = a.jp();\n\n        if (!Base.equalsStatic(this.rf, b)) {\n          return false;\n        }\n      } else {\n        if (!Base.equalsStatic(this.rf, a.name)) {\n          return false;\n        }\n      }\n    }\n\n    var c = this.qk(a);\n\n    if (!c.c) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.qr = function (a, b) {\n    var e_1, _a;\n\n    var _this = this;\n\n    _super.prototype.qr.call(this, a, b);\n\n    var c = a;\n    var d = this.q8.b5;\n    var e = this.rc;\n    var f = this.rb;\n    c.o.clear();\n    c.i.clear();\n    c.n.clear();\n    c.g.clear();\n    c.f.clear();\n    c.l.clear();\n    c.j.clear();\n    c.m.clear();\n    c.k.clear();\n    c.h.clear();\n\n    if (isNaN_(this.q5.x) && isNaN_(this.q5.y)) {\n      d.count = 0;\n      return;\n    }\n\n    var g = 0;\n\n    if (this.qc(this.q9)) {\n      this.rk(this.q9, c, e, f, 0);\n      g++;\n    } else {\n      try {\n        for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var h = _c.value;\n\n          if (this.qc(h)) {\n            this.rk(h, c, e, f, g);\n            g++;\n          }\n\n          if (h.isStacked) {\n            h.la(function (i) {\n              if (_this.qc(i)) {\n                _this.rk(i, c, e, f, g);\n\n                g++;\n              }\n\n              return true;\n            });\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      this.rj(c);\n    }\n\n    d.count = g;\n  };\n\n  ItemToolTipLayer.prototype.rj = function (a) {\n    var b = new List$1(ItemTooltipCollisionInfo.$, 0);\n\n    for (var c = 0; c < a.f.count; c++) {\n      var d = new ItemTooltipCollisionInfo();\n      d.d = c;\n      d.e = {\n        $type: Point_$type,\n        x: a.f._inner[c],\n        y: a.g._inner[c]\n      };\n      d.c = a.m._inner[c];\n      d.a = a.k._inner[c];\n      d.b = a.o._inner[c];\n\n      if (isNaN_(d.e.x) || isNaN_(d.e.y)) {\n        continue;\n      }\n\n      b.add(d);\n    }\n\n    b.aa(function (e, f) {\n      if (e.e.y < f.e.y) {\n        return -1;\n      }\n\n      if (e.e.y > f.e.y) {\n        return 1;\n      }\n\n      if (e.b < f.b) {\n        return -1;\n      }\n\n      if (e.b > f.b) {\n        return 1;\n      }\n\n      return 0;\n    });\n    var e = this.ra(b);\n\n    if (!e) {\n      return;\n    }\n\n    for (var f = 0; f < b.count - 1; f++) {\n      var g = b._inner[f];\n      var h = b._inner[f + 1];\n      var i = new Rect(0, g.e.x, g.e.y, g.c, g.a);\n      var j = new Rect(0, h.e.x, h.e.y, h.c, h.a);\n\n      if (i.intersectsWith(j) || i.top > j.bottom) {\n        h.e = {\n          $type: Point_$type,\n          x: h.e.x,\n          y: i.bottom + 1\n        };\n      }\n    }\n\n    if (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a > this.b0.bu.height) {\n      b._inner[b.count - 1].e = {\n        $type: Point_$type,\n        x: b._inner[b.count - 1].e.x,\n        y: b._inner[b.count - 1].e.y - (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a - this.b0.bu.height)\n      };\n    }\n\n    for (var k = b.count - 1; k >= 1; k--) {\n      var l = b._inner[k];\n      var m = b._inner[k - 1];\n      var n = new Rect(0, l.e.x, l.e.y, l.c, l.a);\n      var o = new Rect(0, m.e.x, m.e.y, m.c, m.a);\n\n      if (n.intersectsWith(o) || n.top < o.bottom) {\n        m.e = {\n          $type: Point_$type,\n          x: m.e.x,\n          y: n.top - (o.height + 1)\n        };\n      }\n    }\n\n    for (var p = 0; p < b.count; p++) {\n      var q = b._inner[p].d;\n      var r = b._inner[p];\n      a.f._inner[q] = r.e.x;\n      a.g._inner[q] = r.e.y;\n    }\n  };\n\n  ItemToolTipLayer.prototype.ra = function (a) {\n    if (a.count <= 1) {\n      return false;\n    }\n\n    var b = this.b0.bu;\n\n    for (var c = 0; c < a.count - 1; c++) {\n      var d = a._inner[c];\n      var e = a._inner[c + 1];\n      var f = new Rect(0, d.e.x, d.e.y, d.c, d.a);\n      var g = new Rect(0, e.e.x, e.e.y, e.c, e.a);\n\n      if (f.intersectsWith(g)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  ItemToolTipLayer.prototype.rk = function (a, b, c, d, e) {\n    var f = this.qk(a);\n\n    if (!f.c) {\n      return;\n    }\n\n    var g = a.pm(f.d, c, d);\n    var h = this.q8.b5;\n    var i = this.rd(a);\n    var j = this.q5;\n\n    if (!c) {\n      j = this.pp(g);\n    }\n\n    var k = a.ht(j);\n    var l = h.item(e);\n    var m = this.b0.bu;\n    var n = null;\n\n    if (a.dl && k != null) {\n      n = a.au(k);\n    } else {\n      n = new DataContext();\n      n.item = k;\n      n.series = a;\n    }\n\n    if (!this.q8.b6(a, l, i, n)) {\n      return;\n    }\n\n    var o = this.q8.ch(l, i, n);\n    b.i.add1(l);\n    b.j.add1(n);\n    b.l.add1(i);\n    var p = g.x;\n    var q = g.x;\n    q = Math.max(q, m.left);\n    q = Math.min(q, m.right);\n    b.n.add(q);\n    var r = g.y;\n    r = Math.max(r, m.top);\n    r = Math.min(r, m.bottom);\n    b.o.add(r);\n    var s = DeviceUtils.g(10);\n    var t = g.x + s;\n\n    if (t + o.width > m.right) {\n      t = p - o.width - s;\n    }\n\n    if (t < m.left) {\n      t = m.left;\n    }\n\n    b.f.add(t);\n    var u = g.y - o.height - s;\n\n    if (u + o.height > m.bottom) {\n      u = m.bottom - o.height - s;\n    }\n\n    if (u < m.top) {\n      u = m.top;\n    }\n\n    b.g.add(u);\n    b.m.add(o.width);\n    b.k.add(o.height);\n    var v = this.oz;\n\n    if (v == null) {\n      v = this.o3;\n    }\n\n    if (v == null) {\n      v = a.oz;\n    }\n\n    b.h.add(v);\n  };\n\n  ItemToolTipLayer.prototype.rd = function (a) {\n    return a.toolTip;\n  };\n\n  ItemToolTipLayer.prototype.ld = function () {\n    this.q5 = {\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    };\n    this.mi(false);\n    this.q8.ce(false);\n  };\n\n  ItemToolTipLayer.prototype.le = function () {\n    this.q5 = {\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    };\n    this.mi(false);\n    this.q8.ce(true);\n  };\n\n  ItemToolTipLayer.prototype.qu = function (a, b) {\n    _super.prototype.qu.call(this, a, b);\n\n    var c = a;\n    var d = c.o.count;\n    var e = b.bu.left;\n    var f = b.bu.right;\n    var g = b.bu.top;\n    var h = b.bu.bottom;\n\n    for (var i = 0; i < d; i++) {\n      if (isNaN_(c.n._inner[i]) || isNaN_(c.o._inner[i]) || isNaN_(c.f._inner[i]) || isNaN_(c.g._inner[i]) || c.l._inner[i] == null || c.j._inner[i] == null) {\n        this.q8.cd(c.i._inner[i]);\n        continue;\n      }\n\n      var j = c.f._inner[i];\n      var k = c.g._inner[i];\n      var l = c.m._inner[i];\n      var m = c.k._inner[i];\n      var n = false;\n\n      if (j < e && Math.abs(j - e) > 1) {\n        n = true;\n      }\n\n      if (k < g && Math.abs(k - g) > 1) {\n        n = true;\n      }\n\n      if (j + l > f && Math.abs(j + l - f) > 1) {\n        n = true;\n      }\n\n      if (k + m > h && Math.abs(k + m - h) > 1) {\n        n = true;\n      }\n\n      if (n) {\n        this.q8.cd(c.i._inner[i]);\n        continue;\n      }\n\n      var o = c.i._inner[i];\n      var p = Math.min(c.f._inner[i], c.n._inner[i]);\n      var q = Math.min(c.g._inner[i], c.o._inner[i]);\n      var r = c.n._inner[i] - c.f._inner[i];\n      var s = c.o._inner[i] - c.g._inner[i];\n      this.q8.cf(o, p, q, r, s);\n    }\n  };\n\n  ItemToolTipLayer.prototype.em = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.$t = markType(ItemToolTipLayer, 'ItemToolTipLayer', AnnotationLayer.$);\n  ItemToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, ItemToolTipLayer, 'raisePropertyChanged', ['SkipUnknownValues:rb:rl', [0, true], 'TargetSeriesName:rf:rm', [2, null], 'TargetSeries:q9:rn', [Series.$, null], 'UseInterpolation:rc:ro', [0, false]]);\n  return ItemToolTipLayer;\n}(AnnotationLayer);\n\nexport { ItemToolTipLayer };\n/**\n * @hidden\n */\n\nvar ItemToolTipLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ItemToolTipLayerView, _super);\n\n  function ItemToolTipLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b4 = null;\n    _this.b5 = null;\n    _this.b7 = null;\n    _this._htmlTest = null;\n    _this.b4 = a;\n    _this.b7 = new List$1(PointerTooltip.$, 0);\n    return _this;\n  }\n\n  ItemToolTipLayerView.prototype.as = function () {\n    var _this = this;\n\n    _super.prototype.as.call(this);\n\n    this.b5 = function () {\n      var $ret = new Pool$1(Base.$);\n      $ret.create = runOn(_this, _this.b8);\n      $ret.activate = runOn(_this, _this.ca);\n      $ret.disactivate = runOn(_this, _this.cc);\n      $ret.destroy = runOn(_this, _this.cb);\n      return $ret;\n    }();\n\n    this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n  };\n\n  ItemToolTipLayerView.prototype.aj = function () {\n    _super.prototype.aj.call(this);\n\n    for (var a = 0; a < this.b5.a.count; a++) {\n      this.b5.a._inner[a].br();\n    }\n\n    for (var b = 0; b < this.b5.b.count; b++) {\n      this.b5.b._inner[b].br();\n    }\n\n    this.b5.clear();\n  };\n\n  ItemToolTipLayerView.prototype.b8 = function () {\n    var a = new PointerTooltip();\n    a.bw(this.e.g9);\n    a._visibility = 1;\n    a.ap = this.e.cd.cq.k;\n    this.b7.add(a);\n    return a;\n  };\n\n  ItemToolTipLayerView.prototype.ca = function (a) {\n    var b = a;\n  };\n\n  ItemToolTipLayerView.prototype.cc = function (a) {\n    var b = a;\n    b._visibility = 1;\n  };\n\n  ItemToolTipLayerView.prototype.cb = function (a) {\n    var b = a;\n    b.bz();\n    b.content = null;\n    this.b7.remove1(a);\n  };\n\n  Object.defineProperty(ItemToolTipLayerView.prototype, \"htmlTest\", {\n    get: function () {\n      return this._htmlTest;\n    },\n    set: function (a) {\n      this._htmlTest = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ItemToolTipLayerView.prototype.b6 = function (a, b, c, d) {\n    var e = b;\n\n    if (a.h2 == \"default\") {\n      a.h2 = a.b0.getDefaultTooltipTemplate();\n    }\n\n    var template_ = a.h2;\n    var context_ = d;\n\n    if (a.toolTip == null) {\n      return false;\n    }\n\n    var tooltip_ = a.toolTip;\n\n    if (tooltip_.updateToolTip) {\n      tooltip_._inPointer = true;\n      tooltip_.updateToolTip(context_, true);\n      tooltip_.setStyleProperty('position', 'relative');\n      tooltip_.setStyleProperty('left', '');\n      tooltip_.setStyleProperty('top', '');\n    }\n\n    e.content = a.toolTip;\n    return true;\n  };\n\n  ItemToolTipLayerView.prototype.ch = function (a, b, c) {\n    var d = a;\n    var e = d.content;\n    var f = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n    d.cy = 1;\n    var g = d.cx(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n    d.cy = 0;\n    return g;\n  };\n\n  ItemToolTipLayerView.prototype.cf = function (a, b, c, d, e) {\n    var f = null;\n\n    if (this.e.cd != null) {\n      f = this.e.cd.cq.j.i();\n    }\n\n    var g = a;\n    g.aq = f;\n    var h = g.content;\n    g.cs = {\n      $type: Point_$type,\n      x: d,\n      y: e\n    };\n    g._visibility = 0;\n    g.n = b;\n    g.o = c;\n  };\n\n  ItemToolTipLayerView.prototype.cd = function (a) {\n    if (a != null) {\n      var b = a;\n      b._visibility = 1;\n    }\n  };\n\n  ItemToolTipLayerView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (b) {\n      return;\n    }\n\n    var c = 0;\n    var d = 0;\n    var e = this.e.cd;\n\n    if (e != null) {\n      var f = e.cq.j.b7();\n      c += f.x;\n      d += f.y;\n    }\n\n    for (var g = 0; g < this.b7.count; g++) {\n      this.b7._inner[g].by(this.b7._inner[g].n + c, this.b7._inner[g].o + d);\n    }\n  };\n\n  ItemToolTipLayerView.prototype.al = function (a) {\n    var e_2, _a;\n\n    _super.prototype.al.call(this, a);\n\n    try {\n      for (var _b = __values(fromEnum(this.b5.a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var tooltip_ = _c.value;\n\n        if (tooltip_._visibility != 0) {\n          continue;\n        }\n\n        var b = tooltip_;\n        var c = b.a5();\n        var d = b.n;\n        var e = b.o;\n        var f = new List$1(String_$type, 0);\n        var g = typeCast(DomWrapper_$type, b.content);\n\n        if (g != null) {\n          var h = g.getText();\n          f.add(h);\n        }\n\n        this.e.a8.addPointerTooltipData(a, c, d, e, f);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  ItemToolTipLayerView.prototype.ce = function (a) {\n    this.aq();\n\n    for (var b = 0; b < this.b7.count; b++) {\n      this.cd(this.b7._inner[b]);\n\n      if (a) {\n        this.b7._inner[b].bs();\n      }\n    }\n  };\n\n  ItemToolTipLayerView.prototype.cg = function () {\n    if (this.e.cd == null) {\n      this.ce(true);\n    }\n  };\n\n  ItemToolTipLayerView.$t = markType(ItemToolTipLayerView, 'ItemToolTipLayerView', AnnotationLayerView.$);\n  return ItemToolTipLayerView;\n}(AnnotationLayerView);\n\nexport { ItemToolTipLayerView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/ItemToolTipLayer_combined.js"],"names":["__extends","__values","AnnotationLayer","DependencyProperty","Series","ItemTooltipLayerFrame","Base","String_$type","fromEnum","Point_$type","markType","markDep","runOn","typeCast","Pool$1","List$1","ItemTooltipCollisionInfo","Rect","DataContext","Size","DeviceUtils","PropertyMetadata","isNaN_","AnnotationLayerView","PointerTooltip","DomWrapper_$type","ItemToolTipLayer","_super","_this","call","a","b","c","d","hm","p6","p5","p7","ab","$","prototype","get_db","bx","ItemToolTipLayerView","lz","q8","get_dk","l4","$$p","mi","cg","qp","q9","as","qc","rf","du","jp","equalsStatic","name","qk","qr","e_1","_a","b5","e","rc","f","rb","o","clear","i","n","g","l","j","m","k","h","q5","x","y","count","rk","_b","cd","series","_c","next","done","value","isStacked","la","e_1_1","error","return","rj","$type","_inner","add","aa","ra","intersectsWith","top","bottom","b0","bu","height","p","q","r","pm","rd","pp","ht","item","dl","au","b6","ch","add1","Math","max","left","min","right","s","t","width","u","v","oz","o3","toolTip","ld","NaN","ce","le","qu","abs","cf","em","$t","b4","b7","_htmlTest","$ret","create","b8","activate","ca","disactivate","cc","destroy","cb","htmlTest","aj","br","bw","g9","_visibility","ap","cq","bz","content","remove1","Object","defineProperty","get","set","enumerable","configurable","h2","getDefaultTooltipTemplate","template_","context_","tooltip_","updateToolTip","_inPointer","setStyleProperty","Number","POSITIVE_INFINITY","cy","cx","aq","cs","a6","by","al","e_2","a5","getText","a8","addPointerTooltipData","e_2_1","bs"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { ItemTooltipLayerFrame } from \"./ItemTooltipLayerFrame\";\nimport { Base, String_$type, fromEnum, Point_$type, markType, markDep, runOn, typeCast } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ItemTooltipCollisionInfo } from \"./ItemTooltipCollisionInfo\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\nimport { DomWrapper_$type } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar ItemToolTipLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ItemToolTipLayer, _super);\n    function ItemToolTipLayer() {\n        var _this = _super.call(this) || this;\n        var a = new ItemTooltipLayerFrame();\n        var b = new ItemTooltipLayerFrame();\n        var c = new ItemTooltipLayerFrame();\n        var d = _this.hm / 1000;\n        _this.p6 = a;\n        _this.p5 = b;\n        _this.p7 = c;\n        _this.ab = ItemToolTipLayer.$;\n        return _this;\n    }\n    ItemToolTipLayer.prototype.get_db = function () {\n        return true;\n    };\n    ItemToolTipLayer.prototype.bx = function () {\n        return new ItemToolTipLayerView(this);\n    };\n    ItemToolTipLayer.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.q8 = a;\n    };\n    ItemToolTipLayer.prototype.get_dk = function () {\n        return true;\n    };\n    ItemToolTipLayer.prototype.l4 = function (a, b, c, d) {\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case ItemToolTipLayer.$$p[1]:\n            case ItemToolTipLayer.$$p[2]:\n                this.mi(true);\n                break;\n            case ItemToolTipLayer.$$p[3]:\n                this.mi(true);\n                break;\n            case ItemToolTipLayer.$$p[0]:\n                this.mi(true);\n                break;\n            case \"SeriesViewer\":\n                this.q8.cg();\n                break;\n        }\n    };\n    ItemToolTipLayer.prototype.qp = function (a, b) {\n        if (this.q9 == null || this.q9 == a) {\n            if (!this.as.c) {\n                this.mi(b);\n            }\n        }\n    };\n    ItemToolTipLayer.prototype.qc = function (a) {\n        if (!_super.prototype.qc.call(this, a)) {\n            return false;\n        }\n        if (this.rf != null) {\n            if (a.du) {\n                var b = a.jp();\n                if (!Base.equalsStatic(this.rf, b)) {\n                    return false;\n                }\n            }\n            else {\n                if (!Base.equalsStatic(this.rf, a.name)) {\n                    return false;\n                }\n            }\n        }\n        var c = this.qk(a);\n        if (!c.c) {\n            return false;\n        }\n        return true;\n    };\n    ItemToolTipLayer.prototype.qr = function (a, b) {\n        var e_1, _a;\n        var _this = this;\n        _super.prototype.qr.call(this, a, b);\n        var c = a;\n        var d = this.q8.b5;\n        var e = this.rc;\n        var f = this.rb;\n        c.o.clear();\n        c.i.clear();\n        c.n.clear();\n        c.g.clear();\n        c.f.clear();\n        c.l.clear();\n        c.j.clear();\n        c.m.clear();\n        c.k.clear();\n        c.h.clear();\n        if (isNaN_(this.q5.x) && isNaN_(this.q5.y)) {\n            d.count = 0;\n            return;\n        }\n        var g = 0;\n        if (this.qc(this.q9)) {\n            this.rk(this.q9, c, e, f, 0);\n            g++;\n        }\n        else {\n            try {\n                for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var h = _c.value;\n                    if (this.qc(h)) {\n                        this.rk(h, c, e, f, g);\n                        g++;\n                    }\n                    if (h.isStacked) {\n                        h.la(function (i) {\n                            if (_this.qc(i)) {\n                                _this.rk(i, c, e, f, g);\n                                g++;\n                            }\n                            return true;\n                        });\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            this.rj(c);\n        }\n        d.count = g;\n    };\n    ItemToolTipLayer.prototype.rj = function (a) {\n        var b = new List$1(ItemTooltipCollisionInfo.$, 0);\n        for (var c = 0; c < a.f.count; c++) {\n            var d = new ItemTooltipCollisionInfo();\n            d.d = c;\n            d.e = { $type: Point_$type, x: a.f._inner[c], y: a.g._inner[c] };\n            d.c = a.m._inner[c];\n            d.a = a.k._inner[c];\n            d.b = a.o._inner[c];\n            if (isNaN_(d.e.x) || isNaN_(d.e.y)) {\n                continue;\n            }\n            b.add(d);\n        }\n        b.aa(function (e, f) {\n            if (e.e.y < f.e.y) {\n                return -1;\n            }\n            if (e.e.y > f.e.y) {\n                return 1;\n            }\n            if (e.b < f.b) {\n                return -1;\n            }\n            if (e.b > f.b) {\n                return 1;\n            }\n            return 0;\n        });\n        var e = this.ra(b);\n        if (!e) {\n            return;\n        }\n        for (var f = 0; f < b.count - 1; f++) {\n            var g = b._inner[f];\n            var h = b._inner[f + 1];\n            var i = new Rect(0, g.e.x, g.e.y, g.c, g.a);\n            var j = new Rect(0, h.e.x, h.e.y, h.c, h.a);\n            if (i.intersectsWith(j) || i.top > j.bottom) {\n                h.e = { $type: Point_$type, x: h.e.x, y: i.bottom + 1 };\n            }\n        }\n        if (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a > this.b0.bu.height) {\n            b._inner[b.count - 1].e = { $type: Point_$type, x: b._inner[b.count - 1].e.x, y: b._inner[b.count - 1].e.y - ((b._inner[b.count - 1].e.y + b._inner[b.count - 1].a) - this.b0.bu.height) };\n        }\n        for (var k = b.count - 1; k >= 1; k--) {\n            var l = b._inner[k];\n            var m = b._inner[k - 1];\n            var n = new Rect(0, l.e.x, l.e.y, l.c, l.a);\n            var o = new Rect(0, m.e.x, m.e.y, m.c, m.a);\n            if (n.intersectsWith(o) || n.top < o.bottom) {\n                m.e = { $type: Point_$type, x: m.e.x, y: n.top - (o.height + 1) };\n            }\n        }\n        for (var p = 0; p < b.count; p++) {\n            var q = b._inner[p].d;\n            var r = b._inner[p];\n            a.f._inner[q] = r.e.x;\n            a.g._inner[q] = r.e.y;\n        }\n    };\n    ItemToolTipLayer.prototype.ra = function (a) {\n        if (a.count <= 1) {\n            return false;\n        }\n        var b = this.b0.bu;\n        for (var c = 0; c < a.count - 1; c++) {\n            var d = a._inner[c];\n            var e = a._inner[c + 1];\n            var f = new Rect(0, d.e.x, d.e.y, d.c, d.a);\n            var g = new Rect(0, e.e.x, e.e.y, e.c, e.a);\n            if (f.intersectsWith(g)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ItemToolTipLayer.prototype.rk = function (a, b, c, d, e) {\n        var f = this.qk(a);\n        if (!f.c) {\n            return;\n        }\n        var g = a.pm(f.d, c, d);\n        var h = this.q8.b5;\n        var i = this.rd(a);\n        var j = this.q5;\n        if (!c) {\n            j = this.pp(g);\n        }\n        var k = a.ht(j);\n        var l = h.item(e);\n        var m = this.b0.bu;\n        var n = null;\n        if (a.dl && k != null) {\n            n = a.au(k);\n        }\n        else {\n            n = new DataContext();\n            n.item = k;\n            n.series = a;\n        }\n        if (!this.q8.b6(a, l, i, n)) {\n            return;\n        }\n        var o = this.q8.ch(l, i, n);\n        b.i.add1(l);\n        b.j.add1(n);\n        b.l.add1(i);\n        var p = g.x;\n        var q = g.x;\n        q = Math.max(q, m.left);\n        q = Math.min(q, m.right);\n        b.n.add(q);\n        var r = g.y;\n        r = Math.max(r, m.top);\n        r = Math.min(r, m.bottom);\n        b.o.add(r);\n        var s = DeviceUtils.g(10);\n        var t = g.x + s;\n        if (t + o.width > m.right) {\n            t = (p - o.width) - s;\n        }\n        if (t < m.left) {\n            t = m.left;\n        }\n        b.f.add(t);\n        var u = (g.y - o.height) - s;\n        if (u + o.height > m.bottom) {\n            u = (m.bottom - o.height) - s;\n        }\n        if (u < m.top) {\n            u = m.top;\n        }\n        b.g.add(u);\n        b.m.add(o.width);\n        b.k.add(o.height);\n        var v = this.oz;\n        if (v == null) {\n            v = this.o3;\n        }\n        if (v == null) {\n            v = a.oz;\n        }\n        b.h.add(v);\n    };\n    ItemToolTipLayer.prototype.rd = function (a) {\n        return a.toolTip;\n    };\n    ItemToolTipLayer.prototype.ld = function () {\n        this.q5 = { $type: Point_$type, x: NaN, y: NaN };\n        this.mi(false);\n        this.q8.ce(false);\n    };\n    ItemToolTipLayer.prototype.le = function () {\n        this.q5 = { $type: Point_$type, x: NaN, y: NaN };\n        this.mi(false);\n        this.q8.ce(true);\n    };\n    ItemToolTipLayer.prototype.qu = function (a, b) {\n        _super.prototype.qu.call(this, a, b);\n        var c = a;\n        var d = c.o.count;\n        var e = b.bu.left;\n        var f = b.bu.right;\n        var g = b.bu.top;\n        var h = b.bu.bottom;\n        for (var i = 0; i < d; i++) {\n            if (isNaN_(c.n._inner[i]) || isNaN_(c.o._inner[i]) || isNaN_(c.f._inner[i]) || isNaN_(c.g._inner[i]) || c.l._inner[i] == null || c.j._inner[i] == null) {\n                this.q8.cd(c.i._inner[i]);\n                continue;\n            }\n            var j = c.f._inner[i];\n            var k = c.g._inner[i];\n            var l = c.m._inner[i];\n            var m = c.k._inner[i];\n            var n = false;\n            if (j < e && Math.abs(j - e) > 1) {\n                n = true;\n            }\n            if (k < g && Math.abs(k - g) > 1) {\n                n = true;\n            }\n            if ((j + l) > f && Math.abs((j + l) - f) > 1) {\n                n = true;\n            }\n            if ((k + m) > h && Math.abs((k + m) - h) > 1) {\n                n = true;\n            }\n            if (n) {\n                this.q8.cd(c.i._inner[i]);\n                continue;\n            }\n            var o = c.i._inner[i];\n            var p = Math.min(c.f._inner[i], c.n._inner[i]);\n            var q = Math.min(c.g._inner[i], c.o._inner[i]);\n            var r = c.n._inner[i] - c.f._inner[i];\n            var s = c.o._inner[i] - c.g._inner[i];\n            this.q8.cf(o, p, q, r, s);\n        }\n    };\n    ItemToolTipLayer.prototype.em = function () {\n        return true;\n    };\n    ItemToolTipLayer.$t = markType(ItemToolTipLayer, 'ItemToolTipLayer', AnnotationLayer.$);\n    ItemToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, ItemToolTipLayer, 'raisePropertyChanged', ['SkipUnknownValues:rb:rl', [0, true], 'TargetSeriesName:rf:rm', [2, null], 'TargetSeries:q9:rn', [Series.$, null], 'UseInterpolation:rc:ro', [0, false]]);\n    return ItemToolTipLayer;\n}(AnnotationLayer));\nexport { ItemToolTipLayer };\n/**\n * @hidden\n */\nvar ItemToolTipLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ItemToolTipLayerView, _super);\n    function ItemToolTipLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b4 = null;\n        _this.b5 = null;\n        _this.b7 = null;\n        _this._htmlTest = null;\n        _this.b4 = a;\n        _this.b7 = new List$1(PointerTooltip.$, 0);\n        return _this;\n    }\n    ItemToolTipLayerView.prototype.as = function () {\n        var _this = this;\n        _super.prototype.as.call(this);\n        this.b5 = ((function () {\n            var $ret = new Pool$1(Base.$);\n            $ret.create = runOn(_this, _this.b8);\n            $ret.activate = runOn(_this, _this.ca);\n            $ret.disactivate = runOn(_this, _this.cc);\n            $ret.destroy = runOn(_this, _this.cb);\n            return $ret;\n        })());\n        this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n    };\n    ItemToolTipLayerView.prototype.aj = function () {\n        _super.prototype.aj.call(this);\n        for (var a = 0; a < this.b5.a.count; a++) {\n            this.b5.a._inner[a].br();\n        }\n        for (var b = 0; b < this.b5.b.count; b++) {\n            this.b5.b._inner[b].br();\n        }\n        this.b5.clear();\n    };\n    ItemToolTipLayerView.prototype.b8 = function () {\n        var a = new PointerTooltip();\n        a.bw(this.e.g9);\n        a._visibility = 1;\n        a.ap = this.e.cd.cq.k;\n        this.b7.add(a);\n        return a;\n    };\n    ItemToolTipLayerView.prototype.ca = function (a) {\n        var b = a;\n    };\n    ItemToolTipLayerView.prototype.cc = function (a) {\n        var b = a;\n        b._visibility = 1;\n    };\n    ItemToolTipLayerView.prototype.cb = function (a) {\n        var b = a;\n        b.bz();\n        b.content = null;\n        this.b7.remove1(a);\n    };\n    Object.defineProperty(ItemToolTipLayerView.prototype, \"htmlTest\", {\n        get: function () {\n            return this._htmlTest;\n        },\n        set: function (a) {\n            this._htmlTest = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ItemToolTipLayerView.prototype.b6 = function (a, b, c, d) {\n        var e = b;\n        if (a.h2 == \"default\") {\n            a.h2 = a.b0.getDefaultTooltipTemplate();\n        }\n        var template_ = a.h2;\n        var context_ = d;\n        if (a.toolTip == null) {\n            return false;\n        }\n        var tooltip_ = a.toolTip;\n        if ((tooltip_.updateToolTip)) {\n            tooltip_._inPointer = true;\n            tooltip_.updateToolTip(context_, true);\n            tooltip_.setStyleProperty('position', 'relative');\n            tooltip_.setStyleProperty('left', '');\n            tooltip_.setStyleProperty('top', '');\n        }\n        e.content = a.toolTip;\n        return true;\n    };\n    ItemToolTipLayerView.prototype.ch = function (a, b, c) {\n        var d = a;\n        var e = d.content;\n        var f = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n        d.cy = 1;\n        var g = d.cx(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n        d.cy = 0;\n        return g;\n    };\n    ItemToolTipLayerView.prototype.cf = function (a, b, c, d, e) {\n        var f = null;\n        if (this.e.cd != null) {\n            f = this.e.cd.cq.j.i();\n        }\n        var g = a;\n        g.aq = f;\n        var h = g.content;\n        g.cs = { $type: Point_$type, x: d, y: e };\n        g._visibility = 0;\n        g.n = b;\n        g.o = c;\n    };\n    ItemToolTipLayerView.prototype.cd = function (a) {\n        if (a != null) {\n            var b = a;\n            b._visibility = 1;\n        }\n    };\n    ItemToolTipLayerView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (b) {\n            return;\n        }\n        var c = 0;\n        var d = 0;\n        var e = this.e.cd;\n        if (e != null) {\n            var f = e.cq.j.b7();\n            c += f.x;\n            d += f.y;\n        }\n        for (var g = 0; g < this.b7.count; g++) {\n            this.b7._inner[g].by(this.b7._inner[g].n + c, this.b7._inner[g].o + d);\n        }\n    };\n    ItemToolTipLayerView.prototype.al = function (a) {\n        var e_2, _a;\n        _super.prototype.al.call(this, a);\n        try {\n            for (var _b = __values(fromEnum(this.b5.a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var tooltip_ = _c.value;\n                if (tooltip_._visibility != 0) {\n                    continue;\n                }\n                var b = tooltip_;\n                var c = b.a5();\n                var d = b.n;\n                var e = b.o;\n                var f = new List$1(String_$type, 0);\n                var g = typeCast(DomWrapper_$type, b.content);\n                if (g != null) {\n                    var h = g.getText();\n                    f.add(h);\n                }\n                this.e.a8.addPointerTooltipData(a, c, d, e, f);\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n    };\n    ItemToolTipLayerView.prototype.ce = function (a) {\n        this.aq();\n        for (var b = 0; b < this.b7.count; b++) {\n            this.cd(this.b7._inner[b]);\n            if (a) {\n                this.b7._inner[b].bs();\n            }\n        }\n    };\n    ItemToolTipLayerView.prototype.cg = function () {\n        if (this.e.cd == null) {\n            this.ce(true);\n        }\n    };\n    ItemToolTipLayerView.$t = markType(ItemToolTipLayerView, 'ItemToolTipLayerView', AnnotationLayerView.$);\n    return ItemToolTipLayerView;\n}(AnnotationLayerView));\nexport { ItemToolTipLayerView };\n"]},"metadata":{},"sourceType":"module"}