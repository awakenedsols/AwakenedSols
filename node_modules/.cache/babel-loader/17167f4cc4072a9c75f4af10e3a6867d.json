{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar HeatTileGenerator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HeatTileGenerator, _super);\n\n  function HeatTileGenerator() {\n    var _this = _super.call(this) || this;\n\n    _this.m = new HeatTileScaler();\n    _this.bz = new Rect(0, 0, 0, 256, 256);\n    _this.l = new HeatTileGeneratorWorkerManager();\n    _this.e = null;\n    _this.d = null;\n    _this.c = null;\n    _this.bw = new Color();\n    _this.bv = new Color();\n    _this.b = null;\n    _this.a = null;\n    _this.ac = 0;\n    _this.am = NaN;\n    _this.p = false;\n    _this.q = false;\n    _this.r = false;\n    _this.ao = NaN;\n    _this.an = NaN;\n    _this.al = 10;\n    _this.s = false;\n    _this.t = true;\n    _this.a0 = null;\n    _this.ax = null;\n    _this.ad = NaN;\n    _this.ag = NaN;\n    _this.aw = {};\n    _this.au = -1;\n    _this.ay = {};\n    _this.ak = 0;\n    _this.aj = 0;\n    _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n    _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n    _this.ah = 0;\n    _this.ai = 0;\n    _this.ae = 0;\n    _this.af = 0;\n    _this.n = false;\n    _this.ab = new List$1(Delegate_$type, 0);\n    _this.o = false;\n    _this.m = new HeatTileScaler();\n    return _this;\n  }\n\n  Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n    get: function () {\n      return this.e;\n    },\n    set: function (a) {\n      var b = this.e;\n      this.e = a;\n\n      if (this.e != b) {\n        this.br(\"YValues\", b, this.e);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n    get: function () {\n      return this.d;\n    },\n    set: function (a) {\n      var b = this.d;\n      this.d = a;\n\n      if (this.d != b) {\n        this.br(\"XValues\", b, this.d);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n    get: function () {\n      return this.c;\n    },\n    set: function (a) {\n      var b = this.c;\n      this.c = a;\n\n      if (this.c != b) {\n        this.br(\"Values\", b, this.c);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n    get: function () {\n      return this.bw;\n    },\n    set: function (a) {\n      var b = this.bw;\n      this.bw = a;\n\n      if (Color.d(this.bw, b)) {\n        this.br(\"MinimumColor\", b, this.bw);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n    get: function () {\n      return this.bv;\n    },\n    set: function (a) {\n      var b = this.bv;\n      this.bv = a;\n\n      if (Color.d(this.bv, b)) {\n        this.br(\"MaximumColor\", b, this.bv);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n    get: function () {\n      return this.b;\n    },\n    set: function (a) {\n      var b = this.b;\n      this.b = a;\n\n      if (this.b != b) {\n        this.br(\"ScaleColors\", b, this.b);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      var b = this.a;\n      this.a = a;\n\n      if (this.a != b) {\n        this.br(\"ScaleColorOffsets\", b, this.a);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n    get: function () {\n      return this.ac;\n    },\n    set: function (a) {\n      var b = this.ac;\n      this.ac = a;\n\n      if (this.ac != b) {\n        this.br(\"BlurRadius\", b, this.ac);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n    get: function () {\n      return this.am;\n    },\n    set: function (a) {\n      var b = this.am;\n      this.am = a;\n\n      if (this.am != b) {\n        this.br(\"MaxBlurRadius\", b, this.am);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n    get: function () {\n      return this.p;\n    },\n    set: function (a) {\n      var b = this.p;\n      this.p = a;\n\n      if (this.p != b) {\n        this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      var b = this.q;\n      this.q = a;\n\n      if (this.q != b) {\n        this.br(\"UseGlobalMinMax\", b, this.q);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n    get: function () {\n      return this.r;\n    },\n    set: function (a) {\n      var b = this.r;\n      this.r = a;\n\n      if (this.r != b) {\n        this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n    get: function () {\n      return this.ao;\n    },\n    set: function (a) {\n      var b = this.ao;\n      this.ao = a;\n\n      if (this.ao != b) {\n        this.br(\"MinimumValue\", b, this.ao);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n    get: function () {\n      return this.an;\n    },\n    set: function (a) {\n      var b = this.an;\n      this.an = a;\n\n      if (this.an != b) {\n        this.br(\"MaximumValue\", b, this.an);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n    get: function () {\n      return this.al;\n    },\n    set: function (a) {\n      var b = this.al;\n      this.al = a;\n\n      if (this.al != b) {\n        this.br(\"LogarithmBase\", b, this.al);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n    get: function () {\n      return this.s;\n    },\n    set: function (a) {\n      var b = this.s;\n      this.s = a;\n\n      if (this.s != b) {\n        this.br(\"UseLogarithmicScale\", b, this.s);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n    get: function () {\n      return this.t;\n    },\n    set: function (a) {\n      var b = this.t;\n      this.t = a;\n\n      if (this.t != b) {\n        this.br(\"UseWebWorkers\", b, this.t);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n    get: function () {\n      return this.a0;\n    },\n    set: function (a) {\n      var b = this.a0;\n      this.a0 = a;\n\n      if (this.a0 != b) {\n        this.br(\"WebWorkerScriptPath\", b, this.a0);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n    get: function () {\n      return this.ax;\n    },\n    set: function (a) {\n      var b = this.ax;\n      this.ax = a;\n\n      if (this.ax != b) {\n        this.br(\"WebWorkerInstance\", b, this.ax);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HeatTileGenerator.prototype.bo = function () {\n    this.e = null;\n    this.d = null;\n    this.c = null;\n    this.l.w();\n  };\n\n  HeatTileGenerator.prototype.br = function (a, b, c) {\n    this.bs(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bs = function (a, b, c) {\n    switch (a) {\n      case \"XValues\":\n      case \"YValues\":\n      case \"Values\":\n        this.bq();\n        break;\n\n      case \"UseWebWorkers\":\n        this.l.e = this.y;\n        break;\n\n      case \"WebWorkerScriptPath\":\n        this.l.p = this.bi;\n        break;\n\n      case \"WebWorkerInstance\":\n        this.l.n = this.az;\n        break;\n    }\n  };\n\n  HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n    this.getTile1(a, b, c, d, e, f, g, false);\n  };\n\n  HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n    var _this = this;\n\n    var i = NaN;\n    var j = NaN;\n\n    if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n      var k = false;\n\n      if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n        k = true;\n        this.n = true;\n      } else {\n        this.ab.add(function () {\n          return _this.bm(a, b, c, h, j, i, d, e, f, g);\n        });\n        return;\n      }\n\n      if (k) {\n        var l_1 = 1.7976931348623157E+308;\n        var m_1 = -1.7976931348623157E+308;\n        var n_1 = 0;\n        var o_1 = 0;\n        var p_1 = 0;\n        var q_1 = 0;\n        this.getTile1(0, 0, 0, function (r, s) {\n          var t = s;\n          l_1 = t.globalMinimumValue;\n          m_1 = t.globalMaximumValue;\n          n_1 = t.globalMinimumValueLongitude;\n          o_1 = t.globalMinimumValueLatitude;\n          p_1 = t.globalMaximumValueLongitude;\n          q_1 = t.globalMaximumValueLatitude;\n          var u = new Rect(0, 0, 0, 1, 1);\n          var v = _this.bz;\n          i = l_1;\n          j = m_1;\n          var w = new List$1(Delegate_$type, 0);\n          _this.ag = i;\n          _this.ad = j;\n          _this.ah = o_1;\n          _this.ai = n_1;\n          _this.ae = q_1;\n          _this.af = p_1;\n\n          for (var x = 0; x < _this.ab.count; x++) {\n            w.add(_this.ab._inner[x]);\n          }\n\n          _this.ab.clear();\n\n          _this.bm(a, b, c, h, j, i, d, e, f, g);\n\n          for (var y = 0; y < w.count; y++) {\n            w._inner[y]();\n          }\n        }, function (r, s) {}, function (r, s) {}, g, true);\n        return;\n      } else {\n        i = this.ag;\n        j = this.ad;\n      }\n    } else {\n      i = this.ag;\n      j = this.ad;\n    }\n\n    this.bm(a, b, c, h, j, i, d, e, f, g);\n  };\n\n  HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n    this.l.s(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n    var _this = this;\n\n    this.bn(a, b, c, d, i, function () {\n      if (_this.w && !d) {\n        if (a > 0 && _this.z.containsKey(a.toString())) {\n          var k = _this.z.item(a.toString());\n\n          e = k.c;\n          f = k.d;\n        }\n      }\n\n      var l = _this.b0(a, b, c);\n\n      var m = new TileWorkSettings();\n      m.window = l;\n      m.z = a;\n      m.x = b;\n      m.y = c;\n      m.globalMinimum = f;\n      m.globalMaximum = e;\n      m.useGlobalMinMax = _this.v;\n      m.minimumValue = _this.at;\n      m.maximumValue = _this.as;\n      m.useLogarithmicScale = _this.x;\n      m.logarithmBase = _this.aq;\n\n      if (m.logarithmBase <= 0) {\n        m.logarithmBase = 10;\n      }\n\n      m.tileViewport = _this.bz;\n      m.maximumColor = _this.bx;\n      m.minimumColor = _this.by;\n      m.scaler = _this.m;\n      m.values = _this.c;\n      m.blurRadius = _this.ap;\n\n      if (m.blurRadius <= 0) {\n        m.blurRadius = 1;\n      }\n\n      m.useBlurRadiusAdjustedForZoom = _this.u;\n      m.maxBlurRadius = _this.ar;\n\n      if (m.maxBlurRadius <= 0) {\n        m.maxBlurRadius = 1;\n      }\n\n      m.values = _this.i;\n      m.scaleColors = _this.scaleColors;\n      m.scaleColorOffsets = _this.g;\n      m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n      m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n      m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n      m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n      m.yValues = _this.e;\n      m.xValues = _this.d;\n\n      if (_this.c == null && _this.e != null) {\n        _this.c = new Array(_this.e.length);\n\n        for (var n = 0; n < _this.e.length; n++) {\n          _this.c[n] = 1;\n        }\n\n        m.values = _this.c;\n      }\n\n      if (!_this.o) {\n        _this.o = true;\n        m.isNewData = true;\n      }\n\n      m.image = j;\n      m.testRun = d;\n\n      _this.l.y(m, function (o, p) {\n        p.url = _this.a2(p.imageData);\n        p.imageData = _this.f(p.imageData);\n        g(_this, p);\n      }, h);\n    });\n  };\n\n  HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n    var g = false;\n    g = this.au != a;\n\n    if (!g || d) {\n      f();\n      return;\n    }\n\n    var h = false;\n    var i = false;\n\n    if (a != this.au) {\n      if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n        this.au = a;\n        e(this, function () {\n          var $ret = new TileImageZoomChangingEventArgs();\n          $ret.z = a;\n          $ret.x = b;\n          $ret.y = c;\n          return $ret;\n        }());\n        h = true;\n      } else if (this.z.containsKey(a.toString())) {\n        if (a > 0 && this.w) {\n          var j = void 0;\n\n          if (this.aa.containsKey(a.toString())) {\n            j = this.aa.item(a.toString());\n          } else {\n            j = new List$1(Delegate_$type, 0);\n            this.aa.addItem(a.toString(), j);\n          }\n\n          j.add(f);\n        }\n      } else {\n        if (a > 0 && this.w) {\n          this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n          i = true;\n        }\n      }\n    }\n\n    if (i) {\n      if (a > 0 && this.w) {\n        this.bt(a, f);\n      }\n    }\n\n    if (h) {\n      f();\n    }\n  };\n\n  HeatTileGenerator.prototype.a2 = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = document.createElement(\"canvas\");\n    b.setAttribute(\"width\", \"256\");\n    b.setAttribute(\"height\", \"256\");\n    var c = b.getContext(\"2d\");\n    var d = c.getImageData(0, 0, 256, 256);\n    var e = d.data;\n    var f = e.length / 4;\n\n    for (var g = 0; g < f; g++) {\n      var h = a[g * 4];\n      var i = a[g * 4 + 1];\n      var j = a[g * 4 + 2];\n      var k = a[g * 4 + 3];\n      e[g * 4] = i;\n      e[g * 4 + 1] = j;\n      e[g * 4 + 2] = k;\n      e[g * 4 + 3] = h;\n    }\n\n    c.putImageData(d, 0, 0);\n    var ele_ = b;\n    return ele_.toDataURL();\n  };\n\n  HeatTileGenerator.prototype.f = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    return a;\n  };\n\n  HeatTileGenerator.prototype.bt = function (a, b) {\n    var _this = this;\n\n    var c = 0;\n    var d = 0;\n    var e = 0;\n    var f = 0;\n    var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n    var h = new Rect(0, 0, 0, 1, 1);\n    var i = this.m.s(this.af, h, g);\n    var j = this.m.r(this.ae, h, g);\n    var k = this.m.s(this.ai, h, g);\n    var l = this.m.r(this.ah, h, g);\n    c = truncate(Math.floor(k / 256));\n    d = truncate(Math.floor(l / 256));\n    e = truncate(Math.floor(i / 256));\n    f = truncate(Math.floor(j / 256));\n    var m = 0;\n    var n = 0;\n    this.getTile1(a, c, d, function (o, p) {\n      var q = p;\n      m = q.globalMinimumValue;\n      n = q.globalMaximumValue;\n\n      if (e != c && f != d) {\n        _this.getTile1(a, e, f, function (r, s) {\n          var t = s;\n          n = t.globalMaximumValue;\n\n          _this.bu(a, n, m, b);\n        }, function (r, s) {}, function (r, s) {}, null, true);\n      } else {\n        _this.bu(a, n, m, b);\n      }\n    }, function (o, p) {}, function (o, p) {}, null, true);\n  };\n\n  HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n    if (b < this.aj) {\n      b = this.aj;\n    }\n\n    if (isNaN_(c) || c > this.ak) {\n      c = this.ak;\n    }\n\n    var e = new List$1(Delegate_$type, 0);\n    this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n\n    if (this.aa.containsKey(a.toString())) {\n      var f = this.aa.item(a.toString());\n\n      for (var g = 0; g < f.count; g++) {\n        e.add(f._inner[g]);\n      }\n    }\n\n    this.aa.removeItem(a.toString());\n    this.au = a;\n    d();\n\n    for (var h = 0; h < e.count; h++) {\n      e._inner[h]();\n    }\n  };\n\n  HeatTileGenerator.prototype.b0 = function (a, b, c) {\n    var d = truncate(Math.pow(2, a)) * 256;\n    var e = b * 256 / d;\n    var f = c * 256 / d;\n    var g = 256 / d;\n    var h = 256 / d;\n    return new Rect(0, e, f, g, h);\n  };\n\n  HeatTileGenerator.prototype.bq = function () {\n    var a = -1.7976931348623157E+308;\n    var b = 1.7976931348623157E+308;\n\n    if (this.c != null) {\n      for (var c = 0; c < this.c.length; c++) {\n        var d = this.c[c];\n        a = d > a ? d : a;\n        b = d < b ? d : b;\n      }\n    }\n\n    var e = this.ak = b * 0.01;\n    this.aj = a;\n    this.o = false;\n  };\n\n  HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n  return HeatTileGenerator;\n}(Base);\n\nexport { HeatTileGenerator };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/HeatTileGenerator.js"],"names":["__extends","Base","String_$type","Number_$type","Delegate_$type","markType","ITileGenerator_$type","Color","HeatTileScaler","Rect","HeatTileGeneratorWorkerManager","Dictionary$2","Tuple$2","List$1","TileImageZoomChangingEventArgs","TileWorkSettings","truncate","isNaN_","HeatTileGenerator","_super","_this","call","m","bz","l","e","d","c","bw","bv","b","a","ac","am","NaN","p","q","r","ao","an","al","s","t","a0","ax","ad","ag","aw","au","ay","ak","aj","z","$","specialize","aa","ah","ai","ae","af","n","ab","o","Object","defineProperty","prototype","get","set","br","enumerable","configurable","bo","w","bs","bq","y","bi","az","getTile","f","g","getTile1","h","i","j","v","k","add","bm","l_1","m_1","n_1","o_1","p_1","q_1","globalMinimumValue","globalMaximumValue","globalMinimumValueLongitude","globalMinimumValueLatitude","globalMaximumValueLongitude","globalMaximumValueLatitude","u","x","count","_inner","clear","cancelTile","bn","containsKey","toString","item","b0","window","globalMinimum","globalMaximum","useGlobalMinMax","minimumValue","at","maximumValue","as","useLogarithmicScale","logarithmBase","aq","tileViewport","maximumColor","bx","minimumColor","by","scaler","values","blurRadius","ap","useBlurRadiusAdjustedForZoom","maxBlurRadius","ar","scaleColors","scaleColorOffsets","minimumVisibleLatitude","maximumVisibleLatitude","minimumVisibleLongitude","maximumVisibleLongitude","yValues","xValues","Array","length","isNewData","image","testRun","url","a2","imageData","$ret","addItem","bt","document","createElement","setAttribute","getContext","getImageData","data","putImageData","ele_","toDataURL","Math","pow","floor","bu","removeItem","$t"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar HeatTileGenerator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HeatTileGenerator, _super);\n    function HeatTileGenerator() {\n        var _this = _super.call(this) || this;\n        _this.m = new HeatTileScaler();\n        _this.bz = new Rect(0, 0, 0, 256, 256);\n        _this.l = new HeatTileGeneratorWorkerManager();\n        _this.e = null;\n        _this.d = null;\n        _this.c = null;\n        _this.bw = new Color();\n        _this.bv = new Color();\n        _this.b = null;\n        _this.a = null;\n        _this.ac = 0;\n        _this.am = NaN;\n        _this.p = false;\n        _this.q = false;\n        _this.r = false;\n        _this.ao = NaN;\n        _this.an = NaN;\n        _this.al = 10;\n        _this.s = false;\n        _this.t = true;\n        _this.a0 = null;\n        _this.ax = null;\n        _this.ad = NaN;\n        _this.ag = NaN;\n        _this.aw = {};\n        _this.au = -1;\n        _this.ay = {};\n        _this.ak = 0;\n        _this.aj = 0;\n        _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n        _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n        _this.ah = 0;\n        _this.ai = 0;\n        _this.ae = 0;\n        _this.af = 0;\n        _this.n = false;\n        _this.ab = new List$1(Delegate_$type, 0);\n        _this.o = false;\n        _this.m = new HeatTileScaler();\n        return _this;\n    }\n    Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n        get: function () {\n            return this.e;\n        },\n        set: function (a) {\n            var b = this.e;\n            this.e = a;\n            if (this.e != b) {\n                this.br(\"YValues\", b, this.e);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n        get: function () {\n            return this.d;\n        },\n        set: function (a) {\n            var b = this.d;\n            this.d = a;\n            if (this.d != b) {\n                this.br(\"XValues\", b, this.d);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n        get: function () {\n            return this.c;\n        },\n        set: function (a) {\n            var b = this.c;\n            this.c = a;\n            if (this.c != b) {\n                this.br(\"Values\", b, this.c);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n        get: function () {\n            return this.bw;\n        },\n        set: function (a) {\n            var b = this.bw;\n            this.bw = a;\n            if (Color.d(this.bw, b)) {\n                this.br(\"MinimumColor\", b, this.bw);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            var b = this.bv;\n            this.bv = a;\n            if (Color.d(this.bv, b)) {\n                this.br(\"MaximumColor\", b, this.bv);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n        get: function () {\n            return this.b;\n        },\n        set: function (a) {\n            var b = this.b;\n            this.b = a;\n            if (this.b != b) {\n                this.br(\"ScaleColors\", b, this.b);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            var b = this.a;\n            this.a = a;\n            if (this.a != b) {\n                this.br(\"ScaleColorOffsets\", b, this.a);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n        get: function () {\n            return this.ac;\n        },\n        set: function (a) {\n            var b = this.ac;\n            this.ac = a;\n            if (this.ac != b) {\n                this.br(\"BlurRadius\", b, this.ac);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n        get: function () {\n            return this.am;\n        },\n        set: function (a) {\n            var b = this.am;\n            this.am = a;\n            if (this.am != b) {\n                this.br(\"MaxBlurRadius\", b, this.am);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n        get: function () {\n            return this.p;\n        },\n        set: function (a) {\n            var b = this.p;\n            this.p = a;\n            if (this.p != b) {\n                this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.q;\n            this.q = a;\n            if (this.q != b) {\n                this.br(\"UseGlobalMinMax\", b, this.q);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n        get: function () {\n            return this.r;\n        },\n        set: function (a) {\n            var b = this.r;\n            this.r = a;\n            if (this.r != b) {\n                this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n        get: function () {\n            return this.ao;\n        },\n        set: function (a) {\n            var b = this.ao;\n            this.ao = a;\n            if (this.ao != b) {\n                this.br(\"MinimumValue\", b, this.ao);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n        get: function () {\n            return this.an;\n        },\n        set: function (a) {\n            var b = this.an;\n            this.an = a;\n            if (this.an != b) {\n                this.br(\"MaximumValue\", b, this.an);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n        get: function () {\n            return this.al;\n        },\n        set: function (a) {\n            var b = this.al;\n            this.al = a;\n            if (this.al != b) {\n                this.br(\"LogarithmBase\", b, this.al);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n        get: function () {\n            return this.s;\n        },\n        set: function (a) {\n            var b = this.s;\n            this.s = a;\n            if (this.s != b) {\n                this.br(\"UseLogarithmicScale\", b, this.s);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n        get: function () {\n            return this.t;\n        },\n        set: function (a) {\n            var b = this.t;\n            this.t = a;\n            if (this.t != b) {\n                this.br(\"UseWebWorkers\", b, this.t);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            var b = this.a0;\n            this.a0 = a;\n            if (this.a0 != b) {\n                this.br(\"WebWorkerScriptPath\", b, this.a0);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n        get: function () {\n            return this.ax;\n        },\n        set: function (a) {\n            var b = this.ax;\n            this.ax = a;\n            if (this.ax != b) {\n                this.br(\"WebWorkerInstance\", b, this.ax);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HeatTileGenerator.prototype.bo = function () {\n        this.e = null;\n        this.d = null;\n        this.c = null;\n        this.l.w();\n    };\n    HeatTileGenerator.prototype.br = function (a, b, c) {\n        this.bs(a, b, c);\n    };\n    HeatTileGenerator.prototype.bs = function (a, b, c) {\n        switch (a) {\n            case \"XValues\":\n            case \"YValues\":\n            case \"Values\":\n                this.bq();\n                break;\n            case \"UseWebWorkers\":\n                this.l.e = this.y;\n                break;\n            case \"WebWorkerScriptPath\":\n                this.l.p = this.bi;\n                break;\n            case \"WebWorkerInstance\":\n                this.l.n = this.az;\n                break;\n        }\n    };\n    HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n        this.getTile1(a, b, c, d, e, f, g, false);\n    };\n    HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n        var _this = this;\n        var i = NaN;\n        var j = NaN;\n        if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n            var k = false;\n            if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n                k = true;\n                this.n = true;\n            }\n            else {\n                this.ab.add(function () { return _this.bm(a, b, c, h, j, i, d, e, f, g); });\n                return;\n            }\n            if (k) {\n                var l_1 = 1.7976931348623157E+308;\n                var m_1 = -1.7976931348623157E+308;\n                var n_1 = 0;\n                var o_1 = 0;\n                var p_1 = 0;\n                var q_1 = 0;\n                this.getTile1(0, 0, 0, function (r, s) {\n                    var t = s;\n                    l_1 = t.globalMinimumValue;\n                    m_1 = t.globalMaximumValue;\n                    n_1 = t.globalMinimumValueLongitude;\n                    o_1 = t.globalMinimumValueLatitude;\n                    p_1 = t.globalMaximumValueLongitude;\n                    q_1 = t.globalMaximumValueLatitude;\n                    var u = new Rect(0, 0, 0, 1, 1);\n                    var v = _this.bz;\n                    i = l_1;\n                    j = m_1;\n                    var w = new List$1(Delegate_$type, 0);\n                    _this.ag = i;\n                    _this.ad = j;\n                    _this.ah = o_1;\n                    _this.ai = n_1;\n                    _this.ae = q_1;\n                    _this.af = p_1;\n                    for (var x = 0; x < _this.ab.count; x++) {\n                        w.add(_this.ab._inner[x]);\n                    }\n                    _this.ab.clear();\n                    _this.bm(a, b, c, h, j, i, d, e, f, g);\n                    for (var y = 0; y < w.count; y++) {\n                        w._inner[y]();\n                    }\n                }, function (r, s) {\n                }, function (r, s) {\n                }, g, true);\n                return;\n            }\n            else {\n                i = this.ag;\n                j = this.ad;\n            }\n        }\n        else {\n            i = this.ag;\n            j = this.ad;\n        }\n        this.bm(a, b, c, h, j, i, d, e, f, g);\n    };\n    HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n        this.l.s(a, b, c);\n    };\n    HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n        var _this = this;\n        this.bn(a, b, c, d, i, function () {\n            if (_this.w && !d) {\n                if (a > 0 && _this.z.containsKey(a.toString())) {\n                    var k = _this.z.item(a.toString());\n                    e = k.c;\n                    f = k.d;\n                }\n            }\n            var l = _this.b0(a, b, c);\n            var m = new TileWorkSettings();\n            m.window = l;\n            m.z = a;\n            m.x = b;\n            m.y = c;\n            m.globalMinimum = f;\n            m.globalMaximum = e;\n            m.useGlobalMinMax = _this.v;\n            m.minimumValue = _this.at;\n            m.maximumValue = _this.as;\n            m.useLogarithmicScale = _this.x;\n            m.logarithmBase = _this.aq;\n            if (m.logarithmBase <= 0) {\n                m.logarithmBase = 10;\n            }\n            m.tileViewport = _this.bz;\n            m.maximumColor = _this.bx;\n            m.minimumColor = _this.by;\n            m.scaler = _this.m;\n            m.values = _this.c;\n            m.blurRadius = _this.ap;\n            if (m.blurRadius <= 0) {\n                m.blurRadius = 1;\n            }\n            m.useBlurRadiusAdjustedForZoom = _this.u;\n            m.maxBlurRadius = _this.ar;\n            if (m.maxBlurRadius <= 0) {\n                m.maxBlurRadius = 1;\n            }\n            m.values = _this.i;\n            m.scaleColors = _this.scaleColors;\n            m.scaleColorOffsets = _this.g;\n            m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n            m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n            m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n            m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n            m.yValues = _this.e;\n            m.xValues = _this.d;\n            if (_this.c == null && _this.e != null) {\n                _this.c = new Array(_this.e.length);\n                for (var n = 0; n < _this.e.length; n++) {\n                    _this.c[n] = 1;\n                }\n                m.values = _this.c;\n            }\n            if (!_this.o) {\n                _this.o = true;\n                m.isNewData = true;\n            }\n            m.image = j;\n            m.testRun = d;\n            _this.l.y(m, function (o, p) {\n                p.url = _this.a2(p.imageData);\n                p.imageData = _this.f(p.imageData);\n                g(_this, p);\n            }, h);\n        });\n    };\n    HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n        var g = false;\n        g = this.au != a;\n        if (!g || d) {\n            f();\n            return;\n        }\n        var h = false;\n        var i = false;\n        if (a != this.au) {\n            if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n                this.au = a;\n                e(this, ((function () {\n                    var $ret = new TileImageZoomChangingEventArgs();\n                    $ret.z = a;\n                    $ret.x = b;\n                    $ret.y = c;\n                    return $ret;\n                })()));\n                h = true;\n            }\n            else if (this.z.containsKey(a.toString())) {\n                if (a > 0 && this.w) {\n                    var j = void 0;\n                    if (this.aa.containsKey(a.toString())) {\n                        j = this.aa.item(a.toString());\n                    }\n                    else {\n                        j = new List$1(Delegate_$type, 0);\n                        this.aa.addItem(a.toString(), j);\n                    }\n                    j.add(f);\n                }\n            }\n            else {\n                if (a > 0 && this.w) {\n                    this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n                    i = true;\n                }\n            }\n        }\n        if (i) {\n            if (a > 0 && this.w) {\n                this.bt(a, f);\n            }\n        }\n        if (h) {\n            f();\n        }\n    };\n    HeatTileGenerator.prototype.a2 = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = document.createElement(\"canvas\");\n        b.setAttribute(\"width\", \"256\");\n        b.setAttribute(\"height\", \"256\");\n        var c = b.getContext(\"2d\");\n        var d = c.getImageData(0, 0, 256, 256);\n        var e = d.data;\n        var f = e.length / 4;\n        for (var g = 0; g < f; g++) {\n            var h = a[g * 4];\n            var i = a[g * 4 + 1];\n            var j = a[g * 4 + 2];\n            var k = a[g * 4 + 3];\n            e[g * 4] = i;\n            e[g * 4 + 1] = j;\n            e[g * 4 + 2] = k;\n            e[g * 4 + 3] = h;\n        }\n        c.putImageData(d, 0, 0);\n        var ele_ = b;\n        return (ele_.toDataURL());\n    };\n    HeatTileGenerator.prototype.f = function (a) {\n        if (a == null) {\n            return null;\n        }\n        return a;\n    };\n    HeatTileGenerator.prototype.bt = function (a, b) {\n        var _this = this;\n        var c = 0;\n        var d = 0;\n        var e = 0;\n        var f = 0;\n        var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n        var h = new Rect(0, 0, 0, 1, 1);\n        var i = this.m.s(this.af, h, g);\n        var j = this.m.r(this.ae, h, g);\n        var k = this.m.s(this.ai, h, g);\n        var l = this.m.r(this.ah, h, g);\n        c = truncate(Math.floor(k / 256));\n        d = truncate(Math.floor(l / 256));\n        e = truncate(Math.floor(i / 256));\n        f = truncate(Math.floor(j / 256));\n        var m = 0;\n        var n = 0;\n        this.getTile1(a, c, d, function (o, p) {\n            var q = p;\n            m = q.globalMinimumValue;\n            n = q.globalMaximumValue;\n            if (e != c && f != d) {\n                _this.getTile1(a, e, f, function (r, s) {\n                    var t = s;\n                    n = t.globalMaximumValue;\n                    _this.bu(a, n, m, b);\n                }, function (r, s) {\n                }, function (r, s) {\n                }, null, true);\n            }\n            else {\n                _this.bu(a, n, m, b);\n            }\n        }, function (o, p) {\n        }, function (o, p) {\n        }, null, true);\n    };\n    HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n        if (b < this.aj) {\n            b = this.aj;\n        }\n        if (isNaN_(c) || c > this.ak) {\n            c = this.ak;\n        }\n        var e = new List$1(Delegate_$type, 0);\n        this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n        if (this.aa.containsKey(a.toString())) {\n            var f = this.aa.item(a.toString());\n            for (var g = 0; g < f.count; g++) {\n                e.add(f._inner[g]);\n            }\n        }\n        this.aa.removeItem(a.toString());\n        this.au = a;\n        d();\n        for (var h = 0; h < e.count; h++) {\n            e._inner[h]();\n        }\n    };\n    HeatTileGenerator.prototype.b0 = function (a, b, c) {\n        var d = truncate(Math.pow(2, a)) * 256;\n        var e = (b * 256) / d;\n        var f = (c * 256) / d;\n        var g = 256 / d;\n        var h = 256 / d;\n        return new Rect(0, e, f, g, h);\n    };\n    HeatTileGenerator.prototype.bq = function () {\n        var a = -1.7976931348623157E+308;\n        var b = 1.7976931348623157E+308;\n        if (this.c != null) {\n            for (var c = 0; c < this.c.length; c++) {\n                var d = this.c[c];\n                a = d > a ? d : a;\n                b = d < b ? d : b;\n            }\n        }\n        var e = this.ak = b * 0.01;\n        this.aj = a;\n        this.o = false;\n    };\n    HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n    return HeatTileGenerator;\n}(Base));\nexport { HeatTileGenerator };\n"]},"metadata":{},"sourceType":"module"}