{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, Number_$type, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { HeatTileImageCreatedEventArgs } from \"./HeatTileImageCreatedEventArgs\";\nimport { truncate, isNaN_, logBase } from \"./number\";\n/**\n * @hidden\n */\n\nvar HeatTileGeneratorWorker =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HeatTileGeneratorWorker, _super);\n\n  function HeatTileGeneratorWorker(a) {\n    var _this = _super.call(this) || this;\n\n    _this.f = null;\n    _this.a = null;\n    _this.n = 0;\n    _this.o = 0;\n    _this.p = 0;\n    _this.w = null;\n    _this.u = 0;\n    _this.h = false;\n    _this.r = 0;\n    _this.i = 0;\n    _this.j = 0;\n    _this.k = 0;\n    _this.l = 0;\n    _this._completedSink = null;\n    _this.f = a;\n    HeatTileGeneratorWorker.s++;\n\n    if (HeatTileGeneratorWorker.s == 0x7FFFFFFFFFFFFFFF) {\n      HeatTileGeneratorWorker.s = 0;\n    }\n\n    _this.r = HeatTileGeneratorWorker.s;\n    return _this;\n  }\n\n  Object.defineProperty(HeatTileGeneratorWorker.prototype, \"t\", {\n    get: function () {\n      return this.r;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGeneratorWorker.prototype, \"g\", {\n    get: function () {\n      return this.f;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HeatTileGeneratorWorker.prototype.doWork = function () {\n    var a = this.g.blurRadius;\n    var b = a;\n    var c = this.g.maxBlurRadius;\n    var d = this.g.scaler;\n    this.n = this.g.x;\n    this.o = this.g.y;\n    this.p = this.g.z;\n\n    if (this.g.useBlurRadiusAdjustedForZoom && this.p > 0) {\n      var e = Math.sqrt(1 * 1 + 1 * 1) * Math.pow(2, this.p - 1);\n      b = a * e;\n    }\n\n    if (!isNaN_(c)) {\n      if (b > c) {\n        b = c;\n      }\n    }\n\n    var f = this.g.xValues;\n    var g = this.g.yValues;\n    var h = this.g.values;\n    var i = this.g.xValues.length;\n    var j = this.g.yValues.length;\n    var k;\n    var l;\n    var m;\n    var n;\n    var o;\n    var p;\n    var q;\n    var r = this.g.minimumVisibleLongitude;\n    var s = this.g.maximumVisibleLongitude;\n    var t = this.g.minimumVisibleLatitude;\n    var u = this.g.maximumVisibleLatitude;\n    var v = this.q(this.g.tileViewport, b);\n    var w = this.c(v, b);\n    var x = Math.abs(d.t(0, this.g.window, this.g.tileViewport) - d.t(b, this.g.window, this.g.tileViewport));\n    var y = Math.abs(d.u(0, this.g.window, this.g.tileViewport) - d.u(b, this.g.window, this.g.tileViewport));\n    var z;\n    var aa;\n    var ab = new List$1(Number_$type, 0);\n    var ac = new List$1(Number_$type, 0);\n    var ad = new List$1(Number_$type, 0);\n\n    for (var ae = 0; ae < i; ae++) {\n      k = f[ae];\n      l = g[ae];\n      m = h[ae];\n      n = k - y;\n      o = k + y;\n      p = l - x;\n      q = l + x;\n\n      if (o < r || q < t || p > u || n > s) {\n        continue;\n      }\n\n      ab.add(k);\n      ac.add(l);\n      ad.add(m);\n    }\n\n    var af = this.d(this.g.tileViewport);\n    var ag = this.b(this.g.tileViewport);\n    var ah = truncate(this.g.tileViewport.width);\n    var ai = ac.count;\n    d.v(ac, this.g.window, this.g.tileViewport);\n    d.w(ab, this.g.window, this.g.tileViewport);\n    var aj;\n    var ak;\n    var al;\n    var am;\n\n    for (var an = 0; an < ai; an++) {\n      z = truncate(Math.floor(ab._inner[an] - b));\n      aa = truncate(Math.floor(ac._inner[an] - b));\n\n      for (var ao = z; ao < z + v; ao++) {\n        for (var ap = aa; ap < aa + v; ap++) {\n          aj = ao - z;\n          ak = ap - aa;\n\n          if (ao < 0 || ao > ah - 1 || ap < 0 || ap > ah - 1) {\n            continue;\n          }\n\n          al = w[ak * v + aj];\n          am = ad._inner[an] * al;\n          ag[ap * ah + ao] = ag[ap * ah + ao] + am;\n        }\n      }\n    }\n\n    var aq = ag.length;\n    var ar = -1.7976931348623157E+308;\n    var as = 1.7976931348623157E+308;\n    var at;\n\n    if (!isNaN_(this.g.globalMinimum) && !isNaN_(this.g.globalMaximum) && this.g.useGlobalMinMax && !this.g.testRun) {\n      as = this.g.globalMinimum;\n      ar = this.g.globalMaximum;\n\n      if (!isNaN_(this.g.minimumValue)) {\n        as = this.g.minimumValue;\n      }\n\n      if (!isNaN_(this.g.maximumValue)) {\n        ar = this.g.maximumValue;\n      }\n    } else if (!isNaN_(this.g.minimumValue) && !isNaN_(this.g.maximumValue)) {\n      as = this.g.minimumValue;\n      ar = this.g.maximumValue;\n    } else {\n      var au = -1;\n      var av = -1;\n\n      for (var aw = 0; aw < aq; aw++) {\n        at = ag[aw];\n\n        if (at > 0) {\n          if (at > ar) {\n            ar = at;\n            au = aw;\n          }\n\n          if (at < as) {\n            as = at;\n            av = aw;\n          }\n        }\n      }\n\n      var ax = truncate(Math.floor(au / ah));\n      var ay = au % ah;\n      var az = truncate(Math.floor(av / ah));\n      var a0 = av % ah;\n      this.g.globalMinimum = as;\n      this.g.globalMaximum = ar;\n      var a1 = 0;\n      var a2 = 0;\n      var a3 = 0;\n      var a4 = 0;\n      var a5 = 0;\n      var a6 = 0;\n\n      for (var a7 = 0; a7 < ai; a7++) {\n        z = truncate(Math.floor(ab._inner[a7] - b));\n        aa = truncate(Math.floor(ac._inner[a7] - b));\n\n        for (var a8 = z; a8 < z + v; a8++) {\n          for (var a9 = aa; a9 < aa + v; a9++) {\n            aj = a8 - z;\n            ak = a9 - aa;\n\n            if (a8 < 0 || a8 > ah - 1 || a9 < 0 || a9 > ah - 1) {\n              continue;\n            }\n\n            if (a8 == ay && a9 == ax) {\n              a1++;\n              a3 = a3 + d.t(ac._inner[a7], this.g.window, this.g.tileViewport);\n              a4 = a4 + d.u(ab._inner[a7], this.g.window, this.g.tileViewport);\n            }\n\n            if (a8 == a0 && a9 == az) {\n              a2++;\n              a5 = a5 + d.t(ac._inner[a7], this.g.window, this.g.tileViewport);\n              a6 = a6 + d.u(ab._inner[a7], this.g.window, this.g.tileViewport);\n            }\n          }\n        }\n      }\n\n      this.i = a3 / a1;\n      this.j = a4 / a1;\n      this.k = a5 / a2;\n      this.l = a6 / a2;\n\n      if (!isNaN_(this.g.minimumValue)) {\n        as = this.g.minimumValue;\n      }\n\n      if (!isNaN_(this.g.maximumValue)) {\n        ar = this.g.maximumValue;\n      }\n    }\n\n    if (!this.g.testRun) {\n      this.x(af, ag, ar, as);\n      this.a = af;\n    }\n\n    this.z();\n  };\n\n  HeatTileGeneratorWorker.prototype.x = function (a, b, c, d) {\n    var e;\n    var f = b.length;\n\n    if (this.g.useLogarithmicScale) {\n      if (d <= 0) {\n        d = 0;\n      } else {\n        d = logBase(d, this.g.logarithmBase);\n      }\n\n      if (c <= 0) {\n        c = 0;\n      } else {\n        c = logBase(c, this.g.logarithmBase);\n      }\n    }\n\n    var g = 0;\n    var h = c - d;\n\n    if (isNaN_(h) || h <= 0) {\n      h = 1;\n    }\n\n    var i;\n    var j;\n    var k;\n    var l;\n    var m = this.g.useLogarithmicScale;\n    var n = this.g.logarithmBase;\n\n    if (this.g.scaleColors != null) {\n      var o = new Array(this.g.scaleColors.length);\n      var p = new Array(this.g.scaleColors.length);\n      var q = new Array(this.g.scaleColors.length);\n      var r = new Array(this.g.scaleColors.length);\n      var s = new Array(this.g.scaleColors.length);\n      var t = new Array(this.g.scaleColors.length);\n      var u = new Array(this.g.scaleColors.length);\n      var v = new Array(this.g.scaleColors.length);\n      var w = new Array(this.g.scaleColors.length);\n      var x = new Array(this.g.scaleColors.length);\n      var y = new Array(this.g.scaleColors.length);\n      var z = new Array(this.g.scaleColors.length);\n      var aa = this.g.scaleColorOffsets;\n\n      if (aa == null || aa.length != this.g.scaleColors.length) {\n        aa = new Array(this.g.scaleColors.length);\n\n        if (aa.length == 1) {\n          aa[0] = 0;\n        } else {\n          for (var ab = 0; ab < this.g.scaleColors.length; ab++) {\n            aa[ab] = ab / (this.g.scaleColors.length - 1);\n          }\n        }\n      }\n\n      for (var ac = 0; ac < this.g.scaleColors.length; ac++) {\n        o[ac] = this.g.scaleColors[ac].l;\n        q[ac] = this.g.scaleColors[ac].o;\n        s[ac] = this.g.scaleColors[ac].n;\n        u[ac] = this.g.scaleColors[ac].m;\n\n        if (ac < this.g.scaleColors.length - 1) {\n          p[ac] = this.g.scaleColors[ac + 1].l;\n          r[ac] = this.g.scaleColors[ac + 1].o;\n          t[ac] = this.g.scaleColors[ac + 1].n;\n          v[ac] = this.g.scaleColors[ac + 1].m;\n        } else {\n          p[ac] = this.g.scaleColors[ac].l;\n          r[ac] = this.g.scaleColors[ac].o;\n          t[ac] = this.g.scaleColors[ac].n;\n          v[ac] = this.g.scaleColors[ac].m;\n        }\n\n        w[ac] = p[ac] - o[ac];\n        x[ac] = r[ac] - q[ac];\n        y[ac] = t[ac] - s[ac];\n        z[ac] = v[ac] - u[ac];\n      }\n\n      for (var ad = 0; ad < f; ad++) {\n        e = b[ad];\n\n        if (e == 0) {\n          continue;\n        }\n\n        if (m) {\n          if (e <= 0) {\n            e = 0;\n          } else {\n            e = logBase(e, n);\n          }\n        }\n\n        g = (e - d) / h;\n\n        if (g < 0) {\n          g = 0;\n        }\n\n        if (g > 1) {\n          g = 1;\n        }\n\n        var ae = 0;\n\n        for (var af = 0; af < aa.length; af++) {\n          if (aa[af] >= g) {\n            ae = af - 1;\n            break;\n          }\n        }\n\n        if (ae > aa.length - 2) {\n          ae = aa.length - 2;\n        }\n\n        if (ae < 0) {\n          ae = 0;\n        }\n\n        g = (g - aa[ae]) / (aa[ae + 1] - aa[ae]);\n        i = truncate(Math.floor(o[ae] + g * w[ae]));\n        j = truncate(Math.floor(q[ae] + g * x[ae]));\n        k = truncate(Math.floor(s[ae] + g * y[ae]));\n        l = truncate(Math.floor(u[ae] + g * z[ae]));\n        a[4 * ad] = i;\n        a[4 * ad + 1] = j;\n        a[4 * ad + 2] = k;\n        a[4 * ad + 3] = l;\n      }\n    } else {\n      var ag = this.g.minimumColor.l;\n      var ah = this.g.maximumColor.l;\n      var ai = this.g.minimumColor.o;\n      var aj = this.g.maximumColor.o;\n      var ak = this.g.minimumColor.n;\n      var al = this.g.maximumColor.n;\n      var am = this.g.minimumColor.m;\n      var an = this.g.maximumColor.m;\n      var ao = ah - ag;\n      var ap = aj - ai;\n      var aq = al - ak;\n      var ar = an - am;\n\n      for (var as = 0; as < f; as++) {\n        e = b[as];\n\n        if (e == 0) {\n          continue;\n        }\n\n        if (m) {\n          e = logBase(e, n);\n        }\n\n        g = (e - d) / h;\n\n        if (g < 0) {\n          g = 0;\n        }\n\n        if (g > 1) {\n          g = 1;\n        }\n\n        i = truncate(Math.floor(ag + g * ao));\n        j = truncate(Math.floor(ai + g * ap));\n        k = truncate(Math.floor(ak + g * aq));\n        l = truncate(Math.floor(am + g * ar));\n        a[4 * as] = i;\n        a[4 * as + 1] = j;\n        a[4 * as + 2] = k;\n        a[4 * as + 3] = l;\n      }\n    }\n  };\n\n  HeatTileGeneratorWorker.prototype.b = function (a) {\n    var b = new Array(truncate(a.width) * truncate(a.height));\n\n    for (var c = 0; c < b.length; c++) {\n      b[c] = 0;\n    }\n\n    return b;\n  };\n\n  HeatTileGeneratorWorker.prototype.d = function (a) {\n    var b = new Array(truncate(a.width) * truncate(a.height) * 4);\n\n    for (var c = 0; c < b.length; c++) {\n      b[c] = 0;\n    }\n\n    return b;\n  };\n\n  HeatTileGeneratorWorker.prototype.c = function (a, b) {\n    var c = new Array(a * a);\n\n    for (var d = 0; d < c.length; d++) {\n      c[d] = 0;\n    }\n\n    var e = a / 2;\n    var f = a / 2;\n\n    for (var g = 0; g < a; g++) {\n      for (var h = 0; h < a; h++) {\n        var i = Math.sqrt(Math.pow(g - f, 2) + Math.pow(h - f, 2));\n\n        if (i > e) {\n          c[h * a + g] = 0;\n        } else {\n          c[h * a + g] = e - i;\n        }\n      }\n    }\n\n    var j = 0;\n    var k = -1.7976931348623157E+308;\n    var l = 1.7976931348623157E+308;\n\n    for (var m = 0; m < a; m++) {\n      for (var n = 0; n < a; n++) {\n        var o = c[n * a + m];\n\n        if (o == 0) {\n          continue;\n        }\n\n        j += o;\n        k = o > k ? o : k;\n        l = o < l ? o : l;\n      }\n    }\n\n    for (var p = 0; p < a; p++) {\n      for (var q = 0; q < a; q++) {\n        var r = c[q * a + p];\n\n        if (r == 0) {\n          continue;\n        }\n\n        var s = (r - l) / (k - l);\n        c[q * a + p] = 0.01 + s * 0.99;\n      }\n    }\n\n    c[truncate(f) * a + truncate(f)] = 1;\n    return c;\n  };\n\n  HeatTileGeneratorWorker.prototype.q = function (a, b) {\n    return truncate(Math.floor(b * 2));\n  };\n\n  HeatTileGeneratorWorker.prototype.z = function () {\n    var _this = this;\n\n    if (this.completedSink == null) {\n      return;\n    }\n\n    this.completedSink.onCompleted(function () {\n      var $ret = new HeatTileImageCreatedEventArgs();\n      $ret.url = _this.w;\n      $ret.x = _this.n;\n      $ret.y = _this.o;\n      $ret.z = _this.p;\n      $ret.globalMinimumValue = _this.g.globalMinimum;\n      $ret.globalMaximumValue = _this.g.globalMaximum;\n      $ret.globalMaximumValueLongitude = _this.j;\n      $ret.globalMaximumValueLatitude = _this.i;\n      $ret.globalMinimumValueLongitude = _this.l;\n      $ret.globalMinimumValueLatitude = _this.k;\n      $ret.imageData = _this.a;\n      $ret.image = _this.g.image;\n      return $ret;\n    }());\n  };\n\n  Object.defineProperty(HeatTileGeneratorWorker.prototype, \"completedSink\", {\n    get: function () {\n      return this._completedSink;\n    },\n    set: function (a) {\n      this._completedSink = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  HeatTileGeneratorWorker.$t = markType(HeatTileGeneratorWorker, 'HeatTileGeneratorWorker');\n  HeatTileGeneratorWorker.v = {};\n  HeatTileGeneratorWorker.s = 0;\n  HeatTileGeneratorWorker.m = 0;\n  return HeatTileGeneratorWorker;\n}(Base);\n\nexport { HeatTileGeneratorWorker };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/HeatTileGeneratorWorker.js"],"names":["__extends","Base","Number_$type","markType","List$1","HeatTileImageCreatedEventArgs","truncate","isNaN_","logBase","HeatTileGeneratorWorker","_super","a","_this","call","f","n","o","p","w","u","h","r","i","j","k","l","_completedSink","s","Object","defineProperty","prototype","get","enumerable","configurable","doWork","g","blurRadius","b","c","maxBlurRadius","d","scaler","x","y","z","useBlurRadiusAdjustedForZoom","e","Math","sqrt","pow","xValues","yValues","values","length","m","q","minimumVisibleLongitude","maximumVisibleLongitude","t","minimumVisibleLatitude","maximumVisibleLatitude","v","tileViewport","abs","window","aa","ab","ac","ad","ae","add","af","ag","ah","width","ai","count","aj","ak","al","am","an","floor","_inner","ao","ap","aq","ar","as","at","globalMinimum","globalMaximum","useGlobalMinMax","testRun","minimumValue","maximumValue","au","av","aw","ax","ay","az","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","useLogarithmicScale","logarithmBase","scaleColors","Array","scaleColorOffsets","minimumColor","maximumColor","height","completedSink","onCompleted","$ret","url","globalMinimumValue","globalMaximumValue","globalMaximumValueLongitude","globalMaximumValueLatitude","globalMinimumValueLongitude","globalMinimumValueLatitude","imageData","image","set","$t"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, Number_$type, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { HeatTileImageCreatedEventArgs } from \"./HeatTileImageCreatedEventArgs\";\nimport { truncate, isNaN_, logBase } from \"./number\";\n/**\n * @hidden\n */\nvar HeatTileGeneratorWorker = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HeatTileGeneratorWorker, _super);\n    function HeatTileGeneratorWorker(a) {\n        var _this = _super.call(this) || this;\n        _this.f = null;\n        _this.a = null;\n        _this.n = 0;\n        _this.o = 0;\n        _this.p = 0;\n        _this.w = null;\n        _this.u = 0;\n        _this.h = false;\n        _this.r = 0;\n        _this.i = 0;\n        _this.j = 0;\n        _this.k = 0;\n        _this.l = 0;\n        _this._completedSink = null;\n        _this.f = a;\n        HeatTileGeneratorWorker.s++;\n        if (HeatTileGeneratorWorker.s == 0x7FFFFFFFFFFFFFFF) {\n            HeatTileGeneratorWorker.s = 0;\n        }\n        _this.r = HeatTileGeneratorWorker.s;\n        return _this;\n    }\n    Object.defineProperty(HeatTileGeneratorWorker.prototype, \"t\", {\n        get: function () {\n            return this.r;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGeneratorWorker.prototype, \"g\", {\n        get: function () {\n            return this.f;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HeatTileGeneratorWorker.prototype.doWork = function () {\n        var a = this.g.blurRadius;\n        var b = a;\n        var c = this.g.maxBlurRadius;\n        var d = this.g.scaler;\n        this.n = this.g.x;\n        this.o = this.g.y;\n        this.p = this.g.z;\n        if (this.g.useBlurRadiusAdjustedForZoom && this.p > 0) {\n            var e = Math.sqrt(1 * 1 + 1 * 1) * Math.pow(2, this.p - 1);\n            b = a * e;\n        }\n        if (!isNaN_(c)) {\n            if (b > c) {\n                b = c;\n            }\n        }\n        var f = this.g.xValues;\n        var g = this.g.yValues;\n        var h = this.g.values;\n        var i = this.g.xValues.length;\n        var j = this.g.yValues.length;\n        var k;\n        var l;\n        var m;\n        var n;\n        var o;\n        var p;\n        var q;\n        var r = this.g.minimumVisibleLongitude;\n        var s = this.g.maximumVisibleLongitude;\n        var t = this.g.minimumVisibleLatitude;\n        var u = this.g.maximumVisibleLatitude;\n        var v = this.q(this.g.tileViewport, b);\n        var w = this.c(v, b);\n        var x = Math.abs(d.t(0, this.g.window, this.g.tileViewport) - d.t(b, this.g.window, this.g.tileViewport));\n        var y = Math.abs(d.u(0, this.g.window, this.g.tileViewport) - d.u(b, this.g.window, this.g.tileViewport));\n        var z;\n        var aa;\n        var ab = new List$1(Number_$type, 0);\n        var ac = new List$1(Number_$type, 0);\n        var ad = new List$1(Number_$type, 0);\n        for (var ae = 0; ae < i; ae++) {\n            k = f[ae];\n            l = g[ae];\n            m = h[ae];\n            n = k - y;\n            o = k + y;\n            p = l - x;\n            q = l + x;\n            if (o < r || q < t || p > u || n > s) {\n                continue;\n            }\n            ab.add(k);\n            ac.add(l);\n            ad.add(m);\n        }\n        var af = this.d(this.g.tileViewport);\n        var ag = this.b(this.g.tileViewport);\n        var ah = truncate(this.g.tileViewport.width);\n        var ai = ac.count;\n        d.v(ac, this.g.window, this.g.tileViewport);\n        d.w(ab, this.g.window, this.g.tileViewport);\n        var aj;\n        var ak;\n        var al;\n        var am;\n        for (var an = 0; an < ai; an++) {\n            z = truncate(Math.floor(ab._inner[an] - b));\n            aa = truncate(Math.floor(ac._inner[an] - b));\n            for (var ao = z; ao < z + v; ao++) {\n                for (var ap = aa; ap < aa + v; ap++) {\n                    aj = ao - z;\n                    ak = ap - aa;\n                    if (ao < 0 || ao > (ah - 1) || ap < 0 || ap > (ah - 1)) {\n                        continue;\n                    }\n                    al = w[ak * v + aj];\n                    am = ad._inner[an] * al;\n                    ag[ap * ah + ao] = ag[ap * ah + ao] + am;\n                }\n            }\n        }\n        var aq = ag.length;\n        var ar = -1.7976931348623157E+308;\n        var as = 1.7976931348623157E+308;\n        var at;\n        if (!isNaN_(this.g.globalMinimum) && !isNaN_(this.g.globalMaximum) && this.g.useGlobalMinMax && !this.g.testRun) {\n            as = this.g.globalMinimum;\n            ar = this.g.globalMaximum;\n            if (!isNaN_(this.g.minimumValue)) {\n                as = this.g.minimumValue;\n            }\n            if (!isNaN_(this.g.maximumValue)) {\n                ar = this.g.maximumValue;\n            }\n        }\n        else if (!isNaN_(this.g.minimumValue) && !isNaN_(this.g.maximumValue)) {\n            as = this.g.minimumValue;\n            ar = this.g.maximumValue;\n        }\n        else {\n            var au = -1;\n            var av = -1;\n            for (var aw = 0; aw < aq; aw++) {\n                at = ag[aw];\n                if (at > 0) {\n                    if (at > ar) {\n                        ar = at;\n                        au = aw;\n                    }\n                    if (at < as) {\n                        as = at;\n                        av = aw;\n                    }\n                }\n            }\n            var ax = truncate(Math.floor(au / ah));\n            var ay = au % ah;\n            var az = truncate(Math.floor(av / ah));\n            var a0 = av % ah;\n            this.g.globalMinimum = as;\n            this.g.globalMaximum = ar;\n            var a1 = 0;\n            var a2 = 0;\n            var a3 = 0;\n            var a4 = 0;\n            var a5 = 0;\n            var a6 = 0;\n            for (var a7 = 0; a7 < ai; a7++) {\n                z = truncate(Math.floor(ab._inner[a7] - b));\n                aa = truncate(Math.floor(ac._inner[a7] - b));\n                for (var a8 = z; a8 < z + v; a8++) {\n                    for (var a9 = aa; a9 < aa + v; a9++) {\n                        aj = a8 - z;\n                        ak = a9 - aa;\n                        if (a8 < 0 || a8 > (ah - 1) || a9 < 0 || a9 > (ah - 1)) {\n                            continue;\n                        }\n                        if (a8 == ay && a9 == ax) {\n                            a1++;\n                            a3 = a3 + d.t(ac._inner[a7], this.g.window, this.g.tileViewport);\n                            a4 = a4 + d.u(ab._inner[a7], this.g.window, this.g.tileViewport);\n                        }\n                        if (a8 == a0 && a9 == az) {\n                            a2++;\n                            a5 = a5 + d.t(ac._inner[a7], this.g.window, this.g.tileViewport);\n                            a6 = a6 + d.u(ab._inner[a7], this.g.window, this.g.tileViewport);\n                        }\n                    }\n                }\n            }\n            this.i = a3 / a1;\n            this.j = a4 / a1;\n            this.k = a5 / a2;\n            this.l = a6 / a2;\n            if (!isNaN_(this.g.minimumValue)) {\n                as = this.g.minimumValue;\n            }\n            if (!isNaN_(this.g.maximumValue)) {\n                ar = this.g.maximumValue;\n            }\n        }\n        if (!this.g.testRun) {\n            this.x(af, ag, ar, as);\n            this.a = af;\n        }\n        this.z();\n    };\n    HeatTileGeneratorWorker.prototype.x = function (a, b, c, d) {\n        var e;\n        var f = b.length;\n        if (this.g.useLogarithmicScale) {\n            if (d <= 0) {\n                d = 0;\n            }\n            else {\n                d = logBase(d, this.g.logarithmBase);\n            }\n            if (c <= 0) {\n                c = 0;\n            }\n            else {\n                c = logBase(c, this.g.logarithmBase);\n            }\n        }\n        var g = 0;\n        var h = c - d;\n        if (isNaN_(h) || h <= 0) {\n            h = 1;\n        }\n        var i;\n        var j;\n        var k;\n        var l;\n        var m = this.g.useLogarithmicScale;\n        var n = this.g.logarithmBase;\n        if (this.g.scaleColors != null) {\n            var o = new Array(this.g.scaleColors.length);\n            var p = new Array(this.g.scaleColors.length);\n            var q = new Array(this.g.scaleColors.length);\n            var r = new Array(this.g.scaleColors.length);\n            var s = new Array(this.g.scaleColors.length);\n            var t = new Array(this.g.scaleColors.length);\n            var u = new Array(this.g.scaleColors.length);\n            var v = new Array(this.g.scaleColors.length);\n            var w = new Array(this.g.scaleColors.length);\n            var x = new Array(this.g.scaleColors.length);\n            var y = new Array(this.g.scaleColors.length);\n            var z = new Array(this.g.scaleColors.length);\n            var aa = this.g.scaleColorOffsets;\n            if (aa == null || aa.length != this.g.scaleColors.length) {\n                aa = new Array(this.g.scaleColors.length);\n                if (aa.length == 1) {\n                    aa[0] = 0;\n                }\n                else {\n                    for (var ab = 0; ab < this.g.scaleColors.length; ab++) {\n                        aa[ab] = ab / (this.g.scaleColors.length - 1);\n                    }\n                }\n            }\n            for (var ac = 0; ac < this.g.scaleColors.length; ac++) {\n                o[ac] = this.g.scaleColors[ac].l;\n                q[ac] = this.g.scaleColors[ac].o;\n                s[ac] = this.g.scaleColors[ac].n;\n                u[ac] = this.g.scaleColors[ac].m;\n                if (ac < this.g.scaleColors.length - 1) {\n                    p[ac] = this.g.scaleColors[ac + 1].l;\n                    r[ac] = this.g.scaleColors[ac + 1].o;\n                    t[ac] = this.g.scaleColors[ac + 1].n;\n                    v[ac] = this.g.scaleColors[ac + 1].m;\n                }\n                else {\n                    p[ac] = this.g.scaleColors[ac].l;\n                    r[ac] = this.g.scaleColors[ac].o;\n                    t[ac] = this.g.scaleColors[ac].n;\n                    v[ac] = this.g.scaleColors[ac].m;\n                }\n                w[ac] = p[ac] - o[ac];\n                x[ac] = r[ac] - q[ac];\n                y[ac] = t[ac] - s[ac];\n                z[ac] = v[ac] - u[ac];\n            }\n            for (var ad = 0; ad < f; ad++) {\n                e = b[ad];\n                if (e == 0) {\n                    continue;\n                }\n                if (m) {\n                    if (e <= 0) {\n                        e = 0;\n                    }\n                    else {\n                        e = logBase(e, n);\n                    }\n                }\n                g = (e - d) / (h);\n                if (g < 0) {\n                    g = 0;\n                }\n                if (g > 1) {\n                    g = 1;\n                }\n                var ae = 0;\n                for (var af = 0; af < aa.length; af++) {\n                    if (aa[af] >= g) {\n                        ae = af - 1;\n                        break;\n                    }\n                }\n                if (ae > aa.length - 2) {\n                    ae = aa.length - 2;\n                }\n                if (ae < 0) {\n                    ae = 0;\n                }\n                g = (g - aa[ae]) / (aa[ae + 1] - aa[ae]);\n                i = truncate(Math.floor(o[ae] + g * (w[ae])));\n                j = truncate(Math.floor(q[ae] + g * (x[ae])));\n                k = truncate(Math.floor(s[ae] + g * (y[ae])));\n                l = truncate(Math.floor(u[ae] + g * (z[ae])));\n                a[4 * ad] = i;\n                a[4 * ad + 1] = j;\n                a[4 * ad + 2] = k;\n                a[4 * ad + 3] = l;\n            }\n        }\n        else {\n            var ag = this.g.minimumColor.l;\n            var ah = this.g.maximumColor.l;\n            var ai = this.g.minimumColor.o;\n            var aj = this.g.maximumColor.o;\n            var ak = this.g.minimumColor.n;\n            var al = this.g.maximumColor.n;\n            var am = this.g.minimumColor.m;\n            var an = this.g.maximumColor.m;\n            var ao = ah - ag;\n            var ap = aj - ai;\n            var aq = al - ak;\n            var ar = an - am;\n            for (var as = 0; as < f; as++) {\n                e = b[as];\n                if (e == 0) {\n                    continue;\n                }\n                if (m) {\n                    e = logBase(e, n);\n                }\n                g = (e - d) / (h);\n                if (g < 0) {\n                    g = 0;\n                }\n                if (g > 1) {\n                    g = 1;\n                }\n                i = truncate(Math.floor(ag + g * (ao)));\n                j = truncate(Math.floor(ai + g * (ap)));\n                k = truncate(Math.floor(ak + g * (aq)));\n                l = truncate(Math.floor(am + g * (ar)));\n                a[4 * as] = i;\n                a[4 * as + 1] = j;\n                a[4 * as + 2] = k;\n                a[4 * as + 3] = l;\n            }\n        }\n    };\n    HeatTileGeneratorWorker.prototype.b = function (a) {\n        var b = new Array(truncate(a.width) * truncate(a.height));\n        for (var c = 0; c < b.length; c++) {\n            b[c] = 0;\n        }\n        return b;\n    };\n    HeatTileGeneratorWorker.prototype.d = function (a) {\n        var b = new Array(truncate(a.width) * truncate(a.height) * 4);\n        for (var c = 0; c < b.length; c++) {\n            b[c] = 0;\n        }\n        return b;\n    };\n    HeatTileGeneratorWorker.prototype.c = function (a, b) {\n        var c = new Array(a * a);\n        for (var d = 0; d < c.length; d++) {\n            c[d] = 0;\n        }\n        var e = a / 2;\n        var f = a / 2;\n        for (var g = 0; g < a; g++) {\n            for (var h = 0; h < a; h++) {\n                var i = Math.sqrt(Math.pow(g - f, 2) + Math.pow(h - f, 2));\n                if (i > e) {\n                    c[h * a + g] = 0;\n                }\n                else {\n                    c[h * a + g] = e - i;\n                }\n            }\n        }\n        var j = 0;\n        var k = -1.7976931348623157E+308;\n        var l = 1.7976931348623157E+308;\n        for (var m = 0; m < a; m++) {\n            for (var n = 0; n < a; n++) {\n                var o = c[n * a + m];\n                if (o == 0) {\n                    continue;\n                }\n                j += o;\n                k = o > k ? o : k;\n                l = o < l ? o : l;\n            }\n        }\n        for (var p = 0; p < a; p++) {\n            for (var q = 0; q < a; q++) {\n                var r = c[q * a + p];\n                if (r == 0) {\n                    continue;\n                }\n                var s = (r - l) / (k - l);\n                c[q * a + p] = 0.01 + s * (0.99);\n            }\n        }\n        c[truncate(f) * a + truncate(f)] = 1;\n        return c;\n    };\n    HeatTileGeneratorWorker.prototype.q = function (a, b) {\n        return truncate(Math.floor(b * 2));\n    };\n    HeatTileGeneratorWorker.prototype.z = function () {\n        var _this = this;\n        if (this.completedSink == null) {\n            return;\n        }\n        this.completedSink.onCompleted(((function () {\n            var $ret = new HeatTileImageCreatedEventArgs();\n            $ret.url = _this.w;\n            $ret.x = _this.n;\n            $ret.y = _this.o;\n            $ret.z = _this.p;\n            $ret.globalMinimumValue = _this.g.globalMinimum;\n            $ret.globalMaximumValue = _this.g.globalMaximum;\n            $ret.globalMaximumValueLongitude = _this.j;\n            $ret.globalMaximumValueLatitude = _this.i;\n            $ret.globalMinimumValueLongitude = _this.l;\n            $ret.globalMinimumValueLatitude = _this.k;\n            $ret.imageData = _this.a;\n            $ret.image = _this.g.image;\n            return $ret;\n        })()));\n    };\n    Object.defineProperty(HeatTileGeneratorWorker.prototype, \"completedSink\", {\n        get: function () {\n            return this._completedSink;\n        },\n        set: function (a) {\n            this._completedSink = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HeatTileGeneratorWorker.$t = markType(HeatTileGeneratorWorker, 'HeatTileGeneratorWorker');\n    HeatTileGeneratorWorker.v = {};\n    HeatTileGeneratorWorker.s = 0;\n    HeatTileGeneratorWorker.m = 0;\n    return HeatTileGeneratorWorker;\n}(Base));\nexport { HeatTileGeneratorWorker };\n"]},"metadata":{},"sourceType":"module"}