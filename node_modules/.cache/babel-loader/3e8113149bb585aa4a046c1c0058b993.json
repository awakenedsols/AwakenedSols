{"ast":null,"code":"import { __extends } from \"tslib\"; //\n// Original version: https://github.com/mosa/Mono-Class-Libraries/blob/master/mcs/class/System.XML/System.Xml/XmlTextReader.cs\n//\n// System.Xml.XmlInputStream \n//\tencoding-specification-wise XML input stream and reader\n//\n// Author:\n//\tAtsushi Enomoto (ginga@kit.hi-ho.ne.jp)\n//\n//\t(C)2003 Atsushi Enomoto\n//\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { TextReader } from \"./TextReader\";\nimport { markType } from \"./type\";\nimport { ObjectDisposedException } from \"./ObjectDisposedException\";\nimport { ArgumentNullException } from \"./ArgumentNullException\";\nimport { ArgumentOutOfRangeException } from \"./ArgumentOutOfRangeException\";\nimport { ArgumentException } from \"./ArgumentException\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { arrayCopy1 } from \"./arrayExtended\";\nimport { stringCreateFromCharArraySlice } from \"./string\";\n/**\n * @hidden\n */\n\nvar NonBlockingStreamReader =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(NonBlockingStreamReader, _super);\n\n  function NonBlockingStreamReader(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.l = null;\n    _this.k = null;\n    _this.p = 0;\n    _this.u = 0;\n    _this.o = 0;\n    _this.z = null;\n    _this.x = null;\n    _this.w = null;\n    _this.n = false;\n    _this.ab = null;\n    _this.m = false;\n    var c = 1024;\n    _this.w = a;\n    _this.l = new Array(c);\n    _this.o = c;\n    _this.z = b;\n    _this.x = _this.y();\n    _this.k = new Array(b.getMaxCharCount(c));\n    _this.p = 0;\n    _this.u = 0;\n    return _this;\n  }\n\n  NonBlockingStreamReader.prototype.y = function () {\n    return this.z.getDecoder();\n  };\n\n  Object.defineProperty(NonBlockingStreamReader.prototype, \"aa\", {\n    get: function () {\n      return this.z;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  NonBlockingStreamReader.prototype.i = function () {\n    this.dispose1(true);\n  };\n\n  NonBlockingStreamReader.prototype.dispose1 = function (a) {\n    if (a && this.w != null) {\n      this.w.close();\n    }\n\n    this.l = null;\n    this.k = null;\n    this.z = null;\n    this.x = null;\n    this.w = null;\n\n    _super.prototype.dispose1.call(this, a);\n  };\n\n  NonBlockingStreamReader.prototype.ac = function () {\n    this.u = this.p = 0;\n    this.n = false;\n    this.x = this.y();\n  };\n\n  NonBlockingStreamReader.prototype.v = function () {\n    this.u = 0;\n    var a = 0;\n    this.p = 0;\n    var b = 0;\n\n    do {\n      a = this.w.read(this.l, 0, this.o);\n\n      if (a == 0) {\n        return 0;\n      }\n\n      this.n = a < this.o;\n      this.p += this.x.c(this.l, b, a, this.k, 0);\n      b = 0;\n    } while (this.p == 0);\n\n    return this.p;\n  };\n\n  NonBlockingStreamReader.prototype.a = function () {\n    if (this.w == null) {\n      throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n    }\n\n    if (this.u >= this.p && (this.n || this.v() == 0)) {\n      return -1;\n    }\n\n    return this.k[this.u].charCodeAt(0);\n  };\n\n  NonBlockingStreamReader.prototype.b = function () {\n    if (this.w == null) {\n      throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n    }\n\n    if (this.u >= this.p && this.v() == 0) {\n      return -1;\n    }\n\n    return this.k[this.u++].charCodeAt(0);\n  };\n\n  NonBlockingStreamReader.prototype.c = function (a, b, c) {\n    if (this.w == null) {\n      throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n    }\n\n    if (a == null) {\n      throw new ArgumentNullException(0, \"dest_buffer\");\n    }\n\n    if (b < 0) {\n      throw new ArgumentOutOfRangeException(2, \"index\", \"< 0\");\n    }\n\n    if (c < 0) {\n      throw new ArgumentOutOfRangeException(2, \"count\", \"< 0\");\n    }\n\n    if (b > a.length - c) {\n      throw new ArgumentException(1, \"index + count > dest_buffer.Length\");\n    }\n\n    var d = 0;\n    {\n      if (this.u >= this.p && this.v() == 0) {\n        return d > 0 ? d : 0;\n      }\n\n      var e = Math.min(this.p - this.u, c);\n      arrayCopy1(this.k, this.u, a, b, e);\n      this.u += e;\n      b += e;\n      c -= e;\n      d += e;\n    }\n    return d;\n  };\n\n  NonBlockingStreamReader.prototype.s = function () {\n    var a = '\\0';\n\n    for (; this.u < this.p; this.u++) {\n      a = this.k[this.u];\n\n      if (a == '\\n') {\n        this.u++;\n        var b = this.m ? this.u - 2 : this.u - 1;\n\n        if (b < 0) {\n          b = 0;\n        }\n\n        this.m = false;\n        return b;\n      } else if (this.m) {\n        this.m = false;\n        return this.u - 1;\n      }\n\n      this.m = a == '\\r';\n    }\n\n    return -1;\n  };\n\n  NonBlockingStreamReader.prototype.g = function () {\n    if (this.w == null) {\n      throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n    }\n\n    if (this.u >= this.p && this.v() == 0) {\n      return null;\n    }\n\n    var a = this.u;\n    var b = this.s();\n\n    if (b < this.p && b >= a) {\n      return stringCreateFromCharArraySlice(this.k, a, b - a);\n    }\n\n    if (this.ab == null) {\n      this.ab = new StringBuilder(0);\n    } else {\n      this.ab.c = 0;\n    }\n\n    while (true) {\n      if (this.m) {\n        this.p--;\n      }\n\n      this.ab.l(stringCreateFromCharArraySlice(this.k, a, this.p - a));\n\n      if (this.v() == 0) {\n        if (this.ab.b > 32768) {\n          var c = this.ab;\n          this.ab = null;\n          return c.f(0, c.c);\n        }\n\n        return this.ab.f(0, this.ab.c);\n      }\n\n      a = this.u;\n      b = this.s();\n\n      if (b < this.p && b >= a) {\n        this.ab.l(stringCreateFromCharArraySlice(this.k, a, b - a));\n\n        if (this.ab.b > 32768) {\n          var d = this.ab;\n          this.ab = null;\n          return d.f(0, d.c);\n        }\n\n        return this.ab.f(0, this.ab.c);\n      }\n    }\n  };\n\n  NonBlockingStreamReader.prototype.h = function () {\n    if (this.w == null) {\n      throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n    }\n\n    var a = new StringBuilder(0);\n    var b = this.k.length;\n    var c = new Array(b);\n    var d;\n\n    while ((d = this.c(c, 0, b)) != 0) {\n      a.g(c, 0, d);\n    }\n\n    return a.toString();\n  };\n\n  NonBlockingStreamReader.$t = markType(NonBlockingStreamReader, 'NonBlockingStreamReader', TextReader.$);\n  return NonBlockingStreamReader;\n}(TextReader);\n\nexport { NonBlockingStreamReader };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/NonBlockingStreamReader.js"],"names":["__extends","TextReader","markType","ObjectDisposedException","ArgumentNullException","ArgumentOutOfRangeException","ArgumentException","StringBuilder","arrayCopy1","stringCreateFromCharArraySlice","NonBlockingStreamReader","_super","a","b","_this","call","l","k","p","u","o","z","x","w","n","ab","m","c","Array","y","getMaxCharCount","prototype","getDecoder","Object","defineProperty","get","enumerable","configurable","i","dispose1","close","ac","v","read","charCodeAt","length","d","e","Math","min","s","g","f","h","toString","$t","$"],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\n//\n// Original version: https://github.com/mosa/Mono-Class-Libraries/blob/master/mcs/class/System.XML/System.Xml/XmlTextReader.cs\n//\n// System.Xml.XmlInputStream \n//\tencoding-specification-wise XML input stream and reader\n//\n// Author:\n//\tAtsushi Enomoto (ginga@kit.hi-ho.ne.jp)\n//\n//\t(C)2003 Atsushi Enomoto\n//\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport { TextReader } from \"./TextReader\";\nimport { markType } from \"./type\";\nimport { ObjectDisposedException } from \"./ObjectDisposedException\";\nimport { ArgumentNullException } from \"./ArgumentNullException\";\nimport { ArgumentOutOfRangeException } from \"./ArgumentOutOfRangeException\";\nimport { ArgumentException } from \"./ArgumentException\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { arrayCopy1 } from \"./arrayExtended\";\nimport { stringCreateFromCharArraySlice } from \"./string\";\n/**\n * @hidden\n */\nvar NonBlockingStreamReader = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(NonBlockingStreamReader, _super);\n    function NonBlockingStreamReader(a, b) {\n        var _this = _super.call(this) || this;\n        _this.l = null;\n        _this.k = null;\n        _this.p = 0;\n        _this.u = 0;\n        _this.o = 0;\n        _this.z = null;\n        _this.x = null;\n        _this.w = null;\n        _this.n = false;\n        _this.ab = null;\n        _this.m = false;\n        var c = 1024;\n        _this.w = a;\n        _this.l = new Array(c);\n        _this.o = c;\n        _this.z = b;\n        _this.x = _this.y();\n        _this.k = new Array(b.getMaxCharCount(c));\n        _this.p = 0;\n        _this.u = 0;\n        return _this;\n    }\n    NonBlockingStreamReader.prototype.y = function () {\n        return this.z.getDecoder();\n    };\n    Object.defineProperty(NonBlockingStreamReader.prototype, \"aa\", {\n        get: function () {\n            return this.z;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NonBlockingStreamReader.prototype.i = function () {\n        this.dispose1(true);\n    };\n    NonBlockingStreamReader.prototype.dispose1 = function (a) {\n        if (a && this.w != null) {\n            this.w.close();\n        }\n        this.l = null;\n        this.k = null;\n        this.z = null;\n        this.x = null;\n        this.w = null;\n        _super.prototype.dispose1.call(this, a);\n    };\n    NonBlockingStreamReader.prototype.ac = function () {\n        this.u = this.p = 0;\n        this.n = false;\n        this.x = this.y();\n    };\n    NonBlockingStreamReader.prototype.v = function () {\n        this.u = 0;\n        var a = 0;\n        this.p = 0;\n        var b = 0;\n        do {\n            a = this.w.read(this.l, 0, this.o);\n            if (a == 0) {\n                return 0;\n            }\n            this.n = (a < this.o);\n            this.p += this.x.c(this.l, b, a, this.k, 0);\n            b = 0;\n        } while (this.p == 0);\n        return this.p;\n    };\n    NonBlockingStreamReader.prototype.a = function () {\n        if (this.w == null) {\n            throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n        }\n        if (this.u >= this.p && (this.n || this.v() == 0)) {\n            return -1;\n        }\n        return this.k[this.u].charCodeAt(0);\n    };\n    NonBlockingStreamReader.prototype.b = function () {\n        if (this.w == null) {\n            throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n        }\n        if (this.u >= this.p && this.v() == 0) {\n            return -1;\n        }\n        return this.k[this.u++].charCodeAt(0);\n    };\n    NonBlockingStreamReader.prototype.c = function (a, b, c) {\n        if (this.w == null) {\n            throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n        }\n        if (a == null) {\n            throw new ArgumentNullException(0, \"dest_buffer\");\n        }\n        if (b < 0) {\n            throw new ArgumentOutOfRangeException(2, \"index\", \"< 0\");\n        }\n        if (c < 0) {\n            throw new ArgumentOutOfRangeException(2, \"count\", \"< 0\");\n        }\n        if (b > a.length - c) {\n            throw new ArgumentException(1, \"index + count > dest_buffer.Length\");\n        }\n        var d = 0;\n        {\n            if (this.u >= this.p && this.v() == 0) {\n                return d > 0 ? d : 0;\n            }\n            var e = Math.min(this.p - this.u, c);\n            arrayCopy1(this.k, this.u, a, b, e);\n            this.u += e;\n            b += e;\n            c -= e;\n            d += e;\n        }\n        return d;\n    };\n    NonBlockingStreamReader.prototype.s = function () {\n        var a = '\\0';\n        for (; this.u < this.p; this.u++) {\n            a = this.k[this.u];\n            if (a == '\\n') {\n                this.u++;\n                var b = (this.m) ? (this.u - 2) : (this.u - 1);\n                if (b < 0) {\n                    b = 0;\n                }\n                this.m = false;\n                return b;\n            }\n            else if (this.m) {\n                this.m = false;\n                return this.u - 1;\n            }\n            this.m = (a == '\\r');\n        }\n        return -1;\n    };\n    NonBlockingStreamReader.prototype.g = function () {\n        if (this.w == null) {\n            throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n        }\n        if (this.u >= this.p && this.v() == 0) {\n            return null;\n        }\n        var a = this.u;\n        var b = this.s();\n        if (b < this.p && b >= a) {\n            return stringCreateFromCharArraySlice(this.k, a, b - a);\n        }\n        if (this.ab == null) {\n            this.ab = new StringBuilder(0);\n        }\n        else {\n            this.ab.c = 0;\n        }\n        while (true) {\n            if (this.m) {\n                this.p--;\n            }\n            this.ab.l(stringCreateFromCharArraySlice(this.k, a, this.p - a));\n            if (this.v() == 0) {\n                if (this.ab.b > 32768) {\n                    var c = this.ab;\n                    this.ab = null;\n                    return c.f(0, c.c);\n                }\n                return this.ab.f(0, this.ab.c);\n            }\n            a = this.u;\n            b = this.s();\n            if (b < this.p && b >= a) {\n                this.ab.l(stringCreateFromCharArraySlice(this.k, a, b - a));\n                if (this.ab.b > 32768) {\n                    var d = this.ab;\n                    this.ab = null;\n                    return d.f(0, d.c);\n                }\n                return this.ab.f(0, this.ab.c);\n            }\n        }\n    };\n    NonBlockingStreamReader.prototype.h = function () {\n        if (this.w == null) {\n            throw new ObjectDisposedException(1, \"StreamReader\", \"Cannot read from a closed StreamReader\");\n        }\n        var a = new StringBuilder(0);\n        var b = this.k.length;\n        var c = new Array(b);\n        var d;\n        while ((d = this.c(c, 0, b)) != 0) {\n            a.g(c, 0, d);\n        }\n        return a.toString();\n    };\n    NonBlockingStreamReader.$t = markType(NonBlockingStreamReader, 'NonBlockingStreamReader', TextReader.$);\n    return NonBlockingStreamReader;\n}(TextReader));\nexport { NonBlockingStreamReader };\n"]},"metadata":{},"sourceType":"module"}