{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, runOn, Type, markType, BaseError, Number_$type } from \"./type\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { LinkedListNode$1 } from \"./LinkedListNode$1\";\nimport { timeSpanTotalMilliseconds } from \"./timespan\";\nimport { dateNow } from \"./date\";\nimport { TaskCompletionSource$1 } from \"./TaskCompletionSource$1\";\nimport { isInfinity, isNaN_ } from \"./number\";\nimport { AnimationKeyFrame } from \"./AnimationKeyFrame\";\nimport { List$1 } from \"./List$1\";\nimport { UIElementPropertyId_$type } from \"./UIElementPropertyId\";\nimport { UIElementPropertyAccessor } from \"./UIElementPropertyAccessor\";\nimport { EasingFunctions } from \"./EasingFunctions\";\nimport { AnimationKeyFrameProperty } from \"./AnimationKeyFrameProperty\";\nimport { BrushUtil } from \"./BrushUtil\";\nimport { InterpolationUtil } from \"./InterpolationUtil\";\nimport { MatrixTransform } from \"./MatrixTransform\";\nimport { TransformMatrixHelpler } from \"./TransformMatrixHelpler\";\nimport { UIElementPropertyAccessorFactory } from \"./UIElementPropertyAccessorFactory\";\nimport { HashSet$1 } from \"./HashSet$1\";\n/**\n * @hidden\n */\n\nvar KeyFrameAnimationTimeline =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(KeyFrameAnimationTimeline, _super);\n\n  function KeyFrameAnimationTimeline(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.c = null;\n    _this.a = null;\n    _this.h = new Date();\n    _this.g = new LinkedList$1(IKeyFrameAnimation_$type);\n    _this.f = new Dictionary$2(String_$type, IKeyFrameAnimation_$type, 0);\n    _this.e = new Dictionary$2(IKeyFrameAnimation_$type, LinkedListNode$1.$.specialize(IKeyFrameAnimation_$type), 0);\n    _this.k = 0;\n    _this.d = false;\n    _this.i = 0;\n    _this.l = -1;\n    _this.c = a;\n    _this.a = b;\n    _this.h = dateNow();\n    return _this;\n  }\n\n  Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"b\", {\n    get: function () {\n      return this.a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"j\", {\n    get: function () {\n      if (this.d) {\n        return this.i;\n      }\n\n      return timeSpanTotalMilliseconds(+dateNow() - +this.h);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  KeyFrameAnimationTimeline.prototype.m = function (a) {\n    if (this.f.containsKey(a.id)) {\n      return;\n    }\n\n    this.g.f(a);\n    var b = this.g.d;\n    this.e.addItem(a, b);\n    this.f.addItem(a.id, a);\n    var c = false;\n\n    if (this.k == 0) {\n      c = true;\n    }\n\n    this.k++;\n\n    if (c) {\n      this.n();\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.o = function (a) {\n    if (!this.e.containsKey(a)) {\n      return;\n    }\n\n    var b = this.e.item(a);\n    this.g.h(b);\n    this.f.removeItem(a.id);\n    this.e.removeItem(a);\n    var c = false;\n    this.k--;\n\n    if (this.k == 0) {\n      c = true;\n    }\n\n    if (c) {\n      this.p();\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.p = function () {\n    if (this.l >= 0) {\n      this.c.teardownTicking(this.l);\n      this.l = -1;\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.n = function () {\n    this.l = this.c.setupTicking(runOn(this, this.q));\n    this.c.requestFrame(this.l);\n  };\n\n  KeyFrameAnimationTimeline.prototype.q = function () {\n    var a = this.j;\n    this.i = a;\n\n    try {\n      this.d = true;\n      var b = this.g.c;\n\n      if (b == null) {\n        this.p();\n        this.d = false;\n        return;\n      }\n\n      while (b != null) {\n        var c = b.c;\n\n        if (c.playState == 1) {\n          c.aq();\n        } else {\n          c.aq();\n          this.o(b.c);\n        }\n\n        b = b.a;\n      }\n\n      this.c.requestFrame(this.l);\n    } finally {\n      this.d = false;\n    }\n  };\n\n  KeyFrameAnimationTimeline.$t = markType(KeyFrameAnimationTimeline, 'KeyFrameAnimationTimeline');\n  return KeyFrameAnimationTimeline;\n}(Base);\n\nexport { KeyFrameAnimationTimeline };\n/**\n * @hidden\n */\n\nexport var IKeyFrameAnimation_$type = /*@__PURE__*/new Type(null, 'IKeyFrameAnimation');\n/**\n * @hidden\n */\n\nvar KeyFrameAnimationDirect =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(KeyFrameAnimationDirect, _super);\n\n  function KeyFrameAnimationDirect(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.m = NaN;\n    _this.d = false;\n    _this.p = NaN;\n    _this.i = false;\n    _this.u = null;\n    _this.n = NaN;\n    _this.g = false;\n    _this.o = 1;\n    _this.q = NaN;\n    _this.j = false;\n    _this.b = null;\n    _this.onFinished = null;\n    _this.onCanceled = null;\n    _this.h = false;\n    _this.f = false;\n    _this.e = false;\n    _this.w = null;\n    _this.v = null;\n    _this.u = \"AUTO_ID_\" + KeyFrameAnimationDirect.t.toString();\n    KeyFrameAnimationDirect.t++;\n    _this.effect = a;\n    _this.effect.r = _this;\n    _this.b = b;\n    return _this;\n  }\n\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"effect\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      this.a = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"l\", {\n    get: function () {\n      if (this.d) {\n        return true;\n      }\n\n      if (this.j) {\n        return true;\n      }\n\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"currentTime\", {\n    get: function () {\n      if (this.d) {\n        return this.m;\n      }\n\n      return (this.c.j - this.startTime) * this.playbackRate;\n    },\n    set: function (a) {\n      this.ar(a);\n      this.as(true, false);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  KeyFrameAnimationDirect.prototype.as = function (a, b) {\n    var _this = this;\n\n    var c;\n    var d = false;\n\n    if (!a) {\n      var e = this.d;\n      this.d = false;\n      c = this.currentTime;\n      d = this.l;\n      this.d = e;\n    } else {\n      c = this.currentTime;\n      d = this.l;\n    }\n\n    if (d && this.j && !this.f && !this.h) {\n      if (this.playbackRate > 0 && c >= this.r) {\n        if (a) {\n          this.m = c;\n          this.d = true;\n        } else {\n          if (this.i) {\n            this.m = Math.max(this.p, this.r);\n          } else {\n            this.m = this.r;\n          }\n        }\n      } else if (this.playbackRate < 0 && c <= 0) {\n        if (a) {\n          this.m = c;\n        } else {\n          if (this.i) {\n            this.m = Math.min(this.p, 0);\n          } else {\n            this.m = 0;\n          }\n        }\n      }\n\n      if (this.playbackRate != 0) {\n        if (a && this.d) {\n          this.q = this.c.j - this.m / this.playbackRate;\n          this.j = true;\n          this.d = false;\n        }\n      }\n    }\n\n    this.p = this.currentTime;\n    this.i = true;\n    var f = this.playState == 3;\n\n    if (!b && f && !this.k()) {\n      this.an(function () {\n        return _this.ad();\n      });\n    }\n\n    if (f && !this.k()) {\n      if (b) {\n        this.aa();\n        this.ad();\n      }\n    }\n\n    if (!f && this.k()) {\n      this.v = this.x();\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.x = function () {\n    return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n  };\n\n  KeyFrameAnimationDirect.prototype.aa = function () {\n    this.e = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ad = function () {\n    if (!this.e) {\n      return;\n    }\n\n    this.e = false;\n\n    if (this.playState != 3) {\n      return;\n    }\n\n    this.al(this);\n    this.ah();\n  };\n\n  KeyFrameAnimationDirect.prototype.ah = function () {};\n\n  KeyFrameAnimationDirect.prototype.al = function (a) {\n    this.v.e(a);\n  };\n\n  KeyFrameAnimationDirect.prototype.an = function (a) {\n    if (!this.e) {\n      this.e = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.k = function () {\n    return this.v == null || this.v.b.c;\n  };\n\n  KeyFrameAnimationDirect.prototype.ar = function (a) {\n    if (this.d || !this.j || this.playbackRate == 0) {\n      this.m = a;\n      this.d = true;\n    } else {\n      this.q = this.c.j - a / this.playbackRate;\n    }\n  };\n\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"finished\", {\n    get: function () {\n      return this.v.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"ready\", {\n    get: function () {\n      return this.w.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"id\", {\n    get: function () {\n      return this.u;\n    },\n    set: function (a) {\n      this.u = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"r\", {\n    get: function () {\n      return this.effect != null ? this.effect.as : 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playState\", {\n    get: function () {\n      if (!this.l && !this.f && !this.h) {\n        return 0;\n      } else if (this.f || !this.j && !this.h) {\n        return 2;\n      } else if (this.l && (this.s > 0 && this.currentTime >= this.r || this.s < 0 && this.currentTime <= 0)) {\n        return 3;\n      }\n\n      return 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"s\", {\n    get: function () {\n      if (this.g) {\n        return this.n;\n      }\n\n      return this.o;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playbackRate\", {\n    get: function () {\n      return this.o;\n    },\n    set: function (a) {\n      this.o = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"startTime\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      var b = this.c.j;\n      var c = this.p;\n      this.q = a;\n      this.j = true;\n\n      if (this.playbackRate != 0) {\n        this.d = false;\n      }\n\n      this.as(true, false);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"c\", {\n    get: function () {\n      return this.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  KeyFrameAnimationDirect.prototype.cancel = function () {\n    if (this.playState != 0) {\n      this.ak();\n      this.ai(\"AbortError\");\n      this.v = this.x();\n      this.ag();\n      this.d = false;\n      this.j = false;\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ai = function (a) {\n    if (this.v != null) {\n      this.v.d(new BaseError(1, a));\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.aj = function (a) {\n    if (this.w != null) {\n      this.w.d(new BaseError(1, a));\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ag = function () {};\n\n  KeyFrameAnimationDirect.prototype.ak = function () {\n    if (this.h) {\n      this.h = false;\n    }\n\n    if (this.f) {\n      this.f = false;\n    }\n\n    this.z();\n    this.aj(\"AbortError\");\n  };\n\n  KeyFrameAnimationDirect.prototype.finish = function () {\n    if (this.s == 0 || this.s > 0 && isInfinity(this.r)) {\n      return;\n    }\n\n    this.z();\n    var a;\n\n    if (this.playbackRate > 0) {\n      a = this.r;\n    } else {\n      a = 0;\n    }\n\n    this.ar(a);\n\n    if (!this.j) {\n      this.q = this.c.j - a / this.playbackRate;\n      this.j = true;\n    }\n\n    if (this.f && this.j) {\n      this.d = false;\n      this.ab();\n      this.am(this);\n    }\n\n    if (this.h && this.j) {\n      this.ac();\n      this.am(this);\n    }\n\n    this.as(true, true);\n  };\n\n  KeyFrameAnimationDirect.prototype.pause = function () {\n    this.ae();\n  };\n\n  KeyFrameAnimationDirect.prototype.ae = function () {\n    var _this = this;\n\n    if (this.f) {\n      return;\n    }\n\n    if (this.playState == 2) {\n      return;\n    }\n\n    if (!this.l) {\n      if (this.playbackRate >= 0) {\n        this.d = true;\n        this.m = 0;\n      }\n\n      if (isInfinity(this.r)) {\n        return;\n      }\n\n      this.m = this.r;\n      this.d = true;\n    }\n\n    var a = false;\n\n    if (this.h) {\n      a = true;\n    }\n\n    if (!a) {\n      this.w = this.y();\n    }\n\n    this.ao(function () {\n      if (!_this.f) {\n        return;\n      }\n\n      _this.f = false;\n      var b = _this.c.j;\n\n      if (_this.j && !_this.d) {\n        _this.m = (b - _this.q) * _this.playbackRate;\n      }\n\n      _this.z();\n\n      _this.j = false;\n\n      _this.am(_this);\n\n      _this.as(false, false);\n    });\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.prototype.y = function () {\n    return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n  };\n\n  KeyFrameAnimationDirect.prototype.ao = function (a) {\n    if (!this.f) {\n      this.f = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.play = function () {\n    this.af(true);\n  };\n\n  KeyFrameAnimationDirect.prototype.af = function (a) {\n    var _this = this;\n\n    var b = this.f;\n\n    if (this.s > 0 && a && (!this.l || this.currentTime < 0 || this.currentTime >= this.r)) {\n      this.m = 0;\n      this.d = true;\n    } else if (this.s < 0 && a && (!this.l || this.currentTime <= 0 || this.currentTime > this.r)) {\n      if (isInfinity(this.r)) {\n        return;\n      }\n\n      this.m = this.r;\n      this.d = true;\n    } else if (this.s == 0 && !this.l) {\n      this.m = 0;\n      this.d = true;\n    }\n\n    var c = false;\n\n    if (this.f) {\n      this.ab();\n      c = true;\n    }\n\n    if (this.h) {\n      this.ac();\n      c = true;\n    }\n\n    if (!this.d && !b && !this.g) {\n      return;\n    }\n\n    if (this.d) {\n      this.j = false;\n    }\n\n    if (!c) {\n      this.w = this.y();\n    }\n\n    this.ap(function () {\n      if (!_this.h) {\n        return;\n      }\n\n      _this.h = false;\n\n      if (!_this.j && !_this.d) {\n        return;\n      }\n\n      var d = _this.c.j;\n\n      if (_this.d) {\n        _this.z();\n\n        var e = d;\n\n        if (_this.playbackRate != 0) {\n          e = d - _this.m / _this.playbackRate;\n        }\n\n        _this.q = e;\n        _this.j = true;\n\n        if (_this.playbackRate != 0) {\n          _this.d = false;\n        }\n      } else if (_this.j && _this.g) {\n        var f = (d - _this.q) * _this.playbackRate;\n\n        _this.z();\n\n        if (_this.playbackRate == 0) {\n          _this.m = f;\n          _this.d = true;\n        }\n\n        var g = d;\n\n        if (_this.playbackRate != 0) {\n          g = d - f / _this.playbackRate;\n        }\n\n        _this.q = g;\n        _this.j = true;\n      }\n\n      _this.am(_this);\n\n      _this.as(false, false);\n\n      _this.c.m(_this);\n    });\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.prototype.am = function (a) {\n    if (this.w != null) {\n      this.w.e(a);\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ab = function () {\n    this.f = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ac = function () {\n    this.h = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ap = function (a) {\n    if (!this.h) {\n      this.h = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.reverse = function () {\n    var a = this.n;\n    this.n = -this.s;\n    this.g = true;\n    this.af(true);\n  };\n\n  KeyFrameAnimationDirect.prototype.updatePlaybackRate = function (a) {\n    var b = this.playState;\n    this.n = a;\n    this.g = true;\n\n    if (b == 0 || b == 2) {\n      this.z();\n    } else if (b == 3) {\n      var c = this.d;\n      this.d = false;\n      var d = this.currentTime;\n      this.d = c;\n\n      if (this.n == 0) {\n        this.q = this.c.j;\n      } else {\n        this.q = this.c.j - d / this.n;\n      }\n\n      this.z();\n    } else {\n      this.af(false);\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.z = function () {\n    if (this.g) {\n      this.o = this.n;\n      this.g = false;\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.commitStyles = function () {\n    this.effect.a6();\n  };\n\n  KeyFrameAnimationDirect.prototype.aq = function () {\n    this.effect.a7();\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.$t = markType(KeyFrameAnimationDirect, 'KeyFrameAnimationDirect', Base.$, [IKeyFrameAnimation_$type]);\n  KeyFrameAnimationDirect.t = 0;\n  return KeyFrameAnimationDirect;\n}(Base);\n\nexport { KeyFrameAnimationDirect };\n/**\n * @hidden\n */\n\nvar AnimationKeyFrameEffect =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(AnimationKeyFrameEffect, _super);\n\n  function AnimationKeyFrameEffect(a) {\n    var _rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      _rest[_i - 1] = arguments[_i];\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.r = null;\n    _this.a4 = null;\n    _this.o = 0;\n    _this.q = null;\n    _this.ag = new List$1(AnimationKeyFrame.$, 0);\n    _this.c = null;\n    _this.al = 0;\n    _this.ah = 0;\n    _this.az = null;\n    _this.t = 0;\n    _this.ai = 0;\n    _this.aj = 0;\n    _this.v = 0;\n    _this.ak = 0;\n    _this.u = 0;\n    _this.d = null;\n    _this.a = null;\n    _this.b = null;\n    _this.p = null;\n    a = a == void 0 ? 0 : a;\n\n    switch (a) {\n      case 0:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          _this.a4 = c;\n          _this.o = d;\n          _this.p = f;\n\n          _this.a8();\n\n          _this.q = e;\n        }\n        break;\n\n      case 1:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          var g = _rest[4];\n          _this.a4 = c;\n          _this.o = d;\n          _this.q = e;\n          _this.p = f;\n\n          _this.a8();\n\n          _this.ag.o(g);\n        }\n        break;\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"an\", {\n    get: function () {\n      return this.aj * this.ai;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"as\", {\n    get: function () {\n      return Math.max(this.al + this.an + this.ah, 0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.a8 = function () {\n    this.al = this.p.f;\n    this.ah = this.p.h;\n    this.t = this.p.a;\n    this.ai = this.p.i;\n    this.aj = this.p.g;\n    this.v = this.p.c;\n    this.ak = this.p.j;\n    this.u = this.p.b;\n    this.az = this.a0(this.u);\n  };\n\n  AnimationKeyFrameEffect.prototype.a0 = function (a) {\n    switch (a) {\n      case 3:\n        return function (b) {\n          return b;\n        };\n\n      case 1:\n        return EasingFunctions.exponentialEase;\n\n      case 2:\n        return EasingFunctions.circleEase;\n\n      case 0:\n        return EasingFunctions.cubicEase;\n    }\n\n    return function (b) {\n      return b;\n    };\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"k\", {\n    get: function () {\n      if (this.d == null) {\n        this.d = this.e();\n      }\n\n      return this.d;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.e = function () {\n    var a = this.h;\n\n    if (a.length <= 1) {\n      return [0];\n    }\n\n    var b = new Array(a.length);\n    var c = 1 / (a.length - 1);\n    var d = 0;\n\n    for (var e = 0; e < a.length; e++) {\n      if (isNaN_(a[e].j)) {\n        b[e] = d;\n      } else {\n        b[e] = a[e].j;\n        d = a[e].j;\n\n        if (a.length - 1 - e > 0) {\n          c = (1 - d) / (a.length - 1 - e);\n        }\n      }\n\n      d += c;\n    }\n\n    return b;\n  };\n\n  AnimationKeyFrameEffect.prototype.l = function (a) {\n    this.ag.add(a);\n    this.c = null;\n    this.a = null;\n    return this;\n  };\n\n  AnimationKeyFrameEffect.prototype.m = function () {\n    var a = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      a[_i] = arguments[_i];\n    }\n\n    var b = new AnimationKeyFrame(0);\n\n    if (a != null) {\n      for (var c = 0; c < a.length; c++) {\n        b.c(a[c]);\n      }\n    }\n\n    this.l(b);\n    return this;\n  };\n\n  AnimationKeyFrameEffect.prototype.n = function (a) {\n    var b = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      b[_i - 1] = arguments[_i];\n    }\n\n    var c = new AnimationKeyFrame(1, a);\n\n    if (b != null) {\n      for (var d = 0; d < b.length; d++) {\n        c.c(b[d]);\n      }\n    }\n\n    this.l(c);\n    return this;\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"au\", {\n    get: function () {\n      if (this.r != null) {\n        return this.r.currentTime;\n      }\n\n      return NaN;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ac\", {\n    get: function () {\n      if (this.r != null) {\n        return this.r.l;\n      }\n\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ap\", {\n    get: function () {\n      return Math.max(Math.min(this.al, this.as), 0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"am\", {\n    get: function () {\n      return Math.max(Math.min(this.al + this.an, this.as), 0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"w\", {\n    get: function () {\n      if (this.r != null && this.r.playbackRate < 0) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"s\", {\n    get: function () {\n      if (this.ac && (this.au < this.ap || !this.w && this.au == this.ap)) {\n        return 0;\n      }\n\n      if (this.ac && (this.au > this.am || this.w && this.au == this.am)) {\n        return 2;\n      }\n\n      if (this.ac) {\n        return 1;\n      }\n\n      return 3;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ao\", {\n    get: function () {\n      var a = this.s;\n\n      switch (a) {\n        case 0:\n          if (this.t == 3 || this.t == 4) {\n            return Math.max(this.au - this.al, 0);\n          } else {\n            return NaN;\n          }\n\n        case 1:\n          return this.au - this.al;\n\n        case 2:\n          if (this.t == 2 || this.t == 4) {\n            return Math.max(Math.min(this.au - this.al, this.an), 0);\n          } else {\n            return NaN;\n          }\n\n        default:\n          return NaN;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"y\", {\n    get: function () {\n      if (!this.ac) {\n        return false;\n      }\n\n      var a = this.s;\n\n      switch (a) {\n        case 0:\n          if (this.t == 3 || this.t == 4) {\n            return true;\n          } else {\n            return false;\n          }\n\n        case 1:\n          return true;\n\n        case 2:\n          if (this.t == 2 || this.t == 4) {\n            return true;\n          } else {\n            return false;\n          }\n\n        default:\n          return false;\n      }\n\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ad\", {\n    get: function () {\n      if (!this.y) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"av\", {\n    get: function () {\n      if (!this.y) {\n        return NaN;\n      }\n\n      var a = 0;\n\n      if (this.aj == 0) {\n        if (this.s == 0) {\n          a = 0;\n        } else {\n          a = this.ai;\n        }\n      } else {\n        a = this.ao / this.aj;\n      }\n\n      return a + this.ak;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ae\", {\n    get: function () {\n      if (!this.ad) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aw\", {\n    get: function () {\n      if (!this.ad) {\n        return NaN;\n      }\n\n      var a = 1;\n\n      if (isInfinity(this.av)) {\n        a = this.ak % 1;\n      } else {\n        a = this.av % 1;\n      }\n\n      if (a == 0 && (this.s == 1 || this.s == 2) && this.ao == this.an && this.ai != 0) {\n        a = 1;\n      }\n\n      return a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"z\", {\n    get: function () {\n      if (!this.y) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aq\", {\n    get: function () {\n      if (!this.y) {\n        return NaN;\n      }\n\n      if (this.s == 2 && isInfinity(this.ai)) {\n        return Number.POSITIVE_INFINITY;\n      }\n\n      if (this.aw == 1) {\n        return Math.floor(this.av) - 1;\n      }\n\n      return Math.floor(this.av);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aa\", {\n    get: function () {\n      return this.ae;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ar\", {\n    get: function () {\n      if (!this.ae) {\n        return NaN;\n      }\n\n      var a = this.x();\n\n      if (a) {\n        return this.aw;\n      } else {\n        return 1 - this.aw;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.x = function () {\n    var a = true;\n\n    if (this.v == 0) {\n      a = true;\n    } else if (this.v == 1) {\n      a = false;\n    } else {\n      var b = this.aq;\n\n      if (this.v == 3) {\n        b++;\n      }\n\n      if (isInfinity(b)) {\n        a = true;\n      } else {\n        if (b % 2 == 0) {\n          a = true;\n        } else {\n          a = false;\n        }\n      }\n    }\n\n    return a;\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"af\", {\n    get: function () {\n      return this.aa;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ay\", {\n    get: function () {\n      if (!this.aa) {\n        return NaN;\n      }\n\n      var a = false;\n      var b = this.x();\n\n      if (b && this.s == 0) {\n        a = true;\n      }\n\n      if (!b && this.s == 2) {\n        a = true;\n      }\n\n      return this.ax(this.ar, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"at\", {\n    get: function () {\n      return this.ay;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ab\", {\n    get: function () {\n      return this.af;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.ax = function (a, b) {\n    return this.az(a);\n  };\n\n  AnimationKeyFrameEffect.prototype.a7 = function () {\n    if (!this.af) {\n      return;\n    }\n\n    var a = this.ay;\n\n    for (var b = 0; b < this.f.length; b++) {\n      var c = this.a1(this.f[b], this.g[b]);\n      this.a5(this.f[b], this.g[b], c);\n    }\n  };\n\n  AnimationKeyFrameEffect.prototype.a5 = function (a, b, c) {\n    b.c(this.a4, c);\n  };\n\n  AnimationKeyFrameEffect.prototype.a1 = function (a, b) {\n    if (!this.ab) {\n      return null;\n    }\n\n    var c = a;\n    var d = this.at;\n\n    if (this.a4 == null) {\n      return null;\n    }\n\n    var e = this.a2(c, b);\n    var f = new List$1(AnimationKeyFrame.$, 0);\n    var g = new List$1(Number_$type, 0);\n\n    for (var h = 0; h < this.h.length; h++) {\n      for (var i = 0; i < this.h[h].b.length; i++) {\n        if (this.h[h].b[i].a == c) {\n          f.add(this.h[h]);\n          g.add(this.k[h]);\n        }\n      }\n    }\n\n    if (f.count == 0) {\n      return e;\n    }\n\n    if (g._inner[0] != 0) {\n      f.insert(0, new AnimationKeyFrame(1, 0).c(new AnimationKeyFrameProperty(c, e)));\n      g.insert(0, 0);\n    }\n\n    if (g._inner[f.count - 1] != 1) {\n      f.add(new AnimationKeyFrame(1, 1).c(new AnimationKeyFrameProperty(c, e)));\n      g.add(1);\n    }\n\n    var j = false;\n    var k = new List$1(AnimationKeyFrame.$, 0);\n    var l = new List$1(Number_$type, 0);\n\n    if (d < 0) {\n      var m = 0;\n\n      for (var n = 0; n < f.count; n++) {\n        if (g._inner[n] == 0) {\n          m++;\n        } else {\n          break;\n        }\n      }\n\n      if (m > 1) {\n        j = true;\n        k.add(f._inner[0]);\n        l.add(g._inner[0]);\n      }\n    }\n\n    if (d >= 1) {\n      var o = 0;\n\n      for (var p = f.count - 1; p >= 0; p--) {\n        if (g._inner[p] == 1) {\n          o++;\n        } else {\n          break;\n        }\n      }\n\n      if (o > 1) {\n        j = true;\n        k.add(f._inner[f.count - 1]);\n        l.add(g._inner[f.count - 1]);\n      }\n    }\n\n    if (!j) {\n      var q = null;\n      var r = -1;\n\n      for (var s = 0; s < f.count; s++) {\n        if (g._inner[s] <= d) {\n          q = f._inner[s];\n          r = s;\n        } else {\n          break;\n        }\n      }\n\n      if (r == -1) {\n        for (var t = 0; t < f.count; t++) {\n          if (g._inner[t] == 0) {\n            q = f._inner[t];\n            r = t;\n          } else {\n            break;\n          }\n        }\n      }\n\n      k.add(q);\n      l.add(g._inner[r]);\n\n      if (r < g.count - 1) {\n        k.add(f._inner[r + 1]);\n        l.add(g._inner[r + 1]);\n      }\n    }\n\n    if (k.count == 1) {\n      for (var u = 0; u < k._inner[0].b.length; u++) {\n        if (k._inner[0].b[u].a == c) {\n          return k._inner[0].b[u].d;\n        }\n      }\n\n      return null;\n    }\n\n    var v = l._inner[0];\n    var w = l._inner[k.count - 1];\n\n    var x = k._inner[0].g(c).d;\n\n    var y = k._inner[1].g(c).d;\n\n    var z = (d - v) / (w - v);\n    return this.a3(c, z, x, y);\n  };\n\n  AnimationKeyFrameEffect.prototype.a3 = function (a, b, c, d) {\n    switch (a) {\n      case 2:\n      case 3:\n      case 7:\n      case 15:\n      case 16:\n        return BrushUtil.k(c, b, d, 0);\n\n      case 4:\n      case 13:\n      case 6:\n        return InterpolationUtil.f(b, c, d);\n\n      case 11:\n      case 10:\n      case 12:\n      case 8:\n      case 9:\n      case 17:\n      case 19:\n        return c + b * (d - c);\n\n      case 1:\n        return c + b * (d - c);\n\n      case 5:\n        return InterpolationUtil.d(b, c, d);\n\n      case 14:\n        return this.a9(b, c, d);\n\n      case 18:\n        return InterpolationUtil.a(b, c, d);\n\n      default:\n        if (b < 0.5) {\n          return c;\n        } else {\n          return d;\n        }\n\n    }\n\n    return null;\n  };\n\n  AnimationKeyFrameEffect.prototype.a9 = function (a, b, c) {\n    var d = TransformMatrixHelpler.d(a, b.j, c.j);\n    var e = new MatrixTransform();\n    e.j = d;\n    return e;\n  };\n\n  AnimationKeyFrameEffect.prototype.a2 = function (a, b) {\n    return b.b(this.a4);\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"h\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.c;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"f\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"g\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.j = function () {\n    var a = new List$1(UIElementPropertyAccessor.$, 0);\n\n    for (var b = 0; b < this.f.length; b++) {\n      a.add(UIElementPropertyAccessorFactory.c.a(this.f[b], this.o));\n    }\n\n    return a.toArray();\n  };\n\n  AnimationKeyFrameEffect.prototype.i = function () {\n    var a = new List$1(UIElementPropertyId_$type, 0);\n    var b = new HashSet$1(UIElementPropertyId_$type, 0);\n\n    for (var c = 0; c < this.h.length; c++) {\n      for (var d = 0; d < this.h[c].b.length; d++) {\n        if (!b.contains(this.h[c].b[d].a)) {\n          b.add_1(this.h[c].b[d].a);\n          a.add(this.h[c].b[d].a);\n        }\n      }\n    }\n\n    return a.toArray();\n  };\n\n  AnimationKeyFrameEffect.prototype.a6 = function () {\n    var a = this.t;\n    this.t = 4;\n    this.a7();\n    this.t = a;\n  };\n\n  AnimationKeyFrameEffect.$t = markType(AnimationKeyFrameEffect, 'AnimationKeyFrameEffect');\n  return AnimationKeyFrameEffect;\n}(Base);\n\nexport { AnimationKeyFrameEffect };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/KeyFrameAnimationTimeline_combined.js"],"names":["__extends","Base","String_$type","runOn","Type","markType","BaseError","Number_$type","LinkedList$1","Dictionary$2","LinkedListNode$1","timeSpanTotalMilliseconds","dateNow","TaskCompletionSource$1","isInfinity","isNaN_","AnimationKeyFrame","List$1","UIElementPropertyId_$type","UIElementPropertyAccessor","EasingFunctions","AnimationKeyFrameProperty","BrushUtil","InterpolationUtil","MatrixTransform","TransformMatrixHelpler","UIElementPropertyAccessorFactory","HashSet$1","KeyFrameAnimationTimeline","_super","a","b","_this","call","c","h","Date","g","IKeyFrameAnimation_$type","f","e","$","specialize","k","d","i","l","Object","defineProperty","prototype","get","enumerable","configurable","m","containsKey","id","addItem","n","o","item","removeItem","p","teardownTicking","setupTicking","q","requestFrame","j","playState","aq","$t","KeyFrameAnimationDirect","NaN","u","onFinished","onCanceled","w","v","t","toString","effect","r","set","startTime","playbackRate","ar","as","currentTime","Math","max","min","an","ad","aa","x","al","ah","enqueueAction","s","cancel","ak","ai","ag","aj","z","finish","ab","am","ac","pause","ae","y","ao","play","af","ap","reverse","updatePlaybackRate","commitStyles","a6","a7","AnimationKeyFrameEffect","_rest","_i","arguments","length","a4","az","a8","a0","exponentialEase","circleEase","cubicEase","Array","add","au","av","Number","POSITIVE_INFINITY","aw","floor","ax","ay","a1","a5","at","a2","count","_inner","insert","a3","a9","toArray","contains","add_1"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, runOn, Type, markType, BaseError, Number_$type } from \"./type\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { LinkedListNode$1 } from \"./LinkedListNode$1\";\nimport { timeSpanTotalMilliseconds } from \"./timespan\";\nimport { dateNow } from \"./date\";\nimport { TaskCompletionSource$1 } from \"./TaskCompletionSource$1\";\nimport { isInfinity, isNaN_ } from \"./number\";\nimport { AnimationKeyFrame } from \"./AnimationKeyFrame\";\nimport { List$1 } from \"./List$1\";\nimport { UIElementPropertyId_$type } from \"./UIElementPropertyId\";\nimport { UIElementPropertyAccessor } from \"./UIElementPropertyAccessor\";\nimport { EasingFunctions } from \"./EasingFunctions\";\nimport { AnimationKeyFrameProperty } from \"./AnimationKeyFrameProperty\";\nimport { BrushUtil } from \"./BrushUtil\";\nimport { InterpolationUtil } from \"./InterpolationUtil\";\nimport { MatrixTransform } from \"./MatrixTransform\";\nimport { TransformMatrixHelpler } from \"./TransformMatrixHelpler\";\nimport { UIElementPropertyAccessorFactory } from \"./UIElementPropertyAccessorFactory\";\nimport { HashSet$1 } from \"./HashSet$1\";\n/**\n * @hidden\n */\nvar KeyFrameAnimationTimeline = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(KeyFrameAnimationTimeline, _super);\n    function KeyFrameAnimationTimeline(a, b) {\n        var _this = _super.call(this) || this;\n        _this.c = null;\n        _this.a = null;\n        _this.h = new Date();\n        _this.g = new LinkedList$1(IKeyFrameAnimation_$type);\n        _this.f = new Dictionary$2(String_$type, IKeyFrameAnimation_$type, 0);\n        _this.e = new Dictionary$2(IKeyFrameAnimation_$type, LinkedListNode$1.$.specialize(IKeyFrameAnimation_$type), 0);\n        _this.k = 0;\n        _this.d = false;\n        _this.i = 0;\n        _this.l = -1;\n        _this.c = a;\n        _this.a = b;\n        _this.h = dateNow();\n        return _this;\n    }\n    Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"b\", {\n        get: function () {\n            return this.a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"j\", {\n        get: function () {\n            if (this.d) {\n                return this.i;\n            }\n            return timeSpanTotalMilliseconds((+(dateNow()) - +(this.h)));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    KeyFrameAnimationTimeline.prototype.m = function (a) {\n        if (this.f.containsKey(a.id)) {\n            return;\n        }\n        this.g.f(a);\n        var b = this.g.d;\n        this.e.addItem(a, b);\n        this.f.addItem(a.id, a);\n        var c = false;\n        if (this.k == 0) {\n            c = true;\n        }\n        this.k++;\n        if (c) {\n            this.n();\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.o = function (a) {\n        if (!this.e.containsKey(a)) {\n            return;\n        }\n        var b = this.e.item(a);\n        this.g.h(b);\n        this.f.removeItem(a.id);\n        this.e.removeItem(a);\n        var c = false;\n        this.k--;\n        if (this.k == 0) {\n            c = true;\n        }\n        if (c) {\n            this.p();\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.p = function () {\n        if (this.l >= 0) {\n            this.c.teardownTicking(this.l);\n            this.l = -1;\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.n = function () {\n        this.l = this.c.setupTicking(runOn(this, this.q));\n        this.c.requestFrame(this.l);\n    };\n    KeyFrameAnimationTimeline.prototype.q = function () {\n        var a = this.j;\n        this.i = a;\n        try {\n            this.d = true;\n            var b = this.g.c;\n            if (b == null) {\n                this.p();\n                this.d = false;\n                return;\n            }\n            while (b != null) {\n                var c = b.c;\n                if (c.playState == 1) {\n                    c.aq();\n                }\n                else {\n                    c.aq();\n                    this.o(b.c);\n                }\n                b = b.a;\n            }\n            this.c.requestFrame(this.l);\n        }\n        finally {\n            this.d = false;\n        }\n    };\n    KeyFrameAnimationTimeline.$t = markType(KeyFrameAnimationTimeline, 'KeyFrameAnimationTimeline');\n    return KeyFrameAnimationTimeline;\n}(Base));\nexport { KeyFrameAnimationTimeline };\n/**\n * @hidden\n */\nexport var IKeyFrameAnimation_$type = /*@__PURE__*/ new Type(null, 'IKeyFrameAnimation');\n/**\n * @hidden\n */\nvar KeyFrameAnimationDirect = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(KeyFrameAnimationDirect, _super);\n    function KeyFrameAnimationDirect(a, b) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.m = NaN;\n        _this.d = false;\n        _this.p = NaN;\n        _this.i = false;\n        _this.u = null;\n        _this.n = NaN;\n        _this.g = false;\n        _this.o = 1;\n        _this.q = NaN;\n        _this.j = false;\n        _this.b = null;\n        _this.onFinished = null;\n        _this.onCanceled = null;\n        _this.h = false;\n        _this.f = false;\n        _this.e = false;\n        _this.w = null;\n        _this.v = null;\n        _this.u = \"AUTO_ID_\" + KeyFrameAnimationDirect.t.toString();\n        KeyFrameAnimationDirect.t++;\n        _this.effect = a;\n        _this.effect.r = _this;\n        _this.b = b;\n        return _this;\n    }\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"effect\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            this.a = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"l\", {\n        get: function () {\n            if (this.d) {\n                return true;\n            }\n            if (this.j) {\n                return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"currentTime\", {\n        get: function () {\n            if (this.d) {\n                return this.m;\n            }\n            return (this.c.j - this.startTime) * this.playbackRate;\n        },\n        set: function (a) {\n            this.ar(a);\n            this.as(true, false);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    KeyFrameAnimationDirect.prototype.as = function (a, b) {\n        var _this = this;\n        var c;\n        var d = false;\n        if (!a) {\n            var e = this.d;\n            this.d = false;\n            c = this.currentTime;\n            d = this.l;\n            this.d = e;\n        }\n        else {\n            c = this.currentTime;\n            d = this.l;\n        }\n        if (d && this.j && !this.f && !this.h) {\n            if (this.playbackRate > 0 && c >= this.r) {\n                if (a) {\n                    this.m = c;\n                    this.d = true;\n                }\n                else {\n                    if (this.i) {\n                        this.m = Math.max(this.p, this.r);\n                    }\n                    else {\n                        this.m = this.r;\n                    }\n                }\n            }\n            else if (this.playbackRate < 0 && c <= 0) {\n                if (a) {\n                    this.m = c;\n                }\n                else {\n                    if (this.i) {\n                        this.m = Math.min(this.p, 0);\n                    }\n                    else {\n                        this.m = 0;\n                    }\n                }\n            }\n            if (this.playbackRate != 0) {\n                if (a && this.d) {\n                    this.q = this.c.j - (this.m / this.playbackRate);\n                    this.j = true;\n                    this.d = false;\n                }\n            }\n        }\n        this.p = this.currentTime;\n        this.i = true;\n        var f = this.playState == 3;\n        if (!b && f && !this.k()) {\n            this.an(function () { return _this.ad(); });\n        }\n        if (f && !this.k()) {\n            if (b) {\n                this.aa();\n                this.ad();\n            }\n        }\n        if (!f && this.k()) {\n            this.v = this.x();\n        }\n    };\n    KeyFrameAnimationDirect.prototype.x = function () {\n        return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n    };\n    KeyFrameAnimationDirect.prototype.aa = function () {\n        this.e = false;\n    };\n    KeyFrameAnimationDirect.prototype.ad = function () {\n        if (!this.e) {\n            return;\n        }\n        this.e = false;\n        if (this.playState != 3) {\n            return;\n        }\n        this.al(this);\n        this.ah();\n    };\n    KeyFrameAnimationDirect.prototype.ah = function () {\n    };\n    KeyFrameAnimationDirect.prototype.al = function (a) {\n        this.v.e(a);\n    };\n    KeyFrameAnimationDirect.prototype.an = function (a) {\n        if (!this.e) {\n            this.e = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.k = function () {\n        return this.v == null || this.v.b.c;\n    };\n    KeyFrameAnimationDirect.prototype.ar = function (a) {\n        if (this.d || !this.j || this.playbackRate == 0) {\n            this.m = a;\n            this.d = true;\n        }\n        else {\n            this.q = this.c.j - (a / this.playbackRate);\n        }\n    };\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"finished\", {\n        get: function () {\n            return this.v.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"ready\", {\n        get: function () {\n            return this.w.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"id\", {\n        get: function () {\n            return this.u;\n        },\n        set: function (a) {\n            this.u = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"r\", {\n        get: function () {\n            return this.effect != null ? this.effect.as : 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playState\", {\n        get: function () {\n            if (!this.l && !this.f && !this.h) {\n                return 0;\n            }\n            else if (this.f || (!this.j && !this.h)) {\n                return 2;\n            }\n            else if (this.l && (this.s > 0 && this.currentTime >= this.r || this.s < 0 && this.currentTime <= 0)) {\n                return 3;\n            }\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"s\", {\n        get: function () {\n            if (this.g) {\n                return this.n;\n            }\n            return this.o;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playbackRate\", {\n        get: function () {\n            return this.o;\n        },\n        set: function (a) {\n            this.o = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"startTime\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.c.j;\n            var c = this.p;\n            this.q = a;\n            this.j = true;\n            if (this.playbackRate != 0) {\n                this.d = false;\n            }\n            this.as(true, false);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"c\", {\n        get: function () {\n            return this.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    KeyFrameAnimationDirect.prototype.cancel = function () {\n        if (this.playState != 0) {\n            this.ak();\n            this.ai(\"AbortError\");\n            this.v = this.x();\n            this.ag();\n            this.d = false;\n            this.j = false;\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ai = function (a) {\n        if (this.v != null) {\n            this.v.d(new BaseError(1, a));\n        }\n    };\n    KeyFrameAnimationDirect.prototype.aj = function (a) {\n        if (this.w != null) {\n            this.w.d(new BaseError(1, a));\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ag = function () {\n    };\n    KeyFrameAnimationDirect.prototype.ak = function () {\n        if (this.h) {\n            this.h = false;\n        }\n        if (this.f) {\n            this.f = false;\n        }\n        this.z();\n        this.aj(\"AbortError\");\n    };\n    KeyFrameAnimationDirect.prototype.finish = function () {\n        if (this.s == 0 || (this.s > 0 && isInfinity(this.r))) {\n            return;\n        }\n        this.z();\n        var a;\n        if (this.playbackRate > 0) {\n            a = this.r;\n        }\n        else {\n            a = 0;\n        }\n        this.ar(a);\n        if (!this.j) {\n            this.q = this.c.j - (a / this.playbackRate);\n            this.j = true;\n        }\n        if (this.f && this.j) {\n            this.d = false;\n            this.ab();\n            this.am(this);\n        }\n        if (this.h && this.j) {\n            this.ac();\n            this.am(this);\n        }\n        this.as(true, true);\n    };\n    KeyFrameAnimationDirect.prototype.pause = function () {\n        this.ae();\n    };\n    KeyFrameAnimationDirect.prototype.ae = function () {\n        var _this = this;\n        if (this.f) {\n            return;\n        }\n        if (this.playState == 2) {\n            return;\n        }\n        if (!this.l) {\n            if (this.playbackRate >= 0) {\n                this.d = true;\n                this.m = 0;\n            }\n            if (isInfinity(this.r)) {\n                return;\n            }\n            this.m = this.r;\n            this.d = true;\n        }\n        var a = false;\n        if (this.h) {\n            a = true;\n        }\n        if (!a) {\n            this.w = this.y();\n        }\n        this.ao(function () {\n            if (!_this.f) {\n                return;\n            }\n            _this.f = false;\n            var b = _this.c.j;\n            if (_this.j && !_this.d) {\n                _this.m = (b - _this.q) * _this.playbackRate;\n            }\n            _this.z();\n            _this.j = false;\n            _this.am(_this);\n            _this.as(false, false);\n        });\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.prototype.y = function () {\n        return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n    };\n    KeyFrameAnimationDirect.prototype.ao = function (a) {\n        if (!this.f) {\n            this.f = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.play = function () {\n        this.af(true);\n    };\n    KeyFrameAnimationDirect.prototype.af = function (a) {\n        var _this = this;\n        var b = this.f;\n        if (this.s > 0 && a && (!this.l || this.currentTime < 0 || this.currentTime >= this.r)) {\n            this.m = 0;\n            this.d = true;\n        }\n        else if (this.s < 0 && a && (!this.l || this.currentTime <= 0 || this.currentTime > this.r)) {\n            if (isInfinity(this.r)) {\n                return;\n            }\n            this.m = this.r;\n            this.d = true;\n        }\n        else if (this.s == 0 && !this.l) {\n            this.m = 0;\n            this.d = true;\n        }\n        var c = false;\n        if (this.f) {\n            this.ab();\n            c = true;\n        }\n        if (this.h) {\n            this.ac();\n            c = true;\n        }\n        if (!this.d && !b && !this.g) {\n            return;\n        }\n        if (this.d) {\n            this.j = false;\n        }\n        if (!c) {\n            this.w = this.y();\n        }\n        this.ap(function () {\n            if (!_this.h) {\n                return;\n            }\n            _this.h = false;\n            if (!_this.j && !_this.d) {\n                return;\n            }\n            var d = _this.c.j;\n            if (_this.d) {\n                _this.z();\n                var e = d;\n                if (_this.playbackRate != 0) {\n                    e = d - _this.m / _this.playbackRate;\n                }\n                _this.q = e;\n                _this.j = true;\n                if (_this.playbackRate != 0) {\n                    _this.d = false;\n                }\n            }\n            else if (_this.j && _this.g) {\n                var f = (d - _this.q) * _this.playbackRate;\n                _this.z();\n                if (_this.playbackRate == 0) {\n                    _this.m = f;\n                    _this.d = true;\n                }\n                var g = d;\n                if (_this.playbackRate != 0) {\n                    g = d - f / _this.playbackRate;\n                }\n                _this.q = g;\n                _this.j = true;\n            }\n            _this.am(_this);\n            _this.as(false, false);\n            _this.c.m(_this);\n        });\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.prototype.am = function (a) {\n        if (this.w != null) {\n            this.w.e(a);\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ab = function () {\n        this.f = false;\n    };\n    KeyFrameAnimationDirect.prototype.ac = function () {\n        this.h = false;\n    };\n    KeyFrameAnimationDirect.prototype.ap = function (a) {\n        if (!this.h) {\n            this.h = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.reverse = function () {\n        var a = this.n;\n        this.n = -this.s;\n        this.g = true;\n        this.af(true);\n    };\n    KeyFrameAnimationDirect.prototype.updatePlaybackRate = function (a) {\n        var b = this.playState;\n        this.n = a;\n        this.g = true;\n        if (b == 0 || b == 2) {\n            this.z();\n        }\n        else if (b == 3) {\n            var c = this.d;\n            this.d = false;\n            var d = this.currentTime;\n            this.d = c;\n            if (this.n == 0) {\n                this.q = this.c.j;\n            }\n            else {\n                this.q = this.c.j - (d / this.n);\n            }\n            this.z();\n        }\n        else {\n            this.af(false);\n        }\n    };\n    KeyFrameAnimationDirect.prototype.z = function () {\n        if (this.g) {\n            this.o = this.n;\n            this.g = false;\n        }\n    };\n    KeyFrameAnimationDirect.prototype.commitStyles = function () {\n        this.effect.a6();\n    };\n    KeyFrameAnimationDirect.prototype.aq = function () {\n        this.effect.a7();\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.$t = markType(KeyFrameAnimationDirect, 'KeyFrameAnimationDirect', Base.$, [IKeyFrameAnimation_$type]);\n    KeyFrameAnimationDirect.t = 0;\n    return KeyFrameAnimationDirect;\n}(Base));\nexport { KeyFrameAnimationDirect };\n/**\n * @hidden\n */\nvar AnimationKeyFrameEffect = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(AnimationKeyFrameEffect, _super);\n    function AnimationKeyFrameEffect(a) {\n        var _rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            _rest[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this) || this;\n        _this.r = null;\n        _this.a4 = null;\n        _this.o = 0;\n        _this.q = null;\n        _this.ag = new List$1(AnimationKeyFrame.$, 0);\n        _this.c = null;\n        _this.al = 0;\n        _this.ah = 0;\n        _this.az = null;\n        _this.t = 0;\n        _this.ai = 0;\n        _this.aj = 0;\n        _this.v = 0;\n        _this.ak = 0;\n        _this.u = 0;\n        _this.d = null;\n        _this.a = null;\n        _this.b = null;\n        _this.p = null;\n        a = (a == void 0) ? 0 : a;\n        switch (a) {\n            case 0:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    _this.a4 = c;\n                    _this.o = d;\n                    _this.p = f;\n                    _this.a8();\n                    _this.q = e;\n                }\n                break;\n            case 1:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    var g = _rest[4];\n                    _this.a4 = c;\n                    _this.o = d;\n                    _this.q = e;\n                    _this.p = f;\n                    _this.a8();\n                    _this.ag.o(g);\n                }\n                break;\n        }\n        return _this;\n    }\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"an\", {\n        get: function () {\n            return this.aj * this.ai;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"as\", {\n        get: function () {\n            return Math.max(this.al + this.an + this.ah, 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.a8 = function () {\n        this.al = this.p.f;\n        this.ah = this.p.h;\n        this.t = this.p.a;\n        this.ai = this.p.i;\n        this.aj = this.p.g;\n        this.v = this.p.c;\n        this.ak = this.p.j;\n        this.u = this.p.b;\n        this.az = this.a0(this.u);\n    };\n    AnimationKeyFrameEffect.prototype.a0 = function (a) {\n        switch (a) {\n            case 3: return function (b) { return b; };\n            case 1: return EasingFunctions.exponentialEase;\n            case 2: return EasingFunctions.circleEase;\n            case 0: return EasingFunctions.cubicEase;\n        }\n        return function (b) { return b; };\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"k\", {\n        get: function () {\n            if (this.d == null) {\n                this.d = this.e();\n            }\n            return this.d;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.e = function () {\n        var a = this.h;\n        if (a.length <= 1) {\n            return [0];\n        }\n        var b = new Array(a.length);\n        var c = 1 / (a.length - 1);\n        var d = 0;\n        for (var e = 0; e < a.length; e++) {\n            if (isNaN_(a[e].j)) {\n                b[e] = d;\n            }\n            else {\n                b[e] = a[e].j;\n                d = a[e].j;\n                if (((a.length - 1) - e) > 0) {\n                    c = (1 - d) / ((a.length - 1) - e);\n                }\n            }\n            d += c;\n        }\n        return b;\n    };\n    AnimationKeyFrameEffect.prototype.l = function (a) {\n        this.ag.add(a);\n        this.c = null;\n        this.a = null;\n        return this;\n    };\n    AnimationKeyFrameEffect.prototype.m = function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        var b = new AnimationKeyFrame(0);\n        if (a != null) {\n            for (var c = 0; c < a.length; c++) {\n                b.c(a[c]);\n            }\n        }\n        this.l(b);\n        return this;\n    };\n    AnimationKeyFrameEffect.prototype.n = function (a) {\n        var b = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            b[_i - 1] = arguments[_i];\n        }\n        var c = new AnimationKeyFrame(1, a);\n        if (b != null) {\n            for (var d = 0; d < b.length; d++) {\n                c.c(b[d]);\n            }\n        }\n        this.l(c);\n        return this;\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"au\", {\n        get: function () {\n            if (this.r != null) {\n                return this.r.currentTime;\n            }\n            return NaN;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ac\", {\n        get: function () {\n            if (this.r != null) {\n                return this.r.l;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ap\", {\n        get: function () {\n            return Math.max(Math.min(this.al, this.as), 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"am\", {\n        get: function () {\n            return Math.max(Math.min(this.al + this.an, this.as), 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"w\", {\n        get: function () {\n            if (this.r != null && this.r.playbackRate < 0) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"s\", {\n        get: function () {\n            if (this.ac && (this.au < this.ap || !this.w && this.au == this.ap)) {\n                return 0;\n            }\n            if (this.ac && (this.au > this.am || this.w && this.au == this.am)) {\n                return 2;\n            }\n            if (this.ac) {\n                return 1;\n            }\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ao\", {\n        get: function () {\n            var a = this.s;\n            switch (a) {\n                case 0: if (this.t == 3 || this.t == 4) {\n                    return Math.max(this.au - this.al, 0);\n                }\n                else {\n                    return NaN;\n                }\n                case 1: return this.au - this.al;\n                case 2: if (this.t == 2 || this.t == 4) {\n                    return Math.max(Math.min(this.au - this.al, this.an), 0);\n                }\n                else {\n                    return NaN;\n                }\n                default: return NaN;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"y\", {\n        get: function () {\n            if (!this.ac) {\n                return false;\n            }\n            var a = this.s;\n            switch (a) {\n                case 0: if (this.t == 3 || this.t == 4) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n                case 1: return true;\n                case 2: if (this.t == 2 || this.t == 4) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n                default: return false;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ad\", {\n        get: function () {\n            if (!this.y) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"av\", {\n        get: function () {\n            if (!this.y) {\n                return NaN;\n            }\n            var a = 0;\n            if (this.aj == 0) {\n                if (this.s == 0) {\n                    a = 0;\n                }\n                else {\n                    a = this.ai;\n                }\n            }\n            else {\n                a = this.ao / this.aj;\n            }\n            return a + this.ak;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ae\", {\n        get: function () {\n            if (!this.ad) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aw\", {\n        get: function () {\n            if (!this.ad) {\n                return NaN;\n            }\n            var a = 1;\n            if (isInfinity(this.av)) {\n                a = this.ak % 1;\n            }\n            else {\n                a = this.av % 1;\n            }\n            if (a == 0 && (this.s == 1 || this.s == 2) && this.ao == this.an && this.ai != 0) {\n                a = 1;\n            }\n            return a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"z\", {\n        get: function () {\n            if (!this.y) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aq\", {\n        get: function () {\n            if (!this.y) {\n                return NaN;\n            }\n            if (this.s == 2 && isInfinity(this.ai)) {\n                return Number.POSITIVE_INFINITY;\n            }\n            if (this.aw == 1) {\n                return Math.floor(this.av) - 1;\n            }\n            return Math.floor(this.av);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aa\", {\n        get: function () {\n            return this.ae;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ar\", {\n        get: function () {\n            if (!this.ae) {\n                return NaN;\n            }\n            var a = this.x();\n            if (a) {\n                return this.aw;\n            }\n            else {\n                return 1 - this.aw;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.x = function () {\n        var a = true;\n        if (this.v == 0) {\n            a = true;\n        }\n        else if (this.v == 1) {\n            a = false;\n        }\n        else {\n            var b = this.aq;\n            if (this.v == 3) {\n                b++;\n            }\n            if (isInfinity(b)) {\n                a = true;\n            }\n            else {\n                if (b % 2 == 0) {\n                    a = true;\n                }\n                else {\n                    a = false;\n                }\n            }\n        }\n        return a;\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"af\", {\n        get: function () {\n            return this.aa;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ay\", {\n        get: function () {\n            if (!this.aa) {\n                return NaN;\n            }\n            var a = false;\n            var b = this.x();\n            if (b && this.s == 0) {\n                a = true;\n            }\n            if (!b && this.s == 2) {\n                a = true;\n            }\n            return this.ax(this.ar, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"at\", {\n        get: function () {\n            return this.ay;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ab\", {\n        get: function () {\n            return this.af;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.ax = function (a, b) {\n        return this.az(a);\n    };\n    AnimationKeyFrameEffect.prototype.a7 = function () {\n        if (!this.af) {\n            return;\n        }\n        var a = this.ay;\n        for (var b = 0; b < this.f.length; b++) {\n            var c = this.a1(this.f[b], this.g[b]);\n            this.a5(this.f[b], this.g[b], c);\n        }\n    };\n    AnimationKeyFrameEffect.prototype.a5 = function (a, b, c) {\n        b.c(this.a4, c);\n    };\n    AnimationKeyFrameEffect.prototype.a1 = function (a, b) {\n        if (!this.ab) {\n            return null;\n        }\n        var c = a;\n        var d = this.at;\n        if (this.a4 == null) {\n            return null;\n        }\n        var e = this.a2(c, b);\n        var f = new List$1(AnimationKeyFrame.$, 0);\n        var g = new List$1(Number_$type, 0);\n        for (var h = 0; h < this.h.length; h++) {\n            for (var i = 0; i < this.h[h].b.length; i++) {\n                if (this.h[h].b[i].a == c) {\n                    f.add(this.h[h]);\n                    g.add(this.k[h]);\n                }\n            }\n        }\n        if (f.count == 0) {\n            return e;\n        }\n        if (g._inner[0] != 0) {\n            f.insert(0, new AnimationKeyFrame(1, 0).c(new AnimationKeyFrameProperty(c, e)));\n            g.insert(0, 0);\n        }\n        if (g._inner[f.count - 1] != 1) {\n            f.add(new AnimationKeyFrame(1, 1).c(new AnimationKeyFrameProperty(c, e)));\n            g.add(1);\n        }\n        var j = false;\n        var k = new List$1(AnimationKeyFrame.$, 0);\n        var l = new List$1(Number_$type, 0);\n        if (d < 0) {\n            var m = 0;\n            for (var n = 0; n < f.count; n++) {\n                if (g._inner[n] == 0) {\n                    m++;\n                }\n                else {\n                    break;\n                }\n            }\n            if (m > 1) {\n                j = true;\n                k.add(f._inner[0]);\n                l.add(g._inner[0]);\n            }\n        }\n        if (d >= 1) {\n            var o = 0;\n            for (var p = f.count - 1; p >= 0; p--) {\n                if (g._inner[p] == 1) {\n                    o++;\n                }\n                else {\n                    break;\n                }\n            }\n            if (o > 1) {\n                j = true;\n                k.add(f._inner[f.count - 1]);\n                l.add(g._inner[f.count - 1]);\n            }\n        }\n        if (!j) {\n            var q = null;\n            var r = -1;\n            for (var s = 0; s < f.count; s++) {\n                if (g._inner[s] <= d) {\n                    q = f._inner[s];\n                    r = s;\n                }\n                else {\n                    break;\n                }\n            }\n            if (r == -1) {\n                for (var t = 0; t < f.count; t++) {\n                    if (g._inner[t] == 0) {\n                        q = f._inner[t];\n                        r = t;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            k.add(q);\n            l.add(g._inner[r]);\n            if (r < g.count - 1) {\n                k.add(f._inner[r + 1]);\n                l.add(g._inner[r + 1]);\n            }\n        }\n        if (k.count == 1) {\n            for (var u = 0; u < k._inner[0].b.length; u++) {\n                if (k._inner[0].b[u].a == c) {\n                    return k._inner[0].b[u].d;\n                }\n            }\n            return null;\n        }\n        var v = l._inner[0];\n        var w = l._inner[k.count - 1];\n        var x = k._inner[0].g(c).d;\n        var y = k._inner[1].g(c).d;\n        var z = (d - v) / (w - v);\n        return this.a3(c, z, x, y);\n    };\n    AnimationKeyFrameEffect.prototype.a3 = function (a, b, c, d) {\n        switch (a) {\n            case 2:\n            case 3:\n            case 7:\n            case 15:\n            case 16: return BrushUtil.k(c, b, d, 0);\n            case 4:\n            case 13:\n            case 6: return InterpolationUtil.f(b, c, d);\n            case 11:\n            case 10:\n            case 12:\n            case 8:\n            case 9:\n            case 17:\n            case 19: return c + b * (d - c);\n            case 1: return c + b * (d - c);\n            case 5: return InterpolationUtil.d(b, c, d);\n            case 14: return this.a9(b, c, d);\n            case 18: return InterpolationUtil.a(b, c, d);\n            default: if (b < 0.5) {\n                return c;\n            }\n            else {\n                return d;\n            }\n        }\n        return null;\n    };\n    AnimationKeyFrameEffect.prototype.a9 = function (a, b, c) {\n        var d = TransformMatrixHelpler.d(a, b.j, c.j);\n        var e = new MatrixTransform();\n        e.j = d;\n        return e;\n    };\n    AnimationKeyFrameEffect.prototype.a2 = function (a, b) {\n        return b.b(this.a4);\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"h\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.c;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"f\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"g\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.j = function () {\n        var a = new List$1(UIElementPropertyAccessor.$, 0);\n        for (var b = 0; b < this.f.length; b++) {\n            a.add(UIElementPropertyAccessorFactory.c.a(this.f[b], this.o));\n        }\n        return a.toArray();\n    };\n    AnimationKeyFrameEffect.prototype.i = function () {\n        var a = new List$1(UIElementPropertyId_$type, 0);\n        var b = new HashSet$1(UIElementPropertyId_$type, 0);\n        for (var c = 0; c < this.h.length; c++) {\n            for (var d = 0; d < this.h[c].b.length; d++) {\n                if (!b.contains(this.h[c].b[d].a)) {\n                    b.add_1(this.h[c].b[d].a);\n                    a.add(this.h[c].b[d].a);\n                }\n            }\n        }\n        return a.toArray();\n    };\n    AnimationKeyFrameEffect.prototype.a6 = function () {\n        var a = this.t;\n        this.t = 4;\n        this.a7();\n        this.t = a;\n    };\n    AnimationKeyFrameEffect.$t = markType(AnimationKeyFrameEffect, 'AnimationKeyFrameEffect');\n    return AnimationKeyFrameEffect;\n}(Base));\nexport { AnimationKeyFrameEffect };\n"]},"metadata":{},"sourceType":"module"}