{"ast":null,"code":"import { __extends } from \"tslib\"; //\n// Original version: https://github.com/mosa/Mono-Class-Libraries/blob/master/mcs/class/System.XML/System.Xml/XmlTextReader.cs\n//\n// System.Xml.XmlInputStream \n//\tencoding-specification-wise XML input stream and reader\n//\n// Author:\n//\tAtsushi Enomoto (ginga@kit.hi-ho.ne.jp)\n//\n//\t(C)2003 Atsushi Enomoto\n//\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Stream, NotSupportedException, callStaticConstructors, markType } from \"./type\";\nimport { Encoding } from \"./Encoding\";\nimport { XmlException } from \"./XmlException\";\nimport { UTF8Encoding } from \"./UTF8Encoding\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { XmlChar } from \"./XmlChar\";\nimport { Buffer } from \"./Buffer\";\n/**\n * @hidden\n */\n\nvar XmlInputStream =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XmlInputStream, _super);\n\n  function XmlInputStream(a) {\n    var _this = _super.call(this) || this;\n\n    _this.w = null;\n    _this.t = null;\n    _this.o = null;\n    _this.p = 0;\n    _this.q = 0;\n\n    _this.y(a);\n\n    return _this;\n  }\n\n  XmlInputStream.staticInit = function () {\n    XmlInputStream.strictUTF8 = new UTF8Encoding(0, false, true);\n  };\n\n  XmlInputStream.prototype.u = function (a, b) {\n    var c = this.q;\n\n    while (this.q < a + b) {\n      if (this.r() < 0) {\n        return null;\n      }\n    }\n\n    this.q = c;\n    return Encoding.aSCII.getString1(this.o, a, b);\n  };\n\n  XmlInputStream.prototype.y = function (a) {\n    this.o = new Array(6);\n    this.t = a;\n    this.w = XmlInputStream.strictUTF8;\n    this.p = a.read(this.o, 0, this.o.length);\n\n    if (this.p == -1 || this.p == 0) {\n      return;\n    }\n\n    var b = this.r();\n\n    switch (b) {\n      case 255:\n        b = this.r();\n\n        if (b == 254) {\n          this.w = Encoding.unicode;\n        } else {\n          this.q = 0;\n        }\n\n        break;\n\n      case 254:\n        b = this.r();\n\n        if (b == 255) {\n          this.w = Encoding.bigEndianUnicode;\n          return;\n        } else {\n          this.q = 0;\n        }\n\n        break;\n\n      case 239:\n        b = this.r();\n\n        if (b == 187) {\n          b = this.r();\n\n          if (b != 191) {\n            this.q = 0;\n          }\n        } else {\n          this.o[--this.q] = 239;\n        }\n\n        break;\n\n      case '<'.charCodeAt(0):\n        if (this.p >= 5 && this.u(1, 4) == \"?xml\") {\n          this.q += 4;\n          b = this.s();\n\n          if (b == 'v'.charCodeAt(0)) {\n            while (b >= 0) {\n              b = this.r();\n\n              if (b == '0'.charCodeAt(0)) {\n                this.r();\n                break;\n              }\n            }\n\n            b = this.s();\n          }\n\n          if (b == 'e'.charCodeAt(0)) {\n            if (this.u(this.q, 7) == \"ncoding\") {\n              this.q += 7;\n              b = this.s();\n\n              if (b != '='.charCodeAt(0)) {\n                throw XmlInputStream.z;\n              }\n\n              b = this.s();\n              var c = b;\n              var d = new StringBuilder(0);\n\n              while (true) {\n                b = this.r();\n\n                if (b == c) {\n                  break;\n                } else if (b < 0) {\n                  throw XmlInputStream.z;\n                }\n\n                d.h(String.fromCharCode(b));\n              }\n\n              var e = d.toString();\n\n              if (!XmlChar.o(e)) {\n                throw XmlInputStream.z;\n              }\n\n              this.w = Encoding.getEncoding(e);\n            }\n          }\n        }\n\n        this.q = 0;\n        break;\n\n      default:\n        this.q = 0;\n        break;\n    }\n  };\n\n  XmlInputStream.prototype.r = function () {\n    if (this.p > this.q) {\n      return this.o[this.q++];\n    }\n\n    var a = new Array(this.o.length * 2);\n    Buffer.c(this.o, 0, a, 0, this.p);\n    var b = this.t.read(a, this.p, this.o.length);\n\n    if (b == -1 || b == 0) {\n      return -1;\n    }\n\n    this.p += b;\n    this.o = a;\n    return this.o[this.q++];\n  };\n\n  XmlInputStream.prototype.s = function () {\n    var a;\n\n    L0: while (true) {\n      a = this.r();\n      var t1 = String.fromCharCode(a);\n\n      L1: while (true) {\n        switch (t1) {\n          case '\\r':\n            t1 = ' ';\n            continue L1;\n\n          case '\\n':\n            t1 = ' ';\n            continue L1;\n\n          case '\\t':\n            t1 = ' ';\n            continue L1;\n\n          case ' ':\n            continue L0;\n\n          default:\n            return a;\n        }\n\n        break;\n      }\n    }\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"actualEncoding\", {\n    get: function () {\n      return this.w;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.get_canRead = function () {\n    if (this.p > this.q) {\n      return true;\n    } else {\n      return this.t.canRead;\n    }\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"canRead\", {\n    get: function () {\n      return this.get_canRead();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.get_canSeek = function () {\n    return false;\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"canSeek\", {\n    get: function () {\n      return this.get_canSeek();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.get_canWrite = function () {\n    return false;\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"canWrite\", {\n    get: function () {\n      return this.get_canWrite();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.get_length = function () {\n    return this.t.length;\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"length\", {\n    get: function () {\n      return this.get_length();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.get_position = function () {\n    return this.t.position - this.p + this.q;\n  };\n\n  XmlInputStream.prototype.set_position = function (a) {\n    if (a < this.p) {\n      this.q = a;\n    } else {\n      this.t.position = a - this.p;\n    }\n  };\n\n  Object.defineProperty(XmlInputStream.prototype, \"position\", {\n    get: function () {\n      return this.get_position();\n    },\n    set: function (a) {\n      this.set_position(a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XmlInputStream.prototype.close = function () {\n    this.t.close();\n  };\n\n  XmlInputStream.prototype.flush = function () {\n    this.t.flush();\n  };\n\n  XmlInputStream.prototype.read = function (a, b, c) {\n    var d;\n\n    if (c <= this.p - this.q) {\n      Buffer.c(this.o, this.q, a, b, c);\n      this.q += c;\n      d = c;\n    } else {\n      var e = this.p - this.q;\n\n      if (this.p > this.q) {\n        Buffer.c(this.o, this.q, a, b, e);\n        this.q += e;\n      }\n\n      d = e + this.t.read(a, b + e, c - e);\n    }\n\n    return d;\n  };\n\n  XmlInputStream.prototype.readByte = function () {\n    if (this.p > this.q) {\n      return this.o[this.q++];\n    }\n\n    return this.t.readByte();\n  };\n\n  XmlInputStream.prototype.seek = function (a, b) {\n    var c = this.p - this.q;\n\n    if (b == 1) {\n      if (a < c) {\n        return this.o[this.q + a];\n      } else {\n        return this.t.seek(a - c, b);\n      }\n    } else {\n      return this.t.seek(a, b);\n    }\n  };\n\n  XmlInputStream.prototype.setLength = function (a) {\n    this.t.setLength(a);\n  };\n\n  XmlInputStream.prototype.write = function (a, b, c) {\n    throw new NotSupportedException(0);\n  };\n\n  XmlInputStream.$t = markType(XmlInputStream, 'XmlInputStream', Stream.$);\n  XmlInputStream.strictUTF8 = null;\n  XmlInputStream.z = new XmlException(3, \"invalid encoding specification.\");\n  return XmlInputStream;\n}(Stream);\n\nexport { XmlInputStream };\n\n(function (v) {\n  callStaticConstructors();\n})(true);","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/XmlInputStream.js"],"names":["__extends","Stream","NotSupportedException","callStaticConstructors","markType","Encoding","XmlException","UTF8Encoding","StringBuilder","XmlChar","Buffer","XmlInputStream","_super","a","_this","call","w","t","o","p","q","y","staticInit","strictUTF8","prototype","u","b","c","r","aSCII","getString1","Array","read","length","unicode","bigEndianUnicode","charCodeAt","s","z","d","h","String","fromCharCode","e","toString","getEncoding","L0","t1","L1","Object","defineProperty","get","enumerable","configurable","get_canRead","canRead","get_canSeek","get_canWrite","get_length","get_position","position","set_position","set","close","flush","readByte","seek","setLength","write","$t","$","v"],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\n//\n// Original version: https://github.com/mosa/Mono-Class-Libraries/blob/master/mcs/class/System.XML/System.Xml/XmlTextReader.cs\n//\n// System.Xml.XmlInputStream \n//\tencoding-specification-wise XML input stream and reader\n//\n// Author:\n//\tAtsushi Enomoto (ginga@kit.hi-ho.ne.jp)\n//\n//\t(C)2003 Atsushi Enomoto\n//\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport { Stream, NotSupportedException, callStaticConstructors, markType } from \"./type\";\nimport { Encoding } from \"./Encoding\";\nimport { XmlException } from \"./XmlException\";\nimport { UTF8Encoding } from \"./UTF8Encoding\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { XmlChar } from \"./XmlChar\";\nimport { Buffer } from \"./Buffer\";\n/**\n * @hidden\n */\nvar XmlInputStream = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XmlInputStream, _super);\n    function XmlInputStream(a) {\n        var _this = _super.call(this) || this;\n        _this.w = null;\n        _this.t = null;\n        _this.o = null;\n        _this.p = 0;\n        _this.q = 0;\n        _this.y(a);\n        return _this;\n    }\n    XmlInputStream.staticInit = function () {\n        XmlInputStream.strictUTF8 = new UTF8Encoding(0, false, true);\n    };\n    XmlInputStream.prototype.u = function (a, b) {\n        var c = this.q;\n        while (this.q < a + b) {\n            if (this.r() < 0) {\n                return null;\n            }\n        }\n        this.q = c;\n        return Encoding.aSCII.getString1(this.o, a, b);\n    };\n    XmlInputStream.prototype.y = function (a) {\n        this.o = new Array(6);\n        this.t = a;\n        this.w = XmlInputStream.strictUTF8;\n        this.p = a.read(this.o, 0, this.o.length);\n        if (this.p == -1 || this.p == 0) {\n            return;\n        }\n        var b = this.r();\n        switch (b) {\n            case 255:\n                b = this.r();\n                if (b == 254) {\n                    this.w = Encoding.unicode;\n                }\n                else {\n                    this.q = 0;\n                }\n                break;\n            case 254:\n                b = this.r();\n                if (b == 255) {\n                    this.w = Encoding.bigEndianUnicode;\n                    return;\n                }\n                else {\n                    this.q = 0;\n                }\n                break;\n            case 239:\n                b = this.r();\n                if (b == 187) {\n                    b = this.r();\n                    if (b != 191) {\n                        this.q = 0;\n                    }\n                }\n                else {\n                    this.o[--this.q] = 239;\n                }\n                break;\n            case '<'.charCodeAt(0):\n                if (this.p >= 5 && this.u(1, 4) == \"?xml\") {\n                    this.q += 4;\n                    b = this.s();\n                    if (b == 'v'.charCodeAt(0)) {\n                        while (b >= 0) {\n                            b = this.r();\n                            if (b == '0'.charCodeAt(0)) {\n                                this.r();\n                                break;\n                            }\n                        }\n                        b = this.s();\n                    }\n                    if (b == 'e'.charCodeAt(0)) {\n                        if (this.u(this.q, 7) == \"ncoding\") {\n                            this.q += 7;\n                            b = this.s();\n                            if (b != '='.charCodeAt(0)) {\n                                throw XmlInputStream.z;\n                            }\n                            b = this.s();\n                            var c = b;\n                            var d = new StringBuilder(0);\n                            while (true) {\n                                b = this.r();\n                                if (b == c) {\n                                    break;\n                                }\n                                else if (b < 0) {\n                                    throw XmlInputStream.z;\n                                }\n                                d.h(String.fromCharCode(b));\n                            }\n                            var e = d.toString();\n                            if (!XmlChar.o(e)) {\n                                throw XmlInputStream.z;\n                            }\n                            this.w = Encoding.getEncoding(e);\n                        }\n                    }\n                }\n                this.q = 0;\n                break;\n            default:\n                this.q = 0;\n                break;\n        }\n    };\n    XmlInputStream.prototype.r = function () {\n        if (this.p > this.q) {\n            return this.o[this.q++];\n        }\n        var a = new Array(this.o.length * 2);\n        Buffer.c(this.o, 0, a, 0, this.p);\n        var b = this.t.read(a, this.p, this.o.length);\n        if (b == -1 || b == 0) {\n            return -1;\n        }\n        this.p += b;\n        this.o = a;\n        return this.o[this.q++];\n    };\n    XmlInputStream.prototype.s = function () {\n        var a;\n        L0: while (true) {\n            a = this.r();\n            var t1 = String.fromCharCode(a);\n            L1: while (true) {\n                switch (t1) {\n                    case '\\r':\n                        t1 = ' ';\n                        continue L1;\n                    case '\\n':\n                        t1 = ' ';\n                        continue L1;\n                    case '\\t':\n                        t1 = ' ';\n                        continue L1;\n                    case ' ': continue L0;\n                    default: return a;\n                }\n                break;\n            }\n        }\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"actualEncoding\", {\n        get: function () {\n            return this.w;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.get_canRead = function () {\n        if (this.p > this.q) {\n            return true;\n        }\n        else {\n            return this.t.canRead;\n        }\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"canRead\", {\n        get: function () {\n            return this.get_canRead();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.get_canSeek = function () {\n        return false;\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"canSeek\", {\n        get: function () {\n            return this.get_canSeek();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.get_canWrite = function () {\n        return false;\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"canWrite\", {\n        get: function () {\n            return this.get_canWrite();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.get_length = function () {\n        return this.t.length;\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"length\", {\n        get: function () {\n            return this.get_length();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.get_position = function () {\n        return this.t.position - this.p + this.q;\n    };\n    XmlInputStream.prototype.set_position = function (a) {\n        if (a < this.p) {\n            this.q = a;\n        }\n        else {\n            this.t.position = a - this.p;\n        }\n    };\n    Object.defineProperty(XmlInputStream.prototype, \"position\", {\n        get: function () {\n            return this.get_position();\n        },\n        set: function (a) {\n            this.set_position(a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XmlInputStream.prototype.close = function () {\n        this.t.close();\n    };\n    XmlInputStream.prototype.flush = function () {\n        this.t.flush();\n    };\n    XmlInputStream.prototype.read = function (a, b, c) {\n        var d;\n        if (c <= this.p - this.q) {\n            Buffer.c(this.o, this.q, a, b, c);\n            this.q += c;\n            d = c;\n        }\n        else {\n            var e = this.p - this.q;\n            if (this.p > this.q) {\n                Buffer.c(this.o, this.q, a, b, e);\n                this.q += e;\n            }\n            d = e + this.t.read(a, b + e, c - e);\n        }\n        return d;\n    };\n    XmlInputStream.prototype.readByte = function () {\n        if (this.p > this.q) {\n            return this.o[this.q++];\n        }\n        return this.t.readByte();\n    };\n    XmlInputStream.prototype.seek = function (a, b) {\n        var c = this.p - this.q;\n        if (b == 1) {\n            if (a < c) {\n                return this.o[this.q + a];\n            }\n            else {\n                return this.t.seek(a - c, b);\n            }\n        }\n        else {\n            return this.t.seek(a, b);\n        }\n    };\n    XmlInputStream.prototype.setLength = function (a) {\n        this.t.setLength(a);\n    };\n    XmlInputStream.prototype.write = function (a, b, c) {\n        throw new NotSupportedException(0);\n    };\n    XmlInputStream.$t = markType(XmlInputStream, 'XmlInputStream', Stream.$);\n    XmlInputStream.strictUTF8 = null;\n    XmlInputStream.z = new XmlException(3, \"invalid encoding specification.\");\n    return XmlInputStream;\n}(Stream));\nexport { XmlInputStream };\n(function (v) { callStaticConstructors(); })(true);\n"]},"metadata":{},"sourceType":"module"}