{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { Defaults } from \"./Defaults\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { Point_$type, typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HighDensityScatterSeries, _super);\n\n  function HighDensityScatterSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.qh = null;\n    _this.qj = null;\n    _this.rs = 0;\n    _this.ql = false;\n    _this.q7 = Defaults.aq.o;\n    _this.q6 = Defaults.aq.n;\n    _this.q5 = Defaults.aq.m;\n    _this.q4 = Defaults.aq.l;\n    _this.q3 = Defaults.ap.o;\n    _this.q2 = Defaults.ap.n;\n    _this.q1 = Defaults.ap.m;\n    _this.q0 = Defaults.ap.l;\n    _this.p9 = null;\n    _this.qe = null;\n    _this.qf = null;\n    _this.qa = null;\n    _this.qc = null;\n    _this.qn = false;\n    _this.rt = 0;\n    _this.rv = 0;\n    _this.rp = 0;\n    _this.ro = 0;\n    _this.progressiveLoadStatusChanged = null;\n    _this.qs = null;\n    _this.qy = 0;\n    _this.qx = 0;\n    _this.qz = 0;\n    _this.re = 0;\n    _this.rc = 0;\n    _this.rd = 0;\n    _this.rf = 0;\n    _this.rh = 0;\n    _this.rj = 0;\n    _this.ri = 0;\n    _this.rg = 0;\n    _this.qu = 0;\n    _this.qv = 0;\n    _this.qw = 0;\n    _this.qt = 0;\n    _this.rr = 0;\n    _this.rq = 0;\n    _this.p6 = null;\n    _this.ru = 0;\n    _this.qm = false;\n    _this._itemIndexes = null;\n    _this.p7 = null;\n    _this.p4 = null;\n    _this.qg = null;\n    _this.ab = HighDensityScatterSeries.$;\n    _this.el = false;\n    return _this;\n  }\n\n  HighDensityScatterSeries.prototype.get_d5 = function () {\n    return true;\n  };\n\n  HighDensityScatterSeries.prototype.gu = function () {\n    if (!isNaN_(this.gt)) {\n      return _super.prototype.gu.call(this);\n    }\n\n    return Defaults.q;\n  };\n\n  HighDensityScatterSeries.prototype.get_ec = function () {\n    return true;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"qi\", {\n    get: function () {\n      return this.qh;\n    },\n    set: function (a) {\n      if (this.qh != a) {\n        var b = this.qi;\n        this.qh = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.qi);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.ht(c);\n    var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n    var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n    var g = new DataLegendSeriesValueInfo();\n    g.l = e;\n    g.a = 13;\n    g.p = this.se != null ? this.se : \"X\";\n    g.q = this.sa != null ? this.sa : \"X:\";\n    g.r = this.sc != null ? this.sc : \"\";\n    var h = new DataLegendSeriesValueInfo();\n    h.l = f;\n    h.a = 14;\n    h.p = this.sm != null ? this.sm : \"Y\";\n    h.q = this.si != null ? this.si : \"Y:\";\n    g.r = this.sk != null ? this.sk : \"\";\n    var i = new DataLegendSeriesContext();\n\n    i.f = function () {\n      var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n      $ret.add(g);\n      $ret.add(h);\n      return $ret;\n    }();\n\n    i.b = this.av();\n    return i;\n  };\n\n  HighDensityScatterSeries.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == HighDensityScatterSeries.$$p[10]) {\n      return this.hx(a, b, this.se);\n    }\n\n    if (c == HighDensityScatterSeries.$$p[14]) {\n      return this.hx(a, b, this.sm);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"qk\", {\n    get: function () {\n      return this.qj;\n    },\n    set: function (a) {\n      if (this.qj != a) {\n        var b = this.qk;\n        this.qj = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.qk);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.s1 = function () {\n    if (this.p9 == null) {\n      return;\n    }\n\n    this.p9.s();\n    var a = this.p9;\n    a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.so));\n    this.p9 = null;\n  };\n\n  HighDensityScatterSeries.prototype.l4 = function (a, b, c, d) {\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"SeriesViewer\":\n        if (this.cd != null) {\n          var e = this.getEffectiveViewport1(this.b0);\n          this.qm = !e.isEmpty;\n        }\n\n        break;\n\n      case \"FastItemsSource\":\n        this.s1();\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.qi);\n          c.deregisterColumn(this.qk);\n          this.qi = null;\n          this.qk = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.qi = this.ch(this.se);\n          this.qk = this.ch(this.sm);\n        }\n\n        if (this.qd != null && !this.qd.c0() || this.qb != null && !this.qb.c0()) {\n          this.mi(false);\n        }\n\n        this.lq();\n        break;\n\n      case HighDensityScatterSeries.$$p[7]:\n        var f = this.qa;\n        this.qa = this.qb;\n        this.s1();\n\n        if (f != null) {\n          f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.sr));\n        }\n\n        if (this.qa != null) {\n          var g = this.qa;\n          g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.sr));\n        }\n\n        if (c != null) {\n          c.bz(this);\n        }\n\n        if (d != null) {\n          d.cs(this);\n        }\n\n        if (this.qb != null && !this.qb.c0() || d == null && c != null) {\n          this.mi(false);\n        }\n\n        break;\n\n      case HighDensityScatterSeries.$$p[11]:\n        var h = this.qc;\n        this.qc = this.qd;\n        this.s1();\n\n        if (h != null) {\n          h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.sr));\n        }\n\n        if (this.qc != null) {\n          var i = this.qc;\n          i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.sr));\n        }\n\n        if (c != null) {\n          c.bz(this);\n        }\n\n        if (d != null) {\n          d.cs(this);\n        }\n\n        if (this.qd != null && !this.qd.c0() || d == null && c != null) {\n          this.mi(false);\n        }\n\n        break;\n\n      case \"MouseOverEnabled\":\n        this.qn = this.el;\n        this.mi(false);\n        break;\n\n      case HighDensityScatterSeries.$$p[10]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.qi);\n          this.qi = this.ch(this.se);\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.s1();\n\n        if (this.qb != null && !this.qb.c0()) {\n          this.mi(false);\n        }\n\n        this.lq();\n        break;\n\n      case HighDensityScatterSeries.$$p[14]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.qk);\n          this.qk = this.ch(this.sm);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.s1();\n\n        if (this.qd != null && !this.qd.c0()) {\n          this.mi(false);\n        }\n\n        this.lq();\n        break;\n\n      case HighDensityScatterSeries.$$p[6]:\n        this.s1();\n        this.mi(false);\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[3]:\n        this.mi(false);\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[1]:\n        this.mi(false);\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[0]:\n      case HighDensityScatterSeries.$$p[2]:\n        if (!this.p8.b1(this.tk, this.tj)) {\n          return;\n        }\n\n        this.sv();\n        this.mi(false);\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[4]:\n        this.rs = Math.max(typeGetValue(d) - 1, 0);\n        this.ql = this.rs > 0;\n        this.mi(false);\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[5]:\n        this.mi(false);\n        this.lp();\n        break;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.sv = function () {\n    this.q4 = this.tk.l;\n    this.q7 = this.tk.o;\n    this.q6 = this.tk.n;\n    this.q5 = this.tk.m;\n    this.q0 = this.tj.l;\n    this.q3 = this.tj.o;\n    this.q2 = this.tj.n;\n    this.q1 = this.tj.m;\n    this.o8 = BrushUtil.g(truncate(this.q4), truncate(this.q7), truncate(this.q6), truncate(this.q5));\n    this.o3 = BrushUtil.g(truncate(this.q0), truncate(this.q3), truncate(this.q2), truncate(this.q1));\n  };\n\n  HighDensityScatterSeries.prototype.qp = function (a) {\n    if (typeCast(NumericYAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.qo = function (a) {\n    if (typeCast(NumericXAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.sr = function (a, b) {\n    this.s1();\n    this.mi(false);\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"rb\", {\n    get: function () {\n      return this.q3 - this.q7;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"ra\", {\n    get: function () {\n      return this.q2 - this.q6;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"q9\", {\n    get: function () {\n      return this.q1 - this.q5;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"q8\", {\n    get: function () {\n      return this.q0 - this.q4;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.qd == null || this.qb == null || this.qb.bh == null || this.qd.bh == null || this.qk == null || this.qi == null || this.qk.count < 1 || this.qi.count < 1 || this.qk.count != this.qi.count || this.qb.lv == this.qb.lu || this.qd.lv == this.qd.lu || this.pz.isEmpty) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"rz\", {\n    get: function () {\n      return this.rt;\n    },\n    set: function (a) {\n      var b = this.rt;\n      this.rt = a;\n      this.raisePropertyChanged(\"ProgressiveStatus\", b, this.rt);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.mj = function (a) {\n    _super.prototype.mj.call(this, a);\n\n    this.st(a, this.b0);\n  };\n\n  HighDensityScatterSeries.prototype.st = function (a, b) {\n    if (this.cx(b)) {\n      return;\n    }\n\n    if (this.p9 == null && !this.qr) {\n      var c = new List$1(KDPointData.$, 2, this.qi.count);\n      var d = this.qb;\n      var e = this.qd;\n      var f = new Rect(0, 0, 0, 1, 1);\n      var g = new Rect(0, 0, 0, 1, 1);\n      var h = new ScalerParams(1, f, g, d.cg);\n      var i = new ScalerParams(1, f, g, e.cg);\n      var j_1;\n      var k_1;\n\n      var _loop_1 = function (l) {\n        j_1 = d.ei(this_1.qi.item(l), h);\n        k_1 = e.ei(this_1.qk.item(l), i);\n\n        if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n          c.add(function () {\n            var $ret = new KDPointData();\n            $ret.a = j_1;\n            $ret.b = k_1;\n            $ret.c = l;\n            return $ret;\n          }());\n        }\n      };\n\n      var this_1 = this;\n\n      for (var l = 0; l < this.qi.count; l++) {\n        _loop_1(l);\n      }\n\n      if (this.qq) {\n        this.ro = 1;\n        this.rp = truncate(logBase(c.count, 2)) + 3;\n        this.rz = truncate(this.ro / this.rp * 100);\n\n        if (this.progressiveLoadStatusChanged != null) {\n          this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.rz));\n        }\n\n        this.p9 = KDTree2D.b(c.toArray(), 1);\n        var m = this.p9;\n        m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.so));\n\n        if (!this.p9.f(this.g9)) {\n          var n = this.p9;\n          n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.so));\n        }\n\n        this.lp();\n      } else {\n        var o = dateNow();\n        this.p9 = new KDTree2D(0, c.toArray(), 1);\n        var p = dateNow();\n      }\n    }\n\n    if (this.qq && !this.qr) {\n      this.su(b);\n    } else {\n      this.sw(b);\n    }\n  };\n\n  HighDensityScatterSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    this.s1();\n    var e = false;\n\n    if (this.qb != null && !this.qb.c0()) {\n      e = true;\n    }\n\n    if (this.qd != null && !this.qd.c0()) {\n      e = true;\n    }\n\n    if (e) {\n      this.mi(false);\n    }\n\n    this.lq();\n  };\n\n  HighDensityScatterSeries.prototype.sq = function (a) {\n    var b = a;\n    var c = this.rr * this.rq;\n\n    if (this.qn) {\n      if (this._itemIndexes == null || this._itemIndexes.length != c) {\n        this._itemIndexes = new Array(c);\n\n        for (var d = 0; d < c; d++) {\n          this._itemIndexes[d] = 0;\n        }\n      } else {\n        for (var e = 0; e < c; e++) {\n          this._itemIndexes[e] = 0;\n        }\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.sw = function (a) {\n    var b;\n    var c;\n    var d = null;\n\n    if (a.q) {\n      d = this._itemIndexes;\n    }\n\n    var e = a.getViewInfo(c, b);\n    c = e.p0;\n    b = e.p1;\n    var f = a;\n    var g = this.getEffectiveViewport1(a);\n    this.qe = new ScalerParams(0, b, c, this.qa.cg, g);\n    this.qf = new ScalerParams(0, b, c, this.qc.cg, g);\n    this.sp(a);\n    this.sq(a);\n    var h = this.rr * this.rq;\n\n    if (this.p7 == null || this.p7.length != h) {\n      this.p7 = new Array(h);\n      this.p4 = new Array(h);\n    }\n\n    var i = this.p7.length;\n    var j = this.p7;\n    var k = this.p4;\n\n    for (var l = 0; l < i; l++) {\n      j[l] = 0;\n      k[l] = 0;\n    }\n\n    this.rv = truncate(Math.round(this.ft));\n    this.p6 = f.by();\n    var m = this.p6.length;\n    var n = this.p6;\n\n    for (var o = 0; o < m; o++) {\n      n[o] = 0;\n    }\n\n    var p = this.rm;\n    var q = this.rl;\n\n    if (isNaN_(p) || isInfinity(p)) {\n      p = 0;\n    }\n\n    if (isNaN_(q) || isInfinity(q)) {\n      q = 50;\n    }\n\n    this.qy = Math.min(p, q);\n    this.qx = Math.max(p, q);\n\n    if (this.qy < 0) {\n      this.qy = 0;\n    }\n\n    if (this.qx < 0) {\n      this.qx = 0;\n    }\n\n    this.qz = this.qx - this.qy;\n\n    if (this.qr) {\n      this.ss(a);\n    } else {\n      this.s3(a);\n    }\n\n    f.b9();\n\n    if (a.q) {\n      this._itemIndexes = d;\n      this.p8.ca();\n    }\n  };\n\n  HighDensityScatterSeries.prototype.su = function (a) {\n    if (this.p9 == null) {\n      return;\n    }\n\n    this.sw(a);\n  };\n\n  HighDensityScatterSeries.prototype.so = function (a, b) {\n    var _this = this;\n\n    this.p8.b8(function () {\n      if (_this.ro < _this.rp - 1) {\n        _this.ro++;\n      }\n\n      _this.rz = truncate(_this.ro / _this.rp * 100);\n\n      if (_this.progressiveLoadStatusChanged != null) {\n        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.rz));\n      }\n\n      _this.su(_this.b0);\n\n      _this.lp();\n\n      if (_this.p9 != null) {\n        if (!_this.p9.f(_this.g9)) {\n          var c = _this.p9;\n          c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.so));\n          _this.rz = 100;\n\n          if (_this.progressiveLoadStatusChanged != null) {\n            _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.rz));\n          }\n        }\n      }\n    });\n  };\n\n  HighDensityScatterSeries.prototype.ss = function (a) {\n    var b = arrayShallowClone(this.qi.asArray());\n    this.qb.hm(boxArray$1(b), 0, b.length, this.qe);\n    var c = arrayShallowClone(this.qk.asArray());\n    this.ru = 0;\n    var d = this.rs;\n    var e = this.ql;\n    var f = this.p7.length;\n    this.qd.hm(boxArray$1(c), 0, c.length, this.qf);\n    var g = 255 << 24 | truncate(this.q7) << 16 | truncate(this.q6) << 8 | truncate(this.q5);\n\n    for (var h = 0; h < b.length; h++) {\n      var i = truncate(b[h]);\n      var j = truncate(c[h]);\n      i = truncate(Math.floor(i));\n      j = truncate(Math.floor(j));\n\n      if (i < 0 || i >= this.rr || j < 0 || j >= this.rq) {\n        continue;\n      }\n\n      if (e) {\n        var k = i - d;\n        var l = i + d;\n        l = l > this.rr - 1 ? this.rr - 1 : l;\n        k = k < 0 ? 0 : k;\n        var m = j + d;\n        var n = j - d;\n\n        for (var o = k; o <= l; o++) {\n          for (var p = n; p <= m; p++) {\n            var q = p * this.rr + o;\n\n            if (q < 0 || q > f - 1) {\n              continue;\n            }\n\n            this.p7[q] = this.p7[q] + 1;\n            this.p4[q] = 1;\n            this.ru++;\n\n            if (this.qn) {\n              this._itemIndexes[q] = h + 1;\n            }\n          }\n        }\n      } else {\n        var r = j * this.rr + i;\n        this.p7[r] = this.p7[r] + 1;\n        this.p4[r] = 1;\n        this.ru++;\n\n        if (this.qn) {\n          this._itemIndexes[r] = h + 1;\n        }\n      }\n    }\n\n    this.sx();\n  };\n\n  HighDensityScatterSeries.prototype.s3 = function (a) {\n    var b;\n    var c;\n    var d = a.getViewInfo(b, c);\n    b = d.p0;\n    c = d.p1;\n\n    if (this.p9 == null) {\n      return;\n    }\n\n    if (this.qs == null) {\n      this.qs = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n    } else {\n      this.qs.clear();\n    }\n\n    var e = c.left;\n    var f = c.right;\n    var g = c.top;\n    var h = c.bottom;\n    this.ri = c.top;\n    this.rg = c.height;\n    this.rh = c.left;\n    this.rj = c.width;\n    this.re = b.top;\n    this.rc = b.height;\n    this.rd = b.left;\n    this.rf = b.width;\n    var i = this.getEffectiveViewport1(a);\n    this.qu = (i.left - this.rd) / this.rf;\n    this.qv = (i.top - this.re) / this.rc;\n    var j = (i.right - this.rd) / this.rf;\n    this.qw = j - this.qu;\n    var k = (i.bottom - this.re) / this.rc;\n    this.qt = k - this.qv;\n\n    if (this.qm) {\n      e = (e - this.qu) / this.qw;\n      f = (f - this.qu) / this.qw;\n      g = (g - this.qv) / this.qt;\n      h = (h - this.qv) / this.qt;\n    }\n\n    var l = this.ft / b.width * c.width;\n    var m = this.ft / b.height * c.height;\n    var n = Math.min(l, m);\n\n    var o = function () {\n      var $ret = new SearchArgs();\n      $ret.c = e;\n      $ret.a = f;\n      $ret.d = g;\n      $ret.b = h;\n      $ret.e = l;\n      $ret.f = m;\n      $ret.g = 0x7FFFFFFF;\n      return $ret;\n    }();\n\n    this.p9.t(this.qs, o, 0, 1, 0, 1);\n    var p;\n    this.ru = 0;\n\n    for (var q = 0; q < this.qs.count; q++) {\n      p = this.qs._inner[q];\n      this.sy(p);\n    }\n\n    this.sx();\n  };\n\n  HighDensityScatterSeries.prototype.sy = function (a) {\n    if (a.g) {\n      return;\n    }\n\n    var b = a.e != null && a.e.a;\n    var c = a.a == null ? 0 : a.a.length;\n    var d = a.h - c + 1;\n\n    if (b && d > 0) {} else {\n      d = 1;\n    }\n\n    this.s0(a.b, d, b, a.e);\n\n    if (c > 0 && !b) {\n      var e = void 0;\n\n      for (var f = 0; f < c; f++) {\n        e = a.a[f];\n        this.s0(e, d, false, a.e);\n      }\n    }\n\n    if (a.e != null) {\n      a.e.a = false;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.en = function (a) {\n    var b = this.cd != null ? this.cd.sf : Rect.empty;\n    var c = this.cd != null ? this.cd.su : Rect.empty;\n    var d = new Rect(0, 0, 0, 1, 1);\n    var e = this.pt(this.b0);\n    var f = new ScalerParams(0, d, d, this.qb.cg, e);\n    var g = new ScalerParams(0, d, d, this.qd.cg, e);\n    var h = !b.isEmpty && !c.isEmpty && this.ck != null ? this.ck.indexOf(a) : -1;\n    var i = this.qb != null && this.qi != null && h < this.qi.count ? this.qb.ei(this.qi.item(h), f) : NaN;\n    var j = this.qd != null && this.qk != null && h < this.qk.count ? this.qd.ei(this.qk.item(h), g) : NaN;\n\n    if (!isNaN_(i)) {\n      if (i < b.left + 0.1 * b.width) {\n        i = i + 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n\n      if (i > b.right - 0.1 * b.width) {\n        i = i - 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n    }\n\n    if (!isNaN_(j)) {\n      if (j < b.top + 0.1 * b.height) {\n        j = j + 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n\n      if (j > b.bottom - 0.1 * b.height) {\n        j = j - 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n    }\n\n    if (this.b8 != null) {\n      this.b8.au(this.cd, b, true);\n    }\n\n    return h >= 0;\n  };\n\n  HighDensityScatterSeries.prototype.s0 = function (a, b, c, d) {\n    var e = this.rx(b);\n    var f = a.c;\n    var g = this.rs;\n\n    if (c) {\n      var h = d.d;\n      var i = d.b;\n      var j = d.e;\n      var k = d.c;\n\n      if (this.qm) {\n        h = this.qu + this.qw * h;\n        i = this.qu + this.qw * i;\n        j = this.qv + this.qt * j;\n        k = this.qv + this.qt * k;\n      }\n\n      var l = truncate(this.rd + this.rf * (h - this.rh) / this.rj);\n      var m = truncate(this.rd + this.rf * (i - this.rh) / this.rj);\n      var n = truncate(this.re + this.rc * (j - this.ri) / this.rg);\n      var o = truncate(this.re + this.rc * (k - this.ri) / this.rg);\n      l = truncate(Math.floor(l));\n      m = truncate(Math.floor(m));\n      n = truncate(Math.floor(n));\n      o = truncate(Math.floor(o));\n\n      if (this.ql) {\n        l -= g;\n        m += g;\n        n -= g;\n        o += g;\n      }\n\n      var p = (m - l + 1) * (o - n + 1);\n      var q = b / p;\n      var r = q;\n\n      for (var s = l; s <= m; s++) {\n        for (var t = n; t <= o; t++) {\n          this.sz(f, s, t, q, r);\n        }\n      }\n    } else {\n      var u = a.a;\n      var v = a.b;\n\n      if (this.qm) {\n        u = this.qu + this.qw * u;\n        v = this.qv + this.qt * v;\n      }\n\n      var w = truncate(this.rd + this.rf * (u - this.rh) / this.rj);\n      var x = truncate(this.re + this.rc * (v - this.ri) / this.rg);\n      w = truncate(Math.floor(w));\n      x = truncate(Math.floor(x));\n\n      if (this.ql) {\n        var y = w - g;\n        var z = w + g;\n        var aa = x + g;\n        var ab = x - g;\n        var ac = (z - y + 1) * (aa - ab + 1);\n        var ad = b / ac;\n        var ae = ad;\n\n        for (var af = y; af <= z; af++) {\n          for (var ag = ab; ag <= aa; ag++) {\n            this.sz(f, af, ag, ad, ae);\n          }\n        }\n      } else {\n        this.sz(f, w, x, b, 1);\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.rw = function (a, b) {\n    return truncate(Math.floor(255 * b)) << 24 | truncate(Math.floor(b * (this.q7 + a * this.rb))) << 16 | truncate(Math.floor(b * (this.q6 + a * this.ra))) << 8 | truncate(Math.floor(b * (this.q5 + a * this.q9)));\n  };\n\n  HighDensityScatterSeries.prototype.rx = function (a) {\n    return 255 << 24 | truncate(Math.floor(this.q7 + a * this.rb)) << 16 | truncate(Math.floor(this.q6 + a * this.ra)) << 8 | truncate(Math.floor(this.q5 + a * this.q9));\n  };\n\n  HighDensityScatterSeries.prototype.rk = function (a) {\n    return (a >> 24 & 255) / 255;\n  };\n\n  HighDensityScatterSeries.prototype.sz = function (a, b, c, d, e) {\n    if (b < 0 || b >= this.rr || c < 0 || c >= this.rq) {\n      return;\n    }\n\n    var f = c * this.rr + b;\n    this.p7[f] = this.p7[f] + d;\n    this.p4[f] = this.p4[f] + e;\n\n    if (this.qn) {\n      this._itemIndexes[f] = a + 1;\n    }\n\n    this.ru += truncate(d);\n  };\n\n  HighDensityScatterSeries.prototype.sx = function () {\n    var a = 0;\n    var b = 0;\n    var c = this.qz;\n    var d = this.qy;\n    var e = this.qx;\n    var f = this.p7.length;\n    var g = this.p7;\n    var h = this.p4;\n    var i = this.p6;\n    var j = NaN;\n    var k = NaN;\n    var l = 0;\n    var m = 0;\n\n    for (var n = 0; n < f; n++) {\n      a = g[n];\n\n      if (a != 0) {\n        b = h[n];\n\n        if (a >= e) {\n          a = 1;\n        } else if (a <= d) {\n          a = 0;\n        } else {\n          a = (a - d) / c;\n        }\n\n        if (b > 1) {\n          b = 1;\n        }\n\n        if (b < 0.2) {\n          b = 0.2;\n        }\n\n        if (j != a || k != b) {\n          l = this.rw(a, b);\n          j = a;\n          k = b;\n        }\n\n        i[m] = l >> 16 & 255;\n        i[m + 1] = l >> 8 & 255;\n        i[m + 2] = l & 255;\n        i[m + 3] = l >> 24 & 255;\n      }\n\n      m += 4;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.sp = function (a) {\n    var b = a;\n    b.b6();\n  };\n\n  HighDensityScatterSeries.prototype.bx = function () {\n    return new HighDensityScatterSeriesView(this);\n  };\n\n  HighDensityScatterSeries.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.p8 = a;\n  };\n\n  HighDensityScatterSeries.prototype.ap = function (a) {\n    if (a != null && a == this.qb && this.qi != null) {\n      return new AxisRange(this.qi.minimum, this.qi.maximum);\n    }\n\n    if (a != null && a == this.qd && this.qk != null) {\n      return new AxisRange(this.qk.minimum, this.qk.maximum);\n    }\n\n    return null;\n  };\n\n  HighDensityScatterSeries.prototype.m5 = function (a, b) {\n    if (this.cd != null) {\n      var c = this.getEffectiveViewport1(this.b0);\n      this.qm = !c.isEmpty;\n    }\n\n    this.mi(false);\n  };\n\n  HighDensityScatterSeries.prototype.m6 = function (a, b) {\n    this.mi(false);\n  };\n\n  HighDensityScatterSeries.prototype.ht = function (a) {\n    if (!this.qn || this._itemIndexes == null || this.cd == null || this.ck == null || this._itemIndexes.length != this.rr * this.rq) {\n      return null;\n    }\n\n    var b = this.cd.sf;\n    var c = (a.x - b.left) / b.width;\n    var d = (a.y - b.top) / b.height;\n    var e = truncate(Math.round(this.pz.left + this.pz.width * c));\n    var f = truncate(Math.round(this.pz.top + this.pz.height * d));\n    var g = this.r0(e, f);\n\n    if (g < 0 || g > this._itemIndexes.length - 1) {\n      return null;\n    }\n\n    var h = this._itemIndexes[g] - 1;\n\n    if (h < 0 || h > this.ck.count) {\n      return null;\n    }\n\n    return this.ck.item(h);\n  };\n\n  HighDensityScatterSeries.prototype.r0 = function (a, b) {\n    var c = this.rr * b + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    var d = 1;\n    c = this.rr * (b - d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * (b + d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * b + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * b + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * (b - d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * (b + d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * (b - d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rr * (b + d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    return 0;\n  };\n\n  HighDensityScatterSeries.prototype.s2 = function (a, b, c) {\n    this.p6 = a;\n    this.rr = b;\n    this.rq = c;\n  };\n\n  HighDensityScatterSeries.prototype.get_e3 = function () {\n    return true;\n  };\n\n  HighDensityScatterSeries.prototype.set_e3 = function (a) {\n    _super.prototype.set_e3.call(this, a);\n  };\n\n  HighDensityScatterSeries.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    this.p8.b7();\n\n    if (this.bz != null) {\n      this.bz.b7();\n    }\n\n    this.lp();\n  };\n\n  HighDensityScatterSeries.prototype.mk = function (a, b) {\n    _super.prototype.mk.call(this, a, b);\n\n    if (!this.ez) {\n      this.b0.a2(b);\n      return;\n    }\n\n    this.b0.a2(b);\n\n    if (this.cx(this.bz)) {\n      return;\n    }\n\n    var c = typeCast(HighDensityScatterSeriesView.$, this.bz);\n    var d = new ScatterFrame();\n    this.st(false, c);\n    this.ez = false;\n  };\n\n  HighDensityScatterSeries.prototype.mh = function (a, b, c, d, e) {\n    _super.prototype.mh.call(this, a, b, c, d, e);\n\n    var f = this.a6.a$h.item(d);\n    var g = f;\n    f.a1(c);\n\n    if (this.cx(g)) {\n      return;\n    }\n\n    if (this.qg == null) {\n      this.qg = new ScatterFrame();\n    }\n\n    this.st(false, f);\n  };\n\n  HighDensityScatterSeries.prototype.ku = function () {\n    _super.prototype.ku.call(this);\n\n    this.qb = null;\n    this.qd = null;\n  };\n\n  HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n  HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:tj:s4', [Color.$, Defaults.ap], 'HeatMaximum:rl:s5', [1, 50], 'HeatMinimumColor:tk:s6', [Color.$, Defaults.aq], 'HeatMinimum:rm:s7', [1, 0], 'PointExtent:ry:s8', [1, 1], 'ProgressiveLoad:qq:s9', [0, true], 'UseBruteForce:qr:ta', [0, false], 'XAxis:qb:tb', [NumericXAxis.$, null], 'XMemberAsLegendLabel:sa:tc', [2, null], 'XMemberAsLegendUnit:sc:td', [2, null], 'XMemberPath:se:te', [2, null], 'YAxis:qd:tf', [NumericYAxis.$, null], 'YMemberAsLegendLabel:si:tg', [2, null], 'YMemberAsLegendUnit:sk:th', [2, null], 'YMemberPath:sm:ti', [2, null]]);\n  return HighDensityScatterSeries;\n}(Series);\n\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HighDensityScatterSeriesView, _super);\n\n  function HighDensityScatterSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.bz = null;\n    _this.bx = null;\n    _this.b5 = 0;\n    _this.b4 = 0;\n    _this.b2 = null;\n    _this.b3 = null;\n    _this.b0 = null;\n    _this.bz = a;\n    return _this;\n  }\n\n  HighDensityScatterSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.bz.tk = Defaults.aq;\n      this.bz.tj = Defaults.ap;\n      this.bz.o3 = Defaults.al;\n      this.bz.o8 = Defaults.ak;\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.ca = function () {\n    this.bz.s2(this.bx, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.prototype.b6 = function () {\n    if (this.b2 == null) {\n      this.b2 = this.e.g9.createElement(\"canvas\");\n      var a = this.e.g9.get2DCanvasContext(this.b2);\n      this.b0 = new RenderingContext(new CanvasViewRenderer(), a);\n    }\n\n    var b;\n\n    if (this.p) {\n      b = this.bu;\n    } else {\n      b = this.e.cd.sk();\n    }\n\n    var c = truncate(Math.round(b.left));\n    var d = truncate(Math.round(b.top));\n    var e = truncate(Math.round(b.width));\n    var f = truncate(Math.round(b.height));\n    var g = this.b5;\n    var h = this.b4;\n    this.b5 = e;\n    this.b4 = f;\n\n    if (g != this.b5 || h != this.b4 || this.bx == null) {\n      this.b2.setAttribute(\"width\", e.toString());\n      this.b2.setAttribute(\"height\", f.toString());\n      this.b3 = this.b0.g().getImageData(0, 0, e, f);\n      var imageDataArray_ = this.b3.data;\n      this.bx = imageDataArray_;\n    }\n\n    this.bz.s2(this.bx, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.prototype.by = function () {\n    return this.bx;\n  };\n\n  HighDensityScatterSeriesView.prototype.b9 = function () {\n    var a = truncate(Math.round(this.bu.left));\n    var b = truncate(Math.round(this.bu.left));\n    var c = truncate(Math.round(this.bu.width));\n    var d = truncate(Math.round(this.bu.height));\n    this.b0.g().putImageData(this.b3, 0, 0);\n    this.aq();\n  };\n\n  HighDensityScatterSeriesView.prototype.b8 = function (a) {\n    if (this.e.g9 != null) {\n      this.e.g9.setTimeout(a, 0);\n    } else {\n      window.setTimeout(a, 0);\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (b) {\n      if (!this.bz.el) {\n        return;\n      }\n\n      var c = new Rectangle();\n      c.n = this.bu.left;\n      c.o = this.bu.top;\n      c.width = this.bu.width;\n      c.height = this.bu.height;\n      c._fill = this.bo();\n      a.v(c);\n      return;\n    }\n\n    if (this.b2 == null) {\n      return;\n    }\n\n    var d = truncate(Math.round(this.bu.left));\n    var e = truncate(Math.round(this.bu.top));\n    var f = truncate(Math.round(this.bu.width));\n    var g = truncate(Math.round(this.bu.height));\n    this.k.n(this.b2.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n  };\n\n  HighDensityScatterSeriesView.prototype.b1 = function (a, b) {\n    return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n  };\n\n  HighDensityScatterSeriesView.prototype.b7 = function () {\n    if (this.bx != null) {\n      for (var a = 0; a < this.bx.length; a++) {\n        this.bx[a] = 0;\n      }\n\n      this.b9();\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    if (this.bx == null) {\n      this.e.a8.exportSeriesPixelsData(a, null, this.b5, this.b4);\n      return;\n    }\n\n    var b = new Array(intDivide(this.bx.length, 4));\n    var c;\n\n    for (var d = 0; d < intDivide(this.bx.length, 4); d++) {\n      c = d * 4;\n      b[d] = this.bx[c + 3] << 24 | this.bx[c] << 16 | this.bx[c + 1] << 8 | this.bx[c + 2];\n    }\n\n    this.e.a8.exportSeriesPixelsData(a, b, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n  return HighDensityScatterSeriesView;\n}(SeriesView);\n\nexport { HighDensityScatterSeriesView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/HighDensityScatterSeries_combined.js"],"names":["__extends","Series","NumericXAxis","DependencyProperty","NumericYAxis","Color","ScatterFrame","Defaults","KDTree2D","Point_$type","typeGetValue","runOn","delegateRemove","typeCast","delegateCombine","markType","markDep","toNullable","DataLegendSeriesValueInfo","DataLegendSeriesContext","List$1","Rect","IFastItemsSource_$type","BrushUtil","SeriesView","KDPointData","ScalerParams","ProgressiveLoadStatusEventArgs","SearchArgs","KDTreeNode2D","AxisRange","PropertyMetadata","truncate","isNaN_","isInfinity","logBase","intDivide","boxArray$1","arrayShallowClone","dateNow","RenderingContext","CanvasViewRenderer","Rectangle","HighDensityScatterSeries","_super","_this","call","qh","qj","rs","ql","q7","aq","o","q6","n","q5","m","q4","l","q3","ap","q2","q1","q0","p9","qe","qf","qa","qc","qn","rt","rv","rp","ro","progressiveLoadStatusChanged","qs","qy","qx","qz","re","rc","rd","rf","rh","rj","ri","rg","qu","qv","qw","qt","rr","rq","p6","ru","qm","_itemIndexes","p7","p4","qg","ab","$","el","prototype","get_d5","gu","gt","q","get_ec","Object","defineProperty","get","set","a","b","qi","raisePropertyChanged","enumerable","configurable","getDataLegendSeriesContextAt","c","$type","x","y","d","ht","e","NaN","gb","f","g","p","se","sa","r","sc","h","sm","si","sk","i","$ret","add","av","hw","jq","$$p","hx","qk","s1","s","progressiveThunkCompleted","so","l4","cd","getEffectiveViewport1","b0","isEmpty","deregisterColumn","ch","qd","c0","qb","mi","lq","rangeChanged","sr","bz","cs","ck","lp","p8","b1","tk","tj","sv","Math","max","o8","o3","qp","qo","e9","bh","count","lv","lu","pz","mj","st","cx","qr","cg","j_1","k_1","_loop_1","ei","this_1","item","qq","rz","toArray","g9","su","sw","k0","sq","length","Array","getViewInfo","p0","p1","sp","j","k","round","ft","by","rm","rl","min","ss","s3","b9","ca","b8","asArray","hm","floor","sx","width","height","clear","left","right","top","bottom","t","_inner","sy","s0","en","sf","empty","pt","indexOf","au","rx","sz","u","v","w","z","aa","ac","ad","ae","af","ag","rw","rb","ra","q9","rk","b6","bx","HighDensityScatterSeriesView","lz","minimum","maximum","m5","m6","r0","s2","get_e3","set_e3","kx","b7","mk","ez","a2","mh","a6","a$h","a1","ku","$t","b5","b4","b2","b3","as","al","ak","createElement","get2DCanvasContext","bu","setAttribute","toString","getImageData","imageDataArray_","data","putImageData","setTimeout","window","_fill","bo","getNativeElement","_opacity","a8","exportSeriesPixelsData"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { Defaults } from \"./Defaults\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { Point_$type, typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar HighDensityScatterSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HighDensityScatterSeries, _super);\n    function HighDensityScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.qh = null;\n        _this.qj = null;\n        _this.rs = 0;\n        _this.ql = false;\n        _this.q7 = Defaults.aq.o;\n        _this.q6 = Defaults.aq.n;\n        _this.q5 = Defaults.aq.m;\n        _this.q4 = Defaults.aq.l;\n        _this.q3 = Defaults.ap.o;\n        _this.q2 = Defaults.ap.n;\n        _this.q1 = Defaults.ap.m;\n        _this.q0 = Defaults.ap.l;\n        _this.p9 = null;\n        _this.qe = null;\n        _this.qf = null;\n        _this.qa = null;\n        _this.qc = null;\n        _this.qn = false;\n        _this.rt = 0;\n        _this.rv = 0;\n        _this.rp = 0;\n        _this.ro = 0;\n        _this.progressiveLoadStatusChanged = null;\n        _this.qs = null;\n        _this.qy = 0;\n        _this.qx = 0;\n        _this.qz = 0;\n        _this.re = 0;\n        _this.rc = 0;\n        _this.rd = 0;\n        _this.rf = 0;\n        _this.rh = 0;\n        _this.rj = 0;\n        _this.ri = 0;\n        _this.rg = 0;\n        _this.qu = 0;\n        _this.qv = 0;\n        _this.qw = 0;\n        _this.qt = 0;\n        _this.rr = 0;\n        _this.rq = 0;\n        _this.p6 = null;\n        _this.ru = 0;\n        _this.qm = false;\n        _this._itemIndexes = null;\n        _this.p7 = null;\n        _this.p4 = null;\n        _this.qg = null;\n        _this.ab = HighDensityScatterSeries.$;\n        _this.el = false;\n        return _this;\n    }\n    HighDensityScatterSeries.prototype.get_d5 = function () {\n        return true;\n    };\n    HighDensityScatterSeries.prototype.gu = function () {\n        if (!isNaN_(this.gt)) {\n            return _super.prototype.gu.call(this);\n        }\n        return Defaults.q;\n    };\n    HighDensityScatterSeries.prototype.get_ec = function () {\n        return true;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"qi\", {\n        get: function () {\n            return this.qh;\n        },\n        set: function (a) {\n            if (this.qh != a) {\n                var b = this.qi;\n                this.qh = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.qi);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.ht(c);\n        var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n        var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n        var g = new DataLegendSeriesValueInfo();\n        g.l = e;\n        g.a = 13;\n        g.p = this.se != null ? this.se : \"X\";\n        g.q = this.sa != null ? this.sa : \"X:\";\n        g.r = this.sc != null ? this.sc : \"\";\n        var h = new DataLegendSeriesValueInfo();\n        h.l = f;\n        h.a = 14;\n        h.p = this.sm != null ? this.sm : \"Y\";\n        h.q = this.si != null ? this.si : \"Y:\";\n        g.r = this.sk != null ? this.sk : \"\";\n        var i = new DataLegendSeriesContext();\n        i.f = ((function () {\n            var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n            $ret.add(g);\n            $ret.add(h);\n            return $ret;\n        })());\n        i.b = this.av();\n        return i;\n    };\n    HighDensityScatterSeries.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == HighDensityScatterSeries.$$p[10]) {\n            return this.hx(a, b, this.se);\n        }\n        if (c == HighDensityScatterSeries.$$p[14]) {\n            return this.hx(a, b, this.sm);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"qk\", {\n        get: function () {\n            return this.qj;\n        },\n        set: function (a) {\n            if (this.qj != a) {\n                var b = this.qk;\n                this.qj = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.qk);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.s1 = function () {\n        if (this.p9 == null) {\n            return;\n        }\n        this.p9.s();\n        var a = this.p9;\n        a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.so));\n        this.p9 = null;\n    };\n    HighDensityScatterSeries.prototype.l4 = function (a, b, c, d) {\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case \"SeriesViewer\":\n                if (this.cd != null) {\n                    var e = this.getEffectiveViewport1(this.b0);\n                    this.qm = !e.isEmpty;\n                }\n                break;\n            case \"FastItemsSource\":\n                this.s1();\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.qi);\n                    c.deregisterColumn(this.qk);\n                    this.qi = null;\n                    this.qk = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.qi = this.ch(this.se);\n                    this.qk = this.ch(this.sm);\n                }\n                if ((this.qd != null && !this.qd.c0()) || (this.qb != null && !this.qb.c0())) {\n                    this.mi(false);\n                }\n                this.lq();\n                break;\n            case HighDensityScatterSeries.$$p[7]:\n                var f = this.qa;\n                this.qa = this.qb;\n                this.s1();\n                if (f != null) {\n                    f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.sr));\n                }\n                if (this.qa != null) {\n                    var g = this.qa;\n                    g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.sr));\n                }\n                if (c != null) {\n                    c.bz(this);\n                }\n                if (d != null) {\n                    d.cs(this);\n                }\n                if ((this.qb != null && !this.qb.c0()) || (d == null && c != null)) {\n                    this.mi(false);\n                }\n                break;\n            case HighDensityScatterSeries.$$p[11]:\n                var h = this.qc;\n                this.qc = this.qd;\n                this.s1();\n                if (h != null) {\n                    h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.sr));\n                }\n                if (this.qc != null) {\n                    var i = this.qc;\n                    i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.sr));\n                }\n                if (c != null) {\n                    c.bz(this);\n                }\n                if (d != null) {\n                    d.cs(this);\n                }\n                if ((this.qd != null && !this.qd.c0()) || (d == null && c != null)) {\n                    this.mi(false);\n                }\n                break;\n            case \"MouseOverEnabled\":\n                this.qn = this.el;\n                this.mi(false);\n                break;\n            case HighDensityScatterSeries.$$p[10]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.qi);\n                    this.qi = this.ch(this.se);\n                }\n                break;\n            case \"XColumn\":\n                this.s1();\n                if (this.qb != null && !this.qb.c0()) {\n                    this.mi(false);\n                }\n                this.lq();\n                break;\n            case HighDensityScatterSeries.$$p[14]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.qk);\n                    this.qk = this.ch(this.sm);\n                }\n                break;\n            case \"YColumn\":\n                this.s1();\n                if (this.qd != null && !this.qd.c0()) {\n                    this.mi(false);\n                }\n                this.lq();\n                break;\n            case HighDensityScatterSeries.$$p[6]:\n                this.s1();\n                this.mi(false);\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[3]:\n                this.mi(false);\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[1]:\n                this.mi(false);\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[0]:\n            case HighDensityScatterSeries.$$p[2]:\n                if (!this.p8.b1(this.tk, this.tj)) {\n                    return;\n                }\n                this.sv();\n                this.mi(false);\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[4]:\n                this.rs = Math.max(typeGetValue(d) - 1, 0);\n                this.ql = this.rs > 0;\n                this.mi(false);\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[5]:\n                this.mi(false);\n                this.lp();\n                break;\n        }\n    };\n    HighDensityScatterSeries.prototype.sv = function () {\n        this.q4 = this.tk.l;\n        this.q7 = this.tk.o;\n        this.q6 = this.tk.n;\n        this.q5 = this.tk.m;\n        this.q0 = this.tj.l;\n        this.q3 = this.tj.o;\n        this.q2 = this.tj.n;\n        this.q1 = this.tj.m;\n        this.o8 = BrushUtil.g(truncate(this.q4), truncate(this.q7), truncate(this.q6), truncate(this.q5));\n        this.o3 = BrushUtil.g(truncate(this.q0), truncate(this.q3), truncate(this.q2), truncate(this.q1));\n    };\n    HighDensityScatterSeries.prototype.qp = function (a) {\n        if (typeCast(NumericYAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.qo = function (a) {\n        if (typeCast(NumericXAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.sr = function (a, b) {\n        this.s1();\n        this.mi(false);\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"rb\", {\n        get: function () {\n            return this.q3 - this.q7;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"ra\", {\n        get: function () {\n            return this.q2 - this.q6;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"q9\", {\n        get: function () {\n            return this.q1 - this.q5;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"q8\", {\n        get: function () {\n            return this.q0 - this.q4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.qd == null || this.qb == null || this.qb.bh == null || this.qd.bh == null || this.qk == null || this.qi == null || this.qk.count < 1 || this.qi.count < 1 || this.qk.count != this.qi.count || this.qb.lv == this.qb.lu || this.qd.lv == this.qd.lu || this.pz.isEmpty) {\n            d = false;\n        }\n        return d;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"rz\", {\n        get: function () {\n            return this.rt;\n        },\n        set: function (a) {\n            var b = this.rt;\n            this.rt = a;\n            this.raisePropertyChanged(\"ProgressiveStatus\", b, this.rt);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.mj = function (a) {\n        _super.prototype.mj.call(this, a);\n        this.st(a, this.b0);\n    };\n    HighDensityScatterSeries.prototype.st = function (a, b) {\n        if (this.cx(b)) {\n            return;\n        }\n        if (this.p9 == null && !this.qr) {\n            var c = new List$1(KDPointData.$, 2, this.qi.count);\n            var d = this.qb;\n            var e = this.qd;\n            var f = new Rect(0, 0, 0, 1, 1);\n            var g = new Rect(0, 0, 0, 1, 1);\n            var h = new ScalerParams(1, f, g, d.cg);\n            var i = new ScalerParams(1, f, g, e.cg);\n            var j_1;\n            var k_1;\n            var _loop_1 = function (l) {\n                j_1 = d.ei(this_1.qi.item(l), h);\n                k_1 = e.ei(this_1.qk.item(l), i);\n                if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n                    c.add(((function () {\n                        var $ret = new KDPointData();\n                        $ret.a = j_1;\n                        $ret.b = k_1;\n                        $ret.c = l;\n                        return $ret;\n                    })()));\n                }\n            };\n            var this_1 = this;\n            for (var l = 0; l < this.qi.count; l++) {\n                _loop_1(l);\n            }\n            if (this.qq) {\n                this.ro = 1;\n                this.rp = truncate(logBase(c.count, 2)) + 3;\n                this.rz = truncate(((this.ro / this.rp) * 100));\n                if (this.progressiveLoadStatusChanged != null) {\n                    this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.rz));\n                }\n                this.p9 = KDTree2D.b(c.toArray(), 1);\n                var m = this.p9;\n                m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.so));\n                if (!this.p9.f(this.g9)) {\n                    var n = this.p9;\n                    n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.so));\n                }\n                this.lp();\n            }\n            else {\n                var o = dateNow();\n                this.p9 = new KDTree2D(0, c.toArray(), 1);\n                var p = dateNow();\n            }\n        }\n        if (this.qq && !this.qr) {\n            this.su(b);\n        }\n        else {\n            this.sw(b);\n        }\n    };\n    HighDensityScatterSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        this.s1();\n        var e = false;\n        if (this.qb != null && !this.qb.c0()) {\n            e = true;\n        }\n        if (this.qd != null && !this.qd.c0()) {\n            e = true;\n        }\n        if (e) {\n            this.mi(false);\n        }\n        this.lq();\n    };\n    HighDensityScatterSeries.prototype.sq = function (a) {\n        var b = a;\n        var c = this.rr * this.rq;\n        if (this.qn) {\n            if (this._itemIndexes == null || this._itemIndexes.length != c) {\n                this._itemIndexes = new Array(c);\n                for (var d = 0; d < c; d++) {\n                    this._itemIndexes[d] = 0;\n                }\n            }\n            else {\n                for (var e = 0; e < c; e++) {\n                    this._itemIndexes[e] = 0;\n                }\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.sw = function (a) {\n        var b;\n        var c;\n        var d = null;\n        if (a.q) {\n            d = this._itemIndexes;\n        }\n        var e = a.getViewInfo(c, b);\n        c = e.p0;\n        b = e.p1;\n        var f = a;\n        var g = this.getEffectiveViewport1(a);\n        this.qe = new ScalerParams(0, b, c, this.qa.cg, g);\n        this.qf = new ScalerParams(0, b, c, this.qc.cg, g);\n        this.sp(a);\n        this.sq(a);\n        var h = this.rr * this.rq;\n        if (this.p7 == null || this.p7.length != h) {\n            this.p7 = new Array(h);\n            this.p4 = new Array(h);\n        }\n        var i = this.p7.length;\n        var j = this.p7;\n        var k = this.p4;\n        for (var l = 0; l < i; l++) {\n            j[l] = 0;\n            k[l] = 0;\n        }\n        this.rv = truncate(Math.round(this.ft));\n        this.p6 = f.by();\n        var m = this.p6.length;\n        var n = this.p6;\n        for (var o = 0; o < m; o++) {\n            n[o] = 0;\n        }\n        var p = this.rm;\n        var q = this.rl;\n        if (isNaN_(p) || isInfinity(p)) {\n            p = 0;\n        }\n        if (isNaN_(q) || isInfinity(q)) {\n            q = 50;\n        }\n        this.qy = Math.min(p, q);\n        this.qx = Math.max(p, q);\n        if (this.qy < 0) {\n            this.qy = 0;\n        }\n        if (this.qx < 0) {\n            this.qx = 0;\n        }\n        this.qz = this.qx - this.qy;\n        if (this.qr) {\n            this.ss(a);\n        }\n        else {\n            this.s3(a);\n        }\n        f.b9();\n        if (a.q) {\n            this._itemIndexes = d;\n            this.p8.ca();\n        }\n    };\n    HighDensityScatterSeries.prototype.su = function (a) {\n        if (this.p9 == null) {\n            return;\n        }\n        this.sw(a);\n    };\n    HighDensityScatterSeries.prototype.so = function (a, b) {\n        var _this = this;\n        this.p8.b8(function () {\n            if (_this.ro < _this.rp - 1) {\n                _this.ro++;\n            }\n            _this.rz = truncate(((_this.ro / _this.rp) * 100));\n            if (_this.progressiveLoadStatusChanged != null) {\n                _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.rz));\n            }\n            _this.su(_this.b0);\n            _this.lp();\n            if (_this.p9 != null) {\n                if (!_this.p9.f(_this.g9)) {\n                    var c = _this.p9;\n                    c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.so));\n                    _this.rz = 100;\n                    if (_this.progressiveLoadStatusChanged != null) {\n                        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.rz));\n                    }\n                }\n            }\n        });\n    };\n    HighDensityScatterSeries.prototype.ss = function (a) {\n        var b = arrayShallowClone(this.qi.asArray());\n        this.qb.hm(boxArray$1(b), 0, b.length, this.qe);\n        var c = arrayShallowClone(this.qk.asArray());\n        this.ru = 0;\n        var d = this.rs;\n        var e = this.ql;\n        var f = this.p7.length;\n        this.qd.hm(boxArray$1(c), 0, c.length, this.qf);\n        var g = 255 << 24 | truncate(this.q7) << 16 | truncate(this.q6) << 8 | truncate(this.q5);\n        for (var h = 0; h < b.length; h++) {\n            var i = truncate(b[h]);\n            var j = truncate(c[h]);\n            i = truncate(Math.floor(i));\n            j = truncate(Math.floor(j));\n            if (i < 0 || i >= this.rr || j < 0 || j >= this.rq) {\n                continue;\n            }\n            if (e) {\n                var k = i - d;\n                var l = i + d;\n                l = l > (this.rr - 1) ? (this.rr - 1) : l;\n                k = k < 0 ? 0 : k;\n                var m = j + d;\n                var n = j - d;\n                for (var o = k; o <= l; o++) {\n                    for (var p = n; p <= m; p++) {\n                        var q = (p * this.rr) + o;\n                        if (q < 0 || q > f - 1) {\n                            continue;\n                        }\n                        this.p7[q] = this.p7[q] + 1;\n                        this.p4[q] = 1;\n                        this.ru++;\n                        if (this.qn) {\n                            this._itemIndexes[q] = h + 1;\n                        }\n                    }\n                }\n            }\n            else {\n                var r = (j * this.rr) + i;\n                this.p7[r] = this.p7[r] + 1;\n                this.p4[r] = 1;\n                this.ru++;\n                if (this.qn) {\n                    this._itemIndexes[r] = h + 1;\n                }\n            }\n        }\n        this.sx();\n    };\n    HighDensityScatterSeries.prototype.s3 = function (a) {\n        var b;\n        var c;\n        var d = a.getViewInfo(b, c);\n        b = d.p0;\n        c = d.p1;\n        if (this.p9 == null) {\n            return;\n        }\n        if (this.qs == null) {\n            this.qs = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n        }\n        else {\n            this.qs.clear();\n        }\n        var e = c.left;\n        var f = c.right;\n        var g = c.top;\n        var h = c.bottom;\n        this.ri = c.top;\n        this.rg = c.height;\n        this.rh = c.left;\n        this.rj = c.width;\n        this.re = b.top;\n        this.rc = b.height;\n        this.rd = b.left;\n        this.rf = b.width;\n        var i = this.getEffectiveViewport1(a);\n        this.qu = (i.left - this.rd) / this.rf;\n        this.qv = (i.top - this.re) / this.rc;\n        var j = (i.right - this.rd) / this.rf;\n        this.qw = j - this.qu;\n        var k = (i.bottom - this.re) / this.rc;\n        this.qt = k - this.qv;\n        if (this.qm) {\n            e = (e - this.qu) / this.qw;\n            f = (f - this.qu) / this.qw;\n            g = (g - this.qv) / this.qt;\n            h = (h - this.qv) / this.qt;\n        }\n        var l = this.ft / b.width * c.width;\n        var m = this.ft / b.height * c.height;\n        var n = Math.min(l, m);\n        var o = ((function () {\n            var $ret = new SearchArgs();\n            $ret.c = e;\n            $ret.a = f;\n            $ret.d = g;\n            $ret.b = h;\n            $ret.e = l;\n            $ret.f = m;\n            $ret.g = 0x7FFFFFFF;\n            return $ret;\n        })());\n        this.p9.t(this.qs, o, 0, 1, 0, 1);\n        var p;\n        this.ru = 0;\n        for (var q = 0; q < this.qs.count; q++) {\n            p = this.qs._inner[q];\n            this.sy(p);\n        }\n        this.sx();\n    };\n    HighDensityScatterSeries.prototype.sy = function (a) {\n        if (a.g) {\n            return;\n        }\n        var b = a.e != null && a.e.a;\n        var c = a.a == null ? 0 : a.a.length;\n        var d = (a.h - c) + 1;\n        if (b && d > 0) {\n        }\n        else {\n            d = 1;\n        }\n        this.s0(a.b, d, b, a.e);\n        if (c > 0 && !b) {\n            var e = void 0;\n            for (var f = 0; f < c; f++) {\n                e = a.a[f];\n                this.s0(e, d, false, a.e);\n            }\n        }\n        if (a.e != null) {\n            a.e.a = false;\n        }\n    };\n    HighDensityScatterSeries.prototype.en = function (a) {\n        var b = this.cd != null ? this.cd.sf : Rect.empty;\n        var c = this.cd != null ? this.cd.su : Rect.empty;\n        var d = new Rect(0, 0, 0, 1, 1);\n        var e = this.pt(this.b0);\n        var f = new ScalerParams(0, d, d, this.qb.cg, e);\n        var g = new ScalerParams(0, d, d, this.qd.cg, e);\n        var h = !b.isEmpty && !c.isEmpty && this.ck != null ? this.ck.indexOf(a) : -1;\n        var i = this.qb != null && this.qi != null && h < this.qi.count ? this.qb.ei(this.qi.item(h), f) : NaN;\n        var j = this.qd != null && this.qk != null && h < this.qk.count ? this.qd.ei(this.qk.item(h), g) : NaN;\n        if (!isNaN_(i)) {\n            if (i < b.left + 0.1 * b.width) {\n                i = i + 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n            if (i > b.right - 0.1 * b.width) {\n                i = i - 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n        }\n        if (!isNaN_(j)) {\n            if (j < b.top + 0.1 * b.height) {\n                j = j + 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n            if (j > b.bottom - 0.1 * b.height) {\n                j = j - 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n        }\n        if (this.b8 != null) {\n            this.b8.au(this.cd, b, true);\n        }\n        return h >= 0;\n    };\n    HighDensityScatterSeries.prototype.s0 = function (a, b, c, d) {\n        var e = this.rx(b);\n        var f = a.c;\n        var g = this.rs;\n        if (c) {\n            var h = d.d;\n            var i = d.b;\n            var j = d.e;\n            var k = d.c;\n            if (this.qm) {\n                h = this.qu + this.qw * h;\n                i = this.qu + this.qw * i;\n                j = this.qv + this.qt * j;\n                k = this.qv + this.qt * k;\n            }\n            var l = truncate((this.rd + this.rf * (h - this.rh) / this.rj));\n            var m = truncate((this.rd + this.rf * (i - this.rh) / this.rj));\n            var n = truncate((this.re + this.rc * (j - this.ri) / this.rg));\n            var o = truncate((this.re + this.rc * (k - this.ri) / this.rg));\n            l = truncate(Math.floor(l));\n            m = truncate(Math.floor(m));\n            n = truncate(Math.floor(n));\n            o = truncate(Math.floor(o));\n            if (this.ql) {\n                l -= g;\n                m += g;\n                n -= g;\n                o += g;\n            }\n            var p = ((m - l) + 1) * ((o - n) + 1);\n            var q = b / p;\n            var r = q;\n            for (var s = l; s <= m; s++) {\n                for (var t = n; t <= o; t++) {\n                    this.sz(f, s, t, q, r);\n                }\n            }\n        }\n        else {\n            var u = a.a;\n            var v = a.b;\n            if (this.qm) {\n                u = this.qu + this.qw * u;\n                v = this.qv + this.qt * v;\n            }\n            var w = truncate((this.rd + this.rf * (u - this.rh) / this.rj));\n            var x = truncate((this.re + this.rc * (v - this.ri) / this.rg));\n            w = truncate(Math.floor(w));\n            x = truncate(Math.floor(x));\n            if (this.ql) {\n                var y = w - g;\n                var z = w + g;\n                var aa = x + g;\n                var ab = x - g;\n                var ac = ((z - y) + 1) * ((aa - ab) + 1);\n                var ad = b / ac;\n                var ae = ad;\n                for (var af = y; af <= z; af++) {\n                    for (var ag = ab; ag <= aa; ag++) {\n                        this.sz(f, af, ag, ad, ae);\n                    }\n                }\n            }\n            else {\n                this.sz(f, w, x, b, 1);\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.rw = function (a, b) {\n        return truncate((Math.floor(255 * b))) << 24 | truncate(Math.floor(b * (this.q7 + a * this.rb))) << 16 | truncate(Math.floor(b * (this.q6 + a * this.ra))) << 8 | truncate(Math.floor(b * (this.q5 + a * this.q9)));\n    };\n    HighDensityScatterSeries.prototype.rx = function (a) {\n        return 255 << 24 | truncate(Math.floor((this.q7 + a * this.rb))) << 16 | truncate(Math.floor((this.q6 + a * this.ra))) << 8 | truncate(Math.floor((this.q5 + a * this.q9)));\n    };\n    HighDensityScatterSeries.prototype.rk = function (a) {\n        return (a >> 24 & 255) / 255;\n    };\n    HighDensityScatterSeries.prototype.sz = function (a, b, c, d, e) {\n        if (b < 0 || b >= this.rr || c < 0 || c >= this.rq) {\n            return;\n        }\n        var f = (c * this.rr) + b;\n        this.p7[f] = this.p7[f] + d;\n        this.p4[f] = this.p4[f] + e;\n        if (this.qn) {\n            this._itemIndexes[f] = a + 1;\n        }\n        this.ru += truncate(d);\n    };\n    HighDensityScatterSeries.prototype.sx = function () {\n        var a = 0;\n        var b = 0;\n        var c = this.qz;\n        var d = this.qy;\n        var e = this.qx;\n        var f = this.p7.length;\n        var g = this.p7;\n        var h = this.p4;\n        var i = this.p6;\n        var j = NaN;\n        var k = NaN;\n        var l = 0;\n        var m = 0;\n        for (var n = 0; n < f; n++) {\n            a = g[n];\n            if (a != 0) {\n                b = h[n];\n                if (a >= e) {\n                    a = 1;\n                }\n                else if (a <= d) {\n                    a = 0;\n                }\n                else {\n                    a = (a - d) / (c);\n                }\n                if (b > 1) {\n                    b = 1;\n                }\n                if (b < 0.2) {\n                    b = 0.2;\n                }\n                if (j != a || k != b) {\n                    l = this.rw(a, b);\n                    j = a;\n                    k = b;\n                }\n                i[m] = l >> 16 & 255;\n                i[m + 1] = l >> 8 & 255;\n                i[m + 2] = l & 255;\n                i[m + 3] = l >> 24 & 255;\n            }\n            m += 4;\n        }\n    };\n    HighDensityScatterSeries.prototype.sp = function (a) {\n        var b = a;\n        b.b6();\n    };\n    HighDensityScatterSeries.prototype.bx = function () {\n        return new HighDensityScatterSeriesView(this);\n    };\n    HighDensityScatterSeries.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.p8 = a;\n    };\n    HighDensityScatterSeries.prototype.ap = function (a) {\n        if (a != null && a == this.qb && this.qi != null) {\n            return new AxisRange(this.qi.minimum, this.qi.maximum);\n        }\n        if (a != null && a == this.qd && this.qk != null) {\n            return new AxisRange(this.qk.minimum, this.qk.maximum);\n        }\n        return null;\n    };\n    HighDensityScatterSeries.prototype.m5 = function (a, b) {\n        if (this.cd != null) {\n            var c = this.getEffectiveViewport1(this.b0);\n            this.qm = !c.isEmpty;\n        }\n        this.mi(false);\n    };\n    HighDensityScatterSeries.prototype.m6 = function (a, b) {\n        this.mi(false);\n    };\n    HighDensityScatterSeries.prototype.ht = function (a) {\n        if (!this.qn || this._itemIndexes == null || this.cd == null || this.ck == null || this._itemIndexes.length != (this.rr * this.rq)) {\n            return null;\n        }\n        var b = this.cd.sf;\n        var c = (a.x - b.left) / b.width;\n        var d = (a.y - b.top) / b.height;\n        var e = truncate(Math.round(this.pz.left + (this.pz.width * c)));\n        var f = truncate(Math.round(this.pz.top + (this.pz.height * d)));\n        var g = this.r0(e, f);\n        if (g < 0 || g > this._itemIndexes.length - 1) {\n            return null;\n        }\n        var h = this._itemIndexes[g] - 1;\n        if (h < 0 || h > this.ck.count) {\n            return null;\n        }\n        return this.ck.item(h);\n    };\n    HighDensityScatterSeries.prototype.r0 = function (a, b) {\n        var c = (this.rr * b) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        var d = 1;\n        c = (this.rr * (b - d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b + d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b - d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b + d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b - d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rr * (b + d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        return 0;\n    };\n    HighDensityScatterSeries.prototype.s2 = function (a, b, c) {\n        this.p6 = a;\n        this.rr = b;\n        this.rq = c;\n    };\n    HighDensityScatterSeries.prototype.get_e3 = function () {\n        return true;\n    };\n    HighDensityScatterSeries.prototype.set_e3 = function (a) {\n        _super.prototype.set_e3.call(this, a);\n    };\n    HighDensityScatterSeries.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        this.p8.b7();\n        if (this.bz != null) {\n            this.bz.b7();\n        }\n        this.lp();\n    };\n    HighDensityScatterSeries.prototype.mk = function (a, b) {\n        _super.prototype.mk.call(this, a, b);\n        if (!this.ez) {\n            this.b0.a2(b);\n            return;\n        }\n        this.b0.a2(b);\n        if (this.cx(this.bz)) {\n            return;\n        }\n        var c = typeCast(HighDensityScatterSeriesView.$, this.bz);\n        var d = new ScatterFrame();\n        this.st(false, c);\n        this.ez = false;\n    };\n    HighDensityScatterSeries.prototype.mh = function (a, b, c, d, e) {\n        _super.prototype.mh.call(this, a, b, c, d, e);\n        var f = this.a6.a$h.item(d);\n        var g = f;\n        f.a1(c);\n        if (this.cx(g)) {\n            return;\n        }\n        if (this.qg == null) {\n            this.qg = new ScatterFrame();\n        }\n        this.st(false, f);\n    };\n    HighDensityScatterSeries.prototype.ku = function () {\n        _super.prototype.ku.call(this);\n        this.qb = null;\n        this.qd = null;\n    };\n    HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n    HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:tj:s4', [Color.$, Defaults.ap], 'HeatMaximum:rl:s5', [1, 50], 'HeatMinimumColor:tk:s6', [Color.$, Defaults.aq], 'HeatMinimum:rm:s7', [1, 0], 'PointExtent:ry:s8', [1, 1], 'ProgressiveLoad:qq:s9', [0, true], 'UseBruteForce:qr:ta', [0, false], 'XAxis:qb:tb', [NumericXAxis.$, null], 'XMemberAsLegendLabel:sa:tc', [2, null], 'XMemberAsLegendUnit:sc:td', [2, null], 'XMemberPath:se:te', [2, null], 'YAxis:qd:tf', [NumericYAxis.$, null], 'YMemberAsLegendLabel:si:tg', [2, null], 'YMemberAsLegendUnit:sk:th', [2, null], 'YMemberPath:sm:ti', [2, null]]);\n    return HighDensityScatterSeries;\n}(Series));\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\nvar HighDensityScatterSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HighDensityScatterSeriesView, _super);\n    function HighDensityScatterSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.bz = null;\n        _this.bx = null;\n        _this.b5 = 0;\n        _this.b4 = 0;\n        _this.b2 = null;\n        _this.b3 = null;\n        _this.b0 = null;\n        _this.bz = a;\n        return _this;\n    }\n    HighDensityScatterSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.bz.tk = Defaults.aq;\n            this.bz.tj = Defaults.ap;\n            this.bz.o3 = Defaults.al;\n            this.bz.o8 = Defaults.ak;\n        }\n    };\n    HighDensityScatterSeriesView.prototype.ca = function () {\n        this.bz.s2(this.bx, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.prototype.b6 = function () {\n        if (this.b2 == null) {\n            this.b2 = this.e.g9.createElement(\"canvas\");\n            var a = this.e.g9.get2DCanvasContext(this.b2);\n            this.b0 = new RenderingContext(new CanvasViewRenderer(), a);\n        }\n        var b;\n        if (this.p) {\n            b = this.bu;\n        }\n        else {\n            b = this.e.cd.sk();\n        }\n        var c = truncate(Math.round(b.left));\n        var d = truncate(Math.round(b.top));\n        var e = truncate(Math.round(b.width));\n        var f = truncate(Math.round(b.height));\n        var g = this.b5;\n        var h = this.b4;\n        this.b5 = e;\n        this.b4 = f;\n        if (g != this.b5 || h != this.b4 || this.bx == null) {\n            this.b2.setAttribute(\"width\", e.toString());\n            this.b2.setAttribute(\"height\", f.toString());\n            this.b3 = this.b0.g().getImageData(0, 0, e, f);\n            var imageDataArray_ = this.b3.data;\n            this.bx = imageDataArray_;\n        }\n        this.bz.s2(this.bx, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.prototype.by = function () {\n        return this.bx;\n    };\n    HighDensityScatterSeriesView.prototype.b9 = function () {\n        var a = truncate(Math.round(this.bu.left));\n        var b = truncate(Math.round(this.bu.left));\n        var c = truncate(Math.round(this.bu.width));\n        var d = truncate(Math.round(this.bu.height));\n        this.b0.g().putImageData(this.b3, 0, 0);\n        this.aq();\n    };\n    HighDensityScatterSeriesView.prototype.b8 = function (a) {\n        if (this.e.g9 != null) {\n            this.e.g9.setTimeout(a, 0);\n        }\n        else {\n            window.setTimeout(a, 0);\n        }\n    };\n    HighDensityScatterSeriesView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (b) {\n            if (!this.bz.el) {\n                return;\n            }\n            var c = new Rectangle();\n            c.n = this.bu.left;\n            c.o = this.bu.top;\n            c.width = this.bu.width;\n            c.height = this.bu.height;\n            c._fill = this.bo();\n            a.v(c);\n            return;\n        }\n        if (this.b2 == null) {\n            return;\n        }\n        var d = truncate(Math.round(this.bu.left));\n        var e = truncate(Math.round(this.bu.top));\n        var f = truncate(Math.round(this.bu.width));\n        var g = truncate(Math.round(this.bu.height));\n        this.k.n(this.b2.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n    };\n    HighDensityScatterSeriesView.prototype.b1 = function (a, b) {\n        return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n    };\n    HighDensityScatterSeriesView.prototype.b7 = function () {\n        if (this.bx != null) {\n            for (var a = 0; a < this.bx.length; a++) {\n                this.bx[a] = 0;\n            }\n            this.b9();\n        }\n    };\n    HighDensityScatterSeriesView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        if (this.bx == null) {\n            this.e.a8.exportSeriesPixelsData(a, null, this.b5, this.b4);\n            return;\n        }\n        var b = new Array(intDivide(this.bx.length, 4));\n        var c;\n        for (var d = 0; d < intDivide(this.bx.length, 4); d++) {\n            c = d * 4;\n            b[d] = this.bx[c + 3] << 24 | this.bx[c] << 16 | this.bx[c + 1] << 8 | this.bx[c + 2];\n        }\n        this.e.a8.exportSeriesPixelsData(a, b, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n    return HighDensityScatterSeriesView;\n}(SeriesView));\nexport { HighDensityScatterSeriesView };\n"]},"metadata":{},"sourceType":"module"}