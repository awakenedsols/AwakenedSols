{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { Series } from \"./Series\";\nimport { Defaults } from \"./Defaults\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar FinancialPriceSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialPriceSeries, _super);\n\n  function FinancialPriceSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ab = FinancialPriceSeries.$;\n    _this.qg = new CategoryFrame(5);\n    _this.qi = new CategoryFrame(5);\n    _this.qe = new CategoryFrame(5);\n    return _this;\n  }\n\n  FinancialPriceSeries.prototype.get_ds = function () {\n    return true;\n  };\n\n  FinancialPriceSeries.prototype.gu = function () {\n    if (!isNaN_(this.gt)) {\n      return _super.prototype.gu.call(this);\n    }\n\n    return Defaults.k;\n  };\n\n  FinancialPriceSeries.prototype.bx = function () {\n    return new FinancialPriceSeriesView(this);\n  };\n\n  FinancialPriceSeries.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.tn = a;\n  };\n\n  Object.defineProperty(FinancialPriceSeries.prototype, \"uv\", {\n    get: function () {\n      return this.c(FinancialPriceSeries.ud);\n    },\n    set: function (a) {\n      this.h(FinancialPriceSeries.ud, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialPriceSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n      this.qc.i$i();\n    }\n\n    this.tn.bx.e(this.ft);\n\n    if (this.tn.b7) {\n      this.tn.b5.g$e(a, b, c, d);\n    }\n\n    if (this.qy != null) {\n      this.qy.c0();\n    }\n\n    this.mi(true);\n  };\n\n  FinancialPriceSeries.prototype.bp = function () {\n    if (this.bq == 0) {\n      return 1;\n    } else {\n      return _super.prototype.bp.call(this);\n    }\n  };\n\n  FinancialPriceSeries.prototype.pv = function (a) {\n    if (this.qe == null || this.qe.f.count == 0) {\n      return Rect.empty;\n    }\n\n    var b = this.ph(a);\n    var c = this.b0.bv;\n    var d = this.b0.bu;\n    var e = this.getEffectiveViewport1(this.b0);\n    var f = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n    var g = f[0];\n    var h = f[1];\n    var i = Math.abs(b.x - g[0]);\n    var j = Math.abs(b.x - h[0]);\n    var k = this.tp(this.qt, e);\n    k = Math.max(k, 3);\n    var l = (k - 1) / 2;\n\n    if (i < j) {\n      var m = g[0] - l;\n      var n = g[0];\n      var o = g[0] + l;\n      var p = g[1];\n      var q = g[2];\n      var r = g[3];\n      var s = g[4];\n      var t = Math.min(Math.min(Math.min(p, q), r), s);\n      var u = Math.max(Math.max(Math.max(p, q), r), s);\n      return new Rect(0, m, t, Math.abs(o - m), u - t);\n    } else {\n      var v = h[0] - l;\n      var w = h[0];\n      var x = h[0] + l;\n      var y = h[1];\n      var z = h[2];\n      var aa = h[3];\n      var ab = h[4];\n      var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n      var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n      return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n    }\n  };\n\n  FinancialPriceSeries.prototype.tm = function (a, b) {\n    var c = a[0] - b;\n    var d = a[0];\n    var e = a[0] + b;\n    var f = a[1];\n    var g = a[2];\n    var h = a[3];\n    var i = a[4];\n    var j = Math.min(Math.min(Math.min(f, g), h), i);\n    var k = Math.max(Math.max(Math.max(f, g), h), i);\n    var l = Math.min(g, h);\n    var m = Math.max(g, h);\n    var n = Math.min(f, i);\n    var o = Math.max(f, i);\n\n    if (this.to == 1) {\n      var p = new Array(3);\n      var q = new Rect(0, c, f, b, 0);\n      var r = new Rect(0, d, i, b, 0);\n      var s = new Rect(0, d, l, 0, m - l);\n      p[0] = q;\n      p[1] = r;\n      p[2] = s;\n      return p;\n    } else {\n      var t = new Array(2);\n      var u = new Rect(0, d, l, 0, m - l);\n      var v = new Rect(0, c, n, b * 2, o - n);\n      t[0] = u;\n      t[1] = v;\n      return t;\n    }\n  };\n\n  FinancialPriceSeries.prototype.ak = function (a) {\n    var b = new List$1(Rect.$, 0);\n    var c = this.ph(a);\n    var d = this.b0.bv;\n    var e = this.b0.bu;\n    var f = this.getEffectiveViewport1(this.b0);\n    var g = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n    var h = g[0];\n    var i = g[1];\n    var j = Math.abs(c.x - h[0]);\n    var k = Math.abs(c.x - i[0]);\n    var l = this.tp(this.qt, f);\n    l = Math.max(l, 3);\n    var m = (l - 1) / 2;\n\n    if (j < k) {\n      return this.tm(h, m);\n    } else {\n      return this.tm(i, m);\n    }\n  };\n\n  FinancialPriceSeries.prototype.ev = function (a, b) {\n    if (this.ey(a, b)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.ey = function (a, b) {\n    var c = this.pw(a);\n\n    if (c.isEmpty) {\n      return false;\n    }\n\n    var d = RectUtil.r(c, this.fu / 2 + this.f8(b));\n\n    if (d.containsPoint(a)) {\n      var e = this.al(a);\n\n      if (e != null) {\n        for (var f = 0; f < e.length; f++) {\n          var g = e[f];\n          var h = RectUtil.r(g, this.fu / 2 + this.f8(b));\n\n          if (h.containsPoint(a)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.l4 = function (a, b, c, d) {\n    switch (b) {\n      case FinancialSeries.$$p[9]:\n        this.tn.cd();\n\n        if (this.cd != null) {\n          this.cd.li();\n        }\n\n        break;\n\n      case \"TrendLineType\":\n        var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n\n        if (e != 0) {\n          this.tn.b5 = CategoryTrendLineManagerFactory.a(this.tn.b5, this.qc, this.na, this, this.cn);\n        }\n\n        break;\n    }\n\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    if (this.tn.b7 && this.tn.b5 != null && this.tn.b5.g$b(a, b, c, d)) {\n      this.mi(false);\n      this.lp();\n    }\n\n    switch (b) {\n      case FinancialPriceSeries.$$p[2]:\n        if (this.na != null) {\n          this.uc();\n          this.mx();\n          this.qe.w();\n          this.s5(this.qe, this.tn);\n        }\n\n        this.lp();\n        break;\n\n      case \"ActualHighlightingMode\":\n        this.mi(true);\n        break;\n\n      case \"TrendLineBrush\":\n        this.mw();\n        break;\n\n      case \"TrendLineType\":\n        this.lp();\n        break;\n\n      case FinancialSeries.$$p[5]:\n      case FinancialPriceSeries.$$p[7]:\n        this.l1();\n        break;\n    }\n  };\n\n  FinancialPriceSeries.prototype.uc = function () {\n    this.tn.ch();\n\n    if (this.bz != null) {\n      this.bz.ch();\n    }\n  };\n\n  FinancialPriceSeries.prototype.ap = function (a) {\n    if (a != null && a == this.qy && this.q7 != null && !isNaN_(this.q7.minimum) && this.q6 != null && !isNaN_(this.q6.maximum)) {\n      return new AxisRange(this.q7.minimum, this.q6.maximum);\n    }\n\n    return null;\n  };\n\n  FinancialPriceSeries.prototype.aq = function (a) {\n    if (a.isEmpty && this.cd != null) {\n      a = this.cd.sf;\n    }\n\n    if (this.q7 == null || this.q6 == null) {\n      return null;\n    }\n\n    var b = this.pr(this.b0);\n    var c = new ScalerParams(0, a, this.cd.su, this.qc.cg, this.getEffectiveViewport());\n    var d = this.qc.el(b.left, c);\n    var e = this.qc.el(b.right, c);\n\n    if (this.qc.cg) {\n      var f = d;\n      d = e;\n      e = f;\n    }\n\n    var g = null;\n\n    if (this.qc.cm) {\n      g = this.qc;\n      d = g.i$f(d);\n      e = g.i$f(e);\n    } else {\n      d = Math.floor(d);\n      e = Math.ceil(e);\n    }\n\n    d = Math.max(0, Math.min(this.q7.count - 1, d));\n    e = Math.max(0, Math.min(this.q7.count - 1, e));\n    var h = 1.7976931348623157E+308;\n    var i = -1.7976931348623157E+308;\n\n    for (var j = truncate(d); j <= truncate(e); j++) {\n      var k = j;\n\n      if (g != null) {\n        k = g.i$b._inner[j];\n      }\n\n      var l = this.q7.item(k);\n\n      if (this.q7.mayContainUnknowns) {\n        if (isInfinity(l) || isNaN_(l)) {\n          continue;\n        }\n      }\n\n      var m = this.q6.item(k);\n\n      if (this.q6.mayContainUnknowns) {\n        if (isInfinity(m) || isNaN_(m)) {\n          continue;\n        }\n      }\n\n      h = Math.min(h, l);\n      i = Math.max(i, m);\n    }\n\n    var n = new AxisRange(h, i);\n    n = this.ao(n, this.qy, a);\n    return n;\n  };\n\n  FinancialPriceSeries.prototype.gc = function () {\n    return Series.gd(this.q8, typeCast(ISortingAxis_$type, this.qc));\n  };\n\n  FinancialPriceSeries.prototype.en = function (a) {\n    var b = this.ck != null ? this.ck.indexOf(a) : -1;\n    var c = this.b0.bv;\n    c = c.copy();\n    var d = this.b0.bu;\n    var e = new Rect(0, 0, 0, 1, 1);\n    var f = this.pt(this.b0);\n\n    if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n      if (this.qc != null) {\n        var g = new ScalerParams(0, e, e, this.qc.cg, f);\n        var h = this.qc.ei(b, g);\n\n        if (h < c.left + 0.1 * c.width) {\n          h = h + 0.4 * c.width;\n        }\n\n        if (h > c.right - 0.1 * c.width) {\n          h = h - 0.4 * c.width;\n        }\n\n        c.x = h - 0.5 * c.width;\n      }\n\n      if (this.qy != null && this.q7 != null && this.q6 != null && b < this.q7.count && b < this.q6.count) {\n        var i = new ScalerParams(0, e, e, this.qy.cg, f);\n        i.b = this.gc();\n        var j = this.qy.ei(this.q7.item(b), i);\n        var k = this.qy.ei(this.q6.item(b), i);\n\n        if (!isNaN_(j) && !isNaN_(k)) {\n          var l = Math.abs(j - k);\n\n          if (c.height < l) {\n            c.height = l;\n            c.y = Math.min(j, k);\n          } else {\n            if (j < c.top + 0.1 * c.height) {\n              j = j + 0.4 * c.height;\n            }\n\n            if (j > c.bottom - 0.1 * c.height) {\n              j = j - 0.4 * c.height;\n            }\n\n            c.y = j - 0.5 * c.height;\n          }\n        }\n      }\n\n      this.b8.au(this.cd, c, true);\n    }\n\n    return b >= 0;\n  };\n\n  FinancialPriceSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.q8 == null || this.q5 == null || this.q6 == null || this.q7 == null) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  FinancialPriceSeries.prototype.s3 = function (a, b) {\n    var e_1, _a;\n\n    var _this = this;\n\n    _super.prototype.s3.call(this, a, b);\n\n    var c = b.bv;\n    var d = b.bu;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.qc;\n    var g = this.qy;\n    var h = new ScalerParams(0, c, d, f.cg, e);\n\n    var i = function () {\n      var $ret = new ScalerParams(0, c, d, g.cg, e);\n      $ret.b = _this.gc();\n      return $ret;\n    }();\n\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = 0;\n    var k = typeCast(ISortingAxis_$type, this.qc);\n\n    if (k != null && (k.i$b == null || k.i$b.count != this.ck.count)) {\n      return;\n    }\n\n    j = this.r3(c, d, e);\n    var l = typeCast(FinancialPriceSeriesView.$, b);\n    var m = this.ft;\n\n    if (this.trendLineType != 0) {\n      var n = new Array(this.ck.count);\n      var o = 0;\n\n      try {\n        for (var _b = __values(fromEnum(this.ru)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var p = _c.value;\n          n[o] = p;\n          o++;\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      if (this.tn.b7) {\n        this.tn.b5.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) {\n          return _this.qc.ei(q, h);\n        }, function (q) {\n          return _this.qy.ei(q, i);\n        }, function () {\n          var $ret = new TrendResolutionParams();\n          $ret.c = b.bx.b;\n          $ret.d = b.bx.c;\n          $ret.e = b.bx.d;\n          $ret.a = j;\n          $ret.b = m;\n          $ret.f = d;\n          return $ret;\n        }());\n      }\n    }\n\n    var q = this.qc.el(2, h) - this.qc.el(1, h);\n\n    for (var r = b.bx.c; r <= b.bx.d; ++r) {\n      var s = void 0;\n\n      if (k == null) {\n        s = b.bx.getBucket(r);\n      } else {\n        var t = k.i$b._inner[r];\n        var u = k.i$d(t);\n        var v = this.q8.item(t);\n        var w = this.q6.item(t);\n        var x = this.q7.item(t);\n        var y = this.q5.item(t);\n        var z = v;\n        var aa = w;\n        var ab = x;\n        var ac = y;\n        var ad = u;\n\n        while (r < b.bx.d) {\n          t = k.i$b._inner[r + 1];\n          ad = k.i$d(t);\n\n          if (ad - u > q * m) {\n            break;\n          }\n\n          r++;\n          aa = Math.max(aa, this.q6.item(t));\n          ab = Math.min(ab, this.q7.item(t));\n          ac = this.q5.item(t);\n        }\n\n        var ae = NaN;\n\n        if (!isNaN_(u)) {\n          ae = this.qc.ei(u, h);\n        }\n\n        s = [ae, z, aa, ab, ac];\n      }\n\n      if (!isNaN_(s[0])) {\n        if (k != null) {\n          s[0] = s[0] + j;\n        } else {\n          s[0] = f.ei(s[0], h) + j;\n        }\n\n        s[1] = g.ei(s[1], i);\n        s[2] = g.ei(s[2], i);\n        s[3] = g.ei(s[3], i);\n        s[4] = g.ei(s[4], i);\n        a.f.add(s);\n      }\n    }\n\n    return;\n  };\n\n  FinancialPriceSeries.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    var c = typeCast(FinancialPriceSeriesView.$, b);\n    c.cb();\n\n    if (a) {\n      c.b6.count = 0;\n    }\n\n    if (c.b7 && c.b5 != null) {\n      c.b5.g$d();\n    }\n  };\n\n  FinancialPriceSeries.prototype.m5 = function (a, b) {\n    _super.prototype.m5.call(this, a, b);\n\n    if (this.cd != null) {\n      this.cd.li();\n    }\n  };\n\n  FinancialPriceSeries.prototype.p1 = function (a, b) {\n    if (this.qc != null && this.qc.categoryMode == 0) {\n      var c = this.getEffectiveViewport1(this.b0);\n      var d = this.tp(this.qt, c) / 2;\n      return new Thickness(1, d, 0, d, 0);\n    }\n\n    return _super.prototype.p1.call(this, a, b);\n  };\n\n  FinancialPriceSeries.prototype.get_c2 = function () {\n    return true;\n  };\n\n  FinancialPriceSeries.prototype.s5 = function (a, b) {\n    _super.prototype.s5.call(this, a, b);\n\n    if (this.qc == null || this.qy == null) {\n      return;\n    }\n\n    var c = false;\n\n    if (b.b0(a)) {\n      c = true;\n      b.b2(a);\n    }\n\n    this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n    var d = false;\n    var e = this.ql.b;\n\n    if (e != null) {\n      d = true;\n    }\n\n    var f = typeCast(FinancialPriceSeriesView.$, b);\n    f.ca();\n    f.b8 = false;\n\n    if (f.b7) {\n      f.b5.g$d();\n    }\n\n    if (this.trendLineType != 0) {\n      f.b5.g$g(a.p);\n    }\n\n    if (d) {\n      this.ub(a, b, c);\n    } else {\n      f.b6.count = 0;\n      this.ua(a, b);\n    }\n  };\n\n  FinancialPriceSeries.prototype.ga = function () {\n    var a = this.getEffectiveViewport1(this.b0);\n    return this.tp(this.qt, a);\n  };\n\n  FinancialPriceSeries.prototype.ub = function (a, b, c) {\n    var d = this.to;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.tp(b, e);\n    var g = (f - 1) / 2;\n    var h = typeCast(FinancialPriceSeriesView.$, b);\n    h.b8 = true;\n    var i = a.f;\n    var j = 0;\n    var k = this.ck.count;\n    var l = this.qc;\n    var m = new ScalerParams(0, b.bv, b.bu, l.cg, e);\n    var n = this.oz;\n    var o = this.ti;\n\n    if (o == null) {\n      o = n;\n    }\n\n    var p = this.o2;\n    var q = this.uw;\n\n    if (q == null) {\n      q = p;\n    }\n\n    var _loop_1 = function (r) {\n      var s = i._inner[r][0] - g;\n      var t = i._inner[r][0];\n      var u = i._inner[r][0] + g;\n      var v = i._inner[r][1];\n      var w = i._inner[r][2];\n      var x = i._inner[r][3];\n      var y = i._inner[r][4];\n\n      if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n        return \"continue\";\n      }\n\n      var z = h.b6.item(j);\n      j++;\n      var aa = v < y;\n      var ab = new PathGeometry();\n\n      if (c) {\n        switch (d) {\n          case 0:\n            if (aa) {\n              var ac = v;\n              v = y;\n              y = ac;\n            }\n\n            var ad = new PathFigure();\n            ad._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ad._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ae = new PathFigure();\n            ae._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: y\n            };\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: y\n              };\n              return $ret;\n            }());\n\n            var af = new PathFigure();\n            af._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            af._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ad);\n            ab.c.add(ae);\n            ab.c.add(af);\n            break;\n\n          case 1:\n            var ag = new PathFigure();\n            ag._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: v\n            };\n\n            ag._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ah = new PathFigure();\n            ah._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ah._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            var ai = new PathFigure();\n            ai._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            ai._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ag);\n            ab.c.add(ah);\n            ab.c.add(ai);\n            break;\n        }\n      }\n\n      if (aa) {\n        this_1.ql.ak = o;\n        this_1.ql.ag = o;\n        this_1.ql.ah = q;\n        this_1.ql.al = q;\n        this_1.ql.f = true;\n      } else {\n        this_1.ql.ak = n;\n        this_1.ql.ag = n;\n        this_1.ql.ah = p;\n        this_1.ql.al = p;\n        this_1.ql.f = false;\n      }\n\n      this_1.s2(i, r, k, l, m, b.q);\n\n      if (d == 1) {\n        this_1.ql.ad(z, true, false, false, false);\n      } else {\n        this_1.ql.ad(z, false, false, false, false);\n      }\n\n      if (c) {\n        z.ak = ab;\n      }\n    };\n\n    var this_1 = this;\n\n    for (var r = 0; r < i.count; ++r) {\n      _loop_1(r);\n    }\n\n    h.b6.count = j;\n    h.cc();\n  };\n\n  FinancialPriceSeries.prototype.tp = function (a, b) {\n    var c = this.qc.k3(a.bv, a.bu, b);\n    c = Math.max(c, this.ft * 0.9);\n    c = Math.max(c, 3);\n    return c;\n  };\n\n  FinancialPriceSeries.prototype.ua = function (a, b) {\n    var c = this.to;\n    var d = this.getEffectiveViewport1(b);\n    var e = this.tp(b, d);\n    var f = (e - 1) / 2;\n    var g = typeCast(FinancialPriceSeriesView.$, b);\n    var h = g.ck();\n    var i = g.cj();\n    var j = a.f;\n\n    var _loop_2 = function (k) {\n      var l = j._inner[k][0] - f;\n      var m = j._inner[k][0];\n      var n = j._inner[k][0] + f;\n      var o = j._inner[k][1];\n      var p = j._inner[k][2];\n      var q = j._inner[k][3];\n      var r = j._inner[k][4];\n\n      if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n        return \"continue\";\n      }\n\n      var s = o < r;\n      var t = s ? i : h;\n\n      switch (c) {\n        case 0:\n          if (s) {\n            var u = o;\n            o = r;\n            r = u;\n          }\n\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new RectangleGeometry();\n            $ret.e = new Rect(0, l, r, n - l, o - r);\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          break;\n\n        case 1:\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: l,\n              y: o\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: n,\n              y: r\n            };\n            return $ret;\n          }());\n          break;\n      }\n    };\n\n    for (var k = 0; k < j.count; ++k) {\n      _loop_2(k);\n    }\n  };\n\n  FinancialPriceSeries.prototype.hz = function (a, b) {\n    if (this.tn.b7 && a == this.tn.b5.g$j) {\n      return null;\n    }\n\n    return _super.prototype.hz.call(this, a, b);\n  };\n\n  FinancialPriceSeries.prototype.mw = function () {\n    _super.prototype.mw.call(this);\n\n    if (this.index < 0) {\n      return;\n    }\n\n    this.tn.ci();\n  };\n\n  FinancialPriceSeries.prototype.k7 = function (a) {\n    _super.prototype.k7.call(this, a);\n\n    if (this.tn.b7) {\n      this.a8.exportTrendlineData(this, a, this.tn.b5.g$j);\n    }\n  };\n\n  FinancialPriceSeries.prototype.pa = function () {\n    return this.uw;\n  };\n\n  FinancialPriceSeries.prototype.mn = function (a, b) {\n    _super.prototype.mn.call(this, a, b);\n\n    this.uw = b;\n  };\n\n  FinancialPriceSeries.prototype.ba = function (a) {\n    if (this.to == 0) {\n      return 3;\n    } else if (this.to == 1) {\n      if (this.a9 == 1) {\n        return 3;\n      }\n\n      return 2;\n    }\n\n    return a;\n  };\n\n  FinancialPriceSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.gh(c, false, false);\n    var e = this.gf(c, false, false);\n    var f = new DataLegendSeriesValueInfo();\n    f.a = 4;\n    f.l = this.r4(c, false, false);\n    f.p = this.sg != null ? this.sg : \"Close\";\n    f.q = this.ts != null ? this.ts : \"C:\";\n    f.r = this.tu != null ? this.tu : \"\";\n    var g = new DataLegendSeriesValueInfo();\n    g.l = this.r5(c, false, false);\n    g.a = 3;\n    g.p = this.ss != null ? this.ss : \"Open\";\n    g.q = this.t6 != null ? this.t6 : \"O:\";\n    g.r = this.t8 != null ? this.t8 : \"\";\n    g.k = true;\n    var h = new DataLegendSeriesValueInfo();\n    h.l = (f.l - g.l) / g.l * 100;\n    h.l = round10N(h.l, 1);\n    h.a = 9;\n    h.p = \"Change\";\n    h.q = \"\";\n    h.t = \"\";\n    h.v = \"+\";\n    h.u = \"%\";\n    h.w = \"%\";\n    h.r = null;\n    h.c = false;\n    h.k = true;\n    h.e = false;\n    h.f = true;\n    h.h = false;\n    h.g = false;\n    h.d = false;\n    h.n = 1;\n    h.m = 1;\n    g.x = h.l >= 0 ? this.oz : this.ti;\n    f.x = h.l >= 0 ? this.oz : this.ti;\n    h.x = h.l >= 0 ? this.oz : this.ti;\n    var i = new DataLegendSeriesValueInfo();\n    i.l = e > d ? d : e;\n    i.a = 1;\n    i.p = this.so != null ? this.so : \"Low\";\n    i.q = this.t1 != null ? this.t1 : \"L:\";\n    i.r = this.t3 != null ? this.t3 : \"\";\n    i.k = true;\n    var j = new DataLegendSeriesValueInfo();\n    j.l = e > d ? e : d;\n    j.a = 2;\n    j.p = this.sj != null ? this.sj : \"High\";\n    j.q = this.tx != null ? this.tx : \"H:\";\n    j.r = this.tz != null ? this.tz : \"\";\n    j.k = true;\n    var k = new DataLegendSeriesValueInfo();\n    k.l = (j.l + i.l + f.l) / 3;\n    k.l = round10N(k.l, 2);\n    k.a = 5;\n    k.p = \"TypicalPrice\";\n    k.q = \"TP:\";\n    k.r = \"\";\n    k.k = true;\n    var l = new DataLegendSeriesValueInfo();\n    l.l = this.r6(c, false, false);\n    l.a = 8;\n    l.p = this.sw != null ? this.sw : \"Volume\";\n    l.q = \"VOL:\";\n    l.r = \"\";\n    l.k = true;\n    l.n = 0;\n    l.m = 0;\n    l.e = false;\n    l.f = false;\n    l.h = false;\n    var m = new List$1(DataLegendSeriesValueInfo.$, 0);\n    m.add(g);\n    m.add(j);\n    m.add(i);\n    m.add(f);\n    m.add(k);\n    m.add(h);\n    m.add(l);\n    var n = new DataLegendSeriesContext();\n    n.b = this.av();\n    n.f = m;\n    return n;\n  };\n\n  FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n  FinancialPriceSeries.ud = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) {\n    return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue);\n  }));\n  FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['CloseMemberAsLegendLabel:ts:ue', [2, null], 'CloseMemberAsLegendUnit:tu:uf', [2, null], 'DisplayType:to:ug', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'HighMemberAsLegendLabel:tx:uh', [2, null], 'HighMemberAsLegendUnit:tz:ui', [2, null], 'LowMemberAsLegendLabel:t1:uj', [2, null], 'LowMemberAsLegendUnit:t3:uk', [2, null], 'NegativeOutline:uw:ul', [Brush.$, null], 'OpenMemberAsLegendLabel:t6:um', [2, null], 'OpenMemberAsLegendUnit:t8:un', [2, null], 'TrendLineType::ut', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::us', [1, 1.5], 'TrendLinePeriod::ur', [1, 7], 'TrendLineBrush::uo', [Brush.$, null], 'TrendLineZIndex:tr:uu', [1, 1001], 'TrendLineDashArray:ux:up', [DoubleCollection.$], 'TrendLineDashCap:uy:uq', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n  return FinancialPriceSeries;\n}(FinancialSeries);\n\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\n\nvar FinancialPriceSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialPriceSeriesView, _super);\n\n  function FinancialPriceSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b3 = null;\n    _this.b6 = null;\n    _this.b9 = null;\n\n    _this.cn = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.cm = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.b4 = null;\n    _this.cl = new Path();\n    _this.b8 = false;\n    _this.b3 = a;\n    _this.b9 = new List$1(Path.$, 0);\n\n    _this.b6 = function () {\n      var $ret = new Pool$1(Path.$);\n      $ret.create = runOn(_this, _this.co);\n      $ret.activate = runOn(_this, _this.ce);\n      $ret.disactivate = runOn(_this, _this.cg);\n      $ret.destroy = runOn(_this, _this.cf);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  FinancialPriceSeriesView.prototype.co = function () {\n    var a = new Path();\n    this.b9.add(a);\n    a._visibility = 1;\n    return a;\n  };\n\n  FinancialPriceSeriesView.prototype.ce = function (a) {\n    a._visibility = 0;\n  };\n\n  FinancialPriceSeriesView.prototype.cg = function (a) {\n    a._visibility = 1;\n  };\n\n  FinancialPriceSeriesView.prototype.cf = function (a) {\n    this.b9.remove(a);\n  };\n\n  FinancialPriceSeriesView.prototype.by = function () {\n    return new FinancialPriceBucketCalculator(this);\n  };\n\n  FinancialPriceSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.b3.to = Defaults.g;\n      this.b3.ti = Defaults.ah;\n      this.b3.uw = Defaults.ai;\n      this.b3.gz = Defaults.l;\n      this.b3.o8 = this.b3.o2;\n    }\n  };\n\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b5\", {\n    get: function () {\n      if (this.b4 == null) {\n        this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n      }\n\n      return this.b4;\n    },\n    set: function (a) {\n      this.b4 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b7\", {\n    get: function () {\n      return this.b4 != null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialPriceSeriesView.prototype.ch = function () {\n    if (this.b3.to == 1) {\n      this.cn._stroke = this.e.oz;\n    } else {\n      this.cn._stroke = this.e.o2;\n    }\n\n    if (this.b3.to == 1) {\n      this.cm._stroke = this.bz.ti;\n    } else {\n      this.cm._stroke = this.b3.uw;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.cb = function () {\n    this.aq();\n    this.b6.count = 0;\n    this.ca();\n  };\n\n  FinancialPriceSeriesView.prototype.ca = function () {\n    var a = typeCast(GeometryGroup.$, this.cn.ak);\n    var b = typeCast(GeometryGroup.$, this.cm.ak);\n    Extensions.d(a);\n    Extensions.d(b);\n  };\n\n  FinancialPriceSeriesView.prototype.ck = function () {\n    this.aq();\n    return typeCast(GeometryGroup.$, this.cn.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.cj = function () {\n    this.aq();\n    return typeCast(GeometryGroup.$, this.cm.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.ci = function () {\n    this.b3.uv = null;\n\n    if (this.b3.trendLineBrush != null) {\n      this.b3.uv = this.b3.trendLineBrush;\n    } else {\n      this.b3.uv = this.b3.oz;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.bb = function () {\n    _super.prototype.bb.call(this);\n\n    this.cn.ac = this.e.fu;\n    this.cn.ai = this.e.pc;\n    this.cn.ad = this.e.pd;\n\n    if (this.b3.to == 1) {\n      this.cn._stroke = this.e.oz;\n    } else {\n      this.cn._stroke = this.e.o2;\n      this.cn._fill = this.e.oz;\n    }\n\n    this.cm.ac = this.e.fu;\n    this.cm.ai = this.e.pc;\n    this.cm.ad = this.e.pd;\n\n    if (this.b3.to == 1) {\n      this.cm._stroke = this.bz.ti;\n    } else {\n      this.cm._stroke = this.b3.uw;\n      this.cm._fill = this.bz.ti;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.bc = function () {\n    _super.prototype.bc.call(this);\n\n    var a = this.bo();\n    this.cn.ac = this.e.fu + 3;\n\n    if (this.b3.to == 1) {\n      this.cn._stroke = a;\n    } else {\n      this.cn._stroke = a;\n      this.cn._fill = a;\n    }\n\n    this.cm.ac = this.e.fu + 3;\n\n    if (this.b3.to == 1) {\n      this.cm._stroke = a;\n    } else {\n      this.cm._stroke = a;\n      this.cm._fill = a;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.ac = function (a) {\n    return this.b9._inner[a];\n  };\n\n  FinancialPriceSeriesView.prototype.ab = function (a) {\n    var b = this.b9._inner[a];\n    this.cl._visibility = b._visibility;\n    this.cl.ak = b.ak;\n    var c = this.bp(a);\n    this.cl._fill = c;\n    this.cl._stroke = c;\n    this.cl.ac = this.e.fu + 3;\n    return this.cl;\n  };\n\n  FinancialPriceSeriesView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (a.d) {\n      if (this.b8) {\n        for (var c = 0; c < this.b9.count; c++) {\n          var d = this.aa(c, b);\n\n          if (d._visibility == 0) {\n            a.s(d);\n          }\n        }\n      } else {\n        a.s(this.cn);\n        a.s(this.cm);\n      }\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.a5 = function (a, b) {\n    if (a.d) {\n      if (this.b3.trendLineType != 0 && !b) {\n        var c = this.b5.g$j;\n        c.ac = this.b3.trendLineThickness;\n        c._stroke = this.b3.uv;\n        c.ai = this.b3.ux;\n        c.ad = this.b3.uy;\n        a.u(c);\n      }\n    }\n\n    _super.prototype.a5.call(this, a, b);\n  };\n\n  FinancialPriceSeriesView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    if (this.b3.rk()) {\n      for (var b = 0; b < this.b9.count; b++) {\n        var c = this.b9._inner[b];\n\n        if (c._fill == this.b3.ti) {\n          this.e.a8.exportPathData(a, c, \"negativePathShape\" + b, [\"Negative\"]);\n        } else {\n          this.e.a8.exportPathData(a, c, \"positivePathShape\" + b, [\"Positive\", \"Main\"]);\n        }\n      }\n    } else {\n      this.e.a8.exportPathData(a, this.cn, \"positivePathShape\", [\"Positive\", \"Main\"]);\n      this.e.a8.exportPathData(a, this.cm, \"negativePathShape\", [\"Negative\"]);\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.cc = function () {\n    this.aq();\n  };\n\n  FinancialPriceSeriesView.prototype.cd = function () {\n    if (this.b7) {\n      this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n    }\n  };\n\n  FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n  return FinancialPriceSeriesView;\n}(FinancialSeriesView);\n\nexport { FinancialPriceSeriesView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/FinancialPriceSeries_combined.js"],"names":["__extends","__values","FinancialSeries","ITrendLineSeries_$type","TrendLineType_$type","DependencyProperty","Brush","PenLineCap_$type","DoubleCollection","PriceDisplayType_$type","Series","Defaults","enumGetBox","EnumUtil","typeCast","fromEnum","runOn","Point_$type","markType","markDep","CategoryFrame","ISortingAxis_$type","FinancialSeriesView","Rect","List$1","RectUtil","CategoryTrendLineManagerFactory","AxisRange","ScalerParams","TrendResolutionParams","Pool$1","Path","Thickness","PathGeometry","PathFigure","LineSegment","GeometryGroup","LineGeometry","RectangleGeometry","DataLegendSeriesValueInfo","DataLegendSeriesContext","PropertyMetadata","truncate","isNaN_","isInfinity","boxArray$1","round10N","FinancialPriceBucketCalculator","Extensions","FinancialPriceSeries","_super","_this","call","ab","$","qg","qi","qe","prototype","get_ds","gu","gt","k","bx","FinancialPriceSeriesView","lz","a","tn","Object","defineProperty","get","c","ud","set","h","enumerable","configurable","k0","b","d","qc","i$i","e","ft","b7","b5","g$e","qy","c0","mi","bp","bq","pv","f","count","empty","ph","b0","bv","bu","getEffectiveViewport1","aj","r9","sb","g","i","Math","abs","x","j","tp","qt","max","l","m","n","o","p","q","r","s","t","min","u","v","w","y","z","aa","ac","ad","tm","to","Array","ak","ev","ey","pw","isEmpty","fu","f8","containsPoint","al","length","l4","$$p","cd","li","getEnumValue","na","cn","g$b","lp","uc","mx","s5","mw","l1","ch","bz","ap","q7","minimum","q6","maximum","aq","sf","pr","su","cg","getEffectiveViewport","el","left","right","cm","i$f","floor","ceil","i$b","_inner","item","mayContainUnknowns","ao","gc","gd","q8","en","ck","indexOf","copy","pt","l_op_Inequality","ei","width","height","top","bottom","b8","au","e9","q5","s3","e_1","_a","$ret","clear","r3","trendLineType","_b","ru","_c","next","done","value","e_1_1","error","return","prepareLineCore","trendLinePeriod","getBucket","i$d","ae","NaN","add","kx","cb","b6","g$d","m5","p1","categoryMode","get_c2","b2","ql","a0","rk","p4","ca","g$g","ub","ua","ga","oz","ti","o2","uw","_loop_1","_startPoint","$type","_segments","af","ag","ah","ai","this_1","s2","cc","k3","cj","_loop_2","hz","g$j","index","ci","k7","a8","exportTrendlineData","pa","mn","ba","a9","getDataLegendSeriesContextAt","gh","gf","r4","sg","ts","tu","r5","ss","t6","t8","so","t1","t3","sj","tx","tz","r6","sw","av","$t","raisePropertyChanged","oldValue","newValue","b3","b9","b4","cl","create","co","activate","ce","disactivate","destroy","cf","_visibility","remove","by","as","gz","o8","ar","_stroke","uv","trendLineBrush","bb","pc","pd","_fill","bc","bo","a6","a5","trendLineThickness","ux","uy","exportPathData"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { Series } from \"./Series\";\nimport { Defaults } from \"./Defaults\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar FinancialPriceSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialPriceSeries, _super);\n    function FinancialPriceSeries() {\n        var _this = _super.call(this) || this;\n        _this.ab = FinancialPriceSeries.$;\n        _this.qg = new CategoryFrame(5);\n        _this.qi = new CategoryFrame(5);\n        _this.qe = new CategoryFrame(5);\n        return _this;\n    }\n    FinancialPriceSeries.prototype.get_ds = function () {\n        return true;\n    };\n    FinancialPriceSeries.prototype.gu = function () {\n        if (!isNaN_(this.gt)) {\n            return _super.prototype.gu.call(this);\n        }\n        return Defaults.k;\n    };\n    FinancialPriceSeries.prototype.bx = function () {\n        return new FinancialPriceSeriesView(this);\n    };\n    FinancialPriceSeries.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.tn = a;\n    };\n    Object.defineProperty(FinancialPriceSeries.prototype, \"uv\", {\n        get: function () {\n            return this.c(FinancialPriceSeries.ud);\n        },\n        set: function (a) {\n            this.h(FinancialPriceSeries.ud, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialPriceSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n            this.qc.i$i();\n        }\n        this.tn.bx.e(this.ft);\n        if (this.tn.b7) {\n            this.tn.b5.g$e(a, b, c, d);\n        }\n        if (this.qy != null) {\n            this.qy.c0();\n        }\n        this.mi(true);\n    };\n    FinancialPriceSeries.prototype.bp = function () {\n        if (this.bq == 0) {\n            return 1;\n        }\n        else {\n            return _super.prototype.bp.call(this);\n        }\n    };\n    FinancialPriceSeries.prototype.pv = function (a) {\n        if (this.qe == null || this.qe.f.count == 0) {\n            return Rect.empty;\n        }\n        var b = this.ph(a);\n        var c = this.b0.bv;\n        var d = this.b0.bu;\n        var e = this.getEffectiveViewport1(this.b0);\n        var f = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n        var g = f[0];\n        var h = f[1];\n        var i = Math.abs(b.x - g[0]);\n        var j = Math.abs(b.x - h[0]);\n        var k = this.tp(this.qt, e);\n        k = Math.max(k, 3);\n        var l = (k - 1) / 2;\n        if (i < j) {\n            var m = g[0] - l;\n            var n = g[0];\n            var o = g[0] + l;\n            var p = g[1];\n            var q = g[2];\n            var r = g[3];\n            var s = g[4];\n            var t = Math.min(Math.min(Math.min(p, q), r), s);\n            var u = Math.max(Math.max(Math.max(p, q), r), s);\n            return new Rect(0, m, t, Math.abs(o - m), u - t);\n        }\n        else {\n            var v = h[0] - l;\n            var w = h[0];\n            var x = h[0] + l;\n            var y = h[1];\n            var z = h[2];\n            var aa = h[3];\n            var ab = h[4];\n            var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n            var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n            return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n        }\n    };\n    FinancialPriceSeries.prototype.tm = function (a, b) {\n        var c = a[0] - b;\n        var d = a[0];\n        var e = a[0] + b;\n        var f = a[1];\n        var g = a[2];\n        var h = a[3];\n        var i = a[4];\n        var j = Math.min(Math.min(Math.min(f, g), h), i);\n        var k = Math.max(Math.max(Math.max(f, g), h), i);\n        var l = Math.min(g, h);\n        var m = Math.max(g, h);\n        var n = Math.min(f, i);\n        var o = Math.max(f, i);\n        if (this.to == 1) {\n            var p = new Array(3);\n            var q = new Rect(0, c, f, b, 0);\n            var r = new Rect(0, d, i, b, 0);\n            var s = new Rect(0, d, l, 0, m - l);\n            p[0] = q;\n            p[1] = r;\n            p[2] = s;\n            return p;\n        }\n        else {\n            var t = new Array(2);\n            var u = new Rect(0, d, l, 0, m - l);\n            var v = new Rect(0, c, n, b * 2, o - n);\n            t[0] = u;\n            t[1] = v;\n            return t;\n        }\n    };\n    FinancialPriceSeries.prototype.ak = function (a) {\n        var b = new List$1(Rect.$, 0);\n        var c = this.ph(a);\n        var d = this.b0.bv;\n        var e = this.b0.bu;\n        var f = this.getEffectiveViewport1(this.b0);\n        var g = this.aj(this.qc, this.qe.f, this.r9(this.b0), this.sb(this.b0), a, true);\n        var h = g[0];\n        var i = g[1];\n        var j = Math.abs(c.x - h[0]);\n        var k = Math.abs(c.x - i[0]);\n        var l = this.tp(this.qt, f);\n        l = Math.max(l, 3);\n        var m = (l - 1) / 2;\n        if (j < k) {\n            return this.tm(h, m);\n        }\n        else {\n            return this.tm(i, m);\n        }\n    };\n    FinancialPriceSeries.prototype.ev = function (a, b) {\n        if (this.ey(a, b)) {\n            return true;\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.ey = function (a, b) {\n        var c = this.pw(a);\n        if (c.isEmpty) {\n            return false;\n        }\n        var d = RectUtil.r(c, (this.fu / 2) + this.f8(b));\n        if (d.containsPoint(a)) {\n            var e = this.al(a);\n            if (e != null) {\n                for (var f = 0; f < e.length; f++) {\n                    var g = e[f];\n                    var h = RectUtil.r(g, (this.fu / 2) + this.f8(b));\n                    if (h.containsPoint(a)) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.l4 = function (a, b, c, d) {\n        switch (b) {\n            case FinancialSeries.$$p[9]:\n                this.tn.cd();\n                if (this.cd != null) {\n                    this.cd.li();\n                }\n                break;\n            case \"TrendLineType\":\n                var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n                if (e != 0) {\n                    this.tn.b5 = CategoryTrendLineManagerFactory.a(this.tn.b5, this.qc, this.na, this, this.cn);\n                }\n                break;\n        }\n        _super.prototype.l4.call(this, a, b, c, d);\n        if (this.tn.b7 && this.tn.b5 != null && this.tn.b5.g$b(a, b, c, d)) {\n            this.mi(false);\n            this.lp();\n        }\n        switch (b) {\n            case FinancialPriceSeries.$$p[2]:\n                if (this.na != null) {\n                    this.uc();\n                    this.mx();\n                    this.qe.w();\n                    this.s5(this.qe, this.tn);\n                }\n                this.lp();\n                break;\n            case \"ActualHighlightingMode\":\n                this.mi(true);\n                break;\n            case \"TrendLineBrush\":\n                this.mw();\n                break;\n            case \"TrendLineType\":\n                this.lp();\n                break;\n            case FinancialSeries.$$p[5]:\n            case FinancialPriceSeries.$$p[7]:\n                this.l1();\n                break;\n        }\n    };\n    FinancialPriceSeries.prototype.uc = function () {\n        this.tn.ch();\n        if (this.bz != null) {\n            this.bz.ch();\n        }\n    };\n    FinancialPriceSeries.prototype.ap = function (a) {\n        if (a != null && a == this.qy && this.q7 != null && !isNaN_(this.q7.minimum) && this.q6 != null && !isNaN_(this.q6.maximum)) {\n            return new AxisRange(this.q7.minimum, this.q6.maximum);\n        }\n        return null;\n    };\n    FinancialPriceSeries.prototype.aq = function (a) {\n        if (a.isEmpty && this.cd != null) {\n            a = this.cd.sf;\n        }\n        if (this.q7 == null || this.q6 == null) {\n            return null;\n        }\n        var b = this.pr(this.b0);\n        var c = new ScalerParams(0, a, this.cd.su, this.qc.cg, this.getEffectiveViewport());\n        var d = (this.qc.el(b.left, c));\n        var e = (this.qc.el(b.right, c));\n        if (this.qc.cg) {\n            var f = d;\n            d = e;\n            e = f;\n        }\n        var g = null;\n        if (this.qc.cm) {\n            g = this.qc;\n            d = g.i$f(d);\n            e = g.i$f(e);\n        }\n        else {\n            d = Math.floor(d);\n            e = Math.ceil(e);\n        }\n        d = Math.max(0, Math.min(this.q7.count - 1, d));\n        e = Math.max(0, Math.min(this.q7.count - 1, e));\n        var h = 1.7976931348623157E+308;\n        var i = -1.7976931348623157E+308;\n        for (var j = truncate(d); j <= truncate(e); j++) {\n            var k = j;\n            if (g != null) {\n                k = g.i$b._inner[j];\n            }\n            var l = this.q7.item(k);\n            if (this.q7.mayContainUnknowns) {\n                if (isInfinity(l) || isNaN_(l)) {\n                    continue;\n                }\n            }\n            var m = this.q6.item(k);\n            if (this.q6.mayContainUnknowns) {\n                if (isInfinity(m) || isNaN_(m)) {\n                    continue;\n                }\n            }\n            h = Math.min(h, l);\n            i = Math.max(i, m);\n        }\n        var n = new AxisRange(h, i);\n        n = this.ao(n, this.qy, a);\n        return n;\n    };\n    FinancialPriceSeries.prototype.gc = function () {\n        return Series.gd(this.q8, typeCast(ISortingAxis_$type, this.qc));\n    };\n    FinancialPriceSeries.prototype.en = function (a) {\n        var b = this.ck != null ? this.ck.indexOf(a) : -1;\n        var c = this.b0.bv;\n        c = c.copy();\n        var d = this.b0.bu;\n        var e = new Rect(0, 0, 0, 1, 1);\n        var f = this.pt(this.b0);\n        if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n            if (this.qc != null) {\n                var g = new ScalerParams(0, e, e, this.qc.cg, f);\n                var h = this.qc.ei(b, g);\n                if (h < c.left + 0.1 * c.width) {\n                    h = h + 0.4 * c.width;\n                }\n                if (h > c.right - 0.1 * c.width) {\n                    h = h - 0.4 * c.width;\n                }\n                c.x = h - 0.5 * c.width;\n            }\n            if (this.qy != null && this.q7 != null && this.q6 != null && b < this.q7.count && b < this.q6.count) {\n                var i = new ScalerParams(0, e, e, this.qy.cg, f);\n                i.b = this.gc();\n                var j = this.qy.ei(this.q7.item(b), i);\n                var k = this.qy.ei(this.q6.item(b), i);\n                if (!isNaN_(j) && !isNaN_(k)) {\n                    var l = Math.abs(j - k);\n                    if (c.height < l) {\n                        c.height = l;\n                        c.y = Math.min(j, k);\n                    }\n                    else {\n                        if (j < c.top + 0.1 * c.height) {\n                            j = j + 0.4 * c.height;\n                        }\n                        if (j > c.bottom - 0.1 * c.height) {\n                            j = j - 0.4 * c.height;\n                        }\n                        c.y = j - 0.5 * c.height;\n                    }\n                }\n            }\n            this.b8.au(this.cd, c, true);\n        }\n        return b >= 0;\n    };\n    FinancialPriceSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.q8 == null || this.q5 == null || this.q6 == null || this.q7 == null) {\n            d = false;\n        }\n        return d;\n    };\n    FinancialPriceSeries.prototype.s3 = function (a, b) {\n        var e_1, _a;\n        var _this = this;\n        _super.prototype.s3.call(this, a, b);\n        var c = b.bv;\n        var d = b.bu;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.qc;\n        var g = this.qy;\n        var h = new ScalerParams(0, c, d, f.cg, e);\n        var i = ((function () {\n            var $ret = new ScalerParams(0, c, d, g.cg, e);\n            $ret.b = _this.gc();\n            return $ret;\n        })());\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = 0;\n        var k = typeCast(ISortingAxis_$type, this.qc);\n        if (k != null && (k.i$b == null || k.i$b.count != this.ck.count)) {\n            return;\n        }\n        j = this.r3(c, d, e);\n        var l = typeCast(FinancialPriceSeriesView.$, b);\n        var m = this.ft;\n        if (this.trendLineType != 0) {\n            var n = new Array(this.ck.count);\n            var o = 0;\n            try {\n                for (var _b = __values(fromEnum(this.ru)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    n[o] = p;\n                    o++;\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            if (this.tn.b7) {\n                this.tn.b5.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) { return _this.qc.ei(q, h); }, function (q) { return _this.qy.ei(q, i); }, ((function () {\n                    var $ret = new TrendResolutionParams();\n                    $ret.c = b.bx.b;\n                    $ret.d = b.bx.c;\n                    $ret.e = b.bx.d;\n                    $ret.a = j;\n                    $ret.b = m;\n                    $ret.f = d;\n                    return $ret;\n                })()));\n            }\n        }\n        var q = this.qc.el(2, h) - this.qc.el(1, h);\n        for (var r = b.bx.c; r <= b.bx.d; ++r) {\n            var s = void 0;\n            if (k == null) {\n                s = b.bx.getBucket(r);\n            }\n            else {\n                var t = k.i$b._inner[r];\n                var u = k.i$d(t);\n                var v = this.q8.item(t);\n                var w = this.q6.item(t);\n                var x = this.q7.item(t);\n                var y = this.q5.item(t);\n                var z = v;\n                var aa = w;\n                var ab = x;\n                var ac = y;\n                var ad = u;\n                while (r < b.bx.d) {\n                    t = k.i$b._inner[r + 1];\n                    ad = k.i$d(t);\n                    if (ad - u > q * m) {\n                        break;\n                    }\n                    r++;\n                    aa = Math.max(aa, this.q6.item(t));\n                    ab = Math.min(ab, this.q7.item(t));\n                    ac = this.q5.item(t);\n                }\n                var ae = NaN;\n                if (!isNaN_(u)) {\n                    ae = this.qc.ei(u, h);\n                }\n                s = [ae, z, aa, ab, ac];\n            }\n            if (!isNaN_(s[0])) {\n                if (k != null) {\n                    s[0] = s[0] + j;\n                }\n                else {\n                    s[0] = f.ei(s[0], h) + j;\n                }\n                s[1] = g.ei(s[1], i);\n                s[2] = g.ei(s[2], i);\n                s[3] = g.ei(s[3], i);\n                s[4] = g.ei(s[4], i);\n                a.f.add(s);\n            }\n        }\n        return;\n    };\n    FinancialPriceSeries.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        var c = typeCast(FinancialPriceSeriesView.$, b);\n        c.cb();\n        if (a) {\n            c.b6.count = 0;\n        }\n        if (c.b7 && c.b5 != null) {\n            c.b5.g$d();\n        }\n    };\n    FinancialPriceSeries.prototype.m5 = function (a, b) {\n        _super.prototype.m5.call(this, a, b);\n        if (this.cd != null) {\n            this.cd.li();\n        }\n    };\n    FinancialPriceSeries.prototype.p1 = function (a, b) {\n        if (this.qc != null && this.qc.categoryMode == 0) {\n            var c = this.getEffectiveViewport1(this.b0);\n            var d = this.tp(this.qt, c) / 2;\n            return new Thickness(1, d, 0, d, 0);\n        }\n        return _super.prototype.p1.call(this, a, b);\n    };\n    FinancialPriceSeries.prototype.get_c2 = function () {\n        return true;\n    };\n    FinancialPriceSeries.prototype.s5 = function (a, b) {\n        _super.prototype.s5.call(this, a, b);\n        if (this.qc == null || this.qy == null) {\n            return;\n        }\n        var c = false;\n        if (b.b0(a)) {\n            c = true;\n            b.b2(a);\n        }\n        this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n        var d = false;\n        var e = this.ql.b;\n        if (e != null) {\n            d = true;\n        }\n        var f = typeCast(FinancialPriceSeriesView.$, b);\n        f.ca();\n        f.b8 = false;\n        if (f.b7) {\n            f.b5.g$d();\n        }\n        if (this.trendLineType != 0) {\n            f.b5.g$g(a.p);\n        }\n        if (d) {\n            this.ub(a, b, c);\n        }\n        else {\n            f.b6.count = 0;\n            this.ua(a, b);\n        }\n    };\n    FinancialPriceSeries.prototype.ga = function () {\n        var a = this.getEffectiveViewport1(this.b0);\n        return this.tp(this.qt, a);\n    };\n    FinancialPriceSeries.prototype.ub = function (a, b, c) {\n        var d = this.to;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.tp(b, e);\n        var g = (f - 1) / 2;\n        var h = typeCast(FinancialPriceSeriesView.$, b);\n        h.b8 = true;\n        var i = a.f;\n        var j = 0;\n        var k = this.ck.count;\n        var l = this.qc;\n        var m = new ScalerParams(0, b.bv, b.bu, l.cg, e);\n        var n = this.oz;\n        var o = this.ti;\n        if (o == null) {\n            o = n;\n        }\n        var p = this.o2;\n        var q = this.uw;\n        if (q == null) {\n            q = p;\n        }\n        var _loop_1 = function (r) {\n            var s = i._inner[r][0] - g;\n            var t = i._inner[r][0];\n            var u = i._inner[r][0] + g;\n            var v = i._inner[r][1];\n            var w = i._inner[r][2];\n            var x = i._inner[r][3];\n            var y = i._inner[r][4];\n            if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n                return \"continue\";\n            }\n            var z = h.b6.item(j);\n            j++;\n            var aa = v < y;\n            var ab = new PathGeometry();\n            if (c) {\n                switch (d) {\n                    case 0:\n                        if (aa) {\n                            var ac = v;\n                            v = y;\n                            y = ac;\n                        }\n                        var ad = new PathFigure();\n                        ad._startPoint = { $type: Point_$type, x: t, y: x };\n                        ad._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ae = new PathFigure();\n                        ae._startPoint = { $type: Point_$type, x: s, y: y };\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: y };\n                            return $ret;\n                        })()));\n                        var af = new PathFigure();\n                        af._startPoint = { $type: Point_$type, x: t, y: y };\n                        af._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        ab.c.add(ad);\n                        ab.c.add(ae);\n                        ab.c.add(af);\n                        break;\n                    case 1:\n                        var ag = new PathFigure();\n                        ag._startPoint = { $type: Point_$type, x: s, y: v };\n                        ag._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ah = new PathFigure();\n                        ah._startPoint = { $type: Point_$type, x: t, y: x };\n                        ah._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        var ai = new PathFigure();\n                        ai._startPoint = { $type: Point_$type, x: t, y: y };\n                        ai._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ab.c.add(ag);\n                        ab.c.add(ah);\n                        ab.c.add(ai);\n                        break;\n                }\n            }\n            if (aa) {\n                this_1.ql.ak = o;\n                this_1.ql.ag = o;\n                this_1.ql.ah = q;\n                this_1.ql.al = q;\n                this_1.ql.f = true;\n            }\n            else {\n                this_1.ql.ak = n;\n                this_1.ql.ag = n;\n                this_1.ql.ah = p;\n                this_1.ql.al = p;\n                this_1.ql.f = false;\n            }\n            this_1.s2(i, r, k, l, m, b.q);\n            if (d == 1) {\n                this_1.ql.ad(z, true, false, false, false);\n            }\n            else {\n                this_1.ql.ad(z, false, false, false, false);\n            }\n            if (c) {\n                z.ak = ab;\n            }\n        };\n        var this_1 = this;\n        for (var r = 0; r < i.count; ++r) {\n            _loop_1(r);\n        }\n        h.b6.count = j;\n        h.cc();\n    };\n    FinancialPriceSeries.prototype.tp = function (a, b) {\n        var c = this.qc.k3(a.bv, a.bu, b);\n        c = Math.max(c, this.ft * 0.9);\n        c = Math.max(c, 3);\n        return c;\n    };\n    FinancialPriceSeries.prototype.ua = function (a, b) {\n        var c = this.to;\n        var d = this.getEffectiveViewport1(b);\n        var e = this.tp(b, d);\n        var f = (e - 1) / 2;\n        var g = typeCast(FinancialPriceSeriesView.$, b);\n        var h = g.ck();\n        var i = g.cj();\n        var j = a.f;\n        var _loop_2 = function (k) {\n            var l = j._inner[k][0] - f;\n            var m = j._inner[k][0];\n            var n = j._inner[k][0] + f;\n            var o = j._inner[k][1];\n            var p = j._inner[k][2];\n            var q = j._inner[k][3];\n            var r = j._inner[k][4];\n            if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n                return \"continue\";\n            }\n            var s = o < r;\n            var t = s ? i : h;\n            switch (c) {\n                case 0:\n                    if (s) {\n                        var u = o;\n                        o = r;\n                        r = u;\n                    }\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new RectangleGeometry();\n                        $ret.e = new Rect(0, l, r, n - l, o - r);\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    break;\n                case 1:\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: l, y: o };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: n, y: r };\n                        return $ret;\n                    })()));\n                    break;\n            }\n        };\n        for (var k = 0; k < j.count; ++k) {\n            _loop_2(k);\n        }\n    };\n    FinancialPriceSeries.prototype.hz = function (a, b) {\n        if (this.tn.b7 && a == this.tn.b5.g$j) {\n            return null;\n        }\n        return _super.prototype.hz.call(this, a, b);\n    };\n    FinancialPriceSeries.prototype.mw = function () {\n        _super.prototype.mw.call(this);\n        if (this.index < 0) {\n            return;\n        }\n        this.tn.ci();\n    };\n    FinancialPriceSeries.prototype.k7 = function (a) {\n        _super.prototype.k7.call(this, a);\n        if (this.tn.b7) {\n            this.a8.exportTrendlineData(this, a, this.tn.b5.g$j);\n        }\n    };\n    FinancialPriceSeries.prototype.pa = function () {\n        return this.uw;\n    };\n    FinancialPriceSeries.prototype.mn = function (a, b) {\n        _super.prototype.mn.call(this, a, b);\n        this.uw = b;\n    };\n    FinancialPriceSeries.prototype.ba = function (a) {\n        if (this.to == 0) {\n            return 3;\n        }\n        else if (this.to == 1) {\n            if (this.a9 == 1) {\n                return 3;\n            }\n            return 2;\n        }\n        return a;\n    };\n    FinancialPriceSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.gh(c, false, false);\n        var e = this.gf(c, false, false);\n        var f = new DataLegendSeriesValueInfo();\n        f.a = 4;\n        f.l = this.r4(c, false, false);\n        f.p = this.sg != null ? this.sg : \"Close\";\n        f.q = this.ts != null ? this.ts : \"C:\";\n        f.r = this.tu != null ? this.tu : \"\";\n        var g = new DataLegendSeriesValueInfo();\n        g.l = this.r5(c, false, false);\n        g.a = 3;\n        g.p = this.ss != null ? this.ss : \"Open\";\n        g.q = this.t6 != null ? this.t6 : \"O:\";\n        g.r = this.t8 != null ? this.t8 : \"\";\n        g.k = true;\n        var h = new DataLegendSeriesValueInfo();\n        h.l = (f.l - g.l) / g.l * 100;\n        h.l = round10N(h.l, 1);\n        h.a = 9;\n        h.p = \"Change\";\n        h.q = \"\";\n        h.t = \"\";\n        h.v = \"+\";\n        h.u = \"%\";\n        h.w = \"%\";\n        h.r = null;\n        h.c = false;\n        h.k = true;\n        h.e = false;\n        h.f = true;\n        h.h = false;\n        h.g = false;\n        h.d = false;\n        h.n = 1;\n        h.m = 1;\n        g.x = h.l >= 0 ? this.oz : this.ti;\n        f.x = h.l >= 0 ? this.oz : this.ti;\n        h.x = h.l >= 0 ? this.oz : this.ti;\n        var i = new DataLegendSeriesValueInfo();\n        i.l = e > d ? d : e;\n        i.a = 1;\n        i.p = this.so != null ? this.so : \"Low\";\n        i.q = this.t1 != null ? this.t1 : \"L:\";\n        i.r = this.t3 != null ? this.t3 : \"\";\n        i.k = true;\n        var j = new DataLegendSeriesValueInfo();\n        j.l = e > d ? e : d;\n        j.a = 2;\n        j.p = this.sj != null ? this.sj : \"High\";\n        j.q = this.tx != null ? this.tx : \"H:\";\n        j.r = this.tz != null ? this.tz : \"\";\n        j.k = true;\n        var k = new DataLegendSeriesValueInfo();\n        k.l = (j.l + i.l + f.l) / 3;\n        k.l = round10N(k.l, 2);\n        k.a = 5;\n        k.p = \"TypicalPrice\";\n        k.q = \"TP:\";\n        k.r = \"\";\n        k.k = true;\n        var l = new DataLegendSeriesValueInfo();\n        l.l = this.r6(c, false, false);\n        l.a = 8;\n        l.p = this.sw != null ? this.sw : \"Volume\";\n        l.q = \"VOL:\";\n        l.r = \"\";\n        l.k = true;\n        l.n = 0;\n        l.m = 0;\n        l.e = false;\n        l.f = false;\n        l.h = false;\n        var m = new List$1(DataLegendSeriesValueInfo.$, 0);\n        m.add(g);\n        m.add(j);\n        m.add(i);\n        m.add(f);\n        m.add(k);\n        m.add(h);\n        m.add(l);\n        var n = new DataLegendSeriesContext();\n        n.b = this.av();\n        n.f = m;\n        return n;\n    };\n    FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n    FinancialPriceSeries.ud = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) { return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue); }));\n    FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['CloseMemberAsLegendLabel:ts:ue', [2, null], 'CloseMemberAsLegendUnit:tu:uf', [2, null], 'DisplayType:to:ug', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'HighMemberAsLegendLabel:tx:uh', [2, null], 'HighMemberAsLegendUnit:tz:ui', [2, null], 'LowMemberAsLegendLabel:t1:uj', [2, null], 'LowMemberAsLegendUnit:t3:uk', [2, null], 'NegativeOutline:uw:ul', [Brush.$, null], 'OpenMemberAsLegendLabel:t6:um', [2, null], 'OpenMemberAsLegendUnit:t8:un', [2, null], 'TrendLineType::ut', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::us', [1, 1.5], 'TrendLinePeriod::ur', [1, 7], 'TrendLineBrush::uo', [Brush.$, null], 'TrendLineZIndex:tr:uu', [1, 1001], 'TrendLineDashArray:ux:up', [DoubleCollection.$], 'TrendLineDashCap:uy:uq', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n    return FinancialPriceSeries;\n}(FinancialSeries));\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\nvar FinancialPriceSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialPriceSeriesView, _super);\n    function FinancialPriceSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b3 = null;\n        _this.b6 = null;\n        _this.b9 = null;\n        _this.cn = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.cm = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.b4 = null;\n        _this.cl = new Path();\n        _this.b8 = false;\n        _this.b3 = a;\n        _this.b9 = new List$1(Path.$, 0);\n        _this.b6 = ((function () {\n            var $ret = new Pool$1(Path.$);\n            $ret.create = runOn(_this, _this.co);\n            $ret.activate = runOn(_this, _this.ce);\n            $ret.disactivate = runOn(_this, _this.cg);\n            $ret.destroy = runOn(_this, _this.cf);\n            return $ret;\n        })());\n        return _this;\n    }\n    FinancialPriceSeriesView.prototype.co = function () {\n        var a = new Path();\n        this.b9.add(a);\n        a._visibility = 1;\n        return a;\n    };\n    FinancialPriceSeriesView.prototype.ce = function (a) {\n        a._visibility = 0;\n    };\n    FinancialPriceSeriesView.prototype.cg = function (a) {\n        a._visibility = 1;\n    };\n    FinancialPriceSeriesView.prototype.cf = function (a) {\n        this.b9.remove(a);\n    };\n    FinancialPriceSeriesView.prototype.by = function () {\n        return new FinancialPriceBucketCalculator(this);\n    };\n    FinancialPriceSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.b3.to = Defaults.g;\n            this.b3.ti = Defaults.ah;\n            this.b3.uw = Defaults.ai;\n            this.b3.gz = Defaults.l;\n            this.b3.o8 = this.b3.o2;\n        }\n    };\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b5\", {\n        get: function () {\n            if (this.b4 == null) {\n                this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n            }\n            return this.b4;\n        },\n        set: function (a) {\n            this.b4 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b7\", {\n        get: function () {\n            return this.b4 != null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialPriceSeriesView.prototype.ch = function () {\n        if (this.b3.to == 1) {\n            this.cn._stroke = this.e.oz;\n        }\n        else {\n            this.cn._stroke = this.e.o2;\n        }\n        if (this.b3.to == 1) {\n            this.cm._stroke = this.bz.ti;\n        }\n        else {\n            this.cm._stroke = this.b3.uw;\n        }\n    };\n    FinancialPriceSeriesView.prototype.cb = function () {\n        this.aq();\n        this.b6.count = 0;\n        this.ca();\n    };\n    FinancialPriceSeriesView.prototype.ca = function () {\n        var a = typeCast(GeometryGroup.$, this.cn.ak);\n        var b = typeCast(GeometryGroup.$, this.cm.ak);\n        Extensions.d(a);\n        Extensions.d(b);\n    };\n    FinancialPriceSeriesView.prototype.ck = function () {\n        this.aq();\n        return typeCast(GeometryGroup.$, this.cn.ak);\n    };\n    FinancialPriceSeriesView.prototype.cj = function () {\n        this.aq();\n        return typeCast(GeometryGroup.$, this.cm.ak);\n    };\n    FinancialPriceSeriesView.prototype.ci = function () {\n        this.b3.uv = null;\n        if (this.b3.trendLineBrush != null) {\n            this.b3.uv = this.b3.trendLineBrush;\n        }\n        else {\n            this.b3.uv = this.b3.oz;\n        }\n    };\n    FinancialPriceSeriesView.prototype.bb = function () {\n        _super.prototype.bb.call(this);\n        this.cn.ac = this.e.fu;\n        this.cn.ai = this.e.pc;\n        this.cn.ad = this.e.pd;\n        if (this.b3.to == 1) {\n            this.cn._stroke = this.e.oz;\n        }\n        else {\n            this.cn._stroke = this.e.o2;\n            this.cn._fill = this.e.oz;\n        }\n        this.cm.ac = this.e.fu;\n        this.cm.ai = this.e.pc;\n        this.cm.ad = this.e.pd;\n        if (this.b3.to == 1) {\n            this.cm._stroke = this.bz.ti;\n        }\n        else {\n            this.cm._stroke = this.b3.uw;\n            this.cm._fill = this.bz.ti;\n        }\n    };\n    FinancialPriceSeriesView.prototype.bc = function () {\n        _super.prototype.bc.call(this);\n        var a = this.bo();\n        this.cn.ac = this.e.fu + 3;\n        if (this.b3.to == 1) {\n            this.cn._stroke = a;\n        }\n        else {\n            this.cn._stroke = a;\n            this.cn._fill = a;\n        }\n        this.cm.ac = this.e.fu + 3;\n        if (this.b3.to == 1) {\n            this.cm._stroke = a;\n        }\n        else {\n            this.cm._stroke = a;\n            this.cm._fill = a;\n        }\n    };\n    FinancialPriceSeriesView.prototype.ac = function (a) {\n        return this.b9._inner[a];\n    };\n    FinancialPriceSeriesView.prototype.ab = function (a) {\n        var b = this.b9._inner[a];\n        this.cl._visibility = b._visibility;\n        this.cl.ak = b.ak;\n        var c = this.bp(a);\n        this.cl._fill = c;\n        this.cl._stroke = c;\n        this.cl.ac = this.e.fu + 3;\n        return this.cl;\n    };\n    FinancialPriceSeriesView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (a.d) {\n            if (this.b8) {\n                for (var c = 0; c < this.b9.count; c++) {\n                    var d = this.aa(c, b);\n                    if (d._visibility == 0) {\n                        a.s(d);\n                    }\n                }\n            }\n            else {\n                a.s(this.cn);\n                a.s(this.cm);\n            }\n        }\n    };\n    FinancialPriceSeriesView.prototype.a5 = function (a, b) {\n        if (a.d) {\n            if (this.b3.trendLineType != 0 && !b) {\n                var c = this.b5.g$j;\n                c.ac = this.b3.trendLineThickness;\n                c._stroke = this.b3.uv;\n                c.ai = this.b3.ux;\n                c.ad = this.b3.uy;\n                a.u(c);\n            }\n        }\n        _super.prototype.a5.call(this, a, b);\n    };\n    FinancialPriceSeriesView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        if (this.b3.rk()) {\n            for (var b = 0; b < this.b9.count; b++) {\n                var c = this.b9._inner[b];\n                if (c._fill == this.b3.ti) {\n                    this.e.a8.exportPathData(a, c, \"negativePathShape\" + b, [\"Negative\"]);\n                }\n                else {\n                    this.e.a8.exportPathData(a, c, \"positivePathShape\" + b, [\"Positive\", \"Main\"]);\n                }\n            }\n        }\n        else {\n            this.e.a8.exportPathData(a, this.cn, \"positivePathShape\", [\"Positive\", \"Main\"]);\n            this.e.a8.exportPathData(a, this.cm, \"negativePathShape\", [\"Negative\"]);\n        }\n    };\n    FinancialPriceSeriesView.prototype.cc = function () {\n        this.aq();\n    };\n    FinancialPriceSeriesView.prototype.cd = function () {\n        if (this.b7) {\n            this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.na, this.e, this.e.cn);\n        }\n    };\n    FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n    return FinancialPriceSeriesView;\n}(FinancialSeriesView));\nexport { FinancialPriceSeriesView };\n"]},"metadata":{},"sourceType":"module"}