{"ast":null,"code":"import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n\n  var xKeys = _keys(xMap).map(function (k) {\n    return Number(k);\n  });\n\n  var xArr = _orderBy(xKeys);\n\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = Number(x);\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        }\n\n        indexOffset++;\n\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n\n      var y = fillInMissingData ? 0 : null;\n      x = isDate ? new Date(x) : x;\n      return {\n        x: x,\n        y: y,\n        _x: x,\n        _y: y\n      };\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var group = datum._group;\n  var firstDatasetBaseline = datasets[0].map(function (d) {\n    return d.y0;\n  });\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? Number(value) + memo : memo;\n  }, firstDatasetBaseline[group] || 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(Number(datum._y) + Number(yOffset)) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(Number(datum._x) + Number(xOffset)) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var filterNullChildData = dataFromChildren.map(function (dataset) {\n    return dataset.filter(function (datum) {\n      return datum._x !== null && datum._y !== null;\n    });\n  });\n  var datasets = fillData(props, filterNullChildData);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nexport function getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = props.categories || Wrapper.getCategories(props, childComponents);\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return /*#__PURE__*/React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n} // We need to remove sharedEvents in order to memoize the calculated data\n// With shared events, the props change on every event, and every value is re-calculated\n\nvar withoutSharedEvents = function (props) {\n  var children = props.children;\n  var modifiedChildren = React.Children.toArray(children).map(function (_child) {\n    var child = _child;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      props: Helpers.omit(child.props, [\"sharedEvents\"])\n    });\n  });\n  props.children = modifiedChildren;\n  return props;\n};\n\nexport function useMemoizedProps(initialProps) {\n  var modifiedProps = withoutSharedEvents(initialProps);\n\n  var _React$useState = React.useState(modifiedProps),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      props = _React$useState2[0],\n      setProps = _React$useState2[1]; // React.memo uses shallow equality to compare objects. This way props\n  // will only be re-calculated when they change.\n\n\n  React.useEffect(function () {\n    if (!isEqual(modifiedProps, props)) {\n      setProps(modifiedProps);\n    }\n  }, [props, setProps, modifiedProps]);\n  return React.useMemo(function () {\n    return getCalculatedProps(props, props.children);\n  }, [props]);\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nexport function getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nexport function getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return /*#__PURE__*/React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/victory-stack/es/helper-methods.js"],"names":["_orderBy","_keys","_assign","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","value","err","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","React","Helpers","Scale","Wrapper","isEqual","fallbackProps","width","height","padding","fillData","props","datasets","fillInMissingData","xMap","reduce","prev","dataset","datum","_x","Date","getTime","xKeys","map","k","Number","xArr","indexOffset","isDate","filledInData","x","index","x1","_y","y","getY0","y0","group","_group","firstDatasetBaseline","d","previousDatasets","previousPoints","concat","previousDatum","memo","sameSign","some","point","addLayoutData","xOffset","yOffset","_y0","_y1","_x1","stackData","childComponents","dataFromChildren","getDataFromChildren","filterNullChildData","getCalculatedProps","Children","toArray","children","role","modifyProps","style","getStyle","theme","categories","getCategories","c","cloneElement","data","domain","getDomain","range","getRange","baseScale","getScaleFromProps","getScale","scale","horizontal","_props","colorScale","withoutSharedEvents","modifiedChildren","_child","child","omit","useMemoizedProps","initialProps","modifiedProps","_React$useState","useState","_React$useState2","setProps","useEffect","useMemo","getLabels","labels","undefined","getChildProps","calculatedProps","getPadding","standalone","getColorScale","type","colorScaleOptions","getChildren","_calculatedProps","childProps","parentName","getChildStyle","domainPadding","labelComponent","polar"],"mappings":"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","sourcesContent":["import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n\n  var xKeys = _keys(xMap).map(function (k) {\n    return Number(k);\n  });\n\n  var xArr = _orderBy(xKeys);\n\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = Number(x);\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        }\n\n        indexOffset++;\n\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n\n      var y = fillInMissingData ? 0 : null;\n      x = isDate ? new Date(x) : x;\n      return {\n        x: x,\n        y: y,\n        _x: x,\n        _y: y\n      };\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var group = datum._group;\n  var firstDatasetBaseline = datasets[0].map(function (d) {\n    return d.y0;\n  });\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? Number(value) + memo : memo;\n  }, firstDatasetBaseline[group] || 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(Number(datum._y) + Number(yOffset)) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(Number(datum._x) + Number(xOffset)) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var filterNullChildData = dataFromChildren.map(function (dataset) {\n    return dataset.filter(function (datum) {\n      return datum._x !== null && datum._y !== null;\n    });\n  });\n  var datasets = fillData(props, filterNullChildData);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nexport function getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = props.categories || Wrapper.getCategories(props, childComponents);\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return /*#__PURE__*/React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n} // We need to remove sharedEvents in order to memoize the calculated data\n// With shared events, the props change on every event, and every value is re-calculated\n\nvar withoutSharedEvents = function (props) {\n  var children = props.children;\n  var modifiedChildren = React.Children.toArray(children).map(function (_child) {\n    var child = _child;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      props: Helpers.omit(child.props, [\"sharedEvents\"])\n    });\n  });\n  props.children = modifiedChildren;\n  return props;\n};\n\nexport function useMemoizedProps(initialProps) {\n  var modifiedProps = withoutSharedEvents(initialProps);\n\n  var _React$useState = React.useState(modifiedProps),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      props = _React$useState2[0],\n      setProps = _React$useState2[1]; // React.memo uses shallow equality to compare objects. This way props\n  // will only be re-calculated when they change.\n\n\n  React.useEffect(function () {\n    if (!isEqual(modifiedProps, props)) {\n      setProps(modifiedProps);\n    }\n  }, [props, setProps, modifiedProps]);\n  return React.useMemo(function () {\n    return getCalculatedProps(props, props.children);\n  }, [props]);\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nexport function getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nexport function getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return /*#__PURE__*/React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}"]},"metadata":{},"sourceType":"module"}