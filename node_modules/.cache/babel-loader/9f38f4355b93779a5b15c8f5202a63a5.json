{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, runOn, delegateCombine, String_$type, enumGetBox, EnumUtil, typeCast, fromEnum, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CalloutPlacementPositionsCollection } from \"./CalloutPlacementPositionsCollection\";\nimport { AutoCalloutVisibilityMode_$type } from \"./AutoCalloutVisibilityMode\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { CalloutRenderStyleUpdatingEventArgs } from \"./CalloutRenderStyleUpdatingEventArgs\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CalloutLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayer, _super);\n\n  function CalloutLayer() {\n    var _this = _super.call(this) || this;\n\n    _this.calloutStyleUpdating = null;\n    _this.calloutRenderStyleUpdating = null;\n    _this.rs = null;\n    _this.rt = null;\n    _this.ru = null;\n    _this.rr = null;\n    _this.rq = null;\n    _this.sk = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    _this.sn = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.so = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.ri = null;\n    _this.q8 = null;\n    _this.ro = null;\n    _this.sl = new LinkedList$1(CalloutAnnotationWrapper.$);\n    _this.si = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n    _this.r0 = null;\n    _this.vu = new Rect(0, 0, 0, 1, 1);\n    _this.r7 = false;\n    _this.sz = 0;\n    _this.vt = Rect.empty;\n    _this.r5 = false;\n    _this.r6 = false;\n    _this.calloutContentUpdating = null;\n    _this.calloutLabelUpdating = null;\n    _this.calloutSeriesSelecting = null;\n    _this.sm = new List$1(SeriesPointOfInterest.$, 0);\n    _this.r9 = false;\n    _this.sa = false;\n    _this.sq = 0;\n    _this.r8 = false;\n    _this.r4 = true;\n    _this.ra = 1;\n    FastItemObjectColumn.m();\n    _this.q8 = null;\n    _this.ri = new CalloutPlacementPositionsCollection();\n    var a = _this.ri;\n    a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ue));\n    _this.qe = true;\n    var b = new CalloutLayerFrame();\n    var c = new CalloutLayerFrame();\n    var d = new CalloutLayerFrame();\n    var e = _this.hm / 1000;\n    _this.p6 = b;\n    _this.p5 = c;\n    _this.p7 = d;\n    _this.ab = CalloutLayer.$;\n    return _this;\n  }\n\n  CalloutLayer.prototype.get_c8 = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.ue = function (a, b) {\n    this.un();\n  };\n\n  CalloutLayer.prototype.un = function () {\n    this.q8 = this.q9(this.rj);\n    this.uk();\n  };\n\n  CalloutLayer.prototype.uf = function (a, b) {\n    this.so.clear();\n    this.mi(false);\n  };\n\n  CalloutLayer.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    var e = this.sj();\n\n    switch (a) {\n      case 3:\n        this.us(b, e);\n        break;\n\n      case 1:\n        for (var f = b; f < b + c; f++) {\n          var g = new CalloutAnnotation();\n          var h = new CalloutAnnotationWrapper();\n          h.b = g;\n          h.b.series = this.rn;\n          this.so.insert(f, h);\n          this.us(f, e);\n        }\n\n        break;\n\n      case 0:\n        this.so.v(b, c);\n        break;\n\n      case 2:\n        for (var i = b; i < b + c; i++) {\n          this.us(i, e);\n        }\n\n        break;\n\n      case 4:\n        this.so.clear();\n\n        for (var j = 0; j < this.ck.count; j++) {\n          var k = new CalloutAnnotation();\n          var l = new CalloutAnnotationWrapper();\n          l.b = k;\n          l.b.series = this.rn;\n          this.so.add(l);\n          this.us(j, e);\n        }\n\n        break;\n    }\n\n    this.mi(true);\n  };\n\n  CalloutLayer.prototype.eo = function (a) {\n    return false;\n  };\n\n  CalloutLayer.prototype.sj = function () {\n    var a = new Dictionary$2(String_$type, Series.$, 0);\n\n    if (this.cd != null) {\n      for (var b = 0; b < this.cd.series.count; b++) {\n        var c = this.cd.series._inner[b];\n\n        if (c.name != null && !a.containsKey(c.name)) {\n          a.addItem(c.name, c);\n        }\n      }\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.us = function (a, b) {\n    var _this = this;\n\n    if (this.rz == null || this.rx == null) {\n      return;\n    }\n\n    var c = a;\n\n    if (this.ry != null) {\n      c = this.ry.item(a);\n    }\n\n    var d = this.rz.item(a);\n    var e = this.rx.item(a);\n    var f = this.so._inner[a];\n\n    if (this.rw != null) {\n      if (f.b.ab != this.rw.item(a)) {\n        f.b.key = this.rw.item(a);\n      }\n    }\n\n    if (this.si.containsKey(f)) {\n      f.b = this.si.item(f).c.b;\n    }\n\n    f.b.xValue = c;\n    f.b.yValue = d;\n\n    if (this.calloutLabelUpdating != null) {\n      var g = function () {\n        var $ret = new CalloutLabelUpdatingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ck.item(a);\n        return $ret;\n      }();\n\n      this.calloutLabelUpdating(this, g);\n\n      if (g.b != null && !Base.equalsStatic(g.b, f.b.ao)) {\n        var h = g.b;\n        f.b.text = h != null ? h.toString() : \"\";\n      }\n    } else {\n      f.b.text = e != null ? e.toString() : \"\";\n    }\n\n    if (this.rv != null) {\n      f.b.content = this.rv.item(a);\n    } else {\n      f.b.content = this.ck.item(a);\n    }\n\n    if (this.calloutSeriesSelecting != null) {\n      var i = function () {\n        var $ret = new CalloutSeriesSelectingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ck.item(a);\n        return $ret;\n      }();\n\n      this.calloutSeriesSelecting(this, i);\n\n      if (i.a != null) {\n        f.b.series = i.a;\n      } else if (i.e != null) {\n        if (b.containsKey(i.e)) {\n          f.b.series = b.item(i.e);\n        }\n      }\n    }\n\n    this.ut(f);\n  };\n\n  CalloutLayer.prototype.ut = function (a) {\n    var b = new Thickness(0, DeviceUtils.g(3));\n\n    if (isNaN_(this.vw.left) || isNaN_(this.vw.top) || isNaN_(this.vw.right) || isNaN_(this.vw.bottom)) {\n      b = new Thickness(0, DeviceUtils.g(3));\n    } else {\n      b = this.vw;\n    }\n\n    var c = DeviceUtils.g(3);\n\n    if (isNaN_(this.sr)) {\n      c = DeviceUtils.g(3);\n    } else {\n      c = this.sr;\n    }\n\n    var d = this.vp != null ? this.vp : this.rh.ci(a.b.l);\n    var e = this.vs != null ? this.vs : this.rh.cl();\n    var f = this.vr != null ? this.vr : this.rh.ck(a.b.l);\n    var g = this.vq != null ? this.vq : this.rh.cj(a.b.l);\n    var h = isNaN_(this.sx) ? 0 : this.sx;\n\n    if (this.se && this.calloutStyleUpdating != null) {\n      var i = new CalloutStyleUpdatingEventArgs();\n      i.item = a.b.aa;\n      i.xValue = a.b.ac;\n      i.yValue = a.b.ad;\n      i.series = a.b.l;\n      i.background = d;\n      i.textColor = e;\n      i.outline = f;\n      i.leaderBrush = g;\n      i.strokeThickness = h;\n      this.calloutStyleUpdating(this, i);\n      d = i.background;\n      e = i.textColor;\n      f = i.outline;\n      g = i.leaderBrush;\n      h = i.strokeThickness;\n    }\n\n    a.b.backgroundPadding = b;\n    a.b.backgroundCornerRadius = c;\n    a.b.background = d;\n    a.b.textColor = e;\n    a.b.outline = f;\n    a.b.leaderBrush = g;\n    a.b.strokeThickness = h;\n  };\n\n  CalloutLayer.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == CalloutLayer.$$p[21]) {\n      return this.hx(a, b, this.ty);\n    }\n\n    if (c == CalloutLayer.$$p[28]) {\n      return this.hx(a, b, this.t9);\n    }\n\n    if (c == CalloutLayer.$$p[29]) {\n      return this.hx(a, b, this.uc);\n    }\n\n    if (c == CalloutLayer.$$p[20]) {\n      return this.hx(a, b, this.tv);\n    }\n\n    if (c == CalloutLayer.$$p[15]) {\n      return this.hx(a, b, this.to);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"rx\", {\n    get: function () {\n      return this.rs;\n    },\n    set: function (a) {\n      if (this.rs != a) {\n        var b = this.rs;\n        this.rs = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.rs);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"ry\", {\n    get: function () {\n      return this.rt;\n    },\n    set: function (a) {\n      if (this.rt != a) {\n        var b = this.rt;\n        this.rt = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.rt);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rz\", {\n    get: function () {\n      return this.ru;\n    },\n    set: function (a) {\n      if (this.ru != a) {\n        var b = this.ru;\n        this.ru = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.ru);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rw\", {\n    get: function () {\n      return this.rr;\n    },\n    set: function (a) {\n      if (this.rr != a) {\n        var b = this.rr;\n        this.rr = a;\n        this.raisePropertyChanged(\"KeyColumn\", b, this.rr);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rv\", {\n    get: function () {\n      return this.rq;\n    },\n    set: function (a) {\n      if (this.rq != a) {\n        var b = this.rq;\n        this.rq = a;\n        this.raisePropertyChanged(\"ContentColumn\", b, this.rq);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.uh = function (a, b) {\n    if (b.propertyName == CalloutAnnotation.$$p[14] || b.propertyName == CalloutAnnotation.$$p[15]) {\n      var c = a.k;\n\n      if (!this.sk.contains(c)) {\n        this.sk.add_1(c);\n        this.sn.add(c);\n        this.mi(false);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bx = function () {\n    return new CalloutLayerView(this);\n  };\n\n  CalloutLayer.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.rh = a;\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"rj\", {\n    get: function () {\n      return this.ri;\n    },\n    set: function (a) {\n      var b = this.rj;\n\n      if (a != b) {\n        this.ri = a;\n        this.raisePropertyChanged(\"AllowedPositions\", b, this.rj);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rc\", {\n    get: function () {\n      return EnumUtil.getEnumValue(AutoCalloutVisibilityMode_$type, this.c(CalloutLayer.u8));\n    },\n    set: function (a) {\n      this.h(CalloutLayer.u8, enumGetBox(AutoCalloutVisibilityMode_$type, a));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rb\", {\n    get: function () {\n      return this.ra;\n    },\n    set: function (a) {\n      this.ra = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"vw\", {\n    get: function () {\n      return new Thickness(1, this.st, this.sv, this.su, this.ss);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rp\", {\n    get: function () {\n      if (this.ro == null) {\n        this.ro = FontUtil.toFontInfo(this.g9, this.t3);\n      }\n\n      return this.ro;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.qp = function (a, b) {\n    if (this.rn == null || this.rn == a) {\n      if (!this.as.c) {\n        this.mi(b);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.qr = function (a, b) {\n    var e_1, _a;\n\n    _super.prototype.qr.call(this, a, b);\n\n    var c = a;\n    c.q.clear();\n    c.r.clear();\n    c.n.clear();\n    c.f.clear();\n    c.i.clear();\n    c.h.clear();\n    c.k.clear();\n    c.m.clear();\n    c.l.clear();\n    c.j.clear();\n    c.g.clear();\n    c.o.clear();\n    c.p.clear();\n    c.u.clear();\n    c.v.clear();\n    c.s.clear();\n    c.t.clear();\n    var d = this.sp();\n    var e = new List$1(CalloutAnnotationWrapper.$, 0);\n    var f = true;\n\n    if (this.sb) {\n      if (this.qc(this.rn)) {\n        this.up(this.rn, c, e);\n      } else {\n        try {\n          for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var g = _c.value;\n\n            if (this.qc(g)) {\n              if (!g.dc) {\n                if (!g.isVertical) {\n                  f = false;\n                }\n              }\n\n              this.up(g, c, e);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    }\n\n    if (this.sb && this.rb == 2) {\n      var h = 0;\n      var i = 0;\n      var j = 1.7976931348623157E+308;\n      var k = 1.7976931348623157E+308;\n      var l = -1.7976931348623157E+308;\n      var m = -1.7976931348623157E+308;\n\n      if (e.count > 0) {\n        if (e._inner[0].c != null) {\n          h = e._inner[0].e;\n          i = e._inner[0].f;\n        }\n\n        for (var n = 0; n < e.count; n++) {\n          var o = e._inner[n];\n\n          if (o.c != null) {\n            var p = o.e;\n            var q = o.f;\n\n            if (p != h) {\n              j = Math.min(j, Math.abs(p - h));\n            }\n\n            if (q != i) {\n              k = Math.min(k, Math.abs(q - i));\n            }\n\n            l = Math.max(o.c.l + o.c.l, l);\n            m = Math.max(o.c.k + o.c.k, m);\n          }\n        }\n\n        if (f) {\n          if (m > k) {\n            e.clear();\n          }\n        } else {\n          if (l > j) {\n            e.clear();\n          }\n        }\n      }\n    }\n\n    this.uo(c, d, e);\n  };\n\n  CalloutLayer.prototype.m6 = function (a, b) {\n    _super.prototype.m6.call(this, a, b);\n\n    var c = b.width - this.vu.width;\n    var d = b.height - this.vu.height;\n    var e = 0;\n\n    if (Math.abs(c) > Math.abs(d)) {\n      e = c;\n      this.sq = c * this.pz.width;\n    } else {\n      e = d;\n      this.sq = d * this.pz.height;\n    }\n\n    if (e > 0 && this.sq > 5) {\n      this.sa = true;\n    }\n\n    if (e < 0 && this.sq > 5) {\n      this.r9 = true;\n    }\n  };\n\n  CalloutLayer.prototype.m5 = function (a, b) {\n    _super.prototype.m5.call(this, a, b);\n\n    if (!a.equals1(b)) {\n      this.r8 = true;\n    }\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"vv\", {\n    get: function () {\n      return this.vt;\n    },\n    set: function (a) {\n      this.vt = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.uo = function (a, b, c) {\n    var e_2, _a;\n\n    if (this.cd != null) {\n      this.vu = this.cd.sf;\n    }\n\n    if (this.pz.isEmpty) {\n      return;\n    }\n\n    this.vv = new Rect(0, this.pz.left, this.pz.top, this.pz.width, this.pz.height);\n\n    if (this.r0 != null && this.tl != null && this.tl != this.r0.ap) {\n      this.uj();\n    }\n\n    if (this.r0 == null) {\n      var d = this.r1();\n\n      if (d != null) {\n        this.r0 = d;\n        var e = this.r0;\n        e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.ug));\n      } else {\n        var f = this.pr(this.b0);\n        var g = new Array(2);\n        g[0] = 0;\n        g[1] = 3;\n\n        if (this.rn != null) {\n          if (this.rn.isVertical) {\n            g = new Array(2);\n            g[0] = 2;\n            g[1] = 1;\n          }\n        } else {\n          var h = false;\n\n          if (this.cd != null && this.cd.series.count > 0) {\n            h = true;\n\n            try {\n              for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n\n                if (!i.dc) {\n                  if (!i.isVertical) {\n                    h = false;\n                  }\n                }\n              }\n            } catch (e_2_1) {\n              e_2 = {\n                error: e_2_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_2) throw e_2.error;\n              }\n            }\n          }\n\n          if (h) {\n            g = new Array(2);\n            g[0] = 2;\n            g[1] = 1;\n          }\n        }\n\n        this.r0 = new LabelCollisionManager(this.pz.right, this.pz.bottom, this.pz, this.rh.j(), this.sw, this.r2(), g, this.s3(), this.s2(), this.sc, this.q8);\n\n        if (this.tl != null) {\n          this.r0.ap = this.tl;\n          this.r0.an = this;\n        }\n\n        var j = this.r0;\n        j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.ug));\n      }\n    }\n\n    if (this.r9) {\n      this.r9 = false;\n\n      if (this.r0.al > 2) {\n        this.r7 = true;\n      }\n    }\n\n    if (this.sa) {\n      this.sa = false;\n\n      if (this.sq > 5) {\n        this.r7 = true;\n      }\n    }\n\n    if (this.r8) {\n      this.r8 = false;\n      this.r0.a3(this.pz.right, this.pz.bottom, this.pz);\n      this.r7 = true;\n    }\n\n    var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var m = new List$1(CalloutAnnotationWrapper.$, 0);\n    var n = new List$1(CalloutAnnotationWrapper.$, 0);\n    var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var p = 0; p < b.count; p++) {\n      o.add_1(b._inner[p]);\n    }\n\n    for (var q = 0; q < c.count; q++) {\n      o.add_1(c._inner[q]);\n    }\n\n    var r = this.sl.c;\n\n    while (r != null) {\n      var s = r.a;\n\n      if (!o.contains(r.c)) {\n        n.add(r.c);\n        l.add_1(r.c);\n        var t = r.c.b;\n        t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.uh));\n        this.sl.h(r);\n        this.si.removeItem(r.c);\n        this.r0.a2(r.c.c);\n      }\n\n      r = s;\n    }\n\n    for (var u = 0; u < b.count; u++) {\n      if (!this.si.containsKey(b._inner[u])) {\n        this.sl.f(b._inner[u]);\n        var v = b._inner[u].b;\n        v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.uh));\n        this.si.addItem(b._inner[u], this.sl.d);\n        m.add(b._inner[u]);\n        k.add_1(b._inner[u]);\n        this.r7 = true;\n      }\n    }\n\n    for (var w = 0; w < c.count; w++) {\n      if (!this.si.containsKey(c._inner[w])) {\n        this.sl.f(c._inner[w]);\n        this.si.addItem(c._inner[w], this.sl.d);\n        var x = c._inner[w].b;\n        x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.uh));\n        m.add(c._inner[w]);\n        k.add_1(c._inner[w]);\n        this.r7 = true;\n      }\n    }\n\n    if (this.r5 == true) {\n      this.r5 = false;\n      this.r7 = true;\n    }\n\n    if (this.sn.count > 0) {\n      this.r7 = true;\n      this.sn.clear();\n      this.sk.clear();\n    }\n\n    r = this.sl.c;\n\n    while (r != null) {\n      var y = this.r3(r.c);\n\n      if (y == null) {\n        return;\n      }\n\n      if (!Base.equalsStatic(y, r.c.c.c)) {\n        var z = false;\n\n        if (r.c.c.c == null) {\n          z = true;\n        }\n\n        var aa = r.c.c;\n        aa.o = y.b;\n        aa.p = y.c;\n\n        if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n          aa.n = y.e;\n          aa.m = y.d;\n\n          if (aa.b == null) {\n            this.r0.t(aa, false);\n          }\n\n          if (z) {\n            this.r0.aq(aa);\n          } else {\n            this.r0.az(aa);\n          }\n        }\n      }\n\n      r = r.a;\n    }\n\n    var ab = this.r0.am();\n    var ac = this.r0.u();\n\n    if (ac) {\n      if (this.r0.q()) {\n        this.r7 = true;\n      }\n    }\n\n    if (this.r7 && (ab != 0 || ac)) {\n      this.r7 = false;\n      this.sz = 0x7FFFFFFF;\n\n      if (this.tl != null) {\n        var ad = true;\n\n        for (var ae = 0; ae < this.cd.series.count; ae++) {\n          var af = this.cd.series._inner[ae];\n\n          if (af.dc && typeCast(CalloutLayer.$, af) !== null) {\n            var ag = af;\n\n            if (ag.tl == this.tl) {\n              if (!ag.vv.equals1(this.r0.a5)) {\n                ad = false;\n                break;\n              }\n            }\n          }\n        }\n\n        if (ad) {\n          this.r0.a4();\n        } else {\n          this.r0.ar();\n          this.r0.as();\n        }\n      } else {\n        this.r0.a4();\n      }\n    } else {\n      this.r0.as();\n    }\n\n    var ah = this.sl.c;\n    var ai;\n    var aj;\n    var ak;\n    var al;\n    var am;\n    var an;\n    var ao;\n    var ap;\n    var aq;\n    var ar;\n    var as;\n    var at;\n    var au;\n    var av;\n    var aw;\n    var ax;\n    var ay = this.sd;\n\n    while (ah != null) {\n      var az = ah.c;\n      var a0 = az.b;\n      ai = a0.bk;\n      aj = a0.bm;\n      ak = a0.bl;\n      al = a0.backgroundPadding.left;\n      am = a0.backgroundPadding.top;\n      an = a0.backgroundPadding.right;\n      ao = a0.backgroundPadding.bottom;\n      aq = a0.backgroundCornerRadius;\n      ap = a0.y;\n      ar = a0.bn;\n      as = a0.ao;\n      at = a0.aa;\n      var a1 = az.c;\n      au = a1.o - (a1.g - a1.l);\n      av = a1.p - (a1.h - a1.k);\n      aw = a1.g - a1.l;\n      ax = a1.h - a1.k;\n\n      if (ay) {\n        var a2 = new CalloutRenderStyleUpdatingEventArgs();\n        a2.background = ai;\n        a2.outline = aj;\n        a2.leaderBrush = ak;\n        a2.strokeThickness = ap;\n        a2.textColor = ar;\n        a2.item = at;\n        a2.series = a0.l;\n        a2.actualPosition = a1.a;\n        a2.xValue = a0.ac;\n        a2.yValue = a0.ad;\n\n        if (this.calloutRenderStyleUpdating != null) {\n          this.calloutRenderStyleUpdating(this, a2);\n          ai = a2.background;\n          aj = a2.outline;\n          ak = a2.leaderBrush;\n          ap = a2.strokeThickness;\n          ar = a2.textColor;\n        }\n      }\n\n      a.n.add1(az);\n      a.f.add(ai);\n      a.i.add(aj);\n      a.h.add(ak);\n      a.k.add(al);\n      a.m.add(am);\n      a.l.add(an);\n      a.j.add(ao);\n      a.g.add(aq);\n      a.o.add(ap);\n      a.p.add(ar);\n      a.q.add1(as);\n      a.r.add1(at);\n      a.u.add(au);\n      a.v.add(av);\n      a.s.add(aw);\n      a.t.add(ax);\n      ah = ah.a;\n    }\n  };\n\n  CalloutLayer.prototype.uj = function () {\n    if (this.r0 != null) {\n      var a = this.sl.c;\n\n      while (a != null) {\n        var b = a.c.c;\n\n        if (b != null) {\n          this.r0.a2(b);\n        }\n\n        a = a.a;\n      }\n\n      var c = this.r0;\n      c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.ug));\n      this.r0 = null;\n    }\n\n    this.ui();\n  };\n\n  CalloutLayer.prototype.r1 = function () {\n    if (this.cd == null) {\n      return null;\n    }\n\n    for (var a = 0; a < this.cd.series.count; a++) {\n      var b = this.cd.series._inner[a];\n\n      if (b.dc && typeCast(CalloutLayer.$, b) !== null) {\n        var c = b;\n\n        if (c != this) {\n          if (c.tl != null && c.tl == this.tl) {\n            if (c.r0 != null) {\n              return c.r0;\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n\n  CalloutLayer.prototype.s2 = function () {\n    return 20000;\n  };\n\n  CalloutLayer.prototype.s3 = function () {\n    return 300;\n  };\n\n  CalloutLayer.prototype.r2 = function () {\n    switch (this.re) {\n      case 0:\n        return 2;\n\n      case 2:\n        return 1;\n\n      case 3:\n        return 2;\n\n      case 1:\n        return 0;\n    }\n\n    return 2;\n  };\n\n  CalloutLayer.prototype.ug = function (a) {\n    var b = this.r0.am();\n\n    if (b < this.sz) {\n      this.sz = b;\n      this.mi(false);\n    }\n  };\n\n  CalloutLayer.prototype.r3 = function (a) {\n    var b = this.rn;\n\n    if (a.b.l != null) {\n      b = a.b.l;\n    }\n\n    if (b == null) {\n      for (var c = 0; c < this.cd.series.count; c++) {\n        var d = this.cd.series._inner[c];\n\n        if (!d.dc) {\n          b = d;\n          break;\n        }\n      }\n    }\n\n    if (b == null) {\n      return null;\n    }\n\n    var e = b.ag();\n    var f = b.gc();\n    var g = null;\n    var h = null;\n    var i = false;\n\n    for (var j = 0; j < e.length; j++) {\n      if (e[j].b8) {\n        i = true;\n        g = e[j];\n      } else if (e[j].cl) {\n        i = true;\n        h = e[j];\n      } else if (e[j].co) {\n        h = e[j];\n      } else {\n        g = e[j];\n      }\n    }\n\n    if (g == null || h == null) {\n      return null;\n    }\n\n    if (!g.cn() || !h.cn()) {\n      return null;\n    }\n\n    var k = 0;\n    var l = 0;\n\n    if (g.ca && g.categoryMode != 0) {\n      if (b.dp) {\n        k = b.getOffsetValue();\n      } else if (b.dg) {\n        k = b.getOffsetValue();\n      }\n    }\n\n    if (h.ca && h.categoryMode != 0) {\n      if (b.dg) {\n        l = b.getOffsetValue();\n      }\n    }\n\n    var m = new ScalerParams(0, this.cd.sf, g.kc, g.cg, g.j7());\n    m.b = f;\n    var n = new ScalerParams(0, this.cd.sf, h.kc, h.cg, h.j7());\n    n.b = f;\n    var o = 0;\n    var p = 0;\n\n    if (i) {\n      o = g.ei(this.sy(a.b.ac), m) + k;\n      p = h.ei(this.sy(a.b.ad), n) + l;\n      var q = o;\n      var r = p;\n      var s = {\n        $type: Point_$type,\n        x: 0.5,\n        y: 0.5\n      };\n      var t = s.x + r * Math.cos(q);\n      o = ViewportUtils.c(t, m.e, m.d);\n      var u = s.y + r * Math.sin(q);\n      p = ViewportUtils.f(u, n.e, n.d);\n    } else {\n      o = g.ei(this.sy(a.b.ac), m) + k;\n      p = h.ei(this.sy(a.b.ad), n) + l;\n    }\n\n    var v = new QuadTreeBoundingBox();\n    v.b = o;\n    v.c = p;\n    v.e = 3;\n    v.d = 3;\n    v.g = a.b;\n    return v;\n  };\n\n  CalloutLayer.prototype.sy = function (a) {\n    if (typeCast(Date_$type, a) !== null) {\n      return a.getTime();\n    }\n\n    if (a == null) {\n      return 0;\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.sp = function () {\n    var a = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var b = 0; b < this.so.count; b++) {\n      if (stringIsNullOrEmpty(this.so._inner[b].b.ao)) {\n        continue;\n      }\n\n      if (this.so._inner[b].c == null) {\n        var c = new LabelCollisionInfo();\n        this.so._inner[b].c = c;\n        var d = this.rh.cn(this.s4(this.so._inner[b]), this.so._inner[b].b.backgroundPadding);\n        c.k = d.height / 2;\n        c.l = d.width / 2;\n      }\n\n      var e = this.r3(this.so._inner[b]);\n\n      if (e == null || e.b < this.pz.left || e.b > this.pz.right || e.c < this.pz.top || e.c > this.pz.bottom) {\n        continue;\n      }\n\n      a.add(this.so._inner[b]);\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.s4 = function (a) {\n    return a.b.ao;\n  };\n\n  CalloutLayer.prototype.qc = function (a) {\n    if (!_super.prototype.qc.call(this, a)) {\n      return false;\n    }\n\n    if (this.t0 != null) {\n      if (a.du) {\n        var b = a.jp();\n\n        if (!Base.equalsStatic(this.t0, b)) {\n          return false;\n        }\n      } else {\n        if (!Base.equalsStatic(this.t0, a.name)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  CalloutLayer.prototype.ls = function () {\n    _super.prototype.ls.call(this);\n\n    if (!this.as.c && !this.cv()) {\n      return;\n    }\n\n    if (this.r4) {\n      this.r4 = false;\n      this.ul();\n    }\n\n    if (this.cv()) {\n      this.ur(this.p7, false);\n    } else {\n      this.ur(this.p5, false);\n    }\n  };\n\n  CalloutLayer.prototype.um = function () {\n    if (!this.r6) {\n      this.r6 = true;\n      this.mi(true);\n    }\n  };\n\n  CalloutLayer.prototype.up = function (a, b, c) {\n    var d = false;\n\n    if (this.r6) {\n      this.r6 = false;\n      d = true;\n    }\n\n    if (a.c1(this.sm, this.sh, this.sf, this.s0)) {\n      var e = this.sm;\n\n      var _loop_1 = function (f) {\n        var g = e._inner[f];\n        var h = g.a != null ? g.a.item : null;\n        var i = g.a.item != null ? g.a.item : g.a;\n        var j = a;\n        var k = new CalloutKey(i, j);\n        var l = new CalloutAnnotationWrapper();\n        var m = new CalloutAnnotation();\n        l.b = m;\n        m.key = k;\n        var n = false;\n\n        if (this_1.si.containsKey(l)) {\n          l = this_1.si.item(l).c;\n          m = l.b;\n          n = d;\n        } else {\n          n = true;\n        }\n\n        var o = m.ac;\n        var p = m.ad;\n\n        if (this_1.sy(o) != this_1.sy(g.b)) {\n          m.xValue = g.b;\n        }\n\n        if (this_1.sy(p) != this_1.sy(g.c)) {\n          m.yValue = g.c;\n        }\n\n        m.series = a;\n        var q = false;\n\n        if (g.d != m.ay) {\n          m.ay = g.d;\n          q = true;\n        }\n\n        if (n || q) {\n          if (this_1.calloutLabelUpdating != null) {\n            var r = function () {\n              var $ret = new CalloutLabelUpdatingEventArgs();\n              $ret.c = m.ac;\n              $ret.d = m.ad;\n              $ret.item = h;\n              return $ret;\n            }();\n\n            this_1.calloutLabelUpdating(this_1, r);\n\n            if (r.b != null && !Base.equalsStatic(r.b, l.b.ao)) {\n              var s = r.b;\n              l.b.text = s != null ? s.toString() : \"\";\n            }\n          } else {\n            if (g.d != null) {\n              m.text = g.d;\n            }\n          }\n        }\n\n        if (m.ao == null) {\n          return \"continue\";\n        }\n\n        if (n || q) {\n          if (this_1.calloutContentUpdating != null) {\n            var t = function () {\n              var $ret = new CalloutContentUpdatingEventArgs();\n              $ret.c = m.ac;\n              $ret.d = m.ad;\n              $ret.item = h;\n              $ret.a = i;\n              return $ret;\n            }();\n\n            this_1.calloutContentUpdating(this_1, t);\n\n            if (t.a != null && t.a != l.b.aa) {\n              l.b.content = t.a;\n            }\n          } else {\n            if (i != null && i != l.b.aa) {\n              l.b.content = i;\n            }\n          }\n        }\n\n        if (n) {\n          this_1.ut(l);\n        }\n\n        if (l.c == null) {\n          var u = new LabelCollisionInfo();\n          l.c = u;\n          var v = this_1.rh.cn(this_1.s4(l), l.b.backgroundPadding);\n          u.k = v.height / 2;\n          u.l = v.width / 2;\n        }\n\n        var w = this_1.r3(l);\n\n        if (w == null || w.b < this_1.pz.left || w.b > this_1.pz.right || w.c < this_1.pz.top || w.c > this_1.pz.bottom) {\n          return \"continue\";\n        }\n\n        l.e = w.b;\n        l.f = w.c;\n        c.add(l);\n      };\n\n      var this_1 = this;\n\n      for (var f = 0; f < this.sm.count; f++) {\n        _loop_1(f);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bp = function () {\n    return 1;\n  };\n\n  CalloutLayer.prototype.at = function (a, b) {\n    var c = this.r0.f(a, b);\n\n    if (c == null) {\n      return null;\n    }\n\n    return c.u;\n  };\n\n  CalloutLayer.prototype.ev = function (a, b) {\n    if (this.r0 == null) {\n      return false;\n    }\n\n    return this.r0.f(a, b) != null;\n  };\n\n  CalloutLayer.prototype.ur = function (a, b) {\n    var e_3, _a;\n\n    var c = 0;\n    var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (c = 0; c < a.q.count; c++) {\n      var e = a.n._inner[c];\n\n      if (isNaN_(a.u._inner[c]) || isNaN_(a.v._inner[c])) {\n        continue;\n      }\n\n      var f = this.rh.b8.item(e);\n      d.add_1(e);\n\n      if (f.h != a.q._inner[c]) {\n        f.h = a.q._inner[c];\n        var g = f.u();\n      }\n\n      f.e = a.o._inner[c];\n      f.m = a.f._inner[c];\n      f.p = a.p._inner[c];\n      f.o = f.e > 0 ? a.i._inner[c] : this.b0.bq();\n      f.n = a.h._inner[c];\n      f.x = new Thickness(1, a.k._inner[c], a.m._inner[c], a.l._inner[c], a.j._inner[c]);\n      f.d = a.g._inner[c];\n      this.rh.cg(f, Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]), Math.min(a.t._inner[c], a.t._inner[c] + a.v._inner[c]));\n      this.rh.ch(f, e, a.r._inner[c]);\n      f.r = {\n        $type: Point_$type,\n        x: a.u._inner[c],\n        y: a.v._inner[c]\n      };\n    }\n\n    var h = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    try {\n      for (var _b = __values(fromEnum(this.rh.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n\n        if (!d.contains(i)) {\n          h.add(i);\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    for (var j = 0; j < h.count; j++) {\n      this.rh.b8.h(h._inner[j]);\n    }\n  };\n\n  CalloutLayer.prototype.qu = function (a, b) {\n    _super.prototype.qu.call(this, a, b);\n\n    if (this.cv()) {\n      this.ur(this.p7, true);\n    } else {\n      this.ur(this.p5, false);\n    }\n  };\n\n  CalloutLayer.prototype.em = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.l4 = function (a, b, c, d) {\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case CalloutLayer.$$p[24]:\n        this.ro = null;\n        this.rh.cf();\n        this.mi(true);\n        break;\n\n      case CalloutLayer.$$p[22]:\n      case CalloutLayer.$$p[23]:\n        this.mi(true);\n        break;\n\n      case CalloutLayer.$$p[14]:\n        this.mi(true);\n        break;\n\n      case \"SeriesViewer\":\n        if (c != null) {\n          var e = c;\n          e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.uq));\n        }\n\n        if (d != null) {\n          var f = d;\n          f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.uq));\n        }\n\n        if (d == null) {\n          this.uj();\n        }\n\n        break;\n\n      case \"AutoCalloutVisibilityMode\":\n        this.rb = this.rd();\n        this.uk();\n        break;\n\n      case \"AllowedPositions\":\n        if (c != null) {\n          var g = c;\n          g.collectionChanged = delegateRemove(g.collectionChanged, runOn(this, this.ue));\n        }\n\n        if (d != null) {\n          var h = d;\n          h.collectionChanged = delegateCombine(h.collectionChanged, runOn(this, this.ue));\n        }\n\n        this.q8 = this.q9(this.rj);\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[16]:\n      case CalloutLayer.$$p[17]:\n      case CalloutLayer.$$p[1]:\n      case CalloutLayer.$$p[6]:\n      case CalloutLayer.$$p[5]:\n      case CalloutLayer.$$p[25]:\n      case CalloutLayer.$$p[26]:\n      case CalloutLayer.$$p[19]:\n      case CalloutLayer.$$p[18]:\n      case CalloutLayer.$$p[8]:\n      case CalloutLayer.$$p[10]:\n      case CalloutLayer.$$p[9]:\n      case CalloutLayer.$$p[7]:\n      case CalloutLayer.$$p[12]:\n      case CalloutLayer.$$p[13]:\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[21]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rx);\n          this.rx = this.cj(this.ty);\n        }\n\n        break;\n\n      case \"LabelColumn\":\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[15]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rv);\n          this.rv = this.cj(this.to);\n        }\n\n        break;\n\n      case \"ContentColumn\":\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[28]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.ry);\n          this.ry = stringIsNullOrEmpty(this.t9) == false ? this.cj(this.t9) : null;\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[29]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rz);\n          this.rz = this.cj(this.uc);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.uk();\n        break;\n\n      case CalloutLayer.$$p[20]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rw);\n          this.rw = this.cj(this.tv);\n        }\n\n        break;\n\n      case \"KeyColumn\":\n        this.uk();\n        break;\n\n      case \"FastItemsSource\":\n        this.r5 = true;\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.rx);\n          c.deregisterColumn(this.rv);\n          c.deregisterColumn(this.ry);\n          c.deregisterColumn(this.rz);\n          c.deregisterColumn(this.rw);\n          this.rx = null;\n          this.rv = null;\n          this.ry = null;\n          this.rz = null;\n          this.rw = null;\n          this.so.clear();\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.rx = this.cj(this.ty);\n          this.rv = this.cj(this.to);\n\n          if (stringIsNullOrEmpty(this.t9) == false) {\n            this.ry = this.cj(this.t9);\n          }\n\n          this.rz = this.cj(this.uc);\n          this.rw = this.cj(this.tv);\n        }\n\n        this.uk();\n        break;\n    }\n  };\n\n  CalloutLayer.prototype.rd = function () {\n    if (this.rc == 0) {\n      return 1;\n    }\n\n    return this.rc;\n  };\n\n  CalloutLayer.prototype.q9 = function (a) {\n    if (a == null || a.count == 0) {\n      return null;\n    }\n\n    var b = new Array(a.count);\n\n    for (var c = 0; c < a.count; c++) {\n      b[c] = a._inner[c];\n    }\n\n    return b;\n  };\n\n  CalloutLayer.prototype.uq = function (a) {\n    if (a.dc) {\n      return;\n    }\n\n    if ((a == this.rn || this.rn == null) && this.sb) {\n      this.mi(false);\n    }\n  };\n\n  CalloutLayer.prototype.uk = function () {\n    if (this.r4 == false) {\n      this.r4 = true;\n      this.mi(false);\n    }\n  };\n\n  CalloutLayer.prototype.ui = function () {\n    this.rh.b8.clear();\n    this.sl.g();\n    this.si.clear();\n  };\n\n  CalloutLayer.prototype.ul = function () {\n    if (this.rz == null || this.rx == null) {\n      var a = this.sl.c;\n\n      while (a != null) {\n        this.ut(a.c);\n        a = a.a;\n      }\n\n      return;\n    }\n\n    var b = this.sj();\n\n    for (var c = 0; c < this.rz.count; c++) {\n      var d = void 0;\n\n      if (this.so.count <= c) {\n        var e = new CalloutAnnotation();\n        d = new CalloutAnnotationWrapper();\n        d.b = e;\n        d.b.series = this.rn;\n        this.so.add(d);\n      } else {\n        d = this.so._inner[c];\n      }\n\n      this.us(c, b);\n    }\n  };\n\n  CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n  CalloutLayer.u8 = DependencyProperty.i(\"AutoCalloutVisibilityMode\", AutoCalloutVisibilityMode_$type, CalloutLayer.$, new PropertyMetadata(2, enumGetBox(AutoCalloutVisibilityMode_$type, 0), function (a, b) {\n    return a.raisePropertyChanged(\"AutoCalloutVisibilityMode\", b.oldValue, b.newValue);\n  }));\n  CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:s0:uu', [1, 5], 'CalloutBackground:vp:uv', [Brush.$, null], 'CalloutCollisionMode:re:uw', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutCornerRadius:sr:ux', [1, NaN], 'CalloutInterpolatedValuePrecision:s1:uy', [1, -1], 'CalloutLeaderBrush:vq:uz', [Brush.$, null], 'CalloutOutline:vr:u0', [Brush.$, null], 'CalloutPaddingBottom:ss:u1', [1, NaN], 'CalloutPaddingLeft:st:u2', [1, NaN], 'CalloutPaddingRight:su:u3', [1, NaN], 'CalloutPaddingTop:sv:u4', [1, NaN], 'CalloutPositionPadding:sw:u5', [1, 10], 'CalloutStrokeThickness:sx:u6', [1, NaN], 'CalloutTextColor:vs:u7', [Brush.$, null], 'CollisionChannel:tl:u9', [2, null], 'ContentMemberPath:to:va', [2, null], 'IsAutoCalloutBehaviorEnabled:sb:vb', [0, false], 'IsCalloutOffsettingEnabled:sc:vc', [0, true], 'IsCustomCalloutRenderStyleEnabled:sd:vd', [0, false], 'IsCustomCalloutStyleEnabled:se:ve', [0, false], 'KeyMemberPath:tv:vf', [2, null], 'LabelMemberPath:ty:vg', [2, null], 'TargetSeriesName:t0:vh', [2, null], 'TargetSeries:rn:vi', [Series.$, null], 'TextStyle:t3:vj', [2, null], 'UseInterpolatedValueForAutoCalloutLabels:sf:vk', [0, false], 'UseSeriesColorForOutline:sg:vl', [0, false], 'UseValueForAutoCalloutLabels:sh:vm', [0, true], 'XMemberPath:t9:vn', [2, null], 'YMemberPath:uc:vo', [2, null]]);\n  return CalloutLayer;\n}(AnnotationLayer);\n\nexport { CalloutLayer };\n/**\n * @hidden\n */\n\nvar CalloutLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayerView, _super);\n\n  function CalloutLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b4 = null;\n    _this.b9 = null;\n    _this.b8 = null;\n    _this.ca = NaN;\n    _this.b5 = null;\n    _this.b4 = a;\n    _this.b9 = new List$1(CalloutView.$, 0);\n    return _this;\n  }\n\n  CalloutLayerView.prototype.as = function () {\n    var _this = this;\n\n    _super.prototype.as.call(this);\n\n    this.b8 = function () {\n      var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n      $ret.create = runOn(_this, _this.b6);\n      $ret.activate = runOn(_this, _this.cc);\n      $ret.disactivate = runOn(_this, _this.ce);\n      $ret.destroy = runOn(_this, _this.cd);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.b6 = function () {\n    var a = new CalloutView(this);\n    this.b9.add(a);\n    return a;\n  };\n\n  CalloutLayerView.prototype.cc = function (a) {\n    a.y = 0;\n  };\n\n  CalloutLayerView.prototype.ce = function (a) {\n    a.y = 1;\n  };\n\n  CalloutLayerView.prototype.cd = function (a) {\n    this.b9.remove(a);\n  };\n\n  CalloutLayerView.prototype.cm = function (a) {\n    if (a == null) {\n      return a;\n    }\n\n    return BrushUtil.l(a, 0.1);\n  };\n\n  CalloutLayerView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    a.ac(this.b7());\n\n    if (a.d && !b) {\n      for (var c = 0; c < this.b9.count; c++) {\n        var d = this.b9._inner[c];\n\n        if (d.y == 0) {\n          d.j(a);\n        }\n      }\n    }\n  };\n\n  CalloutLayerView.prototype.b7 = function () {\n    if (this.b4.rp != null) {\n      return this.b4.rp;\n    }\n\n    return this.e.cd.getFontInfo();\n  };\n\n  CalloutLayerView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    for (var b = 0; b < this.b9.count; b++) {\n      var c = this.b9._inner[b];\n\n      if (c.y != 0) {\n        continue;\n      }\n\n      c.i(this.b4, this.b7(), a);\n    }\n  };\n\n  CalloutLayerView.prototype.co = function (a) {\n    this.k.ac(this.b7());\n    this.ca = this.cb();\n    var b = this.k.ag(a, this.ca, true);\n    return new Size(1, b.c, b.b);\n  };\n\n  CalloutLayerView.prototype.cb = function () {\n    var a = this.b7();\n\n    if (isNaN_(this.ca)) {\n      var b = FontUtil.getCurrentFontHeight(this.e.cd.cq.j.ae, a);\n      this.ca = b;\n    }\n\n    return this.ca;\n  };\n\n  CalloutLayerView.prototype.cn = function (a, b) {\n    if (this.b5 == null) {\n      this.b5 = new CalloutView(this);\n    }\n\n    this.b5.h = a;\n    this.b5.x = b;\n    var c = this.b5.u();\n    this.b5.h = null;\n    return c;\n  };\n\n  CalloutLayerView.prototype.cg = function (a, b, c) {\n    a.f = b;\n    a.g = c;\n  };\n\n  CalloutLayerView.prototype.ch = function (a, b, c) {\n    a.k(this.e, b, c);\n  };\n\n  CalloutLayerView.prototype.ci = function (a) {\n    if (a != null) {\n      return this.cm(a.o4);\n    }\n\n    return this.e.o4;\n  };\n\n  CalloutLayerView.prototype.cl = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.ck = function (a) {\n    if (this.b4.sg) {\n      if (a != null) {\n        return this.cm(a.o4);\n      }\n    }\n\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.cj = function (a) {\n    if (a != null) {\n      return this.cm(a.oz);\n    }\n\n    return this.e.oz;\n  };\n\n  CalloutLayerView.prototype.cf = function () {\n    this.ca = NaN;\n  };\n\n  CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n  return CalloutLayerView;\n}(AnnotationLayerView);\n\nexport { CalloutLayerView };\n/**\n * @hidden\n */\n\nvar CalloutView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutView, _super);\n\n  function CalloutView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.y = 0;\n    _this.l = null;\n    _this.t = null;\n    _this.q = {\n      $type: Point_$type,\n      x: 0,\n      y: 0\n    };\n    _this.s = null;\n    _this.w = new Thickness(0, 0);\n    _this.v = null;\n    _this.c = 0;\n    _this.f = 0;\n    _this.g = 0;\n    _this.b = null;\n    _this.s = new Line();\n    _this.s.ab = false;\n\n    _this.s._stroke = function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 0, 0, 0);\n      return $ret;\n    }();\n\n    _this.s.ac = 2;\n    _this.l = new TextBlock();\n    _this.t = new Rectangle();\n    _this.t.ac = 0;\n    _this.a = a;\n    _this.y = 0;\n    return _this;\n  }\n\n  CalloutView.prototype.j = function (a) {\n    a.z();\n    a.af(this.f, this.g);\n    var b = new TranslateTransform();\n    b.j = this.v.left;\n    b.k = this.v.top;\n    this.t.j = b;\n    a.r(this.s);\n    a.z();\n    this.t.width = this.l.m + this.w.left + this.w.right;\n    this.t.height = this.l.l + this.w.top + this.w.bottom;\n    this.t.am = this.c;\n    this.t.an = this.c;\n    a.j(this.t.j);\n    a.v(this.t);\n    this.l.ag = true;\n    this.l.o = this.w.top;\n    this.l.n = this.w.left;\n    a.w(this.l);\n    a.y();\n    a.y();\n  };\n\n  Object.defineProperty(CalloutView.prototype, \"r\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      if (this.q.x != a.x || this.q.y != a.y) {\n        var b = this.u();\n        var c = b.height;\n        var d = b.width;\n        this.q = a;\n        var e = CalloutViewHelper.b(this.r, d, c, this.s);\n        this.v = e;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"p\", {\n    get: function () {\n      return this.l.ao;\n    },\n    set: function (a) {\n      this.l.ao = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"o\", {\n    get: function () {\n      return this.t._stroke;\n    },\n    set: function (a) {\n      this.t._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"n\", {\n    get: function () {\n      return this.s._stroke;\n    },\n    set: function (a) {\n      this.s._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"m\", {\n    get: function () {\n      return this.t._fill;\n    },\n    set: function (a) {\n      this.t._fill = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"e\", {\n    get: function () {\n      return this.t.ac;\n    },\n    set: function (a) {\n      this.t.ac = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"x\", {\n    get: function () {\n      return this.w;\n    },\n    set: function (a) {\n      this.w = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"d\", {\n    get: function () {\n      return this.c;\n    },\n    set: function (a) {\n      this.c = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"h\", {\n    get: function () {\n      return this.l.al;\n    },\n    set: function (a) {\n      if (a == null) {\n        this.l.al = \"\";\n      } else {\n        this.l.al = a.toString();\n      }\n\n      var b = this.u();\n      var c = b.height;\n      var d = b.width;\n      var e = CalloutViewHelper.b(this.r, d, c, this.s);\n      this.v = e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutView.prototype.u = function () {\n    var a = this.a.co(this.l);\n    this.l.m = a.width;\n    this.l.l = a.height;\n    return new Size(1, a.width + this.w.left + this.w.right, a.height + this.w.top + this.w.bottom);\n  };\n\n  CalloutView.prototype.k = function (a, b, c) {\n    if (this.b == null) {\n      this.b = new DataContext();\n    }\n\n    this.b.series = a;\n    this.b.item = c;\n\n    if (b.c != null) {\n      b.c.u = this.b;\n    }\n  };\n\n  CalloutView.prototype.i = function (a, b, c) {\n    a.a8.exportCalloutData(this.f, this.g, this.v.left, this.v.top, c, this.t, this.l, b, this.s, \"callout\", [\"Main\", \"Callout\"]);\n  };\n\n  CalloutView.$t = markType(CalloutView, 'CalloutView');\n  return CalloutView;\n}(Base);\n\nexport { CalloutView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/CalloutLayer_combined.js"],"names":["__extends","__values","AnnotationLayer","DependencyProperty","Base","runOn","delegateCombine","String_$type","enumGetBox","EnumUtil","typeCast","fromEnum","delegateRemove","Point_$type","Date_$type","markType","markDep","Series","CalloutPlacementPositionsCollection","AutoCalloutVisibilityMode_$type","Brush","Thickness","CalloutCollisionMode_$type","FontUtil","Rect","CalloutLayerFrame","HashSet$1","CalloutAnnotationWrapper","List$1","LinkedList$1","Dictionary$2","LinkedListNode$1","LabelCollisionManager","SeriesPointOfInterest","CalloutAnnotation","IFastItemsSource_$type","CalloutLabelUpdatingEventArgs","CalloutSeriesSelectingEventArgs","CalloutStyleUpdatingEventArgs","DeviceUtils","CalloutRenderStyleUpdatingEventArgs","LabelCollisionInfo","QuadTreeBoundingBox","ScalerParams","ViewportUtils","Size","CalloutContentUpdatingEventArgs","CalloutKey","DataContext","HashPool$2","PropertyMetadata","isNaN_","stringIsNullOrEmpty","FastItemObjectColumn","AnnotationLayerView","BrushUtil","TextBlock","Color","Line","CalloutViewHelper","Rectangle","TranslateTransform","CalloutLayer","_super","_this","call","calloutStyleUpdating","calloutRenderStyleUpdating","rs","rt","ru","rr","rq","sk","$","sn","so","ri","q8","ro","sl","si","specialize","r0","vu","r7","sz","vt","empty","r5","r6","calloutContentUpdating","calloutLabelUpdating","calloutSeriesSelecting","sm","r9","sa","sq","r8","r4","ra","m","a","collectionChanged","ue","qe","b","c","d","e","hm","p6","p5","p7","ab","prototype","get_c8","un","q9","rj","uk","uf","clear","mi","k0","sj","us","f","g","h","series","rn","insert","v","i","j","ck","count","k","l","add","eo","cd","_inner","name","containsKey","addItem","rz","rx","ry","item","rw","key","xValue","yValue","$ret","equalsStatic","ao","text","toString","rv","content","ut","vw","left","top","right","bottom","sr","vp","rh","ci","vs","cl","vr","vq","cj","sx","se","aa","ac","ad","background","textColor","outline","leaderBrush","strokeThickness","backgroundPadding","backgroundCornerRadius","hw","jq","$$p","hx","ty","t9","uc","tv","to","Object","defineProperty","get","set","raisePropertyChanged","enumerable","configurable","uh","propertyName","contains","add_1","bx","CalloutLayerView","lz","getEnumValue","u8","st","sv","su","ss","toFontInfo","g9","t3","qp","as","qr","e_1","_a","q","r","n","o","p","u","s","t","sp","sb","qc","up","_b","_c","next","done","value","dc","isVertical","e_1_1","error","return","rb","Math","min","abs","max","uo","m6","width","height","pz","m5","equals1","e_2","sf","isEmpty","vv","tl","ap","uj","r1","labelsMoved","ug","pr","b0","Array","e_2_1","sw","r2","s3","s2","sc","an","al","a3","propertyChanged","removeItem","a2","w","x","y","r3","z","aq","az","am","ae","af","ag","a5","a4","ar","ah","ai","aj","ak","at","au","av","aw","ax","ay","sd","a0","bk","bm","bl","bn","a1","actualPosition","add1","ui","re","gc","length","b8","co","cn","ca","categoryMode","dp","getOffsetValue","dg","kc","cg","j7","ei","sy","$type","cos","sin","getTime","s4","t0","du","jp","ls","cv","ul","ur","um","c1","sh","s0","_loop_1","this_1","bp","ev","e_3","bq","ch","e_3_1","qu","em","l4","cf","seriesAnimating","uq","rd","deregisterColumn","rc","$t","oldValue","newValue","NaN","b4","b9","b5","CalloutView","create","b6","activate","cc","disactivate","ce","destroy","remove","cm","a6","b7","rp","getFontInfo","cb","getCurrentFontHeight","cq","o4","color","sg","oz","_stroke","_fill","a8","exportCalloutData"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, runOn, delegateCombine, String_$type, enumGetBox, EnumUtil, typeCast, fromEnum, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CalloutPlacementPositionsCollection } from \"./CalloutPlacementPositionsCollection\";\nimport { AutoCalloutVisibilityMode_$type } from \"./AutoCalloutVisibilityMode\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { CalloutRenderStyleUpdatingEventArgs } from \"./CalloutRenderStyleUpdatingEventArgs\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CalloutLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayer, _super);\n    function CalloutLayer() {\n        var _this = _super.call(this) || this;\n        _this.calloutStyleUpdating = null;\n        _this.calloutRenderStyleUpdating = null;\n        _this.rs = null;\n        _this.rt = null;\n        _this.ru = null;\n        _this.rr = null;\n        _this.rq = null;\n        _this.sk = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        _this.sn = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.so = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.ri = null;\n        _this.q8 = null;\n        _this.ro = null;\n        _this.sl = new LinkedList$1(CalloutAnnotationWrapper.$);\n        _this.si = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n        _this.r0 = null;\n        _this.vu = new Rect(0, 0, 0, 1, 1);\n        _this.r7 = false;\n        _this.sz = 0;\n        _this.vt = Rect.empty;\n        _this.r5 = false;\n        _this.r6 = false;\n        _this.calloutContentUpdating = null;\n        _this.calloutLabelUpdating = null;\n        _this.calloutSeriesSelecting = null;\n        _this.sm = new List$1(SeriesPointOfInterest.$, 0);\n        _this.r9 = false;\n        _this.sa = false;\n        _this.sq = 0;\n        _this.r8 = false;\n        _this.r4 = true;\n        _this.ra = 1;\n        FastItemObjectColumn.m();\n        _this.q8 = null;\n        _this.ri = new CalloutPlacementPositionsCollection();\n        var a = _this.ri;\n        a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ue));\n        _this.qe = true;\n        var b = new CalloutLayerFrame();\n        var c = new CalloutLayerFrame();\n        var d = new CalloutLayerFrame();\n        var e = _this.hm / 1000;\n        _this.p6 = b;\n        _this.p5 = c;\n        _this.p7 = d;\n        _this.ab = CalloutLayer.$;\n        return _this;\n    }\n    CalloutLayer.prototype.get_c8 = function () {\n        return true;\n    };\n    CalloutLayer.prototype.ue = function (a, b) {\n        this.un();\n    };\n    CalloutLayer.prototype.un = function () {\n        this.q8 = this.q9(this.rj);\n        this.uk();\n    };\n    CalloutLayer.prototype.uf = function (a, b) {\n        this.so.clear();\n        this.mi(false);\n    };\n    CalloutLayer.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        var e = this.sj();\n        switch (a) {\n            case 3:\n                this.us(b, e);\n                break;\n            case 1:\n                for (var f = b; f < b + c; f++) {\n                    var g = new CalloutAnnotation();\n                    var h = new CalloutAnnotationWrapper();\n                    h.b = g;\n                    h.b.series = this.rn;\n                    this.so.insert(f, h);\n                    this.us(f, e);\n                }\n                break;\n            case 0:\n                this.so.v(b, c);\n                break;\n            case 2:\n                for (var i = b; i < b + c; i++) {\n                    this.us(i, e);\n                }\n                break;\n            case 4:\n                this.so.clear();\n                for (var j = 0; j < this.ck.count; j++) {\n                    var k = new CalloutAnnotation();\n                    var l = new CalloutAnnotationWrapper();\n                    l.b = k;\n                    l.b.series = this.rn;\n                    this.so.add(l);\n                    this.us(j, e);\n                }\n                break;\n        }\n        this.mi(true);\n    };\n    CalloutLayer.prototype.eo = function (a) {\n        return false;\n    };\n    CalloutLayer.prototype.sj = function () {\n        var a = new Dictionary$2(String_$type, Series.$, 0);\n        if (this.cd != null) {\n            for (var b = 0; b < this.cd.series.count; b++) {\n                var c = this.cd.series._inner[b];\n                if (c.name != null && !a.containsKey(c.name)) {\n                    a.addItem(c.name, c);\n                }\n            }\n        }\n        return a;\n    };\n    CalloutLayer.prototype.us = function (a, b) {\n        var _this = this;\n        if (this.rz == null || this.rx == null) {\n            return;\n        }\n        var c = a;\n        if (this.ry != null) {\n            c = this.ry.item(a);\n        }\n        var d = this.rz.item(a);\n        var e = this.rx.item(a);\n        var f = this.so._inner[a];\n        if (this.rw != null) {\n            if (f.b.ab != this.rw.item(a)) {\n                f.b.key = this.rw.item(a);\n            }\n        }\n        if (this.si.containsKey(f)) {\n            f.b = this.si.item(f).c.b;\n        }\n        f.b.xValue = c;\n        f.b.yValue = d;\n        if (this.calloutLabelUpdating != null) {\n            var g = ((function () {\n                var $ret = new CalloutLabelUpdatingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ck.item(a);\n                return $ret;\n            })());\n            this.calloutLabelUpdating(this, g);\n            if (g.b != null && !Base.equalsStatic(g.b, f.b.ao)) {\n                var h = g.b;\n                f.b.text = h != null ? h.toString() : \"\";\n            }\n        }\n        else {\n            f.b.text = e != null ? e.toString() : \"\";\n        }\n        if (this.rv != null) {\n            f.b.content = this.rv.item(a);\n        }\n        else {\n            f.b.content = this.ck.item(a);\n        }\n        if (this.calloutSeriesSelecting != null) {\n            var i = ((function () {\n                var $ret = new CalloutSeriesSelectingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ck.item(a);\n                return $ret;\n            })());\n            this.calloutSeriesSelecting(this, i);\n            if (i.a != null) {\n                f.b.series = i.a;\n            }\n            else if (i.e != null) {\n                if (b.containsKey(i.e)) {\n                    f.b.series = b.item(i.e);\n                }\n            }\n        }\n        this.ut(f);\n    };\n    CalloutLayer.prototype.ut = function (a) {\n        var b = new Thickness(0, DeviceUtils.g(3));\n        if (isNaN_(this.vw.left) || isNaN_(this.vw.top) || isNaN_(this.vw.right) || isNaN_(this.vw.bottom)) {\n            b = new Thickness(0, DeviceUtils.g(3));\n        }\n        else {\n            b = this.vw;\n        }\n        var c = DeviceUtils.g(3);\n        if (isNaN_(this.sr)) {\n            c = DeviceUtils.g(3);\n        }\n        else {\n            c = this.sr;\n        }\n        var d = this.vp != null ? this.vp : this.rh.ci(a.b.l);\n        var e = this.vs != null ? this.vs : this.rh.cl();\n        var f = this.vr != null ? this.vr : this.rh.ck(a.b.l);\n        var g = this.vq != null ? this.vq : this.rh.cj(a.b.l);\n        var h = isNaN_(this.sx) ? 0 : this.sx;\n        if (this.se && this.calloutStyleUpdating != null) {\n            var i = new CalloutStyleUpdatingEventArgs();\n            i.item = a.b.aa;\n            i.xValue = a.b.ac;\n            i.yValue = a.b.ad;\n            i.series = a.b.l;\n            i.background = d;\n            i.textColor = e;\n            i.outline = f;\n            i.leaderBrush = g;\n            i.strokeThickness = h;\n            this.calloutStyleUpdating(this, i);\n            d = i.background;\n            e = i.textColor;\n            f = i.outline;\n            g = i.leaderBrush;\n            h = i.strokeThickness;\n        }\n        a.b.backgroundPadding = b;\n        a.b.backgroundCornerRadius = c;\n        a.b.background = d;\n        a.b.textColor = e;\n        a.b.outline = f;\n        a.b.leaderBrush = g;\n        a.b.strokeThickness = h;\n    };\n    CalloutLayer.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == CalloutLayer.$$p[21]) {\n            return this.hx(a, b, this.ty);\n        }\n        if (c == CalloutLayer.$$p[28]) {\n            return this.hx(a, b, this.t9);\n        }\n        if (c == CalloutLayer.$$p[29]) {\n            return this.hx(a, b, this.uc);\n        }\n        if (c == CalloutLayer.$$p[20]) {\n            return this.hx(a, b, this.tv);\n        }\n        if (c == CalloutLayer.$$p[15]) {\n            return this.hx(a, b, this.to);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"rx\", {\n        get: function () {\n            return this.rs;\n        },\n        set: function (a) {\n            if (this.rs != a) {\n                var b = this.rs;\n                this.rs = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.rs);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"ry\", {\n        get: function () {\n            return this.rt;\n        },\n        set: function (a) {\n            if (this.rt != a) {\n                var b = this.rt;\n                this.rt = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.rt);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rz\", {\n        get: function () {\n            return this.ru;\n        },\n        set: function (a) {\n            if (this.ru != a) {\n                var b = this.ru;\n                this.ru = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.ru);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rw\", {\n        get: function () {\n            return this.rr;\n        },\n        set: function (a) {\n            if (this.rr != a) {\n                var b = this.rr;\n                this.rr = a;\n                this.raisePropertyChanged(\"KeyColumn\", b, this.rr);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rv\", {\n        get: function () {\n            return this.rq;\n        },\n        set: function (a) {\n            if (this.rq != a) {\n                var b = this.rq;\n                this.rq = a;\n                this.raisePropertyChanged(\"ContentColumn\", b, this.rq);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.uh = function (a, b) {\n        if (b.propertyName == CalloutAnnotation.$$p[14] || b.propertyName == CalloutAnnotation.$$p[15]) {\n            var c = a.k;\n            if (!this.sk.contains(c)) {\n                this.sk.add_1(c);\n                this.sn.add(c);\n                this.mi(false);\n            }\n        }\n    };\n    CalloutLayer.prototype.bx = function () {\n        return new CalloutLayerView(this);\n    };\n    CalloutLayer.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.rh = a;\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"rj\", {\n        get: function () {\n            return this.ri;\n        },\n        set: function (a) {\n            var b = this.rj;\n            if (a != b) {\n                this.ri = a;\n                this.raisePropertyChanged(\"AllowedPositions\", b, this.rj);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rc\", {\n        get: function () {\n            return EnumUtil.getEnumValue(AutoCalloutVisibilityMode_$type, this.c(CalloutLayer.u8));\n        },\n        set: function (a) {\n            this.h(CalloutLayer.u8, enumGetBox(AutoCalloutVisibilityMode_$type, a));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rb\", {\n        get: function () {\n            return this.ra;\n        },\n        set: function (a) {\n            this.ra = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"vw\", {\n        get: function () {\n            return new Thickness(1, this.st, this.sv, this.su, this.ss);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rp\", {\n        get: function () {\n            if (this.ro == null) {\n                this.ro = FontUtil.toFontInfo(this.g9, this.t3);\n            }\n            return this.ro;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.qp = function (a, b) {\n        if (this.rn == null || this.rn == a) {\n            if (!this.as.c) {\n                this.mi(b);\n            }\n        }\n    };\n    CalloutLayer.prototype.qr = function (a, b) {\n        var e_1, _a;\n        _super.prototype.qr.call(this, a, b);\n        var c = a;\n        c.q.clear();\n        c.r.clear();\n        c.n.clear();\n        c.f.clear();\n        c.i.clear();\n        c.h.clear();\n        c.k.clear();\n        c.m.clear();\n        c.l.clear();\n        c.j.clear();\n        c.g.clear();\n        c.o.clear();\n        c.p.clear();\n        c.u.clear();\n        c.v.clear();\n        c.s.clear();\n        c.t.clear();\n        var d = this.sp();\n        var e = new List$1(CalloutAnnotationWrapper.$, 0);\n        var f = true;\n        if (this.sb) {\n            if (this.qc(this.rn)) {\n                this.up(this.rn, c, e);\n            }\n            else {\n                try {\n                    for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var g = _c.value;\n                        if (this.qc(g)) {\n                            if (!g.dc) {\n                                if (!g.isVertical) {\n                                    f = false;\n                                }\n                            }\n                            this.up(g, c, e);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n            }\n        }\n        if (this.sb && this.rb == 2) {\n            var h = 0;\n            var i = 0;\n            var j = 1.7976931348623157E+308;\n            var k = 1.7976931348623157E+308;\n            var l = -1.7976931348623157E+308;\n            var m = -1.7976931348623157E+308;\n            if (e.count > 0) {\n                if (e._inner[0].c != null) {\n                    h = e._inner[0].e;\n                    i = e._inner[0].f;\n                }\n                for (var n = 0; n < e.count; n++) {\n                    var o = e._inner[n];\n                    if (o.c != null) {\n                        var p = o.e;\n                        var q = o.f;\n                        if (p != h) {\n                            j = Math.min(j, Math.abs(p - h));\n                        }\n                        if (q != i) {\n                            k = Math.min(k, Math.abs(q - i));\n                        }\n                        l = Math.max(o.c.l + o.c.l, l);\n                        m = Math.max(o.c.k + o.c.k, m);\n                    }\n                }\n                if (f) {\n                    if (m > k) {\n                        e.clear();\n                    }\n                }\n                else {\n                    if (l > j) {\n                        e.clear();\n                    }\n                }\n            }\n        }\n        this.uo(c, d, e);\n    };\n    CalloutLayer.prototype.m6 = function (a, b) {\n        _super.prototype.m6.call(this, a, b);\n        var c = b.width - this.vu.width;\n        var d = b.height - this.vu.height;\n        var e = 0;\n        if (Math.abs(c) > Math.abs(d)) {\n            e = c;\n            this.sq = c * this.pz.width;\n        }\n        else {\n            e = d;\n            this.sq = d * this.pz.height;\n        }\n        if (e > 0 && this.sq > 5) {\n            this.sa = true;\n        }\n        if (e < 0 && this.sq > 5) {\n            this.r9 = true;\n        }\n    };\n    CalloutLayer.prototype.m5 = function (a, b) {\n        _super.prototype.m5.call(this, a, b);\n        if (!a.equals1(b)) {\n            this.r8 = true;\n        }\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"vv\", {\n        get: function () {\n            return this.vt;\n        },\n        set: function (a) {\n            this.vt = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.uo = function (a, b, c) {\n        var e_2, _a;\n        if (this.cd != null) {\n            this.vu = this.cd.sf;\n        }\n        if (this.pz.isEmpty) {\n            return;\n        }\n        this.vv = new Rect(0, this.pz.left, this.pz.top, this.pz.width, this.pz.height);\n        if (this.r0 != null && this.tl != null && this.tl != this.r0.ap) {\n            this.uj();\n        }\n        if (this.r0 == null) {\n            var d = this.r1();\n            if (d != null) {\n                this.r0 = d;\n                var e = this.r0;\n                e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.ug));\n            }\n            else {\n                var f = this.pr(this.b0);\n                var g = new Array(2);\n                g[0] = 0;\n                g[1] = 3;\n                if (this.rn != null) {\n                    if (this.rn.isVertical) {\n                        g = new Array(2);\n                        g[0] = 2;\n                        g[1] = 1;\n                    }\n                }\n                else {\n                    var h = false;\n                    if (this.cd != null && this.cd.series.count > 0) {\n                        h = true;\n                        try {\n                            for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var i = _c.value;\n                                if (!i.dc) {\n                                    if (!i.isVertical) {\n                                        h = false;\n                                    }\n                                }\n                            }\n                        }\n                        catch (e_2_1) {\n                            e_2 = { error: e_2_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_2)\n                                    throw e_2.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g = new Array(2);\n                        g[0] = 2;\n                        g[1] = 1;\n                    }\n                }\n                this.r0 = new LabelCollisionManager(this.pz.right, this.pz.bottom, this.pz, this.rh.j(), this.sw, this.r2(), g, this.s3(), this.s2(), this.sc, this.q8);\n                if (this.tl != null) {\n                    this.r0.ap = this.tl;\n                    this.r0.an = this;\n                }\n                var j = this.r0;\n                j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.ug));\n            }\n        }\n        if (this.r9) {\n            this.r9 = false;\n            if (this.r0.al > 2) {\n                this.r7 = true;\n            }\n        }\n        if (this.sa) {\n            this.sa = false;\n            if (this.sq > 5) {\n                this.r7 = true;\n            }\n        }\n        if (this.r8) {\n            this.r8 = false;\n            this.r0.a3(this.pz.right, this.pz.bottom, this.pz);\n            this.r7 = true;\n        }\n        var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var m = new List$1(CalloutAnnotationWrapper.$, 0);\n        var n = new List$1(CalloutAnnotationWrapper.$, 0);\n        var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (var p = 0; p < b.count; p++) {\n            o.add_1(b._inner[p]);\n        }\n        for (var q = 0; q < c.count; q++) {\n            o.add_1(c._inner[q]);\n        }\n        var r = this.sl.c;\n        while (r != null) {\n            var s = r.a;\n            if (!o.contains(r.c)) {\n                n.add(r.c);\n                l.add_1(r.c);\n                var t = r.c.b;\n                t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.uh));\n                this.sl.h(r);\n                this.si.removeItem(r.c);\n                this.r0.a2(r.c.c);\n            }\n            r = s;\n        }\n        for (var u = 0; u < b.count; u++) {\n            if (!this.si.containsKey(b._inner[u])) {\n                this.sl.f(b._inner[u]);\n                var v = b._inner[u].b;\n                v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.uh));\n                this.si.addItem(b._inner[u], this.sl.d);\n                m.add(b._inner[u]);\n                k.add_1(b._inner[u]);\n                this.r7 = true;\n            }\n        }\n        for (var w = 0; w < c.count; w++) {\n            if (!this.si.containsKey(c._inner[w])) {\n                this.sl.f(c._inner[w]);\n                this.si.addItem(c._inner[w], this.sl.d);\n                var x = c._inner[w].b;\n                x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.uh));\n                m.add(c._inner[w]);\n                k.add_1(c._inner[w]);\n                this.r7 = true;\n            }\n        }\n        if (this.r5 == true) {\n            this.r5 = false;\n            this.r7 = true;\n        }\n        if (this.sn.count > 0) {\n            this.r7 = true;\n            this.sn.clear();\n            this.sk.clear();\n        }\n        r = this.sl.c;\n        while (r != null) {\n            var y = this.r3(r.c);\n            if (y == null) {\n                return;\n            }\n            if (!Base.equalsStatic(y, r.c.c.c)) {\n                var z = false;\n                if (r.c.c.c == null) {\n                    z = true;\n                }\n                var aa = r.c.c;\n                aa.o = y.b;\n                aa.p = y.c;\n                if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n                    aa.n = y.e;\n                    aa.m = y.d;\n                    if (aa.b == null) {\n                        this.r0.t(aa, false);\n                    }\n                    if (z) {\n                        this.r0.aq(aa);\n                    }\n                    else {\n                        this.r0.az(aa);\n                    }\n                }\n            }\n            r = r.a;\n        }\n        var ab = this.r0.am();\n        var ac = this.r0.u();\n        if (ac) {\n            if (this.r0.q()) {\n                this.r7 = true;\n            }\n        }\n        if (this.r7 && (ab != 0 || ac)) {\n            this.r7 = false;\n            this.sz = 0x7FFFFFFF;\n            if (this.tl != null) {\n                var ad = true;\n                for (var ae = 0; ae < this.cd.series.count; ae++) {\n                    var af = this.cd.series._inner[ae];\n                    if (af.dc && typeCast(CalloutLayer.$, af) !== null) {\n                        var ag = af;\n                        if (ag.tl == this.tl) {\n                            if (!ag.vv.equals1(this.r0.a5)) {\n                                ad = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (ad) {\n                    this.r0.a4();\n                }\n                else {\n                    this.r0.ar();\n                    this.r0.as();\n                }\n            }\n            else {\n                this.r0.a4();\n            }\n        }\n        else {\n            this.r0.as();\n        }\n        var ah = this.sl.c;\n        var ai;\n        var aj;\n        var ak;\n        var al;\n        var am;\n        var an;\n        var ao;\n        var ap;\n        var aq;\n        var ar;\n        var as;\n        var at;\n        var au;\n        var av;\n        var aw;\n        var ax;\n        var ay = this.sd;\n        while (ah != null) {\n            var az = ah.c;\n            var a0 = az.b;\n            ai = a0.bk;\n            aj = a0.bm;\n            ak = a0.bl;\n            al = a0.backgroundPadding.left;\n            am = a0.backgroundPadding.top;\n            an = a0.backgroundPadding.right;\n            ao = a0.backgroundPadding.bottom;\n            aq = a0.backgroundCornerRadius;\n            ap = a0.y;\n            ar = a0.bn;\n            as = a0.ao;\n            at = a0.aa;\n            var a1 = az.c;\n            au = a1.o - (a1.g - a1.l);\n            av = a1.p - (a1.h - a1.k);\n            aw = a1.g - a1.l;\n            ax = a1.h - a1.k;\n            if (ay) {\n                var a2 = new CalloutRenderStyleUpdatingEventArgs();\n                a2.background = ai;\n                a2.outline = aj;\n                a2.leaderBrush = ak;\n                a2.strokeThickness = ap;\n                a2.textColor = ar;\n                a2.item = at;\n                a2.series = a0.l;\n                a2.actualPosition = a1.a;\n                a2.xValue = a0.ac;\n                a2.yValue = a0.ad;\n                if (this.calloutRenderStyleUpdating != null) {\n                    this.calloutRenderStyleUpdating(this, a2);\n                    ai = a2.background;\n                    aj = a2.outline;\n                    ak = a2.leaderBrush;\n                    ap = a2.strokeThickness;\n                    ar = a2.textColor;\n                }\n            }\n            a.n.add1(az);\n            a.f.add(ai);\n            a.i.add(aj);\n            a.h.add(ak);\n            a.k.add(al);\n            a.m.add(am);\n            a.l.add(an);\n            a.j.add(ao);\n            a.g.add(aq);\n            a.o.add(ap);\n            a.p.add(ar);\n            a.q.add1(as);\n            a.r.add1(at);\n            a.u.add(au);\n            a.v.add(av);\n            a.s.add(aw);\n            a.t.add(ax);\n            ah = ah.a;\n        }\n    };\n    CalloutLayer.prototype.uj = function () {\n        if (this.r0 != null) {\n            var a = this.sl.c;\n            while (a != null) {\n                var b = a.c.c;\n                if (b != null) {\n                    this.r0.a2(b);\n                }\n                a = a.a;\n            }\n            var c = this.r0;\n            c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.ug));\n            this.r0 = null;\n        }\n        this.ui();\n    };\n    CalloutLayer.prototype.r1 = function () {\n        if (this.cd == null) {\n            return null;\n        }\n        for (var a = 0; a < this.cd.series.count; a++) {\n            var b = this.cd.series._inner[a];\n            if (b.dc && typeCast(CalloutLayer.$, b) !== null) {\n                var c = b;\n                if (c != this) {\n                    if (c.tl != null && c.tl == this.tl) {\n                        if (c.r0 != null) {\n                            return c.r0;\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalloutLayer.prototype.s2 = function () {\n        return 20000;\n    };\n    CalloutLayer.prototype.s3 = function () {\n        return 300;\n    };\n    CalloutLayer.prototype.r2 = function () {\n        switch (this.re) {\n            case 0: return 2;\n            case 2: return 1;\n            case 3: return 2;\n            case 1: return 0;\n        }\n        return 2;\n    };\n    CalloutLayer.prototype.ug = function (a) {\n        var b = this.r0.am();\n        if (b < this.sz) {\n            this.sz = b;\n            this.mi(false);\n        }\n    };\n    CalloutLayer.prototype.r3 = function (a) {\n        var b = this.rn;\n        if (a.b.l != null) {\n            b = a.b.l;\n        }\n        if (b == null) {\n            for (var c = 0; c < this.cd.series.count; c++) {\n                var d = this.cd.series._inner[c];\n                if (!d.dc) {\n                    b = d;\n                    break;\n                }\n            }\n        }\n        if (b == null) {\n            return null;\n        }\n        var e = b.ag();\n        var f = b.gc();\n        var g = null;\n        var h = null;\n        var i = false;\n        for (var j = 0; j < e.length; j++) {\n            if (e[j].b8) {\n                i = true;\n                g = e[j];\n            }\n            else if (e[j].cl) {\n                i = true;\n                h = e[j];\n            }\n            else if (e[j].co) {\n                h = e[j];\n            }\n            else {\n                g = e[j];\n            }\n        }\n        if (g == null || h == null) {\n            return null;\n        }\n        if (!g.cn() || !h.cn()) {\n            return null;\n        }\n        var k = 0;\n        var l = 0;\n        if (g.ca && g.categoryMode != 0) {\n            if (b.dp) {\n                k = b.getOffsetValue();\n            }\n            else if (b.dg) {\n                k = b.getOffsetValue();\n            }\n        }\n        if (h.ca && h.categoryMode != 0) {\n            if (b.dg) {\n                l = b.getOffsetValue();\n            }\n        }\n        var m = new ScalerParams(0, this.cd.sf, g.kc, g.cg, g.j7());\n        m.b = f;\n        var n = new ScalerParams(0, this.cd.sf, h.kc, h.cg, h.j7());\n        n.b = f;\n        var o = 0;\n        var p = 0;\n        if (i) {\n            o = g.ei(this.sy(a.b.ac), m) + k;\n            p = h.ei(this.sy(a.b.ad), n) + l;\n            var q = o;\n            var r = p;\n            var s = { $type: Point_$type, x: 0.5, y: 0.5 };\n            var t = s.x + (r * Math.cos(q));\n            o = ViewportUtils.c(t, m.e, m.d);\n            var u = s.y + (r * Math.sin(q));\n            p = ViewportUtils.f(u, n.e, n.d);\n        }\n        else {\n            o = g.ei(this.sy(a.b.ac), m) + k;\n            p = h.ei(this.sy(a.b.ad), n) + l;\n        }\n        var v = new QuadTreeBoundingBox();\n        v.b = o;\n        v.c = p;\n        v.e = 3;\n        v.d = 3;\n        v.g = a.b;\n        return v;\n    };\n    CalloutLayer.prototype.sy = function (a) {\n        if (typeCast(Date_$type, a) !== null) {\n            return a.getTime();\n        }\n        if (a == null) {\n            return 0;\n        }\n        return a;\n    };\n    CalloutLayer.prototype.sp = function () {\n        var a = new List$1(CalloutAnnotationWrapper.$, 0);\n        for (var b = 0; b < this.so.count; b++) {\n            if (stringIsNullOrEmpty(this.so._inner[b].b.ao)) {\n                continue;\n            }\n            if (this.so._inner[b].c == null) {\n                var c = new LabelCollisionInfo();\n                this.so._inner[b].c = c;\n                var d = this.rh.cn(this.s4(this.so._inner[b]), this.so._inner[b].b.backgroundPadding);\n                c.k = d.height / 2;\n                c.l = d.width / 2;\n            }\n            var e = this.r3(this.so._inner[b]);\n            if (e == null || e.b < this.pz.left || e.b > this.pz.right || e.c < this.pz.top || e.c > this.pz.bottom) {\n                continue;\n            }\n            a.add(this.so._inner[b]);\n        }\n        return a;\n    };\n    CalloutLayer.prototype.s4 = function (a) {\n        return a.b.ao;\n    };\n    CalloutLayer.prototype.qc = function (a) {\n        if (!_super.prototype.qc.call(this, a)) {\n            return false;\n        }\n        if (this.t0 != null) {\n            if (a.du) {\n                var b = a.jp();\n                if (!Base.equalsStatic(this.t0, b)) {\n                    return false;\n                }\n            }\n            else {\n                if (!Base.equalsStatic(this.t0, a.name)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    CalloutLayer.prototype.ls = function () {\n        _super.prototype.ls.call(this);\n        if (!this.as.c && !this.cv()) {\n            return;\n        }\n        if (this.r4) {\n            this.r4 = false;\n            this.ul();\n        }\n        if (this.cv()) {\n            this.ur(this.p7, false);\n        }\n        else {\n            this.ur(this.p5, false);\n        }\n    };\n    CalloutLayer.prototype.um = function () {\n        if (!this.r6) {\n            this.r6 = true;\n            this.mi(true);\n        }\n    };\n    CalloutLayer.prototype.up = function (a, b, c) {\n        var d = false;\n        if (this.r6) {\n            this.r6 = false;\n            d = true;\n        }\n        if (a.c1(this.sm, this.sh, this.sf, this.s0)) {\n            var e = this.sm;\n            var _loop_1 = function (f) {\n                var g = e._inner[f];\n                var h = g.a != null ? g.a.item : null;\n                var i = g.a.item != null ? g.a.item : g.a;\n                var j = a;\n                var k = new CalloutKey(i, j);\n                var l = new CalloutAnnotationWrapper();\n                var m = new CalloutAnnotation();\n                l.b = m;\n                m.key = k;\n                var n = false;\n                if (this_1.si.containsKey(l)) {\n                    l = this_1.si.item(l).c;\n                    m = l.b;\n                    n = d;\n                }\n                else {\n                    n = true;\n                }\n                var o = m.ac;\n                var p = m.ad;\n                if (this_1.sy(o) != this_1.sy(g.b)) {\n                    m.xValue = g.b;\n                }\n                if (this_1.sy(p) != this_1.sy(g.c)) {\n                    m.yValue = g.c;\n                }\n                m.series = a;\n                var q = false;\n                if (g.d != m.ay) {\n                    m.ay = g.d;\n                    q = true;\n                }\n                if (n || q) {\n                    if (this_1.calloutLabelUpdating != null) {\n                        var r = ((function () {\n                            var $ret = new CalloutLabelUpdatingEventArgs();\n                            $ret.c = m.ac;\n                            $ret.d = m.ad;\n                            $ret.item = h;\n                            return $ret;\n                        })());\n                        this_1.calloutLabelUpdating(this_1, r);\n                        if (r.b != null && !Base.equalsStatic(r.b, l.b.ao)) {\n                            var s = r.b;\n                            l.b.text = s != null ? s.toString() : \"\";\n                        }\n                    }\n                    else {\n                        if (g.d != null) {\n                            m.text = g.d;\n                        }\n                    }\n                }\n                if (m.ao == null) {\n                    return \"continue\";\n                }\n                if (n || q) {\n                    if (this_1.calloutContentUpdating != null) {\n                        var t = ((function () {\n                            var $ret = new CalloutContentUpdatingEventArgs();\n                            $ret.c = m.ac;\n                            $ret.d = m.ad;\n                            $ret.item = h;\n                            $ret.a = i;\n                            return $ret;\n                        })());\n                        this_1.calloutContentUpdating(this_1, t);\n                        if (t.a != null && t.a != l.b.aa) {\n                            l.b.content = t.a;\n                        }\n                    }\n                    else {\n                        if (i != null && i != l.b.aa) {\n                            l.b.content = i;\n                        }\n                    }\n                }\n                if (n) {\n                    this_1.ut(l);\n                }\n                if (l.c == null) {\n                    var u = new LabelCollisionInfo();\n                    l.c = u;\n                    var v = this_1.rh.cn(this_1.s4(l), l.b.backgroundPadding);\n                    u.k = v.height / 2;\n                    u.l = v.width / 2;\n                }\n                var w = this_1.r3(l);\n                if (w == null || w.b < this_1.pz.left || w.b > this_1.pz.right || w.c < this_1.pz.top || w.c > this_1.pz.bottom) {\n                    return \"continue\";\n                }\n                l.e = w.b;\n                l.f = w.c;\n                c.add(l);\n            };\n            var this_1 = this;\n            for (var f = 0; f < this.sm.count; f++) {\n                _loop_1(f);\n            }\n        }\n    };\n    CalloutLayer.prototype.bp = function () {\n        return 1;\n    };\n    CalloutLayer.prototype.at = function (a, b) {\n        var c = this.r0.f(a, b);\n        if (c == null) {\n            return null;\n        }\n        return c.u;\n    };\n    CalloutLayer.prototype.ev = function (a, b) {\n        if (this.r0 == null) {\n            return false;\n        }\n        return this.r0.f(a, b) != null;\n    };\n    CalloutLayer.prototype.ur = function (a, b) {\n        var e_3, _a;\n        var c = 0;\n        var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (c = 0; c < a.q.count; c++) {\n            var e = a.n._inner[c];\n            if (isNaN_(a.u._inner[c]) || isNaN_(a.v._inner[c])) {\n                continue;\n            }\n            var f = this.rh.b8.item(e);\n            d.add_1(e);\n            if (f.h != a.q._inner[c]) {\n                f.h = a.q._inner[c];\n                var g = f.u();\n            }\n            f.e = a.o._inner[c];\n            f.m = a.f._inner[c];\n            f.p = a.p._inner[c];\n            f.o = f.e > 0 ? a.i._inner[c] : this.b0.bq();\n            f.n = a.h._inner[c];\n            f.x = new Thickness(1, a.k._inner[c], a.m._inner[c], a.l._inner[c], a.j._inner[c]);\n            f.d = a.g._inner[c];\n            this.rh.cg(f, Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]), Math.min(a.t._inner[c], a.t._inner[c] + a.v._inner[c]));\n            this.rh.ch(f, e, a.r._inner[c]);\n            f.r = { $type: Point_$type, x: a.u._inner[c], y: a.v._inner[c] };\n        }\n        var h = new List$1(CalloutAnnotationWrapper.$, 0);\n        try {\n            for (var _b = __values(fromEnum(this.rh.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (!d.contains(i)) {\n                    h.add(i);\n                }\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        for (var j = 0; j < h.count; j++) {\n            this.rh.b8.h(h._inner[j]);\n        }\n    };\n    CalloutLayer.prototype.qu = function (a, b) {\n        _super.prototype.qu.call(this, a, b);\n        if (this.cv()) {\n            this.ur(this.p7, true);\n        }\n        else {\n            this.ur(this.p5, false);\n        }\n    };\n    CalloutLayer.prototype.em = function () {\n        return true;\n    };\n    CalloutLayer.prototype.l4 = function (a, b, c, d) {\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case CalloutLayer.$$p[24]:\n                this.ro = null;\n                this.rh.cf();\n                this.mi(true);\n                break;\n            case CalloutLayer.$$p[22]:\n            case CalloutLayer.$$p[23]:\n                this.mi(true);\n                break;\n            case CalloutLayer.$$p[14]:\n                this.mi(true);\n                break;\n            case \"SeriesViewer\":\n                if (c != null) {\n                    var e = c;\n                    e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.uq));\n                }\n                if (d != null) {\n                    var f = d;\n                    f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.uq));\n                }\n                if (d == null) {\n                    this.uj();\n                }\n                break;\n            case \"AutoCalloutVisibilityMode\":\n                this.rb = this.rd();\n                this.uk();\n                break;\n            case \"AllowedPositions\":\n                if (c != null) {\n                    var g = c;\n                    g.collectionChanged = delegateRemove(g.collectionChanged, runOn(this, this.ue));\n                }\n                if (d != null) {\n                    var h = d;\n                    h.collectionChanged = delegateCombine(h.collectionChanged, runOn(this, this.ue));\n                }\n                this.q8 = this.q9(this.rj);\n                this.uk();\n                break;\n            case CalloutLayer.$$p[16]:\n            case CalloutLayer.$$p[17]:\n            case CalloutLayer.$$p[1]:\n            case CalloutLayer.$$p[6]:\n            case CalloutLayer.$$p[5]:\n            case CalloutLayer.$$p[25]:\n            case CalloutLayer.$$p[26]:\n            case CalloutLayer.$$p[19]:\n            case CalloutLayer.$$p[18]:\n            case CalloutLayer.$$p[8]:\n            case CalloutLayer.$$p[10]:\n            case CalloutLayer.$$p[9]:\n            case CalloutLayer.$$p[7]:\n            case CalloutLayer.$$p[12]:\n            case CalloutLayer.$$p[13]:\n                this.uk();\n                break;\n            case CalloutLayer.$$p[21]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rx);\n                    this.rx = this.cj(this.ty);\n                }\n                break;\n            case \"LabelColumn\":\n                this.uk();\n                break;\n            case CalloutLayer.$$p[15]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rv);\n                    this.rv = this.cj(this.to);\n                }\n                break;\n            case \"ContentColumn\":\n                this.uk();\n                break;\n            case CalloutLayer.$$p[28]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.ry);\n                    this.ry = stringIsNullOrEmpty(this.t9) == false ? this.cj(this.t9) : null;\n                }\n                break;\n            case \"XColumn\":\n                this.uk();\n                break;\n            case CalloutLayer.$$p[29]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rz);\n                    this.rz = this.cj(this.uc);\n                }\n                break;\n            case \"YColumn\":\n                this.uk();\n                break;\n            case CalloutLayer.$$p[20]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rw);\n                    this.rw = this.cj(this.tv);\n                }\n                break;\n            case \"KeyColumn\":\n                this.uk();\n                break;\n            case \"FastItemsSource\":\n                this.r5 = true;\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.rx);\n                    c.deregisterColumn(this.rv);\n                    c.deregisterColumn(this.ry);\n                    c.deregisterColumn(this.rz);\n                    c.deregisterColumn(this.rw);\n                    this.rx = null;\n                    this.rv = null;\n                    this.ry = null;\n                    this.rz = null;\n                    this.rw = null;\n                    this.so.clear();\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.rx = this.cj(this.ty);\n                    this.rv = this.cj(this.to);\n                    if (stringIsNullOrEmpty(this.t9) == false) {\n                        this.ry = this.cj(this.t9);\n                    }\n                    this.rz = this.cj(this.uc);\n                    this.rw = this.cj(this.tv);\n                }\n                this.uk();\n                break;\n        }\n    };\n    CalloutLayer.prototype.rd = function () {\n        if (this.rc == 0) {\n            return 1;\n        }\n        return this.rc;\n    };\n    CalloutLayer.prototype.q9 = function (a) {\n        if (a == null || a.count == 0) {\n            return null;\n        }\n        var b = new Array(a.count);\n        for (var c = 0; c < a.count; c++) {\n            b[c] = a._inner[c];\n        }\n        return b;\n    };\n    CalloutLayer.prototype.uq = function (a) {\n        if (a.dc) {\n            return;\n        }\n        if ((a == this.rn || this.rn == null) && this.sb) {\n            this.mi(false);\n        }\n    };\n    CalloutLayer.prototype.uk = function () {\n        if (this.r4 == false) {\n            this.r4 = true;\n            this.mi(false);\n        }\n    };\n    CalloutLayer.prototype.ui = function () {\n        this.rh.b8.clear();\n        this.sl.g();\n        this.si.clear();\n    };\n    CalloutLayer.prototype.ul = function () {\n        if (this.rz == null || this.rx == null) {\n            var a = this.sl.c;\n            while (a != null) {\n                this.ut(a.c);\n                a = a.a;\n            }\n            return;\n        }\n        var b = this.sj();\n        for (var c = 0; c < this.rz.count; c++) {\n            var d = void 0;\n            if (this.so.count <= c) {\n                var e = new CalloutAnnotation();\n                d = new CalloutAnnotationWrapper();\n                d.b = e;\n                d.b.series = this.rn;\n                this.so.add(d);\n            }\n            else {\n                d = this.so._inner[c];\n            }\n            this.us(c, b);\n        }\n    };\n    CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n    CalloutLayer.u8 = DependencyProperty.i(\"AutoCalloutVisibilityMode\", AutoCalloutVisibilityMode_$type, CalloutLayer.$, new PropertyMetadata(2, enumGetBox(AutoCalloutVisibilityMode_$type, 0), function (a, b) { return a.raisePropertyChanged(\"AutoCalloutVisibilityMode\", b.oldValue, b.newValue); }));\n    CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:s0:uu', [1, 5], 'CalloutBackground:vp:uv', [Brush.$, null], 'CalloutCollisionMode:re:uw', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutCornerRadius:sr:ux', [1, NaN], 'CalloutInterpolatedValuePrecision:s1:uy', [1, -1], 'CalloutLeaderBrush:vq:uz', [Brush.$, null], 'CalloutOutline:vr:u0', [Brush.$, null], 'CalloutPaddingBottom:ss:u1', [1, NaN], 'CalloutPaddingLeft:st:u2', [1, NaN], 'CalloutPaddingRight:su:u3', [1, NaN], 'CalloutPaddingTop:sv:u4', [1, NaN], 'CalloutPositionPadding:sw:u5', [1, 10], 'CalloutStrokeThickness:sx:u6', [1, NaN], 'CalloutTextColor:vs:u7', [Brush.$, null], 'CollisionChannel:tl:u9', [2, null], 'ContentMemberPath:to:va', [2, null], 'IsAutoCalloutBehaviorEnabled:sb:vb', [0, false], 'IsCalloutOffsettingEnabled:sc:vc', [0, true], 'IsCustomCalloutRenderStyleEnabled:sd:vd', [0, false], 'IsCustomCalloutStyleEnabled:se:ve', [0, false], 'KeyMemberPath:tv:vf', [2, null], 'LabelMemberPath:ty:vg', [2, null], 'TargetSeriesName:t0:vh', [2, null], 'TargetSeries:rn:vi', [Series.$, null], 'TextStyle:t3:vj', [2, null], 'UseInterpolatedValueForAutoCalloutLabels:sf:vk', [0, false], 'UseSeriesColorForOutline:sg:vl', [0, false], 'UseValueForAutoCalloutLabels:sh:vm', [0, true], 'XMemberPath:t9:vn', [2, null], 'YMemberPath:uc:vo', [2, null]]);\n    return CalloutLayer;\n}(AnnotationLayer));\nexport { CalloutLayer };\n/**\n * @hidden\n */\nvar CalloutLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayerView, _super);\n    function CalloutLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b4 = null;\n        _this.b9 = null;\n        _this.b8 = null;\n        _this.ca = NaN;\n        _this.b5 = null;\n        _this.b4 = a;\n        _this.b9 = new List$1(CalloutView.$, 0);\n        return _this;\n    }\n    CalloutLayerView.prototype.as = function () {\n        var _this = this;\n        _super.prototype.as.call(this);\n        this.b8 = ((function () {\n            var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n            $ret.create = runOn(_this, _this.b6);\n            $ret.activate = runOn(_this, _this.cc);\n            $ret.disactivate = runOn(_this, _this.ce);\n            $ret.destroy = runOn(_this, _this.cd);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.b6 = function () {\n        var a = new CalloutView(this);\n        this.b9.add(a);\n        return a;\n    };\n    CalloutLayerView.prototype.cc = function (a) {\n        a.y = 0;\n    };\n    CalloutLayerView.prototype.ce = function (a) {\n        a.y = 1;\n    };\n    CalloutLayerView.prototype.cd = function (a) {\n        this.b9.remove(a);\n    };\n    CalloutLayerView.prototype.cm = function (a) {\n        if (a == null) {\n            return a;\n        }\n        return BrushUtil.l(a, 0.1);\n    };\n    CalloutLayerView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        a.ac(this.b7());\n        if (a.d && !b) {\n            for (var c = 0; c < this.b9.count; c++) {\n                var d = this.b9._inner[c];\n                if (d.y == 0) {\n                    d.j(a);\n                }\n            }\n        }\n    };\n    CalloutLayerView.prototype.b7 = function () {\n        if (this.b4.rp != null) {\n            return this.b4.rp;\n        }\n        return this.e.cd.getFontInfo();\n    };\n    CalloutLayerView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        for (var b = 0; b < this.b9.count; b++) {\n            var c = this.b9._inner[b];\n            if (c.y != 0) {\n                continue;\n            }\n            c.i(this.b4, this.b7(), a);\n        }\n    };\n    CalloutLayerView.prototype.co = function (a) {\n        this.k.ac(this.b7());\n        this.ca = this.cb();\n        var b = this.k.ag(a, this.ca, true);\n        return new Size(1, b.c, b.b);\n    };\n    CalloutLayerView.prototype.cb = function () {\n        var a = this.b7();\n        if (isNaN_(this.ca)) {\n            var b = FontUtil.getCurrentFontHeight(this.e.cd.cq.j.ae, a);\n            this.ca = b;\n        }\n        return this.ca;\n    };\n    CalloutLayerView.prototype.cn = function (a, b) {\n        if (this.b5 == null) {\n            this.b5 = new CalloutView(this);\n        }\n        this.b5.h = a;\n        this.b5.x = b;\n        var c = this.b5.u();\n        this.b5.h = null;\n        return c;\n    };\n    CalloutLayerView.prototype.cg = function (a, b, c) {\n        a.f = b;\n        a.g = c;\n    };\n    CalloutLayerView.prototype.ch = function (a, b, c) {\n        a.k(this.e, b, c);\n    };\n    CalloutLayerView.prototype.ci = function (a) {\n        if (a != null) {\n            return this.cm(a.o4);\n        }\n        return this.e.o4;\n    };\n    CalloutLayerView.prototype.cl = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.ck = function (a) {\n        if (this.b4.sg) {\n            if (a != null) {\n                return this.cm(a.o4);\n            }\n        }\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.cj = function (a) {\n        if (a != null) {\n            return this.cm(a.oz);\n        }\n        return this.e.oz;\n    };\n    CalloutLayerView.prototype.cf = function () {\n        this.ca = NaN;\n    };\n    CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n    return CalloutLayerView;\n}(AnnotationLayerView));\nexport { CalloutLayerView };\n/**\n * @hidden\n */\nvar CalloutView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutView, _super);\n    function CalloutView(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.y = 0;\n        _this.l = null;\n        _this.t = null;\n        _this.q = { $type: Point_$type, x: 0, y: 0 };\n        _this.s = null;\n        _this.w = new Thickness(0, 0);\n        _this.v = null;\n        _this.c = 0;\n        _this.f = 0;\n        _this.g = 0;\n        _this.b = null;\n        _this.s = new Line();\n        _this.s.ab = false;\n        _this.s._stroke = ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 0, 0, 0);\n            return $ret;\n        })());\n        _this.s.ac = 2;\n        _this.l = new TextBlock();\n        _this.t = new Rectangle();\n        _this.t.ac = 0;\n        _this.a = a;\n        _this.y = 0;\n        return _this;\n    }\n    CalloutView.prototype.j = function (a) {\n        a.z();\n        a.af(this.f, this.g);\n        var b = new TranslateTransform();\n        b.j = this.v.left;\n        b.k = this.v.top;\n        this.t.j = b;\n        a.r(this.s);\n        a.z();\n        this.t.width = this.l.m + this.w.left + this.w.right;\n        this.t.height = this.l.l + this.w.top + this.w.bottom;\n        this.t.am = this.c;\n        this.t.an = this.c;\n        a.j(this.t.j);\n        a.v(this.t);\n        this.l.ag = true;\n        this.l.o = this.w.top;\n        this.l.n = this.w.left;\n        a.w(this.l);\n        a.y();\n        a.y();\n    };\n    Object.defineProperty(CalloutView.prototype, \"r\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            if (this.q.x != a.x || this.q.y != a.y) {\n                var b = this.u();\n                var c = b.height;\n                var d = b.width;\n                this.q = a;\n                var e = CalloutViewHelper.b(this.r, d, c, this.s);\n                this.v = e;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"p\", {\n        get: function () {\n            return this.l.ao;\n        },\n        set: function (a) {\n            this.l.ao = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"o\", {\n        get: function () {\n            return this.t._stroke;\n        },\n        set: function (a) {\n            this.t._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"n\", {\n        get: function () {\n            return this.s._stroke;\n        },\n        set: function (a) {\n            this.s._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"m\", {\n        get: function () {\n            return this.t._fill;\n        },\n        set: function (a) {\n            this.t._fill = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"e\", {\n        get: function () {\n            return this.t.ac;\n        },\n        set: function (a) {\n            this.t.ac = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"x\", {\n        get: function () {\n            return this.w;\n        },\n        set: function (a) {\n            this.w = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"d\", {\n        get: function () {\n            return this.c;\n        },\n        set: function (a) {\n            this.c = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"h\", {\n        get: function () {\n            return this.l.al;\n        },\n        set: function (a) {\n            if (a == null) {\n                this.l.al = \"\";\n            }\n            else {\n                this.l.al = a.toString();\n            }\n            var b = this.u();\n            var c = b.height;\n            var d = b.width;\n            var e = CalloutViewHelper.b(this.r, d, c, this.s);\n            this.v = e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutView.prototype.u = function () {\n        var a = this.a.co(this.l);\n        this.l.m = a.width;\n        this.l.l = a.height;\n        return new Size(1, a.width + this.w.left + this.w.right, a.height + this.w.top + this.w.bottom);\n    };\n    CalloutView.prototype.k = function (a, b, c) {\n        if (this.b == null) {\n            this.b = new DataContext();\n        }\n        this.b.series = a;\n        this.b.item = c;\n        if (b.c != null) {\n            b.c.u = this.b;\n        }\n    };\n    CalloutView.prototype.i = function (a, b, c) {\n        a.a8.exportCalloutData(this.f, this.g, this.v.left, this.v.top, c, this.t, this.l, b, this.s, \"callout\", [\"Main\", \"Callout\"]);\n    };\n    CalloutView.$t = markType(CalloutView, 'CalloutView');\n    return CalloutView;\n}(Base));\nexport { CalloutView };\n"]},"metadata":{},"sourceType":"module"}