{"ast":null,"code":"import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\n\nvar getScale = function (props) {\n  var _props$scale = props.scale,\n      scale = _props$scale === void 0 ? {} : _props$scale,\n      _props$dimension = props.dimension,\n      dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\n\nvar getDimension = function (props) {\n  var horizontal = props.horizontal,\n      _props$dimension2 = props.dimension,\n      dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n\n  if (!horizontal) {\n    return dimension;\n  }\n\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\n\nvar toRange = function (props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\n\nvar toDomain = function (props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\n\nvar getFullRange = function (props) {\n  var scale = getScale(props);\n  return scale.range();\n};\n\nvar getFullDomain = function (props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\n\nvar withinBound = function (value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\n\nvar getBrushDomain = function (brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : Number(domainMax) - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : Number(domainMin) + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n\n  return fullDomain;\n};\n\nvar getActiveHandle = function (props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n\n  var getHandle = function (type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\n\nvar getMinimumDomain = function () {\n  return [0, SMALL_NUMBER];\n};\n\nvar panBox = function (props, position) {\n  var brushDomain = props.brushDomain,\n      startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\n\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\nexport var VictoryBrushLine = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n\n  var _super = _createSuper(VictoryBrushLine);\n\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n          x2 = coordinates.x2,\n          y1 = coordinates.y1,\n          y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n          x1 = props.x1,\n          x2 = props.x2,\n          y1 = props.y1,\n          y2 = props.y2,\n          brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n          activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n          handleStyle = props.handleStyle,\n          id = props.id,\n          brushDomain = props.brushDomain,\n          _props$datum = props.datum,\n          datum = _props$datum === void 0 ? {} : _props$datum,\n          _props$activeBrushes2 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var handleDimensions = this.getHandleDimensions(props);\n\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n\n      return [/*#__PURE__*/React.cloneElement(handleComponent, minHandleProps), /*#__PURE__*/React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n          brushStyle = props.brushStyle,\n          _props$activeBrushes3 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n          _props$datum2 = props.datum,\n          datum = _props$datum2 === void 0 ? {} : _props$datum2,\n          brushDomain = props.brushDomain;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n          brushAreaStyle = props.brushAreaStyle,\n          _props$activeBrushes4 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n          _props$datum3 = props.datum,\n          datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n\n      return /*#__PURE__*/React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n\n  return VictoryBrushLine;\n}(React.Component);\nVictoryBrushLine.propTypes = {\n  allowDrag: PropTypes.bool,\n  allowDraw: PropTypes.bool,\n  allowResize: PropTypes.bool,\n  brushAreaComponent: PropTypes.element,\n  brushAreaStyle: PropTypes.object,\n  brushAreaWidth: PropTypes.number,\n  brushComponent: PropTypes.element,\n  brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n  brushDomain: PropTypes.array,\n  brushStyle: PropTypes.object,\n  brushWidth: PropTypes.number,\n  className: PropTypes.string,\n  dimension: PropTypes.oneOf([\"x\", \"y\"]),\n  disable: PropTypes.bool,\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  handleComponent: PropTypes.element,\n  handleStyle: PropTypes.object,\n  handleWidth: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  lineComponent: PropTypes.element,\n  name: PropTypes.string,\n  onBrushDomainChange: PropTypes.func,\n  scale: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  width: PropTypes.number\n};\nVictoryBrushLine.defaultProps = {\n  allowDrag: true,\n  allowDraw: true,\n  allowResize: true,\n  brushAreaComponent: /*#__PURE__*/React.createElement(Box, null),\n  brushComponent: /*#__PURE__*/React.createElement(Box, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  handleComponent: /*#__PURE__*/React.createElement(Box, null),\n  handleWidth: 10,\n  lineComponent: /*#__PURE__*/React.createElement(LineSegment, null),\n  width: 10\n};\n\nVictoryBrushLine.defaultEvents = function (props) {\n  return props.disable ? undefined : [{\n    target: props.type,\n    eventHandlers: {\n      onMouseEnter: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n        };\n        return [{\n          mutation: function () {\n            return {\n              activeBrushes: activeBrushes,\n              brushDomain: targetProps.brushDomain,\n              parentSVG: parentSVG\n            };\n          }\n        }];\n      },\n      onMouseDown: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            allowDraw = targetProps.allowDraw,\n            activeBrushes = targetProps.activeBrushes,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n        if (!allowResize && !allowDrag) {\n          return [];\n        }\n\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n        if (activeHandle) {\n          return [{\n            mutation: function () {\n              return {\n                parentSVG: parentSVG,\n                isSelecting: true,\n                activeHandle: activeHandle,\n                brushDomain: currentDomain,\n                startPosition: position,\n                activeBrushes: activeBrushes\n              };\n            }\n          }];\n        } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n          // if the event occurs within a selected region start a panning event, unless the whole\n          // domain is selected\n          return [{\n            mutation: function () {\n              return {\n                isPanning: allowDrag,\n                startPosition: position,\n                brushDomain: currentDomain,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        } // if the event occurs outside the region, or if the whole domain is selected,\n        // start a new selection\n\n\n        return allowDraw ? [{\n          mutation: function () {\n            return {\n              isSelecting: allowResize,\n              brushDomain: null,\n              startPosition: position,\n              activeBrushes: activeBrushes,\n              parentSVG: parentSVG\n            };\n          }\n        }] : [];\n      },\n      // eslint-disable-next-line max-statements, complexity\n      onMouseMove: function (evt, targetProps) {\n        var isPanning = targetProps.isPanning,\n            isSelecting = targetProps.isSelecting,\n            allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n\n        if (isPanning || isSelecting) {\n          evt.preventDefault();\n          evt.stopPropagation();\n        }\n\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var domain = getBrushDomain(brushDomain, fullDomain);\n        var initialRange = toRange(targetProps, domain);\n        var activeHandle = getActiveHandle(targetProps, position, initialRange);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n        };\n\n        if (!targetProps.isPanning && !targetProps.isSelecting) {\n          return [{\n            mutation: function () {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        }\n\n        if (allowDrag && isPanning) {\n          var fullRange = getFullRange(targetProps);\n          var range = panBox(targetProps, position);\n          var currentDomain = toDomain(targetProps, range);\n          var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n          var mutatedProps = {\n            startPosition: startPosition,\n            isPanning: true,\n            brushDomain: currentDomain,\n            activeBrushes: {\n              brush: true\n            },\n            parentSVG: parentSVG\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return mutatedProps;\n            }\n          }];\n        } else if (allowResize && isSelecting) {\n          var _currentDomain = brushDomain || getMinimumDomain();\n\n          var _range = toRange(targetProps, _currentDomain);\n\n          var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n          var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n\n          if (!handle) {\n            _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n          } else {\n            var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n            var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n            var min = handle === \"max\" ? rangeMin : position;\n            var max = handle === \"min\" ? rangeMax : position;\n            _currentDomain = toDomain(targetProps, [min, max]);\n          }\n\n          var _mutatedProps = {\n            brushDomain: _currentDomain,\n            startPosition: targetProps.startPosition,\n            isSelecting: isSelecting,\n            activeHandle: handle,\n            parentSVG: parentSVG,\n            activeBrushes: {\n              brush: true,\n              minHandle: activeHandle === \"min\",\n              maxHandle: activeHandle === \"max\"\n            }\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return _mutatedProps;\n            }\n          }];\n        }\n\n        return [];\n      },\n      onMouseUp: function (evt, targetProps) {\n        var onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain,\n            allowResize = targetProps.allowResize,\n            activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n        var mutatedProps = {\n          isPanning: false,\n          isSelecting: false,\n          activeHandle: null,\n          startPosition: null,\n          brushDomain: brushDomain,\n          activeBrushes: activeBrushes\n        };\n\n        if (allowResize && _isFunction(onBrushDomainChange)) {\n          onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n        }\n\n        return [{\n          mutation: function () {\n            return mutatedProps;\n          }\n        }];\n      },\n      onMouseLeave: function (evt, targetProps) {\n        var brushDomain = targetProps.brushDomain;\n        return [{\n          mutation: function () {\n            return {\n              isPanning: false,\n              isSelecting: false,\n              activeHandle: null,\n              startPosition: null,\n              brushDomain: brushDomain,\n              activeBrushes: {}\n            };\n          }\n        }];\n      }\n    }\n  }];\n};","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/victory-brush-line/es/victory-brush-line.js"],"names":["_pick","_isFunction","_defaults","_assign","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","React","PropTypes","Selection","Helpers","Collection","LineSegment","Scale","Domain","Box","isEqual","SMALL_NUMBER","Number","MAX_SAFE_INTEGER","getScale","_props$scale","scale","_props$dimension","dimension","fallbackScale","getBaseScale","range","getRange","domain","getDomainFromProps","getDimension","horizontal","_props$dimension2","toRange","Math","min","max","toDomain","invert","getFullRange","getFullDomain","withinBound","bound","getMinValue","getMaxValue","getBrushDomain","brushDomain","fullDomain","brushMin","brushMax","domainMin","domainMax","defaultMin","defaultMax","getActiveHandle","position","width","handleWidth","getHandle","type","base","active","reduce","memo","undefined","getMinimumDomain","panBox","startPosition","fullRange","size","abs","globalMin","globalMax","delta","constrainedMin","constrainedMax","fallbackProps","brushAreaStyle","stroke","fill","opacity","_ref","brushStyle","pointerEvents","_ref2","handleStyle","VictoryBrushLine","_React$Component","_super","getRectDimensions","brushWidth","coordinates","y1","y2","x1","x2","offset","x","y","height","getHandleDimensions","defaultX","defaultY","getCursor","_props$activeBrushes","activeBrushes","minHandle","maxHandle","brush","renderHandles","handleComponent","id","_props$datum","datum","_props$activeBrushes2","handleDimensions","style","minDatum","handleValue","maxDatum","minHandleProps","concat","evaluateStyle","maxHandleProps","cloneElement","renderBrush","brushComponent","_props$activeBrushes3","_props$datum2","rectDimensions","baseStyle","brushProps","renderBrushArea","brushAreaComponent","_props$activeBrushes4","_props$datum3","brushAreaWidth","cursor","brushArea","brushAreaProps","renderLine","filteredProps","lineComponent","render","createElement","events","Component","propTypes","allowDrag","bool","allowDraw","allowResize","element","object","number","brushDimension","oneOf","array","className","string","disable","groupComponent","oneOfType","onBrushDomainChange","func","defaultProps","defaultEvents","eventHandlers","onMouseEnter","evt","targetProps","preventDefault","parentSVG","getParentSVG","getSVGEventCoordinates","currentDomain","activeHandle","mutation","onMouseDown","isSelecting","isPanning","onMouseMove","stopPropagation","initialRange","mutatedProps","_currentDomain","_range","oppositeHandle","handle","rangeMax","rangeMin","_mutatedProps","onMouseUp","onMouseLeave"],"mappings":"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","sourcesContent":["import _pick from \"lodash/pick\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Selection, Helpers, Collection, LineSegment, Scale, Domain, Box } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar SMALL_NUMBER = 1 / Number.MAX_SAFE_INTEGER;\n\nvar getScale = function (props) {\n  var _props$scale = props.scale,\n      scale = _props$scale === void 0 ? {} : _props$scale,\n      _props$dimension = props.dimension,\n      dimension = _props$dimension === void 0 ? \"x\" : _props$dimension;\n\n  if (scale[dimension]) {\n    return scale[dimension];\n  }\n\n  var fallbackScale = Scale.getBaseScale(props, dimension);\n  var range = Helpers.getRange(props, dimension);\n  var domain = Domain.getDomainFromProps(props, dimension) || [0, 1];\n  fallbackScale.range(range).domain(domain);\n  return fallbackScale;\n};\n\nvar getDimension = function (props) {\n  var horizontal = props.horizontal,\n      _props$dimension2 = props.dimension,\n      dimension = _props$dimension2 === void 0 ? \"x\" : _props$dimension2;\n\n  if (!horizontal) {\n    return dimension;\n  }\n\n  return dimension === \"x\" ? \"y\" : \"x\";\n};\n\nvar toRange = function (props, domain) {\n  var scale = getScale(props);\n  return [scale(Math.min.apply(Math, _toConsumableArray(domain))), scale(Math.max.apply(Math, _toConsumableArray(domain)))];\n};\n\nvar toDomain = function (props, range) {\n  var scale = getScale(props);\n  return [scale.invert(Math.min.apply(Math, _toConsumableArray(range))), scale.invert(Math.max.apply(Math, _toConsumableArray(range)))];\n};\n\nvar getFullRange = function (props) {\n  var scale = getScale(props);\n  return scale.range();\n};\n\nvar getFullDomain = function (props) {\n  var scale = getScale(props);\n  return scale.domain();\n};\n\nvar withinBound = function (value, bound) {\n  return value >= Collection.getMinValue(bound) && value <= Collection.getMaxValue(bound);\n};\n\nvar getBrushDomain = function (brushDomain, fullDomain) {\n  if (brushDomain) {\n    var brushMin = Collection.getMinValue(brushDomain);\n    var brushMax = Collection.getMaxValue(brushDomain);\n    var domainMin = Collection.getMinValue(fullDomain);\n    var domainMax = Collection.getMaxValue(fullDomain);\n    var defaultMin = brushMin < domainMin ? domainMin : Number(domainMax) - SMALL_NUMBER;\n    var defaultMax = brushMax > domainMax ? domainMax : Number(domainMin) + SMALL_NUMBER;\n    var min = withinBound(brushMin, fullDomain) ? brushMin : defaultMin;\n    var max = withinBound(brushMax, fullDomain) ? brushMax : defaultMax;\n    return [min, max];\n  }\n\n  return fullDomain;\n};\n\nvar getActiveHandle = function (props, position, range) {\n  var width = props.handleWidth / 2;\n  var dimension = getDimension(props);\n\n  var getHandle = function (type) {\n    var base = {\n      min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) : Math.max.apply(Math, _toConsumableArray(range)),\n      max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) : Math.min.apply(Math, _toConsumableArray(range))\n    };\n    return [base[type] - width, base[type] + width];\n  };\n\n  var active = [\"min\", \"max\"].reduce(function (memo, type) {\n    memo[type] = withinBound(position, getHandle(type)) ? type : undefined;\n    return memo;\n  }, {});\n  return active.min && active.max ? \"both\" : active.min || active.max;\n};\n\nvar getMinimumDomain = function () {\n  return [0, SMALL_NUMBER];\n};\n\nvar panBox = function (props, position) {\n  var brushDomain = props.brushDomain,\n      startPosition = props.startPosition;\n  var range = toRange(props, brushDomain);\n  var fullRange = getFullRange(props);\n  var size = Math.abs(range[1] - range[0]);\n  var globalMin = Math.min.apply(Math, _toConsumableArray(fullRange));\n  var globalMax = Math.max.apply(Math, _toConsumableArray(fullRange));\n  var delta = startPosition ? startPosition - position : 0;\n  var min = Math.min.apply(Math, _toConsumableArray(range)) - delta;\n  var max = Math.max.apply(Math, _toConsumableArray(range)) - delta;\n  var constrainedMin = min > globalMax - size ? globalMax - size : Math.max(min, globalMin);\n  var constrainedMax = max < globalMin + size ? globalMin + size : Math.min(max, globalMax);\n  return [constrainedMin, constrainedMax];\n};\n\nvar fallbackProps = {\n  brushAreaStyle: {\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref) {\n      var active = _ref.active;\n      return active ? 0.2 : 0.1;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  brushStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"black\",\n    opacity: function (_ref2) {\n      var active = _ref2.active;\n      return active ? 0.4 : 0.3;\n    } // eslint-disable-line no-magic-numbers\n\n  },\n  handleStyle: {\n    pointerEvents: \"none\",\n    stroke: \"none\",\n    fill: \"none\"\n  }\n};\nexport var VictoryBrushLine = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryBrushLine, _React$Component);\n\n  var _super = _createSuper(VictoryBrushLine);\n\n  function VictoryBrushLine() {\n    _classCallCheck(this, VictoryBrushLine);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(VictoryBrushLine, [{\n    key: \"getRectDimensions\",\n    value: function getRectDimensions(props, brushWidth, domain) {\n      var brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      domain = domain || getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var coordinates = dimension === \"x\" ? {\n        y1: props.y1,\n        y2: props.y2,\n        x1: Math.min.apply(Math, _toConsumableArray(range)),\n        x2: Math.max.apply(Math, _toConsumableArray(range))\n      } : {\n        x1: props.x1,\n        x2: props.x2,\n        y1: Math.min.apply(Math, _toConsumableArray(range)),\n        y2: Math.max.apply(Math, _toConsumableArray(range))\n      };\n      var x1 = coordinates.x1,\n          x2 = coordinates.x2,\n          y1 = coordinates.y1,\n          y2 = coordinates.y2;\n      var offset = {\n        x: dimension === \"x\" ? 0 : brushWidth / 2,\n        y: dimension === \"y\" ? 0 : brushWidth / 2\n      };\n      var x = Math.min(x1, x2) - offset.x;\n      var y = Math.min(y1, y2) - offset.y;\n      var width = Math.max(x1, x2) + offset.x - x;\n      var height = Math.max(y1, y2) + offset.y - y;\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"getHandleDimensions\",\n    value: function getHandleDimensions(props) {\n      var handleWidth = props.handleWidth,\n          x1 = props.x1,\n          x2 = props.x2,\n          y1 = props.y1,\n          y2 = props.y2,\n          brushDomain = props.brushDomain;\n      var dimension = getDimension(props);\n      var brushWidth = props.brushWidth || props.width;\n      var domain = getBrushDomain(brushDomain, getFullDomain(props));\n      var range = toRange(props, domain);\n      var defaultX = Math.min(x1, x2) - brushWidth / 2;\n      var defaultY = Math.min(y1, y2) - brushWidth / 2;\n      var x = {\n        min: dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX,\n        max: dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultX\n      };\n      var y = {\n        min: dimension === \"y\" ? Math.max.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY,\n        max: dimension === \"y\" ? Math.min.apply(Math, _toConsumableArray(range)) - handleWidth / 2 : defaultY\n      };\n      var width = dimension === \"x\" ? handleWidth : brushWidth;\n      var height = dimension === \"x\" ? brushWidth : handleWidth;\n      return {\n        min: {\n          x: x.min,\n          y: y.min,\n          width: width,\n          height: height\n        },\n        max: {\n          x: x.max,\n          y: y.max,\n          width: width,\n          height: height\n        }\n      };\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor(props) {\n      var _props$activeBrushes = props.activeBrushes,\n          activeBrushes = _props$activeBrushes === void 0 ? {} : _props$activeBrushes;\n      var dimension = getDimension(props);\n\n      if (activeBrushes.minHandle || activeBrushes.maxHandle) {\n        return dimension === \"x\" ? \"ew-resize\" : \"ns-resize\";\n      } else if (activeBrushes.brush) {\n        return \"move\";\n      }\n\n      return \"crosshair\";\n    }\n  }, {\n    key: \"renderHandles\",\n    value: function renderHandles(props) {\n      var handleComponent = props.handleComponent,\n          handleStyle = props.handleStyle,\n          id = props.id,\n          brushDomain = props.brushDomain,\n          _props$datum = props.datum,\n          datum = _props$datum === void 0 ? {} : _props$datum,\n          _props$activeBrushes2 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes2 === void 0 ? {} : _props$activeBrushes2;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var handleDimensions = this.getHandleDimensions(props);\n\n      var style = _assign({}, fallbackProps.handleStyle, handleStyle);\n\n      var minDatum = _assign({\n        handleValue: Collection.getMinValue(brushDomain)\n      }, datum);\n\n      var maxDatum = _assign({\n        handleValue: Collection.getMaxValue(brushDomain)\n      }, datum);\n\n      var minHandleProps = _assign({\n        key: \"\".concat(id, \"-min\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: minDatum,\n          active: activeBrushes.minHandle\n        })\n      }, handleDimensions.min);\n\n      var maxHandleProps = _assign({\n        key: \"\".concat(id, \"-max\"),\n        style: Helpers.evaluateStyle(style, {\n          datum: maxDatum,\n          active: activeBrushes.maxHandle\n        })\n      }, handleDimensions.max);\n\n      return [/*#__PURE__*/React.cloneElement(handleComponent, minHandleProps), /*#__PURE__*/React.cloneElement(handleComponent, maxHandleProps)];\n    }\n  }, {\n    key: \"renderBrush\",\n    value: function renderBrush(props) {\n      var brushComponent = props.brushComponent,\n          brushStyle = props.brushStyle,\n          _props$activeBrushes3 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes3 === void 0 ? {} : _props$activeBrushes3,\n          _props$datum2 = props.datum,\n          datum = _props$datum2 === void 0 ? {} : _props$datum2,\n          brushDomain = props.brushDomain;\n\n      if (!brushDomain) {\n        return null;\n      }\n\n      var brushWidth = props.brushWidth || props.width;\n      var rectDimensions = this.getRectDimensions(props, brushWidth);\n\n      var baseStyle = _assign({}, fallbackProps.brushStyle, brushStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brush\n      });\n\n      var brushProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushComponent, brushProps);\n    }\n  }, {\n    key: \"renderBrushArea\",\n    value: function renderBrushArea(props) {\n      var brushAreaComponent = props.brushAreaComponent,\n          brushAreaStyle = props.brushAreaStyle,\n          _props$activeBrushes4 = props.activeBrushes,\n          activeBrushes = _props$activeBrushes4 === void 0 ? {} : _props$activeBrushes4,\n          _props$datum3 = props.datum,\n          datum = _props$datum3 === void 0 ? {} : _props$datum3;\n      var brushAreaWidth = props.brushAreaWidth || props.width;\n      var cursor = this.getCursor(props);\n      var rectDimensions = this.getRectDimensions(props, brushAreaWidth, getFullDomain(props));\n\n      var baseStyle = _assign({\n        cursor: cursor\n      }, fallbackProps.brushAreaStyle, brushAreaStyle);\n\n      var style = Helpers.evaluateStyle(baseStyle, {\n        datum: datum,\n        active: activeBrushes.brushArea\n      });\n\n      var brushAreaProps = _assign({\n        style: style\n      }, rectDimensions);\n\n      return /*#__PURE__*/React.cloneElement(brushAreaComponent, brushAreaProps);\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine(props) {\n      var filteredProps = _pick(props, [\"x1\", \"x2\", \"y1\", \"y2\", \"datum\", \"scale\", \"active\", \"style\"]);\n\n      return /*#__PURE__*/React.cloneElement(props.lineComponent, filteredProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"g\", this.props.events, this.renderLine(this.props), this.renderBrushArea(this.props), this.renderBrush(this.props), this.renderHandles(this.props));\n    }\n  }]);\n\n  return VictoryBrushLine;\n}(React.Component);\nVictoryBrushLine.propTypes = {\n  allowDrag: PropTypes.bool,\n  allowDraw: PropTypes.bool,\n  allowResize: PropTypes.bool,\n  brushAreaComponent: PropTypes.element,\n  brushAreaStyle: PropTypes.object,\n  brushAreaWidth: PropTypes.number,\n  brushComponent: PropTypes.element,\n  brushDimension: PropTypes.oneOf([\"x\", \"y\"]),\n  brushDomain: PropTypes.array,\n  brushStyle: PropTypes.object,\n  brushWidth: PropTypes.number,\n  className: PropTypes.string,\n  dimension: PropTypes.oneOf([\"x\", \"y\"]),\n  disable: PropTypes.bool,\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  handleComponent: PropTypes.element,\n  handleStyle: PropTypes.object,\n  handleWidth: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  lineComponent: PropTypes.element,\n  name: PropTypes.string,\n  onBrushDomainChange: PropTypes.func,\n  scale: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  width: PropTypes.number\n};\nVictoryBrushLine.defaultProps = {\n  allowDrag: true,\n  allowDraw: true,\n  allowResize: true,\n  brushAreaComponent: /*#__PURE__*/React.createElement(Box, null),\n  brushComponent: /*#__PURE__*/React.createElement(Box, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  handleComponent: /*#__PURE__*/React.createElement(Box, null),\n  handleWidth: 10,\n  lineComponent: /*#__PURE__*/React.createElement(LineSegment, null),\n  width: 10\n};\n\nVictoryBrushLine.defaultEvents = function (props) {\n  return props.disable ? undefined : [{\n    target: props.type,\n    eventHandlers: {\n      onMouseEnter: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, range) && !isEqual(fullDomain, currentDomain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"min\" || activeHandle === \"both\"\n        };\n        return [{\n          mutation: function () {\n            return {\n              activeBrushes: activeBrushes,\n              brushDomain: targetProps.brushDomain,\n              parentSVG: parentSVG\n            };\n          }\n        }];\n      },\n      onMouseDown: function (evt, targetProps) {\n        evt.preventDefault();\n        var allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            allowDraw = targetProps.allowDraw,\n            activeBrushes = targetProps.activeBrushes,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps); // Don't trigger events for static brushes\n\n        if (!allowResize && !allowDrag) {\n          return [];\n        }\n\n        var fullDomain = getFullDomain(targetProps);\n        var currentDomain = getBrushDomain(brushDomain, fullDomain);\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var range = toRange(targetProps, currentDomain);\n        var activeHandle = allowResize && getActiveHandle(targetProps, position, range); // If the event occurs in any of the handle regions, start a resize\n\n        if (activeHandle) {\n          return [{\n            mutation: function () {\n              return {\n                parentSVG: parentSVG,\n                isSelecting: true,\n                activeHandle: activeHandle,\n                brushDomain: currentDomain,\n                startPosition: position,\n                activeBrushes: activeBrushes\n              };\n            }\n          }];\n        } else if (withinBound(position, range) && !isEqual(fullDomain, currentDomain)) {\n          // if the event occurs within a selected region start a panning event, unless the whole\n          // domain is selected\n          return [{\n            mutation: function () {\n              return {\n                isPanning: allowDrag,\n                startPosition: position,\n                brushDomain: currentDomain,\n                activeBrushes: activeBrushes,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        } // if the event occurs outside the region, or if the whole domain is selected,\n        // start a new selection\n\n\n        return allowDraw ? [{\n          mutation: function () {\n            return {\n              isSelecting: allowResize,\n              brushDomain: null,\n              startPosition: position,\n              activeBrushes: activeBrushes,\n              parentSVG: parentSVG\n            };\n          }\n        }] : [];\n      },\n      // eslint-disable-next-line max-statements, complexity\n      onMouseMove: function (evt, targetProps) {\n        var isPanning = targetProps.isPanning,\n            isSelecting = targetProps.isSelecting,\n            allowResize = targetProps.allowResize,\n            allowDrag = targetProps.allowDrag,\n            onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain;\n        var dimension = getDimension(targetProps);\n\n        if (isPanning || isSelecting) {\n          evt.preventDefault();\n          evt.stopPropagation();\n        }\n\n        var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n        var position = Selection.getSVGEventCoordinates(evt, parentSVG)[dimension];\n        var fullDomain = getFullDomain(targetProps);\n        var domain = getBrushDomain(brushDomain, fullDomain);\n        var initialRange = toRange(targetProps, domain);\n        var activeHandle = getActiveHandle(targetProps, position, initialRange);\n        var activeBrushes = {\n          brushArea: !targetProps.brushDomain,\n          brush: withinBound(position, initialRange) && !isEqual(fullDomain, domain),\n          minHandle: activeHandle === \"min\" || activeHandle === \"both\",\n          maxHandle: activeHandle === \"max\" || activeHandle === \"both\"\n        };\n\n        if (!targetProps.isPanning && !targetProps.isSelecting) {\n          return [{\n            mutation: function () {\n              return {\n                activeBrushes: activeBrushes,\n                brushDomain: targetProps.brushDomain,\n                parentSVG: parentSVG\n              };\n            }\n          }];\n        }\n\n        if (allowDrag && isPanning) {\n          var fullRange = getFullRange(targetProps);\n          var range = panBox(targetProps, position);\n          var currentDomain = toDomain(targetProps, range);\n          var startPosition = Math.max.apply(Math, _toConsumableArray(range)) >= Math.max.apply(Math, _toConsumableArray(fullRange)) || Math.min.apply(Math, _toConsumableArray(range)) <= Math.min.apply(Math, _toConsumableArray(fullRange)) ? targetProps.startPosition : position;\n          var mutatedProps = {\n            startPosition: startPosition,\n            isPanning: true,\n            brushDomain: currentDomain,\n            activeBrushes: {\n              brush: true\n            },\n            parentSVG: parentSVG\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return mutatedProps;\n            }\n          }];\n        } else if (allowResize && isSelecting) {\n          var _currentDomain = brushDomain || getMinimumDomain();\n\n          var _range = toRange(targetProps, _currentDomain);\n\n          var oppositeHandle = targetProps.activeHandle === \"min\" ? \"max\" : \"min\";\n          var handle = targetProps.activeHandle && getActiveHandle(targetProps, position, _range) === \"both\" ? oppositeHandle : targetProps.activeHandle;\n\n          if (!handle) {\n            _currentDomain = toDomain(targetProps, [targetProps.startPosition, position]);\n          } else {\n            var rangeMax = dimension === \"x\" ? Math.max.apply(Math, _toConsumableArray(_range)) : Math.min.apply(Math, _toConsumableArray(_range));\n            var rangeMin = dimension === \"x\" ? Math.min.apply(Math, _toConsumableArray(_range)) : Math.max.apply(Math, _toConsumableArray(_range));\n            var min = handle === \"max\" ? rangeMin : position;\n            var max = handle === \"min\" ? rangeMax : position;\n            _currentDomain = toDomain(targetProps, [min, max]);\n          }\n\n          var _mutatedProps = {\n            brushDomain: _currentDomain,\n            startPosition: targetProps.startPosition,\n            isSelecting: isSelecting,\n            activeHandle: handle,\n            parentSVG: parentSVG,\n            activeBrushes: {\n              brush: true,\n              minHandle: activeHandle === \"min\",\n              maxHandle: activeHandle === \"max\"\n            }\n          };\n\n          if (_isFunction(onBrushDomainChange)) {\n            onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n          }\n\n          return [{\n            mutation: function () {\n              return _mutatedProps;\n            }\n          }];\n        }\n\n        return [];\n      },\n      onMouseUp: function (evt, targetProps) {\n        var onBrushDomainChange = targetProps.onBrushDomainChange,\n            brushDomain = targetProps.brushDomain,\n            allowResize = targetProps.allowResize,\n            activeBrushes = targetProps.activeBrushes; // if the mouse hasn't moved since a mouseDown event, select the whole domain region\n\n        var mutatedProps = {\n          isPanning: false,\n          isSelecting: false,\n          activeHandle: null,\n          startPosition: null,\n          brushDomain: brushDomain,\n          activeBrushes: activeBrushes\n        };\n\n        if (allowResize && _isFunction(onBrushDomainChange)) {\n          onBrushDomainChange(brushDomain, _defaults({}, mutatedProps, targetProps));\n        }\n\n        return [{\n          mutation: function () {\n            return mutatedProps;\n          }\n        }];\n      },\n      onMouseLeave: function (evt, targetProps) {\n        var brushDomain = targetProps.brushDomain;\n        return [{\n          mutation: function () {\n            return {\n              isPanning: false,\n              isSelecting: false,\n              activeHandle: null,\n              startPosition: null,\n              brushDomain: brushDomain,\n              activeBrushes: {}\n            };\n          }\n        }];\n      }\n    }\n  }];\n};"]},"metadata":{},"sourceType":"module"}