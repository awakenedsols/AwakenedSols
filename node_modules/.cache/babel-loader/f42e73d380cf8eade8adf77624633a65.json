{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, markType, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Array_$type, enumGetBox, EnumUtil, typeGetValue, Number_$type, String_$type, fromEnum, typeCast, Date_$type, markDep, runOn, TypeRegistrar } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataAbbreviationMode_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { FontInfo } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty, stringEmpty } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { LegendItemBadgeShape_$type } from \"igniteui-react-core\";\nimport { Control } from \"igniteui-react-core\";\nimport { IDataLegend_$type } from \"igniteui-react-core\";\nimport { IOnDemandRender_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { DataLegendValueMode_$type } from \"igniteui-react-core\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { DataLegendHeaderDateMode_$type } from \"igniteui-react-core\";\nimport { DataLegendHeaderTimeMode_$type } from \"igniteui-react-core\";\nimport { DataLegendSummaryType_$type } from \"igniteui-react-core\";\nimport { DataLegendUnitsMode_$type } from \"igniteui-react-core\";\nimport { DataLegendLabelMode_$type } from \"igniteui-react-core\";\nimport { BindingFormatter } from \"igniteui-react-core\";\nimport { DataLegendVisualData } from \"./DataLegendVisualData\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DataLegendVisualDataRow } from \"./DataLegendVisualDataRow\";\nimport { DataLegendVisualDataColumn } from \"./DataLegendVisualDataColumn\";\nimport { IDataLegendSeries_$type } from \"igniteui-react-core\";\nimport { RectData } from \"igniteui-react-core\";\nimport { AppearanceHelper } from \"igniteui-react-core\";\nimport { FrameworkElement } from \"igniteui-react-core\";\nimport { DataLegendSummaryEventArgs } from \"./DataLegendSummaryEventArgs\";\nimport { DataLegendSummaryCalculationTotal } from \"./DataLegendSummaryCalculationTotal\";\nimport { DataLegendSummaryCalculationAverage } from \"./DataLegendSummaryCalculationAverage\";\nimport { DataLegendSummaryCalculationMin } from \"./DataLegendSummaryCalculationMin\";\nimport { DataLegendSummaryCalculationMax } from \"./DataLegendSummaryCalculationMax\";\nimport { DataLegendSummaryCalculationEmpty } from \"./DataLegendSummaryCalculationEmpty\";\nimport { DataLegendStylingRowEventArgs } from \"./DataLegendStylingRowEventArgs\";\nimport { DataLegendStylingColumnEventArgs } from \"./DataLegendStylingColumnEventArgs\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { DataLegendColumn } from \"./DataLegendColumn\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { DataLegendRenderContext } from \"./DataLegendRenderContext\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSummaryColumn } from \"igniteui-react-core\";\nimport { DataLegendSeriesGroup_$type } from \"igniteui-react-core\";\nimport { DataAbbreviator } from \"./DataAbbreviator\";\nimport { NumberFormatSpecifier } from \"igniteui-react-core\";\nimport { DateTimeFormatSpecifier } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, truncate } from \"igniteui-react-core\";\nimport { numberToString2 } from \"igniteui-react-core\";\nimport { EventProxy } from \"igniteui-react-core\";\nimport { Tuple$2 } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DataTemplatePassInfo } from \"igniteui-react-core\";\nimport { DataTemplateMeasureInfo } from \"igniteui-react-core\";\nimport { DataTemplateRenderInfo } from \"igniteui-react-core\";\nimport { FontDefaults } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar DataLegendContent =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendContent, _super);\n\n  function DataLegendContent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.a = new List$1(DataLegendRowInfo.$, 0);\n    _this.d = 0;\n    _this.c = 0;\n    return _this;\n  }\n\n  Object.defineProperty(DataLegendContent.prototype, \"b\", {\n    get: function () {\n      return this.a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DataLegendContent.prototype.f = function () {\n    this.b.clear();\n  };\n\n  DataLegendContent.prototype.e = function (a) {\n    this.b.add(a);\n  };\n\n  DataLegendContent.$t = markType(DataLegendContent, 'DataLegendContent');\n  return DataLegendContent;\n}(Base);\n\nexport { DataLegendContent };\n/**\n * @hidden\n */\n\nvar DataLegendRowBase =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowBase, _super);\n\n  function DataLegendRowBase(a, b, c, d) {\n    var _this = _super.call(this) || this;\n\n    _this.e = 0;\n    _this.b = false;\n    _this.d = false;\n    _this.a = false;\n    _this.c = false;\n    _this.e = d;\n    _this.d = b;\n    _this.a = c;\n    _this.c = !c && !b;\n    _this.b = true;\n    return _this;\n  }\n\n  DataLegendRowBase.$t = markType(DataLegendRowBase, 'DataLegendRowBase');\n  return DataLegendRowBase;\n}(Base);\n\nexport { DataLegendRowBase };\n/**\n * @hidden\n */\n\nvar DataLegendRowCell =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowCell, _super);\n\n  function DataLegendRowCell(a, b, c, d) {\n    var _this = _super.call(this, a, b, c, d) || this;\n\n    _this.s = 0;\n    _this.f = 0;\n    _this.r = 0;\n    _this.v = null;\n    _this.t = null;\n    _this.w = null;\n    _this.u = null;\n    _this.y = null;\n    _this.z = null;\n    _this.aa = null;\n    _this.g = null;\n    _this.i = null;\n    _this.h = null;\n    _this.ak = null;\n    _this.am = null;\n    _this.al = null;\n    _this.af = new Size();\n    _this.aj = new Size();\n    _this.ah = new Size();\n    _this.m = false;\n    _this.j = false;\n    _this.ab = null;\n    _this.ad = null;\n    _this.ac = null;\n    _this.ae = new Size();\n    _this.ai = new Size();\n    _this.ag = new Size();\n    _this.r = NaN;\n    _this.ak = new Thickness(0, 0);\n    _this.am = new Thickness(0, 0);\n    _this.al = new Thickness(0, 0);\n    _this.af = new Size(1, 0, 0);\n    _this.aj = new Size(1, 0, 0);\n    _this.ah = new Size(1, 0, 0);\n    _this.m = true;\n    _this.j = true;\n\n    if (_this.c) {\n      _this.y = a.br();\n      _this.aa = a.bt();\n      _this.z = a.bs();\n      _this.g = a.j();\n      _this.i = a.n();\n      _this.h = a.m();\n    } else if (_this.d) {\n      var e = a.bq();\n      var f = a.k();\n      _this.y = e;\n      _this.aa = e;\n      _this.z = e;\n      _this.g = f;\n      _this.i = f;\n      _this.h = f;\n    } else {\n      var g = a.bo();\n      var h = a.i();\n      _this.y = g;\n      _this.aa = g;\n      _this.z = g;\n      _this.g = h;\n      _this.i = h;\n      _this.h = h;\n    }\n\n    _this.ab = Rect.empty;\n    _this.ad = Rect.empty;\n    _this.ac = Rect.empty;\n    return _this;\n  }\n\n  DataLegendRowCell.prototype.k = function () {\n    return this.af.width > 0 && this.af.height > 0;\n  };\n\n  DataLegendRowCell.prototype.n = function () {\n    return this.ah.width > 0 && this.ah.height > 0;\n  };\n\n  DataLegendRowCell.prototype.p = function () {\n    return this.aj.width > 0 && this.aj.height > 0;\n  };\n\n  DataLegendRowCell.prototype.l = function () {\n    return this.t != null;\n  };\n\n  DataLegendRowCell.prototype.o = function () {\n    return this.u != null;\n  };\n\n  DataLegendRowCell.prototype.q = function () {\n    return !stringIsNullOrEmpty(this.w) && this.aj.width > 0 && this.aj.height > 0;\n  };\n\n  DataLegendRowCell.prototype.x = function () {\n    this.ae = new Size(1, 0, 0);\n    this.ai = new Size(1, 0, 0);\n    this.ag = new Size(1, 0, 0);\n  };\n\n  DataLegendRowCell.$t = markType(DataLegendRowCell, 'DataLegendRowCell', DataLegendRowBase.$);\n  return DataLegendRowCell;\n}(DataLegendRowBase);\n\nexport { DataLegendRowCell };\n/**\n * @hidden\n */\n\nvar DataLegendRowInfo =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowInfo, _super);\n\n  function DataLegendRowInfo(a, b, c, d) {\n    var _this = _super.call(this, a, b, c, d) || this;\n\n    _this.k = null;\n    _this.j = false;\n    _this.m = null;\n    _this.f = null;\n    _this.g = null;\n    _this.n = null;\n    _this.q = null;\n    _this.i = null;\n    _this.p = null;\n    _this.t = new Size();\n    _this.l = null;\n    _this.h = 0;\n    _this.w = null;\n    _this.v = null;\n    _this.x = null;\n    _this.u = new Size();\n    _this.r = null;\n    _this.s = null;\n    _this.f = new Array(0);\n    _this.k = new List$1(DataLegendRowCell.$, 0);\n    _this.j = _this.c;\n    _this.w = new Thickness(0, 0);\n    _this.v = new Thickness(0, 0);\n    _this.x = new Thickness(0, 0);\n    _this.t = new Size(1, 0, 0);\n    _this.u = new Size(1, 0, 0);\n\n    if (_this.c) {\n      _this.q = a.br();\n      _this.i = a.l();\n    } else if (_this.d) {\n      var e = a.bq();\n      var f = a.k();\n      _this.q = e;\n      _this.i = f;\n    } else {\n      var g = a.bo();\n      var h = a.i();\n      _this.q = g;\n      _this.i = h;\n    }\n\n    _this.s = Rect.empty;\n    _this.r = Rect.empty;\n    _this.h = 7;\n    return _this;\n  }\n\n  DataLegendRowInfo.prototype.o = function (a) {\n    if (this.k == null) {\n      return;\n    }\n\n    for (var b = 0; b < this.k.count; b++) {\n      a(this.k._inner[b]);\n    }\n  };\n\n  DataLegendRowInfo.$t = markType(DataLegendRowInfo, 'DataLegendRowInfo', DataLegendRowBase.$);\n  return DataLegendRowInfo;\n}(DataLegendRowBase);\n\nexport { DataLegendRowInfo };\n/**\n * @hidden\n */\n\nvar XamDataLegend =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamDataLegend, _super);\n\n  function XamDataLegend() {\n    var _this = _super.call(this) || this;\n\n    _this.bw = false;\n    _this.ch = NaN;\n    _this.ci = NaN;\n    _this.cj = 1;\n    _this.bx = false;\n    _this.bj = null;\n    _this.bb = null;\n    _this.be = null;\n    _this.bg = null;\n    _this.bd = null;\n    _this.bf = null;\n    _this.a7 = null;\n    _this.bi = null;\n    _this.bh = null;\n    _this.bc = null;\n    _this.ck = NaN;\n    _this.calculateColumnSummary = null;\n    _this.styleHeaderRow = null;\n    _this.styleSeriesRow = null;\n    _this.styleSummaryRow = null;\n    _this.styleSeriesColumn = null;\n    _this.styleSummaryColumn = null;\n    _this.propertyChanged = null;\n    _this.b8 = null;\n    _this.b7 = null;\n    _this.ca = null;\n    _this.b9 = null;\n    _this.a5 = null;\n    _this.ib = null;\n    _this._externalObject = null;\n    _this.bu = false;\n    _this.bv = false;\n    _this.ao = new DataLegendContent();\n    _this.cc = null;\n    _this.cd = new List$1(DataLegendSeriesContext.$, 0);\n    _this.b6 = new Dictionary$2(Number_$type, DataLegendColumn.$, 0);\n    _this.cr = 0;\n    _this.ak = null;\n    _this.al = null;\n    _this.cx = \"\";\n    _this.ai = null;\n    _this.aj = null;\n    _this.ib = Rect.empty;\n    _this.bx = true;\n    _this.ab = XamDataLegend.$;\n    _this.a5 = _this.a4();\n    return _this;\n  }\n\n  Object.defineProperty(XamDataLegend.prototype, \"cl\", {\n    get: function () {\n      return this.ch;\n    },\n    set: function (a) {\n      var b = this.ch;\n      this.ch = a;\n\n      if (b != this.ch) {\n        this.fx(\"ActualCursorPositionX\", b, this.ch);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"cm\", {\n    get: function () {\n      return this.ci;\n    },\n    set: function (a) {\n      var b = this.ci;\n      this.ci = a;\n\n      if (b != this.ci) {\n        this.fx(\"ActualCursorPositionY\", b, this.ci);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"cn\", {\n    get: function () {\n      return this.cj;\n    },\n    set: function (a) {\n      var b = this.cj;\n      this.cj = a;\n      this.fx(\"ActualPixelScalingRatio\", b, this.cj);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bt\", {\n    get: function () {\n      return this.bj;\n    },\n    set: function (a) {\n      var b = this.bj;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bj = a;\n\n      if (b != this.bj) {\n        this.fx(\"ValueTextStyle\", b, this.bj);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bl\", {\n    get: function () {\n      return this.bb;\n    },\n    set: function (a) {\n      var b = this.bb;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bb = a;\n\n      if (b != this.bb) {\n        this.fx(\"HeaderTextStyle\", b, this.bb);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bo\", {\n    get: function () {\n      return this.be;\n    },\n    set: function (a) {\n      var b = this.be;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.be = a;\n\n      if (b != this.be) {\n        this.fx(\"SummaryTitleTextStyle\", b, this.be);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bq\", {\n    get: function () {\n      return this.bg;\n    },\n    set: function (a) {\n      var b = this.bg;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bg = a;\n\n      if (b != this.bg) {\n        this.fx(\"SummaryValueTextStyle\", b, this.bg);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bn\", {\n    get: function () {\n      return this.bd;\n    },\n    set: function (a) {\n      var b = this.bd;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bd = a;\n\n      if (b != this.bd) {\n        this.fx(\"SummaryLabelTextStyle\", b, this.bd);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bp\", {\n    get: function () {\n      return this.bf;\n    },\n    set: function (a) {\n      var b = this.bf;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bf = a;\n\n      if (b != this.bf) {\n        this.fx(\"SummaryUnitsTextStyle\", b, this.bf);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bs\", {\n    get: function () {\n      return this.bi;\n    },\n    set: function (a) {\n      var b = this.bi;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bi = a;\n\n      if (b != this.bi) {\n        this.fx(\"UnitsTextStyle\", b, this.bi);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"br\", {\n    get: function () {\n      return this.bh;\n    },\n    set: function (a) {\n      var b = this.bh;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bh = a;\n\n      if (b != this.bh) {\n        this.fx(\"TitleTextStyle\", b, this.bh);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bm\", {\n    get: function () {\n      return this.bc;\n    },\n    set: function (a) {\n      var b = this.bc;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bc = a;\n\n      if (b != this.bc) {\n        this.fx(\"LabelTextStyle\", b, this.bc);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"pixelScalingRatio\", {\n    get: function () {\n      return this.ck;\n    },\n    set: function (a) {\n      var b = this.ck;\n      this.ck = a;\n      this.fx(\"PixelScalingRatio\", b, this.ck);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.exportSerializedVisualData = function () {\n    var a = this.exportVisualData();\n    return a.serialize();\n  };\n\n  XamDataLegend.prototype.cp = function (a, b) {\n    var c = Math.max(b.left, a);\n    var d = Math.max(b.right, a);\n    var e = Math.max(b.right, a);\n    return Math.min(b.top, a);\n  };\n\n  XamDataLegend.prototype.co = function (a, b) {\n    return Math.min(b.left, a);\n  };\n\n  XamDataLegend.prototype.ia = function (a, b) {\n    var c = Rect.l_op_Equality(a, null) || a.isEmpty || !Extensions.b(a);\n    var d = Rect.l_op_Equality(b, null) || b.isEmpty || !Extensions.b(b);\n\n    if (c) {\n      return b;\n    }\n\n    if (d) {\n      return a;\n    }\n\n    if (c && c) {\n      return Rect.empty;\n    }\n\n    var e = Math.min(a.top, b.top);\n    var f = Math.min(a.left, b.left);\n    var g = Math.max(a.right, b.right);\n    var h = Math.max(a.bottom, b.bottom);\n    return new Rect(0, f, e, g - f, h - e);\n  };\n\n  XamDataLegend.prototype.exportVisualData = function () {\n    var e_1, _a;\n\n    var a = new DataLegendVisualData();\n    a.width = this.ao.d;\n    a.height = this.ao.c;\n\n    if (this.a5 == null) {\n      return a;\n    }\n\n    var b = -1;\n    var c = -1;\n    var d = -1;\n    var e = -1;\n    var f = this.a5.ab;\n    var g = this.a5.z;\n    var h = this.a5.ad;\n    var i = this.a5.ac;\n\n    if (f.count < this.ao.b.count) {\n      return a;\n    }\n\n    if (Rect.l_op_Equality(this.ib, null) || this.ib.isEmpty) {\n      a.viewport = null;\n    } else {\n      a.viewport = new RectData(0, 0, this.ib.width, this.ib.height);\n    }\n\n    for (var j = 0; j < this.ao.b.count; j++) {\n      var k = this.ao.b._inner[j];\n      var l = new DataLegendVisualDataRow();\n      l.seriesIndex = k.e;\n      l.rowMarginTop = k.w.top;\n      l.rowMarginBottom = k.w.bottom;\n      l.rowMarginRight = k.w.right;\n      l.rowMarginLeft = k.w.left;\n      var m = Rect.empty;\n\n      if (k.b) {\n        if (Extensions.b(k.s) && f.count > b + 1) {\n          b++;\n          var n = f._inner[b];\n          var o = this.bk(n, k.i);\n          var p = new DataLegendVisualDataColumn();\n          p.bounds = RectData.b(k.s);\n          p.text = n.al;\n          p.textColor = AppearanceHelper.b(k.q);\n          p.marginTop = k.x.top;\n          p.marginLeft = k.x.left;\n          p.marginRight = k.x.right;\n          p.marginBottom = k.x.bottom;\n          this.f7(p, o);\n          l.columns.add(p);\n          m = this.ia(m, k.s);\n        }\n\n        try {\n          for (var _b = (e_1 = void 0, __values(fromEnum(k.k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var q = _c.value;\n\n            if (Extensions.b(q.ab) && g.count > c + 1) {\n              c++;\n              var r = g._inner[c];\n              var s = this.bk(r, q.g);\n              var t = new DataLegendVisualDataColumn();\n              t.bounds = RectData.b(q.ab);\n              t.text = r.al;\n              t.textColor = AppearanceHelper.b(q.y);\n              t.marginTop = q.ak.top;\n              t.marginLeft = q.ak.left;\n              t.marginRight = q.ak.right;\n              t.marginBottom = q.ak.bottom;\n              this.f7(t, s);\n              l.columns.add(t);\n              m = this.ia(m, q.ab);\n            }\n\n            if (Extensions.b(q.ad) && h.count > d + 1) {\n              d++;\n              var u = h._inner[d];\n              var v = this.bk(u, q.i);\n              var w = new DataLegendVisualDataColumn();\n              w.bounds = RectData.b(q.ad);\n              w.text = u.al;\n              w.textColor = AppearanceHelper.b(q.aa);\n              w.marginTop = q.am.top;\n              w.marginLeft = q.am.left;\n              w.marginRight = q.am.right;\n              w.marginBottom = q.am.bottom;\n              this.f7(w, v);\n              l.columns.add(w);\n              m = this.ia(m, q.ad);\n            }\n\n            if (Extensions.b(q.ac) && i.count > e + 1) {\n              e++;\n              var x = i._inner[e];\n              var y = this.bk(x, q.h);\n              var z = new DataLegendVisualDataColumn();\n              z.bounds = RectData.b(q.ac);\n              z.text = q.m ? q.u : null;\n              z.textColor = AppearanceHelper.b(q.z);\n              z.marginTop = q.al.top;\n              z.marginLeft = q.al.left;\n              z.marginRight = q.al.right;\n              z.marginBottom = q.al.bottom;\n              this.f7(z, y);\n              l.columns.add(z);\n              m = this.ia(m, q.ac);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n\n        if (k.j) {\n          m = this.ia(m, k.r);\n          l.badgeBounds = RectData.b(k.r);\n          l.badgeMarginTop = k.v.top;\n          l.badgeMarginBottom = k.v.bottom;\n          l.badgeMarginRight = k.v.right;\n          l.badgeMarginLeft = k.v.left;\n\n          if (k.e >= 0 && k.e < this.cc.count) {\n            var aa = this.cc._inner[k.e];\n            l.badgeShape = aa.getDataLegendBadgeShapeAndMarker();\n          } else {\n            l.badgeShape = \"None\";\n          }\n        }\n\n        l.rowBounds = RectData.b(m);\n      }\n\n      a.rows.add(l);\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.f7 = function (a, b) {\n    if (b != null) {\n      if (b.n != null) {\n        a.fontFamily = b.n;\n      }\n\n      if (!isNaN_(b.d)) {\n        a.fontSize = b.d;\n      }\n\n      a.fontWeight = stringIsNullOrEmpty(b.s) ? \"Normal\" : b.s;\n      a.fontStyle = stringIsNullOrEmpty(b.q) ? \"Normal\" : b.q;\n\n      if (b.o != null) {\n        a.fontStretch = b.q;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.bk = function (a, b) {\n    var c = a.dataContext;\n\n    if (c != null) {\n      b = a.dataContext;\n    }\n\n    if (b == null || stringIsNullOrEmpty(b.fontString)) {\n      return b;\n    } else {\n      return FontUtil.toFontInfo(this.a5.ah, b.fontString);\n    }\n  };\n\n  XamDataLegend.prototype.a0 = function (a) {\n    if (this.calculateColumnSummary != null) {\n      var b = new DataLegendSummaryEventArgs(a.a, a.d);\n      b.summaryValue = a.c;\n      this.calculateColumnSummary(this, b);\n      a.c = b.summaryValue;\n      a.f = b.summaryUnits;\n      a.e = b.summaryLabel;\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.a6 = function () {\n    switch (this.a1) {\n      case 0:\n      case 1:\n        return new DataLegendSummaryCalculationTotal();\n\n      case 2:\n        return new DataLegendSummaryCalculationAverage();\n\n      case 3:\n        return new DataLegendSummaryCalculationMin();\n\n      case 4:\n        return new DataLegendSummaryCalculationMax();\n\n      case 5:\n        return new DataLegendSummaryCalculationEmpty();\n\n      default:\n        return new DataLegendSummaryCalculationEmpty();\n    }\n  };\n\n  XamDataLegend.prototype.gb = function (a) {\n    if (this.styleSummaryRow != null) {\n      var b = this.ay(a);\n      this.styleSummaryRow(this, b);\n      this.f8(a, b);\n    }\n\n    if (a.b && a.k != null && this.styleSummaryColumn != null) {\n      for (var c = 0; c < a.k.count; c++) {\n        var d = this.ax(a.k._inner[c]);\n        d.d = a.e;\n        d.f = a.m;\n        d.c = c;\n        this.styleSummaryColumn(this, d);\n        this.gc(a.k._inner[c], d);\n      }\n    }\n  };\n\n  XamDataLegend.prototype.ga = function (a) {\n    if (this.styleSeriesRow != null) {\n      var b = this.ay(a);\n      this.styleSeriesRow(this, b);\n      this.f8(a, b);\n    }\n\n    if (a.b && a.k != null && this.styleSeriesColumn != null) {\n      for (var c = 0; c < a.k.count; c++) {\n        var d = this.ax(a.k._inner[c]);\n        d.d = a.e;\n        d.f = a.m;\n        d.c = c;\n        this.styleSeriesColumn(this, d);\n        this.gc(a.k._inner[c], d);\n      }\n    }\n  };\n\n  XamDataLegend.prototype.f9 = function (a) {\n    if (this.styleHeaderRow != null) {\n      var b = this.ay(a);\n      this.styleHeaderRow(this, b);\n      this.f8(a, b);\n    }\n  };\n\n  XamDataLegend.prototype.ay = function (a) {\n    var b = new DataLegendStylingRowEventArgs();\n    b.f = a.n;\n    b.g = a.q;\n    b.a = a.h;\n    b.b = a.j;\n    b.c = a.b;\n    b.d = a.e;\n    b.e = a.m;\n    return b;\n  };\n\n  XamDataLegend.prototype.f8 = function (a, b) {\n    a.n = b.f;\n    a.q = b.g;\n    a.h = b.a;\n    a.j = b.b;\n    a.b = b.c;\n  };\n\n  XamDataLegend.prototype.ax = function (a) {\n    var b = new DataLegendStylingColumnEventArgs();\n    b.e = a.t;\n    b.j = a.y;\n    b.g = a.u;\n    b.k = a.z;\n    b.i = a.w;\n    b.l = a.aa;\n    b.b = a.r;\n    b.h = a.v;\n    b.a = a.f;\n    return b;\n  };\n\n  XamDataLegend.prototype.gc = function (a, b) {\n    a.y = b.j;\n    a.t = b.e;\n    a.j = !stringIsNullOrEmpty(a.t);\n    a.u = b.g;\n    a.z = b.k;\n    a.m = !stringIsNullOrEmpty(a.u);\n    a.w = b.i;\n    a.aa = b.l;\n  };\n\n  XamDataLegend.prototype.f0 = function (a, b, c) {\n    var _this = this;\n\n    switch (a) {\n      case XamDataLegend.$$p[19]:\n        this.bx = c;\n        break;\n\n      case XamDataLegend.$$p[15]:\n      case XamDataLegend.$$p[3]:\n        this.gg();\n        break;\n\n      case XamDataLegend.$$p[14]:\n      case XamDataLegend.$$p[2]:\n        this.gf();\n        break;\n\n      case XamDataLegend.$$p[32]:\n        var d = c;\n        var e = b;\n        this.fy(e, d);\n        break;\n\n      case XamDataLegend.$$p[30]:\n        if (this.b0(this.targetCursorPositionX)) {\n          this.cl = this.targetCursorPositionX;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[31]:\n        if (this.b0(this.targetCursorPositionY)) {\n          this.cm = this.targetCursorPositionY;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[46]:\n      case XamDataLegend.$$p[45]:\n        if (!stringIsNullOrEmpty(this.e5)) {\n          this.ak = function () {\n            var $ret = new BindingFormatter();\n            $ret.j = _this.e5;\n            $ret.d = _this.ah;\n            return $ret;\n          }();\n        } else {\n          this.ak = null;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[7]:\n      case XamDataLegend.$$p[6]:\n        if (!stringIsNullOrEmpty(this.dc)) {\n          this.ai = function () {\n            var $ret = new BindingFormatter();\n            $ret.j = _this.dc;\n            $ret.d = _this.ag;\n            return $ret;\n          }();\n        } else {\n          this.ai = null;\n        }\n\n        break;\n\n      case \"PixelScalingRatio\":\n        if (isNaN_(this.cn)) {\n          this.a5.au();\n        } else {\n          this.cn = this.pixelScalingRatio;\n        }\n\n        break;\n\n      case \"ActualPixelScalingRatio\":\n        this.a5.a5(c);\n        break;\n    }\n\n    this.f2();\n  };\n\n  XamDataLegend.prototype.fx = function (a, b, c) {\n    this.f0(a, b, c);\n\n    if (this.propertyChanged != null) {\n      this.propertyChanged(this, new PropertyChangedEventArgs(a));\n    }\n  };\n\n  XamDataLegend.prototype.fy = function (a, b) {\n    this.a7 = b;\n\n    if (a != null) {\n      a.detachDataLegend(this);\n    }\n\n    if (b != null) {\n      b.attachDataLegend(this);\n\n      if (isNaN_(this.targetCursorPositionX)) {\n        this.cl = 1;\n      }\n\n      if (isNaN_(this.targetCursorPositionY)) {\n        this.cm = 0.5;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.gg = function () {\n    this.ca = this.cb(this.includedSeries);\n    this.b9 = this.cb(this.excludedSeries);\n  };\n\n  XamDataLegend.prototype.gf = function () {\n    var e_2, _a, e_3, _b;\n\n    this.b8 = this.cb(this.includedColumns);\n    this.b7 = this.cb(this.excludedColumns);\n\n    if (this.b8 != null) {\n      var a = new List$1(String_$type, 1, this.b8.keys);\n\n      try {\n        for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var b = _d.value;\n          var c = b + \":\";\n          var d = this.b8.item(b);\n\n          if (!this.b8.containsKey(c)) {\n            this.b8.addItem(c, d);\n          }\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      this.fg(this.b8);\n    }\n\n    if (this.b7 != null) {\n      var e = new List$1(String_$type, 1, this.b7.keys);\n\n      try {\n        for (var _e = __values(fromEnum(e)), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var f = _f.value;\n          var g = f + \":\";\n          var h = this.b7.item(f);\n\n          if (!this.b7.containsKey(g)) {\n            this.b7.addItem(g, h);\n          }\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n\n      this.fg(this.b7);\n    }\n  };\n\n  XamDataLegend.prototype.fg = function (a) {\n    var e_4, _a;\n\n    var b = new List$1(String_$type, 1, a.keys);\n\n    try {\n      for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var c = _c.value;\n        var d = a.item(c);\n        var e = c.toLowerCase();\n\n        if (!a.containsKey(e)) {\n          a.addItem(e, d);\n        }\n\n        var f = c.toUpperCase();\n\n        if (!a.containsKey(f)) {\n          a.addItem(f, d);\n        }\n\n        if (c.length > 0) {\n          var g = f.substr(0, 1) + e.substr(1);\n\n          if (!a.containsKey(g)) {\n            a.addItem(g, d);\n          }\n        }\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.cb = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = new Dictionary$2(String_$type, Number_$type, 0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c];\n\n      if (!stringIsNullOrEmpty(d) && !b.containsKey(d.trim())) {\n        b.addItem(d.trim(), b.count);\n      }\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.b0 = function (a) {\n    return a >= 0 && a <= 1;\n  };\n\n  XamDataLegend.prototype.notifyCursorPositionChanged = function (a) {\n    var b = !isNaN_(this.targetCursorPositionX) || !isNaN_(this.targetCursorPositionY);\n    var c = !isNaN_(a.x) && this.b0(a.x);\n    var d = !isNaN_(a.y) && this.b0(a.y);\n\n    if (!b && c && d) {\n      this.cl = a.x;\n      this.cm = a.y;\n    }\n  };\n\n  XamDataLegend.prototype.notifySizeChanged = function () {\n    this.a5.a3();\n  };\n\n  XamDataLegend.prototype.notifyVisualPropertiesChanged = function (a) {};\n\n  XamDataLegend.prototype.notifySeriesCollectionChanged = function () {\n    this.f2();\n  };\n\n  XamDataLegend.prototype.notifySeriesDataChanged = function () {\n    if (this.bx) {\n      this.f2();\n    }\n  };\n\n  XamDataLegend.prototype.updatePropertyByName = function (a, b) {\n    switch (a) {\n      case XamDataLegend.$$p[15]:\n        this.includedSeries = b;\n        break;\n\n      case XamDataLegend.$$p[3]:\n        this.excludedSeries = b;\n        break;\n\n      case XamDataLegend.$$p[14]:\n        this.includedColumns = b;\n        break;\n\n      case XamDataLegend.$$p[2]:\n        this.excludedColumns = b;\n        break;\n\n      case XamDataLegend.$$p[39]:\n        this.an = EnumUtil.getEnumValue(DataAbbreviationMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[42]:\n        this.ct = typeGetValue(b);\n        break;\n\n      case XamDataLegend.$$p[43]:\n        this.cu = typeGetValue(b);\n        break;\n\n      case XamDataLegend.$$p[44]:\n        this.a3 = EnumUtil.getEnumValue(DataLegendValueMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[40]:\n        this.ex = b;\n        break;\n\n      case XamDataLegend.$$p[47]:\n        this.b3 = b;\n        break;\n\n      case XamDataLegend.$$p[46]:\n        this.e5 = b;\n        break;\n\n      case XamDataLegend.$$p[45]:\n        this.ah = b;\n        break;\n\n      case XamDataLegend.$$p[48]:\n        this.ir = b;\n        break;\n\n      case XamDataLegend.$$p[49]:\n        this.b4 = b;\n        break;\n\n      case XamDataLegend.$$p[53]:\n        this.fe = b;\n        break;\n\n      case XamDataLegend.$$p[52]:\n        this.b5 = b;\n        break;\n\n      case XamDataLegend.$$p[51]:\n        this.is = b;\n        break;\n\n      case XamDataLegend.$$p[50]:\n        this.h9 = b;\n        break;\n\n      case \"ValueTextStyle\":\n        this.bt = b;\n        break;\n\n      case XamDataLegend.$$p[7]:\n        this.dc = b;\n        break;\n\n      case XamDataLegend.$$p[6]:\n        this.ag = b;\n        break;\n\n      case XamDataLegend.$$p[4]:\n        this.c8 = b;\n        break;\n\n      case XamDataLegend.$$p[5]:\n        this.ap = EnumUtil.getEnumValue(DataLegendHeaderDateMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[8]:\n        this.aq = EnumUtil.getEnumValue(DataLegendHeaderTimeMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[13]:\n        this.dh = b;\n        break;\n\n      case XamDataLegend.$$p[11]:\n        this.h0 = b;\n        break;\n\n      case XamDataLegend.$$p[12]:\n        this.ij = b;\n        break;\n\n      case XamDataLegend.$$p[9]:\n        this.ii = b;\n        break;\n\n      case XamDataLegend.$$p[10]:\n        this.bz = b;\n        break;\n\n      case \"HeaderTextStyle\":\n        this.bl = b;\n        break;\n\n      case XamDataLegend.$$p[23]:\n        this.h4 = b;\n        break;\n\n      case \"SummaryTitleTextStyle\":\n        this.bo = b;\n        break;\n\n      case XamDataLegend.$$p[26]:\n        this.a1 = EnumUtil.getEnumValue(DataLegendSummaryType_$type, b);\n        break;\n\n      case XamDataLegend.$$p[25]:\n        this.d8 = b;\n        break;\n\n      case XamDataLegend.$$p[24]:\n        this.im = b;\n        break;\n\n      case XamDataLegend.$$p[22]:\n        this.il = b;\n        break;\n\n      case XamDataLegend.$$p[29]:\n        this.h6 = b;\n        break;\n\n      case \"SummaryValueTextStyle\":\n        this.bq = b;\n        break;\n\n      case XamDataLegend.$$p[21]:\n        this.d3 = b;\n        break;\n\n      case XamDataLegend.$$p[20]:\n        this.h3 = b;\n        break;\n\n      case \"SummaryLabelTextStyle\":\n        this.bn = b;\n        break;\n\n      case XamDataLegend.$$p[28]:\n        this.ee = b;\n        break;\n\n      case XamDataLegend.$$p[27]:\n        this.h5 = b;\n        break;\n\n      case \"SummaryUnitsTextStyle\":\n        this.bp = b;\n        break;\n\n      case XamDataLegend.$$p[0]:\n        this.ih = b;\n        break;\n\n      case XamDataLegend.$$p[1]:\n        this.a8 = EnumUtil.getEnumValue(LegendItemBadgeShape_$type, b);\n        break;\n\n      case XamDataLegend.$$p[35]:\n        this.a2 = EnumUtil.getEnumValue(DataLegendUnitsMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[38]:\n        this.er = b;\n        break;\n\n      case XamDataLegend.$$p[36]:\n        this.h8 = b;\n        break;\n\n      case XamDataLegend.$$p[37]:\n        this.ip = b;\n        break;\n\n      case \"UnitsTextStyle\":\n        this.bs = b;\n        break;\n\n      case XamDataLegend.$$p[34]:\n        this.io = b;\n        break;\n\n      case XamDataLegend.$$p[33]:\n        this.h7 = b;\n        break;\n\n      case \"TitleTextStyle\":\n        this.br = b;\n        break;\n\n      case XamDataLegend.$$p[16]:\n        this.ar = EnumUtil.getEnumValue(DataLegendLabelMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[17]:\n        this.h1 = b;\n        break;\n\n      case XamDataLegend.$$p[18]:\n        this.ik = b;\n        break;\n\n      case \"LabelTextStyle\":\n        this.bm = b;\n        break;\n    }\n  };\n\n  XamDataLegend.prototype.a4 = function () {\n    return new DataLegendView(this);\n  };\n\n  XamDataLegend.prototype.destroy = function () {\n    this.provideContainer(null);\n  };\n\n  Object.defineProperty(XamDataLegend.prototype, \"externalObject\", {\n    get: function () {\n      return this._externalObject;\n    },\n    set: function (a) {\n      this._externalObject = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.flush = function () {\n    this.a5.ar();\n  };\n\n  XamDataLegend.prototype.onAttachedToUI = function () {\n    this.a5.a1();\n  };\n\n  XamDataLegend.prototype.onDetachedFromUI = function () {\n    this.a5.a4();\n  };\n\n  XamDataLegend.prototype.provideContainer = function (a) {\n    this.a5.a2(a);\n  };\n\n  XamDataLegend.prototype.f2 = function () {\n    if (this.bu) {\n      return;\n    }\n\n    this.bu = this.a5.w();\n  };\n\n  Object.defineProperty(XamDataLegend.prototype, \"shouldOnDemandRender\", {\n    get: function () {\n      return this.bv;\n    },\n    set: function (a) {\n      this.bv = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.doRender = function (a, b) {\n    if (this.ib.isEmpty) {\n      var c = this.getDesiredSize();\n      this.ib = new Rect(0, 0, 0, c.width, c.height);\n    }\n\n    this.f3(this.ao, true);\n    this.a5.a7(a, b);\n  };\n\n  XamDataLegend.prototype.ensureUpdated = function () {\n    var a = this.getDesiredSize();\n  };\n\n  XamDataLegend.prototype.fp = function () {\n    if (!this.bu) {\n      if (this.ao == null) {\n        this.f2();\n      } else {\n        return;\n      }\n    }\n\n    this.ge();\n  };\n\n  XamDataLegend.prototype.getDesiredSize = function () {\n    this.fp();\n\n    if (this.ao == null) {\n      return new Size(1, 0, 0);\n    }\n\n    return new Size(1, this.ao.d, this.ao.c);\n  };\n\n  XamDataLegend.prototype.ge = function () {\n    if (this.a7 == null) {\n      this.fm();\n      return;\n    }\n\n    var a = this.a7;\n    var b = a.getDataLegendSeries();\n    var c = this.cf(b);\n    this.fr(c);\n  };\n\n  XamDataLegend.prototype.cf = function (a) {\n    var e_5, _a;\n\n    var b = new Dictionary$2(Number_$type, IDataLegendSeries_$type, 0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c].title == null ? null : a[c].title.toString();\n      var e = this.ca == null || this.ca.containsKey(a[c].dataLegendKey) || this.ca.containsKey(a[c].index.toString()) || this.ca.containsKey(d);\n      var f = this.b9 != null && (this.b9.containsKey(a[c].dataLegendKey) || this.b9.containsKey(a[c].index.toString()) || this.b9.containsKey(d));\n\n      if (a[c].isValueOverlay && (!e || this.ca == null)) {\n        continue;\n      }\n\n      if (e && !f) {\n        var g = this.cs(a[c]);\n        b.addItem(g, a[c]);\n      }\n    }\n\n    var h = new List$1(Number_$type, 1, b.keys);\n    h.y();\n    var i = new List$1(IDataLegendSeries_$type, 0);\n\n    try {\n      for (var _b = __values(fromEnum(h)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var j = _c.value;\n        i.add(b.item(j));\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    return i;\n  };\n\n  XamDataLegend.prototype.cs = function (a) {\n    if (this.ca == null) {\n      return a.index;\n    }\n\n    var b = a.dataLegendKey;\n\n    if (this.ca.containsKey(b)) {\n      return this.ca.item(b);\n    }\n\n    var c = a.index.toString();\n\n    if (this.ca.containsKey(c)) {\n      return this.ca.item(c);\n    }\n\n    var d = a.title == null ? null : a.title.toString();\n\n    if (this.ca.containsKey(d)) {\n      return this.ca.item(d);\n    }\n\n    return a.index;\n  };\n\n  XamDataLegend.prototype.fo = function () {\n    this.bu = false;\n    var a = new Size(1, 0, 0);\n\n    if (this.ao != null) {\n      a = new Size(1, this.ao.d, this.ao.c);\n    }\n\n    this.ge();\n    var b = new Size(1, 0, 0);\n\n    if (this.ao != null) {\n      b = new Size(1, this.ao.d, this.ao.c);\n    }\n\n    if (!a.equals(b)) {\n      this.a5.am(b.width, b.height);\n    }\n\n    this.f3(this.ao, this.bv);\n  };\n\n  XamDataLegend.prototype.fs = function (message_) {};\n\n  XamDataLegend.prototype.f3 = function (a, b) {\n    var c = new DataLegendRenderContext();\n\n    for (var d = 0; d < a.b.count; d++) {\n      var e = a.b._inner[d];\n      this.f5(a, e, c);\n    }\n\n    this.a5.p.count = c.b;\n    this.a5.q.count = c.c;\n    this.a5.s.count = c.e;\n    this.a5.r.count = c.d;\n    this.a5.o.count = c.a;\n\n    if (!b) {\n      this.a5.aq(a);\n    }\n  };\n\n  XamDataLegend.prototype.f5 = function (a, b, c) {\n    var e_6, _a;\n\n    if (b.t.width > 0 && b.t.height > 0 && !b.a && !b.d && b.j) {\n      var d = this.a5.p.item(c.b);\n      c.b += 1;\n      this.f4(d, a, b, c);\n    }\n\n    this.a5.a9();\n\n    if (!b.s.isEmpty && b.s.width > 0 && b.s.height > 0) {\n      var e = this.a5.q.item(c.c);\n      c.c += 1;\n      this.f6(e, b.n, b.q, b.i, b.s);\n    }\n\n    try {\n      for (var _b = __values(fromEnum(b.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var f = _c.value;\n\n        if (!f.ad.isEmpty && f.q()) {\n          var g = this.a5.s.item(c.e);\n          c.e += 1;\n          this.f6(g, f.w, f.aa, f.i, f.ad);\n        }\n\n        if (!f.ac.isEmpty && f.o() && f.m) {\n          var h = this.a5.r.item(c.d);\n          c.d += 1;\n          this.f6(h, f.u, f.z, f.h, f.ac);\n        }\n\n        if (!f.ab.isEmpty && f.l() && f.j) {\n          var i = this.a5.o.item(c.a);\n          c.a += 1;\n          this.f6(i, f.t, f.y, f.g, f.ab);\n        }\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    this.a5.an();\n  };\n\n  XamDataLegend.prototype.f6 = function (a, b, c, d, e) {\n    a.al = b;\n    this.a5.a8(a, e.left, e.top);\n    this.a5.ao(a, d);\n    this.a5.ap(a, d);\n    a.ao = c;\n  };\n\n  XamDataLegend.prototype.f4 = function (a, b, c, d) {\n    a.ah = c.p;\n    a.content = c.l;\n    a.width = c.t.width;\n    a.height = c.t.height;\n    this.a5.a8(a, c.r.left, c.r.top);\n  };\n\n  XamDataLegend.prototype.fr = function (a) {\n    var e_7, _a;\n\n    if (this.by()) {\n      this.ao.f();\n      this.cc = a;\n      this.cd.clear();\n      this.cr = 0;\n      this.b6.clear();\n    } else {\n      return;\n    }\n\n    for (var b = 0; b < a.count; b++) {\n      var c = a._inner[b];\n      var d = b;\n      var e = typeCast(DataLegendSeriesContext.$, c.getDataLegendSeriesContextAt(this.cl, this.cm));\n\n      if (e != null) {\n        var f = new List$1(DataLegendSeriesValueInfo.$, 0);\n\n        for (var g = 0; g < e.f.count; g++) {\n          var h = e.f._inner[g];\n          var i = this.b8 == null || this.b8.containsKey(h.p) || this.b8.containsKey(h.q) || this.b8.containsKey(\"ALL\");\n          var j = this.b7 != null && (this.b7.containsKey(h.p) || this.b7.containsKey(h.q) || this.b7.containsKey(\"ALL\"));\n          var k = this.b8 == null && this.b7 == null && h.k;\n\n          if (i && !j && !k) {\n            h.o = f.count;\n            f.add(h);\n\n            if (!this.b6.containsKey(h.o)) {\n              this.b6.addItem(h.o, new DataLegendColumn());\n            }\n\n            this.b6.item(h.o).i = h.o;\n            this.b6.item(h.o).d.q(d, h.r);\n            this.b6.item(h.o).b.q(d, h.q);\n            this.b6.item(h.o).e.q(d, h.l);\n            this.b6.item(h.o).c.q(d, h);\n            this.b6.item(h.o).h.add(d);\n          }\n        }\n\n        e.f = f;\n        this.cd.add(e);\n        this.cr = Math.max(this.cr, e.f.count);\n      }\n    }\n\n    try {\n      for (var _b = __values(fromEnum(this.b6.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var l = _c.value;\n        l.f.clear();\n        l.a.clear();\n        var m = l.e.p(l.h);\n        var n = this.ce(m);\n\n        for (var o = 0; o < n.count; o++) {\n          var p = n._inner[o];\n          var q = l.h._inner[o];\n          l.a.q(q, p);\n          var r = l.c.item(q);\n          var s = this.d1(p, r);\n          l.f.q(q, s);\n          var t = !stringIsNullOrEmpty(p.l);\n\n          if (t) {\n            l.g = true;\n          }\n        }\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n\n    this.fh(this.ao, a);\n\n    for (var u = 0; u < a.count; u++) {\n      this.gd(a._inner[u], this.a8);\n      this.fi(this.ao, a._inner[u], u);\n    }\n\n    this.fj(this.ao, a);\n    this.bw = this.b1();\n    this.fl(this.ao);\n  };\n\n  XamDataLegend.prototype.b1 = function () {\n    var a = false;\n\n    for (var b = 0; b < this.ao.b.count; b++) {\n      var c = this.ao.b._inner[b];\n\n      if (c.c && c.j && c.h != 7) {\n        a = true;\n        break;\n      }\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.fl = function (a) {\n    var e_8, _a;\n\n    var b = 0;\n    var c = 0;\n\n    for (var d = 0; d < a.b.count; d++) {\n      var e = a.b._inner[d];\n      this.ft(e);\n    }\n\n    var f = 0;\n    var g = new Size(1, 0, 0);\n    var h = new Size(1, 0, 0);\n    var i = new Dictionary$2(Number_$type, Size.$, 0);\n    var j = new Dictionary$2(Number_$type, Size.$, 0);\n    var k = new Dictionary$2(Number_$type, Size.$, 0);\n\n    try {\n      for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var l = _c.value;\n\n        for (var m = 0; m < l.k.count; m++) {\n          var n = l.k._inner[m];\n\n          if (!i.containsKey(m)) {\n            i.addItem(m, new Size(1, 0, 0));\n          }\n\n          i.item(m, this.ig(i.item(m), n.aj, n.am));\n\n          if (!j.containsKey(m)) {\n            j.addItem(m, new Size(1, 0, 0));\n          }\n\n          j.item(m, this.ig(j.item(m), n.ah, n.al));\n\n          if (!k.containsKey(m)) {\n            k.addItem(m, new Size(1, 0, 0));\n          }\n\n          k.item(m, this.ig(k.item(m), n.af, n.ak));\n        }\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    for (var o = 0; o < a.b.count; o++) {\n      var p = a.b._inner[o];\n      h = this.ie(h, p.t, p.v);\n      g = this.ig(g, p.u, p.x);\n\n      for (var q = 0; q < p.k.count; q++) {\n        p.k._inner[q].ai = i.item(q);\n        p.k._inner[q].ag = j.item(q);\n        p.k._inner[q].ae = k.item(q);\n      }\n\n      if (p.d) {\n        var r = p.u.width + p.x.left + p.x.right;\n        f = Math.max(f, r + p.w.left);\n      } else if (p.c) {\n        var s = p.u.width + p.x.left + p.x.right;\n        var t = p.t.width + p.v.left + p.v.right;\n        f = Math.max(f, s + p.w.left + t);\n      }\n    }\n\n    var u = 0;\n    var v = 0;\n\n    for (var w = 0; w < a.b.count; w++) {\n      var x = a.b._inner[w];\n      var y = this.ic(v, x, f, g, h);\n      v = y.height;\n      u = Math.max(u, y.width);\n    }\n\n    c = v;\n    b = u;\n    a.d = b;\n    a.c = c;\n  };\n\n  XamDataLegend.prototype.ie = function (a, b, c) {\n    return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n  };\n\n  XamDataLegend.prototype.ig = function (a, b, c) {\n    return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n  };\n\n  XamDataLegend.prototype.ic = function (a, b, c, d, e) {\n    var e_9, _a, e_10, _b;\n\n    var f = 0;\n    var g = 0;\n    g = Math.max(b.t.height, g);\n    g = Math.max(b.u.height, g);\n\n    try {\n      for (var _c = __values(fromEnum(b.k)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var h = _d.value;\n        g = Math.max(h.aj.height, g);\n\n        if (h.m) {\n          g = Math.max(h.ah.height, g);\n        }\n\n        if (h.j) {\n          g = Math.max(h.af.height, g);\n        }\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    f += b.w.left;\n    a += b.w.top;\n\n    if (!b.a && !b.d && this.bw) {\n      f += b.v.left;\n      var i = 0;\n\n      if (g > b.t.height) {\n        i = (g - b.t.height) / 2;\n      }\n\n      b.r = new Rect(0, f, a + i, b.t.width, b.t.height);\n      f += b.r.width + b.v.right;\n    } else {\n      b.r = new Rect(0, 0, 0, 0, 0);\n    }\n\n    f += b.x.left;\n    var j = 0;\n\n    if (g > b.u.height) {\n      j = (g - b.u.height) / 2;\n    }\n\n    b.s = new Rect(0, f, a + j, b.u.width + b.x.right, b.u.height);\n    f = Math.max(c, b.s.right);\n\n    try {\n      for (var _e = __values(fromEnum(b.k)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var k = _f.value;\n        var l = \" C=\" + k.s + \" SR=\" + numberToString2(f, \"000\");\n\n        if (k.l() && k.j && k.ae.width > 0) {\n          var m = 0;\n\n          if (g > k.af.height) {\n            m = (g - k.af.height) / 2;\n          }\n\n          k.ab = new Rect(0, f + k.ak.left, a + m, k.af.width, k.af.height);\n          f += k.ae.width;\n          l += \" label L=\" + numberToString2(k.ab.left, \"000\") + \" R=\" + numberToString2(k.ab.right, \"000\");\n        }\n\n        if (k.q()) {\n          l += \" v MW=\" + numberToString2(k.ai.width, \"000\");\n          f += k.am.left;\n          f += k.ai.width - (k.aj.width + k.am.right);\n          var n = 0;\n\n          if (g > k.aj.height) {\n            n = (g - k.aj.height) / 2;\n          }\n\n          k.ad = new Rect(0, f, a + n, k.aj.width, k.aj.height);\n          l += \" v ML=\" + numberToString2(k.am.left, \"00\") + \" MR=\" + numberToString2(k.am.right, \"00\");\n          l += \" v BL=\" + numberToString2(k.ad.left, \"000\") + \" BR=\" + numberToString2(k.ad.right, \"000\");\n          f += k.ad.width;\n          f += k.am.right;\n        }\n\n        if (k.o() && k.m && k.ag.width > 0) {\n          var o = 0;\n\n          if (g > k.ah.height) {\n            o = (g - k.ah.height) / 2;\n          }\n\n          k.ac = new Rect(0, f + k.al.left, a + o, k.ah.width, k.ah.height);\n          f += k.ag.width;\n          l += \" unit L=\" + numberToString2(k.ac.left, \"000\") + \" R=\" + numberToString2(k.ac.right, \"000\");\n        }\n\n        this.fs(\"maxRight \" + numberToString2(c, \"0\") + l);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n\n    f += b.w.right;\n    a += g;\n    a += b.w.bottom;\n    return new Size(1, f, a);\n  };\n\n  XamDataLegend.prototype.ft = function (a) {\n    var e_11, _a;\n\n    a.u = a.n == null ? new Size(1, 0, 0) : this.a5.bu(a.n, a.i);\n\n    try {\n      for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        b.aj = b.w == null ? new Size(1, 0, 0) : this.a5.bu(b.w, b.i);\n        b.ah = b.u == null ? new Size(1, 0, 0) : this.a5.bu(b.u, b.h);\n        b.af = b.t == null ? new Size(1, 0, 0) : this.a5.bu(b.t, b.g);\n      }\n    } catch (e_11_1) {\n      e_11 = {\n        error: e_11_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_11) throw e_11.error;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.d0 = function (a, b, c, d) {\n    if (this.a2 == 2) {\n      return null;\n    }\n\n    var e = \"\";\n\n    if (stringIsNullOrEmpty(this.er)) {\n      e = b;\n    } else {\n      e = this.er;\n    }\n\n    if (d) {\n      if (stringIsNullOrEmpty(e)) {\n        e = c;\n      } else {\n        e = c + e;\n      }\n    }\n\n    var f = this.b6.item(a).d;\n    var g = this.b6.item(a).g;\n\n    if (g && stringIsNullOrEmpty(e)) {\n      e = \" \";\n    } else if (f.count > 0 && stringIsNullOrEmpty(e)) {\n      e = \" \";\n    } else if (!d) {\n      return null;\n    }\n\n    return e;\n  };\n\n  XamDataLegend.prototype.dx = function (a, b, c) {\n    if (this.ar == 2) {\n      return null;\n    }\n\n    var d = this.cr > 1;\n    var e = this.ar == 1;\n    var f = this.b6.item(a).b.count > 0;\n\n    if (f && (d || e)) {\n      if (stringIsNullOrEmpty(b)) {\n        return \" \";\n      } else if (c) {\n        return b;\n      }\n    }\n\n    return null;\n  };\n\n  XamDataLegend.prototype.fj = function (a, b) {\n    var e_12, _a, e_13, _b;\n\n    if (this.a1 == 5) {\n      return;\n    }\n\n    if (b == null || b.count <= 1) {\n      return;\n    }\n\n    var c = new Dictionary$2(Number_$type, DataLegendSummaryColumn.$, 0);\n    var d = 0;\n    var e = new List$1(DataLegendSeriesGroup_$type, 0);\n\n    try {\n      for (var _c = __values(fromEnum(this.cd)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var f = _d.value;\n        d = Math.max(d, f.f.count);\n\n        if (!e.contains(f.b)) {\n          e.add(f.b);\n        }\n\n        for (var g = 0; g < f.f.count; g++) {\n          var h = f.f._inner[g];\n\n          if (!c.containsKey(g)) {\n            c.addItem(g, new DataLegendSummaryColumn());\n          }\n\n          var i = c.item(g);\n          i.n = h.n;\n          i.m = h.m;\n          i.e = h.e;\n          i.h = h.h;\n          i.f = h.f;\n          i.f = h.g;\n          i.d = h.d;\n          i.x = h.x;\n          i.ai(h.l);\n          i.ag(h.q);\n          i.ah(h.r);\n\n          if (stringIsNullOrEmpty(i.t)) {\n            i.t = h.t;\n          }\n\n          if (stringIsNullOrEmpty(i.u)) {\n            i.u = h.u;\n          }\n\n          if (stringIsNullOrEmpty(i.v)) {\n            i.v = h.v;\n          }\n\n          if (stringIsNullOrEmpty(i.w)) {\n            i.w = h.w;\n          }\n\n          if (stringIsNullOrEmpty(i.p)) {\n            i.p = h.p;\n          }\n        }\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n\n    if (this.a1 == 0) {\n      if (e.count > 1) {\n        return;\n      }\n\n      if (!e.contains(0)) {\n        return;\n      }\n    }\n\n    var j = this.a6();\n    var k = new DataLegendRowInfo(this.a5, true, false, -1);\n    k.n = this.d8 != null ? this.d8 : j.title;\n    k.q = this.h4 || k.q;\n    k.i = this.bo || k.i;\n\n    for (var l = 0; l < d; l++) {\n      var m = c.item(l);\n      var n = j.calculate(m.aa, m.p);\n      n = this.a0(n);\n      var o = this.an;\n      var p = o == 0 || o == 2 || o == 8;\n      var q = -1;\n\n      try {\n        for (var _e = (e_13 = void 0, __values(fromEnum(this.b6.item(l).a.values))), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var r = _f.value;\n\n          if (r.b()) {\n            q = Math.max(q, r.h);\n\n            if (p) {\n              o = r.a;\n            }\n          }\n        }\n      } catch (e_13_1) {\n        e_13 = {\n          error: e_13_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_13) throw e_13.error;\n        }\n      }\n\n      var s = this.cu >= 0 ? this.cu : q;\n      var t = this.ct >= 0 ? this.ct : q;\n      var u = this.am(n.c, o, s, t);\n      u.i = s;\n      u.h = t;\n      var v = this.d1(u, m);\n      var w = new DataLegendRowCell(this.a5, true, false, -1);\n      w.s = k.k.count;\n      w.t = this.dx(w.s, \" \", m.b);\n\n      if (!stringIsNullOrEmpty(this.d3)) {\n        w.t = this.d3;\n      }\n\n      if (n.e != null) {\n        w.t = n.e;\n      }\n\n      w.j = !stringIsNullOrEmpty(w.t);\n      w.y = this.h3 || w.y;\n      w.g = this.bn || w.g;\n      w.w = v;\n      w.i = this.bq || w.i;\n      w.aa = this.h2(this.h6, w.aa, null);\n      w.r = n.c;\n      w.f = u.a;\n      w.v = m.p;\n      var x = m.z.length >= 1 ? m.z[0] : \" \";\n      w.u = this.d0(w.s, x, u.l, m.d);\n\n      if (n.f != null) {\n        w.u = n.f;\n      }\n\n      w.m = !stringIsNullOrEmpty(w.u);\n      w.z = this.h5 || w.z;\n      w.h = this.bp || w.h;\n      k.k.add(w);\n    }\n\n    this.gb(k);\n\n    if (k.b) {\n      this.fk(k);\n      this.fz(k);\n      a.e(k);\n    }\n  };\n\n  XamDataLegend.prototype.am = function (a, b, c, d) {\n    if (b == 8 || b == 0) {\n      b = this.an;\n    }\n\n    if (d < 0) {\n      d = this.ct;\n    }\n\n    if (c < 0) {\n      c = this.cu;\n    }\n\n    return DataAbbreviator.a(a, b, c, d);\n  };\n\n  XamDataLegend.prototype.cq = function (a, b, c, d) {\n    return this.am(a, b, c, d).d;\n  };\n\n  XamDataLegend.prototype.c7 = function (a, b, c, d) {\n    return this.am(a, b, c, d).l;\n  };\n\n  XamDataLegend.prototype.c6 = function (a, b, c, d) {\n    var e = this.am(a, b, c, d);\n    return e.m + e.l;\n  };\n\n  XamDataLegend.prototype.ce = function (a) {\n    var b = this.cu;\n    var c = this.ct;\n    var d = this.an;\n    var e = DataAbbreviator.h(a, d, b, c);\n    return e;\n  };\n\n  XamDataLegend.prototype.cg = function (a) {\n    var b = new List$1(Number_$type, 0);\n\n    if (a < 0) {\n      return b;\n    }\n\n    for (var c = 0; c < this.cd.count; c++) {\n      var d = this.cd._inner[c];\n\n      if (d.f.count > a) {\n        var e = d.f._inner[a].l;\n\n        if (!isNaN_(e)) {\n          b.add(e);\n        }\n      }\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.fk = function (a) {};\n\n  XamDataLegend.prototype.h2 = function (a, b, c) {\n    if (a != null) {\n      return a;\n    }\n\n    if (this.b5 && c != null) {\n      return c;\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.dy = function (a, b) {\n    return stringIsNullOrEmpty(a) ? b : a;\n  };\n\n  XamDataLegend.prototype.d1 = function (a, b) {\n    var c = a.d;\n\n    if (b == null || isNaN_(c) || isInfinity(c)) {\n      return this.fe;\n    }\n\n    var d;\n    var e = b.d ? a.d : a.g;\n\n    if (this.ak != null) {\n      d = this.ak.i(e);\n    } else {\n      var f = this.a3;\n\n      if (f == 0) {\n        f = 1;\n      }\n\n      var g = new NumberFormatSpecifier();\n      g.useGrouping = this.b3;\n      g.locale = this.dy(this.ex, null);\n      g.currencyCode = this.ez;\n\n      if (b.d) {\n        g.minimumFractionDigits = a.i;\n        g.maximumFractionDigits = a.h;\n\n        if (b.n >= 0 && b.n > a.i) {\n          g.minimumFractionDigits = b.n;\n        } else if (this.cu >= 0) {\n          g.minimumFractionDigits = this.cu;\n        }\n\n        if (b.m >= 0 && b.m > a.h) {\n          g.maximumFractionDigits = b.m;\n        } else if (this.ct >= 0) {\n          g.maximumFractionDigits = this.ct;\n        }\n      } else {\n        g.minimumFractionDigits = b.n;\n        g.maximumFractionDigits = b.m;\n      }\n\n      if (g.minimumFractionDigits > g.maximumFractionDigits) {\n        g.maximumFractionDigits = g.minimumFractionDigits;\n      }\n\n      if (f == 2 && b.e) {\n        g.style = \"currency\";\n      }\n\n      if (this.al == null) {\n        this.al = new BindingFormatter();\n      }\n\n      this.al.j = \"{0}\";\n      this.al.d = [g];\n      d = this.al.i(e);\n\n      if (e > 0) {\n        d = b.v + d;\n      } else if (e < 0) {\n        d = b.t + d;\n      }\n\n      if (e >= 0) {\n        d += b.w;\n      } else {\n        d += b.u;\n      }\n    }\n\n    return d;\n  };\n\n  XamDataLegend.prototype.fi = function (a, b, c) {\n    if (this.b4 == false) {\n      return;\n    }\n\n    var d = this.cd._inner[c];\n    var e = this.dz(b);\n    var f = new DataLegendRowInfo(this.a5, false, false, c);\n    f.f = d.a();\n    f.m = e;\n    f.n = e;\n    f.q = this.h7 || f.q;\n    f.i = this.br || f.i;\n\n    for (var g = 0; g < d.f.count; g++) {\n      var h = d.f._inner[g];\n      var i = this.b6.item(g).a.item(c);\n      var j = this.b6.item(g).f.item(c);\n      var k = new DataLegendRowCell(this.a5, false, false, c);\n      k.s = f.k.count;\n      k.i = this.bt || k.i;\n      k.w = j;\n      k.aa = this.h2(this.h9, k.aa, h.x);\n      k.v = h.p;\n      k.r = h.l;\n      k.f = i.a;\n      k.u = this.d0(k.s, h.r, i.l, h.d);\n      k.m = !stringIsNullOrEmpty(k.u);\n      k.z = this.h8 || k.z;\n      k.h = this.bs || k.h;\n      k.t = this.dx(k.s, h.q, h.b);\n      k.j = !stringIsNullOrEmpty(k.t);\n      k.y = this.h1 || k.y;\n      k.g = this.bm || k.g;\n      f.k.add(k);\n    }\n\n    f.h = this.a9(b);\n    this.fk(f);\n    this.fz(f);\n    this.ga(f);\n\n    if (f.b) {\n      if (f.j) {\n        this.gd(b, f.h);\n        var l = this.gh(b);\n        var m = this.cw(b);\n        f.p = l;\n        f.l = m;\n      }\n\n      a.e(f);\n    }\n  };\n\n  XamDataLegend.prototype.cw = function (a) {\n    return a.getDataLegendBadgeContext();\n  };\n\n  XamDataLegend.prototype.a9 = function (a) {\n    if (this.a8 != 0) {\n      return this.a8;\n    }\n\n    return a.legendItemBadgeShape;\n  };\n\n  XamDataLegend.prototype.gd = function (a, b) {\n    if (b == 0) {\n      return;\n    }\n\n    if (a.legendItemBadgeShape != b) {\n      a.legendItemBadgeShape = b;\n    }\n  };\n\n  XamDataLegend.prototype.by = function () {\n    return !isNaN_(this.cl) && !isNaN_(this.cm);\n  };\n\n  XamDataLegend.prototype.gh = function (a) {\n    return a.getDataLegendBadge();\n  };\n\n  XamDataLegend.prototype.dz = function (a) {\n    return a.getDataLegendSeriesTitle();\n  };\n\n  XamDataLegend.prototype.fh = function (a, b) {\n    if (this.bz == false) {\n      return;\n    }\n\n    var c = this.dw(b);\n\n    if (c == null) {\n      c = this.cx;\n    } else {\n      this.cx = c;\n    }\n\n    if (stringIsNullOrEmpty(c)) {\n      return;\n    }\n\n    var d = new DataLegendRowInfo(this.a5, false, true, -1);\n    d.n = c;\n    d.q = this.h0 || d.q;\n    d.i = this.bl || d.i;\n    this.fk(d);\n    this.fz(d);\n    this.f9(d);\n\n    if (d.b) {\n      a.e(d);\n    }\n  };\n\n  XamDataLegend.prototype.iq = function (a) {\n    var b = new Thickness(0, 0);\n\n    if (a.top >= 0) {\n      b.top = a.top;\n    }\n\n    if (a.bottom >= 0) {\n      b.bottom = a.bottom;\n    }\n\n    if (a.left >= 0) {\n      b.left = a.left;\n    }\n\n    if (a.right >= 0) {\n      b.right = a.right;\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.fz = function (a) {\n    var e_14, _a;\n\n    if (a.c) {\n      a.x = this.iq(this.io);\n      a.w = this.iq(this.ir);\n    } else if (a.a) {\n      a.x = this.iq(this.ij);\n      a.w = this.iq(this.ii);\n    } else {\n      a.x = this.iq(this.im);\n      a.w = this.iq(this.il);\n    }\n\n    try {\n      for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        b.am = this.iq(this.is);\n        b.al = this.iq(this.ip);\n        b.ak = this.iq(this.ik);\n      }\n    } catch (e_14_1) {\n      e_14 = {\n        error: e_14_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_14) throw e_14.error;\n      }\n    }\n\n    if (a.c) {\n      a.v = this.iq(this.ih);\n      a.t = new Size(1, 20, 15);\n    }\n  };\n\n  XamDataLegend.prototype.dw = function (a) {\n    if (this.dh != null) {\n      return this.dh;\n    }\n\n    var b = true;\n    var c = null;\n\n    for (var d = 0; d < a.count; d++) {\n      var e = a._inner[d];\n      var f = this.du(e);\n\n      if (f == null) {\n        continue;\n      }\n\n      if (c == null) {\n        c = f;\n      } else {\n        if (!Base.equalsStatic(c, f)) {\n          b = false;\n          break;\n        }\n      }\n    }\n\n    if (b || !stringIsNullOrEmpty(c)) {\n      return c;\n    }\n\n    return null;\n  };\n\n  XamDataLegend.prototype.du = function (a) {\n    if (this.by()) {\n      var b = a.getDataLegendAxisLabelFromCursorPosition(this.cl, this.cm);\n\n      if (typeCast(Date_$type, b) !== null) {\n        var c = b;\n        b = this.dv(c);\n      }\n\n      return b == null ? \"\" : b.toString();\n    } else {\n      return null;\n    }\n  };\n\n  XamDataLegend.prototype.dv = function (a) {\n    if (this.ai != null) {\n      var b = this.ai.i(a);\n      return b;\n    } else {\n      var c = new DateTimeFormatSpecifier();\n      c.dateStyle = \"short\";\n      c.timeStyle = \"full\";\n      var d = this.ap;\n\n      if (d == 0) {\n        d = 1;\n      }\n\n      if (d == 3) {\n        c.dateStyle = \"medium\";\n      }\n\n      if (d == 1) {\n        c.dateStyle = \"short\";\n      }\n\n      if (d == 4) {\n        c.dateStyle = \"full\";\n      }\n\n      if (d == 2) {\n        c.dateStyle = \"long\";\n      }\n\n      if (d == 5) {\n        c.dateStyle = null;\n      }\n\n      var e = this.aq;\n\n      if (e == 0) {\n        e = 1;\n      }\n\n      if (e == 3) {\n        c.timeStyle = \"medium\";\n      }\n\n      if (e == 1) {\n        c.timeStyle = \"short\";\n      }\n\n      if (e == 4) {\n        c.timeStyle = \"full\";\n      }\n\n      if (e == 2) {\n        c.timeStyle = \"long\";\n      }\n\n      if (e == 5) {\n        c.timeStyle = null;\n      }\n\n      c.locale = this.dy(this.c8, \"en-US\");\n\n      if (this.aj == null) {\n        this.aj = new BindingFormatter();\n      }\n\n      this.aj.j = \"{0}\";\n      this.aj.d = [c];\n      var f = this.aj.i(a);\n      return f;\n    }\n  };\n\n  XamDataLegend.prototype.fm = function () {};\n\n  XamDataLegend.$t = markType(XamDataLegend, 'XamDataLegend', Control.$, [INotifyPropertyChanged_$type, IDataLegend_$type, IOnDemandRender_$type]);\n  XamDataLegend.$$p = markDep(DependencyProperty, PropertyMetadata, XamDataLegend, 'fx', ['BadgeMargin:ih:gi', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'BadgeShape:a8:gj', [LegendItemBadgeShape_$type, enumGetBox(LegendItemBadgeShape_$type, 0)], 'ExcludedColumns::gk', [Array_$type, null], 'ExcludedSeries::gl', [Array_$type, null], 'HeaderFormatCulture:c8:gm', [2, stringEmpty()], 'HeaderFormatDate:ap:gn', [DataLegendHeaderDateMode_$type, enumGetBox(DataLegendHeaderDateMode_$type, 0)], 'HeaderFormatSpecifiers:ag:go', [Array_$type, null], 'HeaderFormatString:dc:gp', [2, null], 'HeaderFormatTime:aq:gq', [DataLegendHeaderTimeMode_$type, enumGetBox(DataLegendHeaderTimeMode_$type, 0)], 'HeaderRowMargin:ii:gr', [Thickness.$, new Thickness(0, 5)], 'HeaderRowVisible:bz:gs', [0, true], 'HeaderTextColor:h0:gt', [Brush.$, null], 'HeaderTextMargin:ij:gu', [Thickness.$, new Thickness(1, 2, 0, 0, 0)], 'HeaderText:dh:gv', [2, null], 'IncludedColumns::gw', [Array_$type, null], 'IncludedSeries::gx', [Array_$type, null], 'LabelDisplayMode:ar:gy', [DataLegendLabelMode_$type, enumGetBox(DataLegendLabelMode_$type, 0)], 'LabelTextColor:h1:gz', [Brush.$, null], 'LabelTextMargin:ik:g0', [Thickness.$, new Thickness(1, 12, 0, 0, 0)], 'ShouldUpdateWhenSeriesDataChanges:b2:g1', [0, true], 'SummaryLabelTextColor:h3:g2', [Brush.$, null], 'SummaryLabelText:d3:g3', [2, null], 'SummaryRowMargin:il:g4', [Thickness.$, new Thickness(0, 5)], 'SummaryTitleTextColor:h4:g5', [Brush.$, null], 'SummaryTitleTextMargin:im:g6', [Thickness.$, new Thickness(1, 2, 0, 4, 0)], 'SummaryTitleText:d8:g7', [2, null], 'SummaryType:a1:g8', [DataLegendSummaryType_$type, enumGetBox(DataLegendSummaryType_$type, 0)], 'SummaryUnitsTextColor:h5:g9', [Brush.$, null], 'SummaryUnitsText:ee:ha', [2, null], 'SummaryValueTextColor:h6:hb', [Brush.$, null], 'TargetCursorPositionX::hc', [1, NaN], 'TargetCursorPositionY::hd', [1, NaN], 'Target::he', [4, null], 'TitleTextColor:h7:hf', [Brush.$, null], 'TitleTextMargin:io:hg', [Thickness.$, new Thickness(1, 0, 0, 4, 0)], 'UnitsDisplayMode:a2:hh', [DataLegendUnitsMode_$type, enumGetBox(DataLegendUnitsMode_$type, 0)], 'UnitsTextColor:h8:hi', [Brush.$, null], 'UnitsTextMargin:ip:hj', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'UnitsText:er:hk', [2, null], 'ValueFormatAbbreviation:an:hl', [DataAbbreviationMode_$type, enumGetBox(DataAbbreviationMode_$type, 0)], 'ValueFormatCulture:ex:hm', [2, stringEmpty()], 'ValueFormatCurrencyCode:ez:hn', [2, null], 'ValueFormatMaxFractions:ct:ho', [1, -1], 'ValueFormatMinFractions:cu:hp', [1, -1], 'ValueFormatMode:a3:hq', [DataLegendValueMode_$type, enumGetBox(DataLegendValueMode_$type, 0)], 'ValueFormatSpecifiers:ah:hr', [Array_$type, null], 'ValueFormatString:e5:hs', [2, null], 'ValueFormatUseGrouping:b3:ht', [0, true], 'ValueRowMargin:ir:hu', [Thickness.$, new Thickness(0, 5)], 'ValueRowVisible:b4:hv', [0, true], 'ValueTextColor:h9:hw', [Brush.$, null], 'ValueTextMargin:is:hx', [Thickness.$, new Thickness(1, 2, 0, 2, 0)], 'ValueTextUseSeriesColors:b5:hy', [0, false], 'ValueTextWhenMissingData:fe:hz', [2, \"N/A\"]]);\n  return XamDataLegend;\n}(Control);\n\nexport { XamDataLegend };\n/**\n * @hidden\n */\n\nvar DataLegendView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendView, _super);\n\n  function DataLegendView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.z = null;\n    _this.ab = null;\n    _this.ad = null;\n    _this.ac = null;\n    _this.aa = null;\n    _this.o = null;\n    _this.q = null;\n    _this.s = null;\n    _this.r = null;\n    _this.p = null;\n    _this.a = null;\n    _this.ai = null;\n    _this.ah = null;\n    _this.t = null;\n    _this.b = null;\n    _this.ae = 1;\n    _this.ak = -1;\n    _this.aj = -1;\n    _this.x = new Dictionary$2(FontInfo.$, Tuple$2.$.specialize(Number_$type, FontInfo.$), 0);\n    _this.v = false;\n    _this.y = new List$1(FrameworkElement.$, 0);\n    _this.af = 0;\n    _this.f = null;\n    _this.h = null;\n    _this.g = null;\n    _this.d = null;\n    _this.e = null;\n    _this.c = null;\n    _this.u = null;\n    _this.a = a;\n\n    _this.q = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bl);\n      $ret.activate = runOn(_this, _this.ba);\n      $ret.disactivate = runOn(_this, _this.bc);\n      $ret.destroy = runOn(_this, _this.bb);\n      return $ret;\n    }();\n\n    _this.s = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bn);\n      $ret.activate = runOn(_this, _this.bg);\n      $ret.disactivate = runOn(_this, _this.bi);\n      $ret.destroy = runOn(_this, _this.bh);\n      return $ret;\n    }();\n\n    _this.r = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bm);\n      $ret.activate = runOn(_this, _this.bd);\n      $ret.disactivate = runOn(_this, _this.bf);\n      $ret.destroy = runOn(_this, _this.be);\n      return $ret;\n    }();\n\n    _this.p = function () {\n      var $ret = new Pool$1(ContentControl.$);\n      $ret.create = runOn(_this, _this.bj);\n      $ret.activate = runOn(_this, _this.ay);\n      $ret.disactivate = runOn(_this, _this.a0);\n      $ret.destroy = runOn(_this, _this.az);\n      return $ret;\n    }();\n\n    _this.o = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bk);\n      $ret.activate = runOn(_this, _this.av);\n      $ret.disactivate = runOn(_this, _this.ax);\n      $ret.destroy = runOn(_this, _this.aw);\n      return $ret;\n    }();\n\n    _this.z = new List$1(TextBlock.$, 0);\n    _this.ab = new List$1(TextBlock.$, 0);\n    _this.ad = new List$1(TextBlock.$, 0);\n    _this.ac = new List$1(TextBlock.$, 0);\n    _this.aa = new List$1(ContentControl.$, 0);\n    return _this;\n  }\n\n  DataLegendView.prototype.ar = function () {\n    this.a.fo();\n  };\n\n  DataLegendView.prototype.bl = function () {\n    var a = new TextBlock();\n    this.ab.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.ba = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bc = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.bb = function (a) {\n    this.ab.remove(a);\n  };\n\n  DataLegendView.prototype.bn = function () {\n    var a = new TextBlock();\n    this.ad.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.bg = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bi = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.bh = function (a) {\n    this.ad.remove(a);\n  };\n\n  DataLegendView.prototype.bm = function () {\n    var a = new TextBlock();\n    this.ac.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.bd = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bf = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.be = function (a) {\n    this.ac.remove(a);\n  };\n\n  DataLegendView.prototype.bk = function () {\n    var a = new TextBlock();\n    this.z.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.av = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.ax = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.aw = function (a) {\n    this.z.remove(a);\n  };\n\n  DataLegendView.prototype.bj = function () {\n    var a = new ContentControl();\n    this.aa.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.ay = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.a0 = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.az = function (a) {};\n\n  DataLegendView.prototype.au = function () {\n    var a = this.a.pixelScalingRatio;\n    var b = this.a.cn;\n\n    if (!isNaN_(a) && a != 0) {\n      return;\n    }\n\n    if (window.devicePixelRatio != undefined && window.devicePixelRatio != b) {\n      this.a.cn = window.devicePixelRatio;\n    }\n  };\n\n  DataLegendView.prototype.a3 = function () {\n    this.au();\n    var a = Math.round(this.ah.rootWrapper.width());\n    var b = Math.round(this.ah.rootWrapper.height());\n    this.a.ib = new Rect(0, 0, 0, a, b);\n\n    if (this.b != null) {\n      this.b.bl = this.a.ib;\n    }\n\n    this.a.f2();\n  };\n\n  DataLegendView.prototype.al = function () {\n    if (this.b != null) {\n      this.b.ao = null;\n      this.b.av();\n    }\n  };\n\n  DataLegendView.prototype.a2 = function (a) {\n    if (a == null) {\n      this.ai = null;\n      this.ah = null;\n      this.t = null;\n      this.al();\n      return;\n    }\n\n    this.ae = isNaN_(this.a.pixelScalingRatio) ? this.a.cn : this.a.pixelScalingRatio;\n    var b = a;\n    this.ah = b;\n    var c = this.ae;\n    var d = Math.round(b.rootWrapper.width());\n    var e = Math.round(b.rootWrapper.height());\n    var f = d * c;\n    var g = e * c;\n    this.ah.rootWrapper.setStyleProperty(\"position\", \"relative\");\n    var h = this.ah.createElement(\"canvas\");\n    h.setStyleProperty(\"position\", \"absolute\");\n    this.ah.append(h);\n    this.ak = truncate(Math.round(f));\n    this.aj = truncate(Math.round(g));\n    h.setAttribute(\"width\", f.toString());\n    h.setAttribute(\"height\", g.toString());\n    h.setStyleProperty(\"width\", d.toString() + \"px\");\n    h.setStyleProperty(\"height\", e.toString() + \"px\");\n    this.a.ib = new Rect(0, 0, 0, d, e);\n    this.ai = h;\n    var i = this.ah.get2DCanvasContext(this.ai);\n    this.t = new RenderingContext(new CanvasViewRenderer(), i);\n    this.al();\n\n    if (TypeRegistrar.isRegistered(\"CanvasGestureDOMEventProxy\")) {\n      this.b = typeCast(EventProxy.$, TypeRegistrar.create(\"CanvasGestureDOMEventProxy\", this.ah.rootWrapper, this.ah, false));\n    }\n\n    if (this.b != null) {}\n  };\n\n  DataLegendView.prototype.at = function (a, b) {\n    this.a3();\n  };\n\n  DataLegendView.prototype.as = function (a) {};\n\n  DataLegendView.prototype.a6 = function () {\n    var a = this.a.ib.width;\n    var b = this.a.ib.height;\n    var c = Math.round(a * this.ae);\n    var d = Math.round(b * this.ae);\n\n    if (this.ak != c || this.aj != d) {\n      this.ai.setAttribute(\"width\", c.toString());\n      this.ai.setAttribute(\"height\", d.toString());\n      this.ai.setStyleProperty(\"width\", a.toString() + \"px\");\n      this.ai.setStyleProperty(\"height\", b.toString() + \"px\");\n      this.ak = truncate(Math.round(c));\n      this.aj = truncate(Math.round(d));\n    }\n\n    this.a7(this.t, this.ae);\n  };\n\n  DataLegendView.prototype.a7 = function (a, b) {\n    if (a.d && b != 1) {\n      a.z();\n      a.aa(b, b);\n    }\n\n    if (a == this.t) {\n      a.k(this.a.ib.left, this.a.ib.top, this.a.ib.width, this.a.ib.height);\n    }\n\n    var c = new DataTemplatePassInfo();\n    c.passID = \"LegendItem\";\n\n    for (var d = 0; d < this.aa.count; d++) {\n      var e = this.aa._inner[d];\n\n      if (e == null) {\n        continue;\n      }\n\n      var f = e.ah;\n\n      if (f == null) {\n        continue;\n      }\n\n      var g = new DataTemplateMeasureInfo();\n      g.passInfo = c;\n      g.context = this.t.g();\n      g.width = e.width;\n      g.height = e.height;\n      g.data = e.content;\n      g.renderContext = a;\n      f.measure(g);\n      var h = new DataTemplateRenderInfo();\n      h.availableWidth = e.width;\n      h.availableHeight = e.height;\n      h.passInfo = c;\n      h.context = a.g();\n      h.renderContext = a;\n      h.data = e.content;\n      h.xPosition = e.n;\n      h.yPosition = e.o;\n      a.z();\n      a.af(e.n, e.o);\n      f.render(h);\n      a.y();\n    }\n\n    for (var i = 0; i < this.ab.count; i++) {\n      var j = this.ab._inner[i];\n      a.ac(j.dataContext);\n      a.w(j);\n    }\n\n    for (var k = 0; k < this.z.count; k++) {\n      var l = this.z._inner[k];\n      a.ac(l.dataContext);\n      a.w(l);\n    }\n\n    for (var m = 0; m < this.ad.count; m++) {\n      var n = this.ad._inner[m];\n      a.ac(n.dataContext);\n      a.w(n);\n    }\n\n    for (var o = 0; o < this.ac.count; o++) {\n      var p = this.ac._inner[o];\n      a.ac(p.dataContext);\n      a.w(p);\n    }\n\n    if (a.d && b != 1) {\n      a.y();\n    }\n  };\n\n  DataLegendView.prototype.w = function () {\n    if (this.ah != null) {\n      this.ah.setTimeout(runOn(this.a, this.a.fo), 0);\n      return true;\n    }\n\n    return false;\n  };\n\n  DataLegendView.prototype.bu = function (a, b) {\n    this.t.ac(b);\n    var c = new TextBlock();\n    c.al = a;\n    var d = this.t.ag(c, this.ag(b), true);\n    return new Size(1, d.c, d.b);\n  };\n\n  DataLegendView.prototype.ag = function (a) {\n    if (this.x.containsKey(a)) {\n      var b = this.x.item(a);\n\n      if (b.d.g == a.g) {\n        return b.c;\n      }\n    }\n\n    var c = FontUtil.getCurrentFontHeight(this.ah, a);\n    var d = new Tuple$2(Number_$type, FontInfo.$, c, a);\n    this.x.item(a, d);\n    return c;\n  };\n\n  DataLegendView.prototype.a8 = function (a, b, c) {\n    if (this.v) {\n      this.y.add(a);\n    }\n\n    a.n = b;\n    a.o = c;\n  };\n\n  DataLegendView.prototype.aq = function (a) {\n    this.a6();\n  };\n\n  DataLegendView.prototype.ao = function (a, b) {\n    a.dataContext = b;\n  };\n\n  DataLegendView.prototype.bt = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.br = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bs = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bp = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bq = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bo = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.l = function () {\n    if (this.f == null) {\n      this.f = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.f;\n  };\n\n  DataLegendView.prototype.n = function () {\n    if (this.h == null) {\n      this.h = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.h;\n  };\n\n  DataLegendView.prototype.m = function () {\n    if (this.g == null) {\n      this.g = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.g;\n  };\n\n  DataLegendView.prototype.j = function () {\n    if (this.d == null) {\n      this.d = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.d;\n  };\n\n  DataLegendView.prototype.k = function () {\n    if (this.e == null) {\n      this.e = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.e;\n  };\n\n  DataLegendView.prototype.i = function () {\n    if (this.c == null) {\n      this.c = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendHeaderFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.c;\n  };\n\n  DataLegendView.prototype.am = function (a, b) {\n    var model_ = this.a;\n    var ext_ = model_.externalObject;\n\n    if (ext_ != null) {\n      var width_ = a;\n      var height_ = b;\n      this.ah.rootWrapper.setStyleProperty(\"min-height\", b + \"px\");\n      this.ah.rootWrapper.setStyleProperty(\"min-width\", a + \"px\");\n      this.a.notifySizeChanged();\n    }\n  };\n\n  DataLegendView.prototype.a5 = function (a) {\n    this.ae = a;\n  };\n\n  DataLegendView.prototype.a1 = function () {\n    if (this.b != null) {\n      this.b.at(this.ai, \"\");\n    }\n  };\n\n  DataLegendView.prototype.a4 = function () {\n    if (this.b != null) {\n      this.b.bh(this.ai, \"\");\n    }\n  };\n\n  DataLegendView.prototype.ap = function (a, b) {\n    a.ag = true;\n    var c = this.t.ag(a, this.ag(b), true);\n  };\n\n  DataLegendView.prototype.a9 = function () {\n    this.y.clear();\n    this.v = true;\n    this.af = 0;\n  };\n\n  DataLegendView.prototype.an = function () {\n    for (var a = 0; a < this.y.count; a++) {\n      this.af = Math.max(this.af, this.y._inner[a].ah);\n    }\n\n    if (this.af > 0) {\n      for (var b = 0; b < this.y.count; b++) {\n        this.y._inner[b].ah = this.af;\n      }\n    }\n\n    this.v = false;\n    this.af = 0;\n  };\n\n  DataLegendView.$t = markType(DataLegendView, 'DataLegendView');\n  return DataLegendView;\n}(Base);\n\nexport { DataLegendView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/DataLegendContent_combined.js"],"names":["__extends","__values","Base","markType","INotifyPropertyChanged_$type","PropertyChangedEventArgs","Array_$type","enumGetBox","EnumUtil","typeGetValue","Number_$type","String_$type","fromEnum","typeCast","Date_$type","markDep","runOn","TypeRegistrar","List$1","DataAbbreviationMode_$type","Brush","FontInfo","Thickness","Size","Rect","stringIsNullOrEmpty","stringEmpty","DataLegendSeriesContext","LegendItemBadgeShape_$type","Control","IDataLegend_$type","IOnDemandRender_$type","DependencyProperty","DataLegendValueMode_$type","FontUtil","DataLegendHeaderDateMode_$type","DataLegendHeaderTimeMode_$type","DataLegendSummaryType_$type","DataLegendUnitsMode_$type","DataLegendLabelMode_$type","BindingFormatter","DataLegendVisualData","Extensions","TextBlock","DataLegendVisualDataRow","DataLegendVisualDataColumn","IDataLegendSeries_$type","RectData","AppearanceHelper","FrameworkElement","DataLegendSummaryEventArgs","DataLegendSummaryCalculationTotal","DataLegendSummaryCalculationAverage","DataLegendSummaryCalculationMin","DataLegendSummaryCalculationMax","DataLegendSummaryCalculationEmpty","DataLegendStylingRowEventArgs","DataLegendStylingColumnEventArgs","Dictionary$2","DataLegendColumn","RenderingContext","DataLegendRenderContext","Pool$1","ContentControl","DataLegendSeriesValueInfo","DataLegendSummaryColumn","DataLegendSeriesGroup_$type","DataAbbreviator","NumberFormatSpecifier","DateTimeFormatSpecifier","PropertyMetadata","isNaN_","isInfinity","truncate","numberToString2","EventProxy","Tuple$2","CanvasViewRenderer","DataTemplatePassInfo","DataTemplateMeasureInfo","DataTemplateRenderInfo","FontDefaults","DataLegendContent","_super","_this","apply","arguments","a","DataLegendRowInfo","$","d","c","Object","defineProperty","prototype","get","enumerable","configurable","f","b","clear","e","add","$t","DataLegendRowBase","call","DataLegendRowCell","s","r","v","t","w","u","y","z","aa","g","i","h","ak","am","al","af","aj","ah","m","j","ab","ad","ac","ae","ai","ag","NaN","br","bt","bs","n","bq","k","bo","empty","width","height","p","l","o","q","x","Array","count","_inner","XamDataLegend","bw","ch","ci","cj","bx","bj","bb","be","bg","bd","bf","a7","bi","bh","bc","ck","calculateColumnSummary","styleHeaderRow","styleSeriesRow","styleSummaryRow","styleSeriesColumn","styleSummaryColumn","propertyChanged","b8","b7","ca","b9","a5","ib","_externalObject","bu","bv","ao","cc","cd","b6","cr","cx","a4","set","fx","getFontInfoFromString","exportSerializedVisualData","exportVisualData","serialize","cp","Math","max","left","right","min","top","co","ia","l_op_Equality","isEmpty","bottom","e_1","_a","viewport","seriesIndex","rowMarginTop","rowMarginBottom","rowMarginRight","rowMarginLeft","bk","bounds","text","textColor","marginTop","marginLeft","marginRight","marginBottom","f7","columns","_b","_c","next","done","value","e_1_1","error","return","badgeBounds","badgeMarginTop","badgeMarginBottom","badgeMarginRight","badgeMarginLeft","badgeShape","getDataLegendBadgeShapeAndMarker","rowBounds","rows","fontFamily","fontSize","fontWeight","fontStyle","fontStretch","dataContext","fontString","toFontInfo","a0","summaryValue","summaryUnits","summaryLabel","a6","a1","gb","ay","f8","ax","gc","ga","f9","f0","$$p","gg","gf","fy","b0","targetCursorPositionX","cl","targetCursorPositionY","cm","e5","$ret","dc","cn","au","pixelScalingRatio","f2","detachDataLegend","attachDataLegend","cb","includedSeries","excludedSeries","e_2","e_3","includedColumns","excludedColumns","keys","_d","item","containsKey","addItem","e_2_1","fg","_e","_f","e_3_1","e_4","toLowerCase","toUpperCase","length","substr","e_4_1","trim","notifyCursorPositionChanged","notifySizeChanged","a3","notifyVisualPropertiesChanged","notifySeriesCollectionChanged","notifySeriesDataChanged","updatePropertyByName","an","getEnumValue","ct","cu","ex","b3","ir","b4","fe","b5","is","h9","c8","ap","aq","dh","h0","ij","ii","bz","bl","h4","d8","im","il","h6","d3","h3","bn","ee","h5","bp","ih","a8","a2","er","h8","ip","io","h7","ar","h1","ik","bm","DataLegendView","destroy","provideContainer","flush","onAttachedToUI","onDetachedFromUI","doRender","getDesiredSize","f3","ensureUpdated","fp","ge","fm","getDataLegendSeries","cf","fr","e_5","title","toString","dataLegendKey","index","isValueOverlay","cs","e_5_1","fo","equals","fs","message_","f5","e_6","f4","a9","f6","e_6_1","content","e_7","by","getDataLegendSeriesContextAt","values","ce","d1","e_7_1","fh","gd","fi","fj","b1","fl","e_8","ft","ig","e_8_1","ie","ic","e_9","e_10","e_9_1","e_10_1","e_11","e_11_1","d0","dx","e_12","e_13","contains","e_12_1","calculate","e_13_1","h2","fk","fz","cq","c7","c6","cg","dy","useGrouping","locale","currencyCode","ez","minimumFractionDigits","maximumFractionDigits","style","dz","gh","cw","getDataLegendBadgeContext","legendItemBadgeShape","getDataLegendBadge","getDataLegendSeriesTitle","dw","iq","e_14","e_14_1","du","equalsStatic","getDataLegendAxisLabelFromCursorPosition","dv","dateStyle","timeStyle","specialize","create","activate","ba","disactivate","az","av","aw","_visibility","remove","window","devicePixelRatio","undefined","round","rootWrapper","setStyleProperty","createElement","append","setAttribute","get2DCanvasContext","isRegistered","at","as","passID","passInfo","context","data","renderContext","measure","availableWidth","availableHeight","xPosition","yPosition","render","setTimeout","getCurrentFontHeight","dataLegendFontBrush","dataLegendFontFamily","dataLegendFontSize","dataLegendFontStyle","dataLegendFontWeight","dataLegendFontStretch","dataLegendFontVariant","dataLegendHeaderFontWeight","model_","ext_","externalObject","width_","height_"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, markType, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Array_$type, enumGetBox, EnumUtil, typeGetValue, Number_$type, String_$type, fromEnum, typeCast, Date_$type, markDep, runOn, TypeRegistrar } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataAbbreviationMode_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { FontInfo } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty, stringEmpty } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { LegendItemBadgeShape_$type } from \"igniteui-react-core\";\nimport { Control } from \"igniteui-react-core\";\nimport { IDataLegend_$type } from \"igniteui-react-core\";\nimport { IOnDemandRender_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { DataLegendValueMode_$type } from \"igniteui-react-core\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { DataLegendHeaderDateMode_$type } from \"igniteui-react-core\";\nimport { DataLegendHeaderTimeMode_$type } from \"igniteui-react-core\";\nimport { DataLegendSummaryType_$type } from \"igniteui-react-core\";\nimport { DataLegendUnitsMode_$type } from \"igniteui-react-core\";\nimport { DataLegendLabelMode_$type } from \"igniteui-react-core\";\nimport { BindingFormatter } from \"igniteui-react-core\";\nimport { DataLegendVisualData } from \"./DataLegendVisualData\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DataLegendVisualDataRow } from \"./DataLegendVisualDataRow\";\nimport { DataLegendVisualDataColumn } from \"./DataLegendVisualDataColumn\";\nimport { IDataLegendSeries_$type } from \"igniteui-react-core\";\nimport { RectData } from \"igniteui-react-core\";\nimport { AppearanceHelper } from \"igniteui-react-core\";\nimport { FrameworkElement } from \"igniteui-react-core\";\nimport { DataLegendSummaryEventArgs } from \"./DataLegendSummaryEventArgs\";\nimport { DataLegendSummaryCalculationTotal } from \"./DataLegendSummaryCalculationTotal\";\nimport { DataLegendSummaryCalculationAverage } from \"./DataLegendSummaryCalculationAverage\";\nimport { DataLegendSummaryCalculationMin } from \"./DataLegendSummaryCalculationMin\";\nimport { DataLegendSummaryCalculationMax } from \"./DataLegendSummaryCalculationMax\";\nimport { DataLegendSummaryCalculationEmpty } from \"./DataLegendSummaryCalculationEmpty\";\nimport { DataLegendStylingRowEventArgs } from \"./DataLegendStylingRowEventArgs\";\nimport { DataLegendStylingColumnEventArgs } from \"./DataLegendStylingColumnEventArgs\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { DataLegendColumn } from \"./DataLegendColumn\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { DataLegendRenderContext } from \"./DataLegendRenderContext\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSummaryColumn } from \"igniteui-react-core\";\nimport { DataLegendSeriesGroup_$type } from \"igniteui-react-core\";\nimport { DataAbbreviator } from \"./DataAbbreviator\";\nimport { NumberFormatSpecifier } from \"igniteui-react-core\";\nimport { DateTimeFormatSpecifier } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, truncate } from \"igniteui-react-core\";\nimport { numberToString2 } from \"igniteui-react-core\";\nimport { EventProxy } from \"igniteui-react-core\";\nimport { Tuple$2 } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DataTemplatePassInfo } from \"igniteui-react-core\";\nimport { DataTemplateMeasureInfo } from \"igniteui-react-core\";\nimport { DataTemplateRenderInfo } from \"igniteui-react-core\";\nimport { FontDefaults } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar DataLegendContent = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendContent, _super);\n    function DataLegendContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.a = new List$1(DataLegendRowInfo.$, 0);\n        _this.d = 0;\n        _this.c = 0;\n        return _this;\n    }\n    Object.defineProperty(DataLegendContent.prototype, \"b\", {\n        get: function () {\n            return this.a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DataLegendContent.prototype.f = function () {\n        this.b.clear();\n    };\n    DataLegendContent.prototype.e = function (a) {\n        this.b.add(a);\n    };\n    DataLegendContent.$t = markType(DataLegendContent, 'DataLegendContent');\n    return DataLegendContent;\n}(Base));\nexport { DataLegendContent };\n/**\n * @hidden\n */\nvar DataLegendRowBase = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowBase, _super);\n    function DataLegendRowBase(a, b, c, d) {\n        var _this = _super.call(this) || this;\n        _this.e = 0;\n        _this.b = false;\n        _this.d = false;\n        _this.a = false;\n        _this.c = false;\n        _this.e = d;\n        _this.d = b;\n        _this.a = c;\n        _this.c = !c && !b;\n        _this.b = true;\n        return _this;\n    }\n    DataLegendRowBase.$t = markType(DataLegendRowBase, 'DataLegendRowBase');\n    return DataLegendRowBase;\n}(Base));\nexport { DataLegendRowBase };\n/**\n * @hidden\n */\nvar DataLegendRowCell = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowCell, _super);\n    function DataLegendRowCell(a, b, c, d) {\n        var _this = _super.call(this, a, b, c, d) || this;\n        _this.s = 0;\n        _this.f = 0;\n        _this.r = 0;\n        _this.v = null;\n        _this.t = null;\n        _this.w = null;\n        _this.u = null;\n        _this.y = null;\n        _this.z = null;\n        _this.aa = null;\n        _this.g = null;\n        _this.i = null;\n        _this.h = null;\n        _this.ak = null;\n        _this.am = null;\n        _this.al = null;\n        _this.af = new Size();\n        _this.aj = new Size();\n        _this.ah = new Size();\n        _this.m = false;\n        _this.j = false;\n        _this.ab = null;\n        _this.ad = null;\n        _this.ac = null;\n        _this.ae = new Size();\n        _this.ai = new Size();\n        _this.ag = new Size();\n        _this.r = NaN;\n        _this.ak = new Thickness(0, 0);\n        _this.am = new Thickness(0, 0);\n        _this.al = new Thickness(0, 0);\n        _this.af = new Size(1, 0, 0);\n        _this.aj = new Size(1, 0, 0);\n        _this.ah = new Size(1, 0, 0);\n        _this.m = true;\n        _this.j = true;\n        if (_this.c) {\n            _this.y = a.br();\n            _this.aa = a.bt();\n            _this.z = a.bs();\n            _this.g = a.j();\n            _this.i = a.n();\n            _this.h = a.m();\n        }\n        else if (_this.d) {\n            var e = a.bq();\n            var f = a.k();\n            _this.y = e;\n            _this.aa = e;\n            _this.z = e;\n            _this.g = f;\n            _this.i = f;\n            _this.h = f;\n        }\n        else {\n            var g = a.bo();\n            var h = a.i();\n            _this.y = g;\n            _this.aa = g;\n            _this.z = g;\n            _this.g = h;\n            _this.i = h;\n            _this.h = h;\n        }\n        _this.ab = Rect.empty;\n        _this.ad = Rect.empty;\n        _this.ac = Rect.empty;\n        return _this;\n    }\n    DataLegendRowCell.prototype.k = function () {\n        return this.af.width > 0 && this.af.height > 0;\n    };\n    DataLegendRowCell.prototype.n = function () {\n        return this.ah.width > 0 && this.ah.height > 0;\n    };\n    DataLegendRowCell.prototype.p = function () {\n        return this.aj.width > 0 && this.aj.height > 0;\n    };\n    DataLegendRowCell.prototype.l = function () {\n        return this.t != null;\n    };\n    DataLegendRowCell.prototype.o = function () {\n        return this.u != null;\n    };\n    DataLegendRowCell.prototype.q = function () {\n        return !stringIsNullOrEmpty(this.w) && this.aj.width > 0 && this.aj.height > 0;\n    };\n    DataLegendRowCell.prototype.x = function () {\n        this.ae = new Size(1, 0, 0);\n        this.ai = new Size(1, 0, 0);\n        this.ag = new Size(1, 0, 0);\n    };\n    DataLegendRowCell.$t = markType(DataLegendRowCell, 'DataLegendRowCell', DataLegendRowBase.$);\n    return DataLegendRowCell;\n}(DataLegendRowBase));\nexport { DataLegendRowCell };\n/**\n * @hidden\n */\nvar DataLegendRowInfo = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowInfo, _super);\n    function DataLegendRowInfo(a, b, c, d) {\n        var _this = _super.call(this, a, b, c, d) || this;\n        _this.k = null;\n        _this.j = false;\n        _this.m = null;\n        _this.f = null;\n        _this.g = null;\n        _this.n = null;\n        _this.q = null;\n        _this.i = null;\n        _this.p = null;\n        _this.t = new Size();\n        _this.l = null;\n        _this.h = 0;\n        _this.w = null;\n        _this.v = null;\n        _this.x = null;\n        _this.u = new Size();\n        _this.r = null;\n        _this.s = null;\n        _this.f = new Array(0);\n        _this.k = new List$1(DataLegendRowCell.$, 0);\n        _this.j = _this.c;\n        _this.w = new Thickness(0, 0);\n        _this.v = new Thickness(0, 0);\n        _this.x = new Thickness(0, 0);\n        _this.t = new Size(1, 0, 0);\n        _this.u = new Size(1, 0, 0);\n        if (_this.c) {\n            _this.q = a.br();\n            _this.i = a.l();\n        }\n        else if (_this.d) {\n            var e = a.bq();\n            var f = a.k();\n            _this.q = e;\n            _this.i = f;\n        }\n        else {\n            var g = a.bo();\n            var h = a.i();\n            _this.q = g;\n            _this.i = h;\n        }\n        _this.s = Rect.empty;\n        _this.r = Rect.empty;\n        _this.h = 7;\n        return _this;\n    }\n    DataLegendRowInfo.prototype.o = function (a) {\n        if (this.k == null) {\n            return;\n        }\n        for (var b = 0; b < this.k.count; b++) {\n            a(this.k._inner[b]);\n        }\n    };\n    DataLegendRowInfo.$t = markType(DataLegendRowInfo, 'DataLegendRowInfo', DataLegendRowBase.$);\n    return DataLegendRowInfo;\n}(DataLegendRowBase));\nexport { DataLegendRowInfo };\n/**\n * @hidden\n */\nvar XamDataLegend = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamDataLegend, _super);\n    function XamDataLegend() {\n        var _this = _super.call(this) || this;\n        _this.bw = false;\n        _this.ch = NaN;\n        _this.ci = NaN;\n        _this.cj = 1;\n        _this.bx = false;\n        _this.bj = null;\n        _this.bb = null;\n        _this.be = null;\n        _this.bg = null;\n        _this.bd = null;\n        _this.bf = null;\n        _this.a7 = null;\n        _this.bi = null;\n        _this.bh = null;\n        _this.bc = null;\n        _this.ck = NaN;\n        _this.calculateColumnSummary = null;\n        _this.styleHeaderRow = null;\n        _this.styleSeriesRow = null;\n        _this.styleSummaryRow = null;\n        _this.styleSeriesColumn = null;\n        _this.styleSummaryColumn = null;\n        _this.propertyChanged = null;\n        _this.b8 = null;\n        _this.b7 = null;\n        _this.ca = null;\n        _this.b9 = null;\n        _this.a5 = null;\n        _this.ib = null;\n        _this._externalObject = null;\n        _this.bu = false;\n        _this.bv = false;\n        _this.ao = new DataLegendContent();\n        _this.cc = null;\n        _this.cd = new List$1(DataLegendSeriesContext.$, 0);\n        _this.b6 = new Dictionary$2(Number_$type, DataLegendColumn.$, 0);\n        _this.cr = 0;\n        _this.ak = null;\n        _this.al = null;\n        _this.cx = \"\";\n        _this.ai = null;\n        _this.aj = null;\n        _this.ib = Rect.empty;\n        _this.bx = true;\n        _this.ab = XamDataLegend.$;\n        _this.a5 = _this.a4();\n        return _this;\n    }\n    Object.defineProperty(XamDataLegend.prototype, \"cl\", {\n        get: function () {\n            return this.ch;\n        },\n        set: function (a) {\n            var b = this.ch;\n            this.ch = a;\n            if (b != this.ch) {\n                this.fx(\"ActualCursorPositionX\", b, this.ch);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"cm\", {\n        get: function () {\n            return this.ci;\n        },\n        set: function (a) {\n            var b = this.ci;\n            this.ci = a;\n            if (b != this.ci) {\n                this.fx(\"ActualCursorPositionY\", b, this.ci);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"cn\", {\n        get: function () {\n            return this.cj;\n        },\n        set: function (a) {\n            var b = this.cj;\n            this.cj = a;\n            this.fx(\"ActualPixelScalingRatio\", b, this.cj);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bt\", {\n        get: function () {\n            return this.bj;\n        },\n        set: function (a) {\n            var b = this.bj;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bj = a;\n            if (b != this.bj) {\n                this.fx(\"ValueTextStyle\", b, this.bj);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bl\", {\n        get: function () {\n            return this.bb;\n        },\n        set: function (a) {\n            var b = this.bb;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bb = a;\n            if (b != this.bb) {\n                this.fx(\"HeaderTextStyle\", b, this.bb);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bo\", {\n        get: function () {\n            return this.be;\n        },\n        set: function (a) {\n            var b = this.be;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.be = a;\n            if (b != this.be) {\n                this.fx(\"SummaryTitleTextStyle\", b, this.be);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bq\", {\n        get: function () {\n            return this.bg;\n        },\n        set: function (a) {\n            var b = this.bg;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bg = a;\n            if (b != this.bg) {\n                this.fx(\"SummaryValueTextStyle\", b, this.bg);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bn\", {\n        get: function () {\n            return this.bd;\n        },\n        set: function (a) {\n            var b = this.bd;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bd = a;\n            if (b != this.bd) {\n                this.fx(\"SummaryLabelTextStyle\", b, this.bd);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bp\", {\n        get: function () {\n            return this.bf;\n        },\n        set: function (a) {\n            var b = this.bf;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bf = a;\n            if (b != this.bf) {\n                this.fx(\"SummaryUnitsTextStyle\", b, this.bf);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bs\", {\n        get: function () {\n            return this.bi;\n        },\n        set: function (a) {\n            var b = this.bi;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bi = a;\n            if (b != this.bi) {\n                this.fx(\"UnitsTextStyle\", b, this.bi);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"br\", {\n        get: function () {\n            return this.bh;\n        },\n        set: function (a) {\n            var b = this.bh;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bh = a;\n            if (b != this.bh) {\n                this.fx(\"TitleTextStyle\", b, this.bh);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bm\", {\n        get: function () {\n            return this.bc;\n        },\n        set: function (a) {\n            var b = this.bc;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bc = a;\n            if (b != this.bc) {\n                this.fx(\"LabelTextStyle\", b, this.bc);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"pixelScalingRatio\", {\n        get: function () {\n            return this.ck;\n        },\n        set: function (a) {\n            var b = this.ck;\n            this.ck = a;\n            this.fx(\"PixelScalingRatio\", b, this.ck);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.exportSerializedVisualData = function () {\n        var a = this.exportVisualData();\n        return a.serialize();\n    };\n    XamDataLegend.prototype.cp = function (a, b) {\n        var c = Math.max(b.left, a);\n        var d = Math.max(b.right, a);\n        var e = Math.max(b.right, a);\n        return Math.min(b.top, a);\n    };\n    XamDataLegend.prototype.co = function (a, b) {\n        return Math.min(b.left, a);\n    };\n    XamDataLegend.prototype.ia = function (a, b) {\n        var c = Rect.l_op_Equality(a, null) || a.isEmpty || !Extensions.b(a);\n        var d = Rect.l_op_Equality(b, null) || b.isEmpty || !Extensions.b(b);\n        if (c) {\n            return b;\n        }\n        if (d) {\n            return a;\n        }\n        if (c && c) {\n            return Rect.empty;\n        }\n        var e = Math.min(a.top, b.top);\n        var f = Math.min(a.left, b.left);\n        var g = Math.max(a.right, b.right);\n        var h = Math.max(a.bottom, b.bottom);\n        return new Rect(0, f, e, g - f, h - e);\n    };\n    XamDataLegend.prototype.exportVisualData = function () {\n        var e_1, _a;\n        var a = new DataLegendVisualData();\n        a.width = this.ao.d;\n        a.height = this.ao.c;\n        if (this.a5 == null) {\n            return a;\n        }\n        var b = -1;\n        var c = -1;\n        var d = -1;\n        var e = -1;\n        var f = this.a5.ab;\n        var g = this.a5.z;\n        var h = this.a5.ad;\n        var i = this.a5.ac;\n        if (f.count < this.ao.b.count) {\n            return a;\n        }\n        if (Rect.l_op_Equality(this.ib, null) || this.ib.isEmpty) {\n            a.viewport = null;\n        }\n        else {\n            a.viewport = new RectData(0, 0, this.ib.width, this.ib.height);\n        }\n        for (var j = 0; j < this.ao.b.count; j++) {\n            var k = this.ao.b._inner[j];\n            var l = new DataLegendVisualDataRow();\n            l.seriesIndex = k.e;\n            l.rowMarginTop = k.w.top;\n            l.rowMarginBottom = k.w.bottom;\n            l.rowMarginRight = k.w.right;\n            l.rowMarginLeft = k.w.left;\n            var m = Rect.empty;\n            if (k.b) {\n                if (Extensions.b(k.s) && f.count > (b + 1)) {\n                    b++;\n                    var n = f._inner[b];\n                    var o = this.bk(n, k.i);\n                    var p = new DataLegendVisualDataColumn();\n                    p.bounds = RectData.b(k.s);\n                    p.text = n.al;\n                    p.textColor = AppearanceHelper.b(k.q);\n                    p.marginTop = k.x.top;\n                    p.marginLeft = k.x.left;\n                    p.marginRight = k.x.right;\n                    p.marginBottom = k.x.bottom;\n                    this.f7(p, o);\n                    l.columns.add(p);\n                    m = this.ia(m, k.s);\n                }\n                try {\n                    for (var _b = (e_1 = void 0, __values(fromEnum(k.k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var q = _c.value;\n                        if (Extensions.b(q.ab) && g.count > (c + 1)) {\n                            c++;\n                            var r = g._inner[c];\n                            var s = this.bk(r, q.g);\n                            var t = new DataLegendVisualDataColumn();\n                            t.bounds = RectData.b(q.ab);\n                            t.text = r.al;\n                            t.textColor = AppearanceHelper.b(q.y);\n                            t.marginTop = q.ak.top;\n                            t.marginLeft = q.ak.left;\n                            t.marginRight = q.ak.right;\n                            t.marginBottom = q.ak.bottom;\n                            this.f7(t, s);\n                            l.columns.add(t);\n                            m = this.ia(m, q.ab);\n                        }\n                        if (Extensions.b(q.ad) && h.count > (d + 1)) {\n                            d++;\n                            var u = h._inner[d];\n                            var v = this.bk(u, q.i);\n                            var w = new DataLegendVisualDataColumn();\n                            w.bounds = RectData.b(q.ad);\n                            w.text = u.al;\n                            w.textColor = AppearanceHelper.b(q.aa);\n                            w.marginTop = q.am.top;\n                            w.marginLeft = q.am.left;\n                            w.marginRight = q.am.right;\n                            w.marginBottom = q.am.bottom;\n                            this.f7(w, v);\n                            l.columns.add(w);\n                            m = this.ia(m, q.ad);\n                        }\n                        if (Extensions.b(q.ac) && i.count > (e + 1)) {\n                            e++;\n                            var x = i._inner[e];\n                            var y = this.bk(x, q.h);\n                            var z = new DataLegendVisualDataColumn();\n                            z.bounds = RectData.b(q.ac);\n                            z.text = q.m ? q.u : null;\n                            z.textColor = AppearanceHelper.b(q.z);\n                            z.marginTop = q.al.top;\n                            z.marginLeft = q.al.left;\n                            z.marginRight = q.al.right;\n                            z.marginBottom = q.al.bottom;\n                            this.f7(z, y);\n                            l.columns.add(z);\n                            m = this.ia(m, q.ac);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n                if (k.j) {\n                    m = this.ia(m, k.r);\n                    l.badgeBounds = RectData.b(k.r);\n                    l.badgeMarginTop = k.v.top;\n                    l.badgeMarginBottom = k.v.bottom;\n                    l.badgeMarginRight = k.v.right;\n                    l.badgeMarginLeft = k.v.left;\n                    if (k.e >= 0 && k.e < this.cc.count) {\n                        var aa = this.cc._inner[k.e];\n                        l.badgeShape = aa.getDataLegendBadgeShapeAndMarker();\n                    }\n                    else {\n                        l.badgeShape = \"None\";\n                    }\n                }\n                l.rowBounds = RectData.b(m);\n            }\n            a.rows.add(l);\n        }\n        return a;\n    };\n    XamDataLegend.prototype.f7 = function (a, b) {\n        if (b != null) {\n            if (b.n != null) {\n                a.fontFamily = b.n;\n            }\n            if (!isNaN_(b.d)) {\n                a.fontSize = b.d;\n            }\n            a.fontWeight = stringIsNullOrEmpty(b.s) ? \"Normal\" : b.s;\n            a.fontStyle = stringIsNullOrEmpty(b.q) ? \"Normal\" : b.q;\n            if (b.o != null) {\n                a.fontStretch = b.q;\n            }\n        }\n    };\n    XamDataLegend.prototype.bk = function (a, b) {\n        var c = a.dataContext;\n        if (c != null) {\n            b = a.dataContext;\n        }\n        if (b == null || stringIsNullOrEmpty(b.fontString)) {\n            return b;\n        }\n        else {\n            return FontUtil.toFontInfo(this.a5.ah, b.fontString);\n        }\n    };\n    XamDataLegend.prototype.a0 = function (a) {\n        if (this.calculateColumnSummary != null) {\n            var b = new DataLegendSummaryEventArgs(a.a, a.d);\n            b.summaryValue = a.c;\n            this.calculateColumnSummary(this, b);\n            a.c = b.summaryValue;\n            a.f = b.summaryUnits;\n            a.e = b.summaryLabel;\n        }\n        return a;\n    };\n    XamDataLegend.prototype.a6 = function () {\n        switch (this.a1) {\n            case 0:\n            case 1: return new DataLegendSummaryCalculationTotal();\n            case 2: return new DataLegendSummaryCalculationAverage();\n            case 3: return new DataLegendSummaryCalculationMin();\n            case 4: return new DataLegendSummaryCalculationMax();\n            case 5: return new DataLegendSummaryCalculationEmpty();\n            default: return new DataLegendSummaryCalculationEmpty();\n        }\n    };\n    XamDataLegend.prototype.gb = function (a) {\n        if (this.styleSummaryRow != null) {\n            var b = this.ay(a);\n            this.styleSummaryRow(this, b);\n            this.f8(a, b);\n        }\n        if (a.b && a.k != null && this.styleSummaryColumn != null) {\n            for (var c = 0; c < a.k.count; c++) {\n                var d = this.ax(a.k._inner[c]);\n                d.d = a.e;\n                d.f = a.m;\n                d.c = c;\n                this.styleSummaryColumn(this, d);\n                this.gc(a.k._inner[c], d);\n            }\n        }\n    };\n    XamDataLegend.prototype.ga = function (a) {\n        if (this.styleSeriesRow != null) {\n            var b = this.ay(a);\n            this.styleSeriesRow(this, b);\n            this.f8(a, b);\n        }\n        if (a.b && a.k != null && this.styleSeriesColumn != null) {\n            for (var c = 0; c < a.k.count; c++) {\n                var d = this.ax(a.k._inner[c]);\n                d.d = a.e;\n                d.f = a.m;\n                d.c = c;\n                this.styleSeriesColumn(this, d);\n                this.gc(a.k._inner[c], d);\n            }\n        }\n    };\n    XamDataLegend.prototype.f9 = function (a) {\n        if (this.styleHeaderRow != null) {\n            var b = this.ay(a);\n            this.styleHeaderRow(this, b);\n            this.f8(a, b);\n        }\n    };\n    XamDataLegend.prototype.ay = function (a) {\n        var b = new DataLegendStylingRowEventArgs();\n        b.f = a.n;\n        b.g = a.q;\n        b.a = a.h;\n        b.b = a.j;\n        b.c = a.b;\n        b.d = a.e;\n        b.e = a.m;\n        return b;\n    };\n    XamDataLegend.prototype.f8 = function (a, b) {\n        a.n = b.f;\n        a.q = b.g;\n        a.h = b.a;\n        a.j = b.b;\n        a.b = b.c;\n    };\n    XamDataLegend.prototype.ax = function (a) {\n        var b = new DataLegendStylingColumnEventArgs();\n        b.e = a.t;\n        b.j = a.y;\n        b.g = a.u;\n        b.k = a.z;\n        b.i = a.w;\n        b.l = a.aa;\n        b.b = a.r;\n        b.h = a.v;\n        b.a = a.f;\n        return b;\n    };\n    XamDataLegend.prototype.gc = function (a, b) {\n        a.y = b.j;\n        a.t = b.e;\n        a.j = !stringIsNullOrEmpty(a.t);\n        a.u = b.g;\n        a.z = b.k;\n        a.m = !stringIsNullOrEmpty(a.u);\n        a.w = b.i;\n        a.aa = b.l;\n    };\n    XamDataLegend.prototype.f0 = function (a, b, c) {\n        var _this = this;\n        switch (a) {\n            case XamDataLegend.$$p[19]:\n                this.bx = c;\n                break;\n            case XamDataLegend.$$p[15]:\n            case XamDataLegend.$$p[3]:\n                this.gg();\n                break;\n            case XamDataLegend.$$p[14]:\n            case XamDataLegend.$$p[2]:\n                this.gf();\n                break;\n            case XamDataLegend.$$p[32]:\n                var d = c;\n                var e = b;\n                this.fy(e, d);\n                break;\n            case XamDataLegend.$$p[30]:\n                if (this.b0(this.targetCursorPositionX)) {\n                    this.cl = this.targetCursorPositionX;\n                }\n                break;\n            case XamDataLegend.$$p[31]:\n                if (this.b0(this.targetCursorPositionY)) {\n                    this.cm = this.targetCursorPositionY;\n                }\n                break;\n            case XamDataLegend.$$p[46]:\n            case XamDataLegend.$$p[45]:\n                if (!stringIsNullOrEmpty(this.e5)) {\n                    this.ak = ((function () {\n                        var $ret = new BindingFormatter();\n                        $ret.j = _this.e5;\n                        $ret.d = _this.ah;\n                        return $ret;\n                    })());\n                }\n                else {\n                    this.ak = null;\n                }\n                break;\n            case XamDataLegend.$$p[7]:\n            case XamDataLegend.$$p[6]:\n                if (!stringIsNullOrEmpty(this.dc)) {\n                    this.ai = ((function () {\n                        var $ret = new BindingFormatter();\n                        $ret.j = _this.dc;\n                        $ret.d = _this.ag;\n                        return $ret;\n                    })());\n                }\n                else {\n                    this.ai = null;\n                }\n                break;\n            case \"PixelScalingRatio\":\n                if (isNaN_(this.cn)) {\n                    this.a5.au();\n                }\n                else {\n                    this.cn = this.pixelScalingRatio;\n                }\n                break;\n            case \"ActualPixelScalingRatio\":\n                this.a5.a5(c);\n                break;\n        }\n        this.f2();\n    };\n    XamDataLegend.prototype.fx = function (a, b, c) {\n        this.f0(a, b, c);\n        if (this.propertyChanged != null) {\n            this.propertyChanged(this, new PropertyChangedEventArgs(a));\n        }\n    };\n    XamDataLegend.prototype.fy = function (a, b) {\n        this.a7 = b;\n        if (a != null) {\n            a.detachDataLegend(this);\n        }\n        if (b != null) {\n            b.attachDataLegend(this);\n            if (isNaN_(this.targetCursorPositionX)) {\n                this.cl = 1;\n            }\n            if (isNaN_(this.targetCursorPositionY)) {\n                this.cm = 0.5;\n            }\n        }\n    };\n    XamDataLegend.prototype.gg = function () {\n        this.ca = this.cb(this.includedSeries);\n        this.b9 = this.cb(this.excludedSeries);\n    };\n    XamDataLegend.prototype.gf = function () {\n        var e_2, _a, e_3, _b;\n        this.b8 = this.cb(this.includedColumns);\n        this.b7 = this.cb(this.excludedColumns);\n        if (this.b8 != null) {\n            var a = new List$1(String_$type, 1, this.b8.keys);\n            try {\n                for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var b = _d.value;\n                    var c = b + \":\";\n                    var d = this.b8.item(b);\n                    if (!this.b8.containsKey(c)) {\n                        this.b8.addItem(c, d);\n                    }\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return))\n                        _a.call(_c);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n            this.fg(this.b8);\n        }\n        if (this.b7 != null) {\n            var e = new List$1(String_$type, 1, this.b7.keys);\n            try {\n                for (var _e = __values(fromEnum(e)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var f = _f.value;\n                    var g = f + \":\";\n                    var h = this.b7.item(f);\n                    if (!this.b7.containsKey(g)) {\n                        this.b7.addItem(g, h);\n                    }\n                }\n            }\n            catch (e_3_1) {\n                e_3 = { error: e_3_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_3)\n                        throw e_3.error;\n                }\n            }\n            this.fg(this.b7);\n        }\n    };\n    XamDataLegend.prototype.fg = function (a) {\n        var e_4, _a;\n        var b = new List$1(String_$type, 1, a.keys);\n        try {\n            for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var c = _c.value;\n                var d = a.item(c);\n                var e = c.toLowerCase();\n                if (!a.containsKey(e)) {\n                    a.addItem(e, d);\n                }\n                var f = c.toUpperCase();\n                if (!a.containsKey(f)) {\n                    a.addItem(f, d);\n                }\n                if (c.length > 0) {\n                    var g = f.substr(0, 1) + e.substr(1);\n                    if (!a.containsKey(g)) {\n                        a.addItem(g, d);\n                    }\n                }\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n    };\n    XamDataLegend.prototype.cb = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = new Dictionary$2(String_$type, Number_$type, 0);\n        for (var c = 0; c < a.length; c++) {\n            var d = a[c];\n            if (!stringIsNullOrEmpty(d) && !b.containsKey(d.trim())) {\n                b.addItem(d.trim(), b.count);\n            }\n        }\n        return b;\n    };\n    XamDataLegend.prototype.b0 = function (a) {\n        return a >= 0 && a <= 1;\n    };\n    XamDataLegend.prototype.notifyCursorPositionChanged = function (a) {\n        var b = !isNaN_(this.targetCursorPositionX) || !isNaN_(this.targetCursorPositionY);\n        var c = !isNaN_(a.x) && this.b0(a.x);\n        var d = !isNaN_(a.y) && this.b0(a.y);\n        if (!b && c && d) {\n            this.cl = a.x;\n            this.cm = a.y;\n        }\n    };\n    XamDataLegend.prototype.notifySizeChanged = function () {\n        this.a5.a3();\n    };\n    XamDataLegend.prototype.notifyVisualPropertiesChanged = function (a) {\n    };\n    XamDataLegend.prototype.notifySeriesCollectionChanged = function () {\n        this.f2();\n    };\n    XamDataLegend.prototype.notifySeriesDataChanged = function () {\n        if (this.bx) {\n            this.f2();\n        }\n    };\n    XamDataLegend.prototype.updatePropertyByName = function (a, b) {\n        switch (a) {\n            case XamDataLegend.$$p[15]:\n                this.includedSeries = b;\n                break;\n            case XamDataLegend.$$p[3]:\n                this.excludedSeries = b;\n                break;\n            case XamDataLegend.$$p[14]:\n                this.includedColumns = b;\n                break;\n            case XamDataLegend.$$p[2]:\n                this.excludedColumns = b;\n                break;\n            case XamDataLegend.$$p[39]:\n                this.an = EnumUtil.getEnumValue(DataAbbreviationMode_$type, b);\n                break;\n            case XamDataLegend.$$p[42]:\n                this.ct = typeGetValue(b);\n                break;\n            case XamDataLegend.$$p[43]:\n                this.cu = typeGetValue(b);\n                break;\n            case XamDataLegend.$$p[44]:\n                this.a3 = EnumUtil.getEnumValue(DataLegendValueMode_$type, b);\n                break;\n            case XamDataLegend.$$p[40]:\n                this.ex = b;\n                break;\n            case XamDataLegend.$$p[47]:\n                this.b3 = b;\n                break;\n            case XamDataLegend.$$p[46]:\n                this.e5 = b;\n                break;\n            case XamDataLegend.$$p[45]:\n                this.ah = b;\n                break;\n            case XamDataLegend.$$p[48]:\n                this.ir = b;\n                break;\n            case XamDataLegend.$$p[49]:\n                this.b4 = b;\n                break;\n            case XamDataLegend.$$p[53]:\n                this.fe = b;\n                break;\n            case XamDataLegend.$$p[52]:\n                this.b5 = b;\n                break;\n            case XamDataLegend.$$p[51]:\n                this.is = b;\n                break;\n            case XamDataLegend.$$p[50]:\n                this.h9 = b;\n                break;\n            case \"ValueTextStyle\":\n                this.bt = b;\n                break;\n            case XamDataLegend.$$p[7]:\n                this.dc = b;\n                break;\n            case XamDataLegend.$$p[6]:\n                this.ag = b;\n                break;\n            case XamDataLegend.$$p[4]:\n                this.c8 = b;\n                break;\n            case XamDataLegend.$$p[5]:\n                this.ap = EnumUtil.getEnumValue(DataLegendHeaderDateMode_$type, b);\n                break;\n            case XamDataLegend.$$p[8]:\n                this.aq = EnumUtil.getEnumValue(DataLegendHeaderTimeMode_$type, b);\n                break;\n            case XamDataLegend.$$p[13]:\n                this.dh = b;\n                break;\n            case XamDataLegend.$$p[11]:\n                this.h0 = b;\n                break;\n            case XamDataLegend.$$p[12]:\n                this.ij = b;\n                break;\n            case XamDataLegend.$$p[9]:\n                this.ii = b;\n                break;\n            case XamDataLegend.$$p[10]:\n                this.bz = b;\n                break;\n            case \"HeaderTextStyle\":\n                this.bl = b;\n                break;\n            case XamDataLegend.$$p[23]:\n                this.h4 = b;\n                break;\n            case \"SummaryTitleTextStyle\":\n                this.bo = b;\n                break;\n            case XamDataLegend.$$p[26]:\n                this.a1 = EnumUtil.getEnumValue(DataLegendSummaryType_$type, b);\n                break;\n            case XamDataLegend.$$p[25]:\n                this.d8 = b;\n                break;\n            case XamDataLegend.$$p[24]:\n                this.im = b;\n                break;\n            case XamDataLegend.$$p[22]:\n                this.il = b;\n                break;\n            case XamDataLegend.$$p[29]:\n                this.h6 = b;\n                break;\n            case \"SummaryValueTextStyle\":\n                this.bq = b;\n                break;\n            case XamDataLegend.$$p[21]:\n                this.d3 = b;\n                break;\n            case XamDataLegend.$$p[20]:\n                this.h3 = b;\n                break;\n            case \"SummaryLabelTextStyle\":\n                this.bn = b;\n                break;\n            case XamDataLegend.$$p[28]:\n                this.ee = b;\n                break;\n            case XamDataLegend.$$p[27]:\n                this.h5 = b;\n                break;\n            case \"SummaryUnitsTextStyle\":\n                this.bp = b;\n                break;\n            case XamDataLegend.$$p[0]:\n                this.ih = b;\n                break;\n            case XamDataLegend.$$p[1]:\n                this.a8 = EnumUtil.getEnumValue(LegendItemBadgeShape_$type, b);\n                break;\n            case XamDataLegend.$$p[35]:\n                this.a2 = EnumUtil.getEnumValue(DataLegendUnitsMode_$type, b);\n                break;\n            case XamDataLegend.$$p[38]:\n                this.er = b;\n                break;\n            case XamDataLegend.$$p[36]:\n                this.h8 = b;\n                break;\n            case XamDataLegend.$$p[37]:\n                this.ip = b;\n                break;\n            case \"UnitsTextStyle\":\n                this.bs = b;\n                break;\n            case XamDataLegend.$$p[34]:\n                this.io = b;\n                break;\n            case XamDataLegend.$$p[33]:\n                this.h7 = b;\n                break;\n            case \"TitleTextStyle\":\n                this.br = b;\n                break;\n            case XamDataLegend.$$p[16]:\n                this.ar = EnumUtil.getEnumValue(DataLegendLabelMode_$type, b);\n                break;\n            case XamDataLegend.$$p[17]:\n                this.h1 = b;\n                break;\n            case XamDataLegend.$$p[18]:\n                this.ik = b;\n                break;\n            case \"LabelTextStyle\":\n                this.bm = b;\n                break;\n        }\n    };\n    XamDataLegend.prototype.a4 = function () {\n        return new DataLegendView(this);\n    };\n    XamDataLegend.prototype.destroy = function () {\n        this.provideContainer(null);\n    };\n    Object.defineProperty(XamDataLegend.prototype, \"externalObject\", {\n        get: function () {\n            return this._externalObject;\n        },\n        set: function (a) {\n            this._externalObject = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.flush = function () {\n        this.a5.ar();\n    };\n    XamDataLegend.prototype.onAttachedToUI = function () {\n        this.a5.a1();\n    };\n    XamDataLegend.prototype.onDetachedFromUI = function () {\n        this.a5.a4();\n    };\n    XamDataLegend.prototype.provideContainer = function (a) {\n        this.a5.a2(a);\n    };\n    XamDataLegend.prototype.f2 = function () {\n        if (this.bu) {\n            return;\n        }\n        this.bu = this.a5.w();\n    };\n    Object.defineProperty(XamDataLegend.prototype, \"shouldOnDemandRender\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            this.bv = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.doRender = function (a, b) {\n        if (this.ib.isEmpty) {\n            var c = this.getDesiredSize();\n            this.ib = new Rect(0, 0, 0, c.width, c.height);\n        }\n        this.f3(this.ao, true);\n        this.a5.a7(a, b);\n    };\n    XamDataLegend.prototype.ensureUpdated = function () {\n        var a = this.getDesiredSize();\n    };\n    XamDataLegend.prototype.fp = function () {\n        if (!this.bu) {\n            if (this.ao == null) {\n                this.f2();\n            }\n            else {\n                return;\n            }\n        }\n        this.ge();\n    };\n    XamDataLegend.prototype.getDesiredSize = function () {\n        this.fp();\n        if (this.ao == null) {\n            return new Size(1, 0, 0);\n        }\n        return new Size(1, this.ao.d, this.ao.c);\n    };\n    XamDataLegend.prototype.ge = function () {\n        if (this.a7 == null) {\n            this.fm();\n            return;\n        }\n        var a = this.a7;\n        var b = a.getDataLegendSeries();\n        var c = this.cf(b);\n        this.fr(c);\n    };\n    XamDataLegend.prototype.cf = function (a) {\n        var e_5, _a;\n        var b = new Dictionary$2(Number_$type, IDataLegendSeries_$type, 0);\n        for (var c = 0; c < a.length; c++) {\n            var d = a[c].title == null ? null : a[c].title.toString();\n            var e = this.ca == null || this.ca.containsKey(a[c].dataLegendKey) || this.ca.containsKey(a[c].index.toString()) || this.ca.containsKey(d);\n            var f = this.b9 != null && (this.b9.containsKey(a[c].dataLegendKey) || this.b9.containsKey(a[c].index.toString()) || this.b9.containsKey(d));\n            if (a[c].isValueOverlay && (!e || this.ca == null)) {\n                continue;\n            }\n            if (e && !f) {\n                var g = this.cs(a[c]);\n                b.addItem(g, a[c]);\n            }\n        }\n        var h = new List$1(Number_$type, 1, b.keys);\n        h.y();\n        var i = new List$1(IDataLegendSeries_$type, 0);\n        try {\n            for (var _b = __values(fromEnum(h)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var j = _c.value;\n                i.add(b.item(j));\n            }\n        }\n        catch (e_5_1) {\n            e_5 = { error: e_5_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_5)\n                    throw e_5.error;\n            }\n        }\n        return i;\n    };\n    XamDataLegend.prototype.cs = function (a) {\n        if (this.ca == null) {\n            return a.index;\n        }\n        var b = a.dataLegendKey;\n        if (this.ca.containsKey(b)) {\n            return this.ca.item(b);\n        }\n        var c = a.index.toString();\n        if (this.ca.containsKey(c)) {\n            return this.ca.item(c);\n        }\n        var d = a.title == null ? null : a.title.toString();\n        if (this.ca.containsKey(d)) {\n            return this.ca.item(d);\n        }\n        return a.index;\n    };\n    XamDataLegend.prototype.fo = function () {\n        this.bu = false;\n        var a = new Size(1, 0, 0);\n        if (this.ao != null) {\n            a = new Size(1, this.ao.d, this.ao.c);\n        }\n        this.ge();\n        var b = new Size(1, 0, 0);\n        if (this.ao != null) {\n            b = new Size(1, this.ao.d, this.ao.c);\n        }\n        if (!a.equals(b)) {\n            this.a5.am(b.width, b.height);\n        }\n        this.f3(this.ao, this.bv);\n    };\n    XamDataLegend.prototype.fs = function (message_) {\n    };\n    XamDataLegend.prototype.f3 = function (a, b) {\n        var c = new DataLegendRenderContext();\n        for (var d = 0; d < a.b.count; d++) {\n            var e = a.b._inner[d];\n            this.f5(a, e, c);\n        }\n        this.a5.p.count = c.b;\n        this.a5.q.count = c.c;\n        this.a5.s.count = c.e;\n        this.a5.r.count = c.d;\n        this.a5.o.count = c.a;\n        if (!b) {\n            this.a5.aq(a);\n        }\n    };\n    XamDataLegend.prototype.f5 = function (a, b, c) {\n        var e_6, _a;\n        if (b.t.width > 0 && b.t.height > 0 && !b.a && !b.d && b.j) {\n            var d = this.a5.p.item(c.b);\n            c.b += 1;\n            this.f4(d, a, b, c);\n        }\n        this.a5.a9();\n        if (!b.s.isEmpty && b.s.width > 0 && b.s.height > 0) {\n            var e = this.a5.q.item(c.c);\n            c.c += 1;\n            this.f6(e, b.n, b.q, b.i, b.s);\n        }\n        try {\n            for (var _b = __values(fromEnum(b.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var f = _c.value;\n                if (!f.ad.isEmpty && f.q()) {\n                    var g = this.a5.s.item(c.e);\n                    c.e += 1;\n                    this.f6(g, f.w, f.aa, f.i, f.ad);\n                }\n                if (!f.ac.isEmpty && f.o() && f.m) {\n                    var h = this.a5.r.item(c.d);\n                    c.d += 1;\n                    this.f6(h, f.u, f.z, f.h, f.ac);\n                }\n                if (!f.ab.isEmpty && f.l() && f.j) {\n                    var i = this.a5.o.item(c.a);\n                    c.a += 1;\n                    this.f6(i, f.t, f.y, f.g, f.ab);\n                }\n            }\n        }\n        catch (e_6_1) {\n            e_6 = { error: e_6_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_6)\n                    throw e_6.error;\n            }\n        }\n        this.a5.an();\n    };\n    XamDataLegend.prototype.f6 = function (a, b, c, d, e) {\n        a.al = b;\n        this.a5.a8(a, e.left, e.top);\n        this.a5.ao(a, d);\n        this.a5.ap(a, d);\n        a.ao = c;\n    };\n    XamDataLegend.prototype.f4 = function (a, b, c, d) {\n        a.ah = c.p;\n        a.content = c.l;\n        a.width = c.t.width;\n        a.height = c.t.height;\n        this.a5.a8(a, c.r.left, c.r.top);\n    };\n    XamDataLegend.prototype.fr = function (a) {\n        var e_7, _a;\n        if (this.by()) {\n            this.ao.f();\n            this.cc = a;\n            this.cd.clear();\n            this.cr = 0;\n            this.b6.clear();\n        }\n        else {\n            return;\n        }\n        for (var b = 0; b < a.count; b++) {\n            var c = a._inner[b];\n            var d = b;\n            var e = typeCast(DataLegendSeriesContext.$, c.getDataLegendSeriesContextAt(this.cl, this.cm));\n            if (e != null) {\n                var f = new List$1(DataLegendSeriesValueInfo.$, 0);\n                for (var g = 0; g < e.f.count; g++) {\n                    var h = e.f._inner[g];\n                    var i = this.b8 == null || this.b8.containsKey(h.p) || this.b8.containsKey(h.q) || this.b8.containsKey(\"ALL\");\n                    var j = this.b7 != null && (this.b7.containsKey(h.p) || this.b7.containsKey(h.q) || this.b7.containsKey(\"ALL\"));\n                    var k = this.b8 == null && this.b7 == null && h.k;\n                    if (i && (!j && !k)) {\n                        h.o = f.count;\n                        f.add(h);\n                        if (!this.b6.containsKey(h.o)) {\n                            this.b6.addItem(h.o, new DataLegendColumn());\n                        }\n                        this.b6.item(h.o).i = h.o;\n                        this.b6.item(h.o).d.q(d, h.r);\n                        this.b6.item(h.o).b.q(d, h.q);\n                        this.b6.item(h.o).e.q(d, h.l);\n                        this.b6.item(h.o).c.q(d, h);\n                        this.b6.item(h.o).h.add(d);\n                    }\n                }\n                e.f = f;\n                this.cd.add(e);\n                this.cr = Math.max(this.cr, e.f.count);\n            }\n        }\n        try {\n            for (var _b = __values(fromEnum(this.b6.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var l = _c.value;\n                l.f.clear();\n                l.a.clear();\n                var m = l.e.p(l.h);\n                var n = this.ce(m);\n                for (var o = 0; o < n.count; o++) {\n                    var p = n._inner[o];\n                    var q = l.h._inner[o];\n                    l.a.q(q, p);\n                    var r = l.c.item(q);\n                    var s = this.d1(p, r);\n                    l.f.q(q, s);\n                    var t = !stringIsNullOrEmpty(p.l);\n                    if (t) {\n                        l.g = true;\n                    }\n                }\n            }\n        }\n        catch (e_7_1) {\n            e_7 = { error: e_7_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_7)\n                    throw e_7.error;\n            }\n        }\n        this.fh(this.ao, a);\n        for (var u = 0; u < a.count; u++) {\n            this.gd(a._inner[u], this.a8);\n            this.fi(this.ao, a._inner[u], u);\n        }\n        this.fj(this.ao, a);\n        this.bw = this.b1();\n        this.fl(this.ao);\n    };\n    XamDataLegend.prototype.b1 = function () {\n        var a = false;\n        for (var b = 0; b < this.ao.b.count; b++) {\n            var c = this.ao.b._inner[b];\n            if (c.c && c.j && c.h != 7) {\n                a = true;\n                break;\n            }\n        }\n        return a;\n    };\n    XamDataLegend.prototype.fl = function (a) {\n        var e_8, _a;\n        var b = 0;\n        var c = 0;\n        for (var d = 0; d < a.b.count; d++) {\n            var e = a.b._inner[d];\n            this.ft(e);\n        }\n        var f = 0;\n        var g = new Size(1, 0, 0);\n        var h = new Size(1, 0, 0);\n        var i = new Dictionary$2(Number_$type, Size.$, 0);\n        var j = new Dictionary$2(Number_$type, Size.$, 0);\n        var k = new Dictionary$2(Number_$type, Size.$, 0);\n        try {\n            for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var l = _c.value;\n                for (var m = 0; m < l.k.count; m++) {\n                    var n = l.k._inner[m];\n                    if (!i.containsKey(m)) {\n                        i.addItem(m, new Size(1, 0, 0));\n                    }\n                    i.item(m, this.ig(i.item(m), n.aj, n.am));\n                    if (!j.containsKey(m)) {\n                        j.addItem(m, new Size(1, 0, 0));\n                    }\n                    j.item(m, this.ig(j.item(m), n.ah, n.al));\n                    if (!k.containsKey(m)) {\n                        k.addItem(m, new Size(1, 0, 0));\n                    }\n                    k.item(m, this.ig(k.item(m), n.af, n.ak));\n                }\n            }\n        }\n        catch (e_8_1) {\n            e_8 = { error: e_8_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_8)\n                    throw e_8.error;\n            }\n        }\n        for (var o = 0; o < a.b.count; o++) {\n            var p = a.b._inner[o];\n            h = this.ie(h, p.t, p.v);\n            g = this.ig(g, p.u, p.x);\n            for (var q = 0; q < p.k.count; q++) {\n                p.k._inner[q].ai = i.item(q);\n                p.k._inner[q].ag = j.item(q);\n                p.k._inner[q].ae = k.item(q);\n            }\n            if (p.d) {\n                var r = p.u.width + p.x.left + p.x.right;\n                f = Math.max(f, r + p.w.left);\n            }\n            else if (p.c) {\n                var s = p.u.width + p.x.left + p.x.right;\n                var t = p.t.width + p.v.left + p.v.right;\n                f = Math.max(f, s + p.w.left + t);\n            }\n        }\n        var u = 0;\n        var v = 0;\n        for (var w = 0; w < a.b.count; w++) {\n            var x = a.b._inner[w];\n            var y = this.ic(v, x, f, g, h);\n            v = y.height;\n            u = Math.max(u, y.width);\n        }\n        c = v;\n        b = u;\n        a.d = b;\n        a.c = c;\n    };\n    XamDataLegend.prototype.ie = function (a, b, c) {\n        return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n    };\n    XamDataLegend.prototype.ig = function (a, b, c) {\n        return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n    };\n    XamDataLegend.prototype.ic = function (a, b, c, d, e) {\n        var e_9, _a, e_10, _b;\n        var f = 0;\n        var g = 0;\n        g = Math.max(b.t.height, g);\n        g = Math.max(b.u.height, g);\n        try {\n            for (var _c = __values(fromEnum(b.k)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var h = _d.value;\n                g = Math.max(h.aj.height, g);\n                if (h.m) {\n                    g = Math.max(h.ah.height, g);\n                }\n                if (h.j) {\n                    g = Math.max(h.af.height, g);\n                }\n            }\n        }\n        catch (e_9_1) {\n            e_9 = { error: e_9_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_9)\n                    throw e_9.error;\n            }\n        }\n        f += b.w.left;\n        a += b.w.top;\n        if (!b.a && !b.d && this.bw) {\n            f += b.v.left;\n            var i = 0;\n            if (g > b.t.height) {\n                i = (g - b.t.height) / 2;\n            }\n            b.r = new Rect(0, f, a + i, b.t.width, b.t.height);\n            f += (b.r.width) + b.v.right;\n        }\n        else {\n            b.r = new Rect(0, 0, 0, 0, 0);\n        }\n        f += b.x.left;\n        var j = 0;\n        if (g > b.u.height) {\n            j = (g - b.u.height) / 2;\n        }\n        b.s = new Rect(0, f, a + j, b.u.width + b.x.right, b.u.height);\n        f = Math.max(c, b.s.right);\n        try {\n            for (var _e = __values(fromEnum(b.k)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var k = _f.value;\n                var l = \" C=\" + k.s + \" SR=\" + numberToString2(f, \"000\");\n                if ((k.l() && k.j) && k.ae.width > 0) {\n                    var m = 0;\n                    if (g > k.af.height) {\n                        m = (g - k.af.height) / 2;\n                    }\n                    k.ab = new Rect(0, f + k.ak.left, a + m, k.af.width, k.af.height);\n                    f += k.ae.width;\n                    l += \" label L=\" + numberToString2(k.ab.left, \"000\") + \" R=\" + numberToString2(k.ab.right, \"000\");\n                }\n                if (k.q()) {\n                    l += \" v MW=\" + numberToString2(k.ai.width, \"000\");\n                    f += k.am.left;\n                    f += (k.ai.width - (k.aj.width + k.am.right));\n                    var n = 0;\n                    if (g > k.aj.height) {\n                        n = (g - k.aj.height) / 2;\n                    }\n                    k.ad = new Rect(0, f, a + n, k.aj.width, k.aj.height);\n                    l += \" v ML=\" + numberToString2(k.am.left, \"00\") + \" MR=\" + numberToString2(k.am.right, \"00\");\n                    l += \" v BL=\" + numberToString2(k.ad.left, \"000\") + \" BR=\" + numberToString2(k.ad.right, \"000\");\n                    f += k.ad.width;\n                    f += k.am.right;\n                }\n                if ((k.o() && k.m) && k.ag.width > 0) {\n                    var o = 0;\n                    if (g > k.ah.height) {\n                        o = (g - k.ah.height) / 2;\n                    }\n                    k.ac = new Rect(0, f + k.al.left, a + o, k.ah.width, k.ah.height);\n                    f += k.ag.width;\n                    l += \" unit L=\" + numberToString2(k.ac.left, \"000\") + \" R=\" + numberToString2(k.ac.right, \"000\");\n                }\n                this.fs(\"maxRight \" + numberToString2(c, \"0\") + l);\n            }\n        }\n        catch (e_10_1) {\n            e_10 = { error: e_10_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_10)\n                    throw e_10.error;\n            }\n        }\n        f += b.w.right;\n        a += g;\n        a += b.w.bottom;\n        return new Size(1, f, a);\n    };\n    XamDataLegend.prototype.ft = function (a) {\n        var e_11, _a;\n        a.u = a.n == null ? new Size(1, 0, 0) : this.a5.bu(a.n, a.i);\n        try {\n            for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                b.aj = b.w == null ? new Size(1, 0, 0) : this.a5.bu(b.w, b.i);\n                b.ah = b.u == null ? new Size(1, 0, 0) : this.a5.bu(b.u, b.h);\n                b.af = b.t == null ? new Size(1, 0, 0) : this.a5.bu(b.t, b.g);\n            }\n        }\n        catch (e_11_1) {\n            e_11 = { error: e_11_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_11)\n                    throw e_11.error;\n            }\n        }\n    };\n    XamDataLegend.prototype.d0 = function (a, b, c, d) {\n        if (this.a2 == 2) {\n            return null;\n        }\n        var e = \"\";\n        if (stringIsNullOrEmpty(this.er)) {\n            e = b;\n        }\n        else {\n            e = this.er;\n        }\n        if (d) {\n            if (stringIsNullOrEmpty(e)) {\n                e = c;\n            }\n            else {\n                e = c + e;\n            }\n        }\n        var f = this.b6.item(a).d;\n        var g = this.b6.item(a).g;\n        if (g && stringIsNullOrEmpty(e)) {\n            e = \" \";\n        }\n        else if (f.count > 0 && stringIsNullOrEmpty(e)) {\n            e = \" \";\n        }\n        else if (!d) {\n            return null;\n        }\n        return e;\n    };\n    XamDataLegend.prototype.dx = function (a, b, c) {\n        if (this.ar == 2) {\n            return null;\n        }\n        var d = this.cr > 1;\n        var e = this.ar == 1;\n        var f = this.b6.item(a).b.count > 0;\n        if (f && (d || e)) {\n            if (stringIsNullOrEmpty(b)) {\n                return \" \";\n            }\n            else if (c) {\n                return b;\n            }\n        }\n        return null;\n    };\n    XamDataLegend.prototype.fj = function (a, b) {\n        var e_12, _a, e_13, _b;\n        if (this.a1 == 5) {\n            return;\n        }\n        if (b == null || b.count <= 1) {\n            return;\n        }\n        var c = new Dictionary$2(Number_$type, DataLegendSummaryColumn.$, 0);\n        var d = 0;\n        var e = new List$1(DataLegendSeriesGroup_$type, 0);\n        try {\n            for (var _c = __values(fromEnum(this.cd)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var f = _d.value;\n                d = Math.max(d, f.f.count);\n                if (!e.contains(f.b)) {\n                    e.add(f.b);\n                }\n                for (var g = 0; g < f.f.count; g++) {\n                    var h = f.f._inner[g];\n                    if (!c.containsKey(g)) {\n                        c.addItem(g, new DataLegendSummaryColumn());\n                    }\n                    var i = c.item(g);\n                    i.n = h.n;\n                    i.m = h.m;\n                    i.e = h.e;\n                    i.h = h.h;\n                    i.f = h.f;\n                    i.f = h.g;\n                    i.d = h.d;\n                    i.x = h.x;\n                    i.ai(h.l);\n                    i.ag(h.q);\n                    i.ah(h.r);\n                    if (stringIsNullOrEmpty(i.t)) {\n                        i.t = h.t;\n                    }\n                    if (stringIsNullOrEmpty(i.u)) {\n                        i.u = h.u;\n                    }\n                    if (stringIsNullOrEmpty(i.v)) {\n                        i.v = h.v;\n                    }\n                    if (stringIsNullOrEmpty(i.w)) {\n                        i.w = h.w;\n                    }\n                    if (stringIsNullOrEmpty(i.p)) {\n                        i.p = h.p;\n                    }\n                }\n            }\n        }\n        catch (e_12_1) {\n            e_12 = { error: e_12_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_12)\n                    throw e_12.error;\n            }\n        }\n        if (this.a1 == 0) {\n            if (e.count > 1) {\n                return;\n            }\n            if (!e.contains(0)) {\n                return;\n            }\n        }\n        var j = this.a6();\n        var k = new DataLegendRowInfo(this.a5, true, false, -1);\n        k.n = this.d8 != null ? this.d8 : j.title;\n        k.q = this.h4 || k.q;\n        k.i = this.bo || k.i;\n        for (var l = 0; l < d; l++) {\n            var m = c.item(l);\n            var n = j.calculate(m.aa, m.p);\n            n = this.a0(n);\n            var o = this.an;\n            var p = o == 0 || o == 2 || o == 8;\n            var q = -1;\n            try {\n                for (var _e = (e_13 = void 0, __values(fromEnum(this.b6.item(l).a.values))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var r = _f.value;\n                    if (r.b()) {\n                        q = Math.max(q, r.h);\n                        if (p) {\n                            o = r.a;\n                        }\n                    }\n                }\n            }\n            catch (e_13_1) {\n                e_13 = { error: e_13_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_13)\n                        throw e_13.error;\n                }\n            }\n            var s = this.cu >= 0 ? this.cu : q;\n            var t = this.ct >= 0 ? this.ct : q;\n            var u = this.am(n.c, o, s, t);\n            u.i = s;\n            u.h = t;\n            var v = this.d1(u, m);\n            var w = new DataLegendRowCell(this.a5, true, false, -1);\n            w.s = k.k.count;\n            w.t = this.dx(w.s, \" \", m.b);\n            if (!stringIsNullOrEmpty(this.d3)) {\n                w.t = this.d3;\n            }\n            if (n.e != null) {\n                w.t = n.e;\n            }\n            w.j = !stringIsNullOrEmpty(w.t);\n            w.y = this.h3 || w.y;\n            w.g = this.bn || w.g;\n            w.w = v;\n            w.i = this.bq || w.i;\n            w.aa = this.h2(this.h6, w.aa, null);\n            w.r = n.c;\n            w.f = u.a;\n            w.v = m.p;\n            var x = m.z.length >= 1 ? m.z[0] : \" \";\n            w.u = this.d0(w.s, x, u.l, m.d);\n            if (n.f != null) {\n                w.u = n.f;\n            }\n            w.m = !stringIsNullOrEmpty(w.u);\n            w.z = this.h5 || w.z;\n            w.h = this.bp || w.h;\n            k.k.add(w);\n        }\n        this.gb(k);\n        if (k.b) {\n            this.fk(k);\n            this.fz(k);\n            a.e(k);\n        }\n    };\n    XamDataLegend.prototype.am = function (a, b, c, d) {\n        if (b == 8 || b == 0) {\n            b = this.an;\n        }\n        if (d < 0) {\n            d = this.ct;\n        }\n        if (c < 0) {\n            c = this.cu;\n        }\n        return DataAbbreviator.a(a, b, c, d);\n    };\n    XamDataLegend.prototype.cq = function (a, b, c, d) {\n        return this.am(a, b, c, d).d;\n    };\n    XamDataLegend.prototype.c7 = function (a, b, c, d) {\n        return this.am(a, b, c, d).l;\n    };\n    XamDataLegend.prototype.c6 = function (a, b, c, d) {\n        var e = this.am(a, b, c, d);\n        return e.m + e.l;\n    };\n    XamDataLegend.prototype.ce = function (a) {\n        var b = this.cu;\n        var c = this.ct;\n        var d = this.an;\n        var e = DataAbbreviator.h(a, d, b, c);\n        return e;\n    };\n    XamDataLegend.prototype.cg = function (a) {\n        var b = new List$1(Number_$type, 0);\n        if (a < 0) {\n            return b;\n        }\n        for (var c = 0; c < this.cd.count; c++) {\n            var d = this.cd._inner[c];\n            if (d.f.count > a) {\n                var e = d.f._inner[a].l;\n                if (!isNaN_(e)) {\n                    b.add(e);\n                }\n            }\n        }\n        return b;\n    };\n    XamDataLegend.prototype.fk = function (a) {\n    };\n    XamDataLegend.prototype.h2 = function (a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (this.b5 && c != null) {\n            return c;\n        }\n        return b;\n    };\n    XamDataLegend.prototype.dy = function (a, b) {\n        return stringIsNullOrEmpty(a) ? b : a;\n    };\n    XamDataLegend.prototype.d1 = function (a, b) {\n        var c = a.d;\n        if (b == null || isNaN_(c) || isInfinity(c)) {\n            return this.fe;\n        }\n        var d;\n        var e = b.d ? a.d : a.g;\n        if (this.ak != null) {\n            d = this.ak.i(e);\n        }\n        else {\n            var f = this.a3;\n            if (f == 0) {\n                f = 1;\n            }\n            var g = new NumberFormatSpecifier();\n            g.useGrouping = this.b3;\n            g.locale = this.dy(this.ex, null);\n            g.currencyCode = this.ez;\n            if (b.d) {\n                g.minimumFractionDigits = a.i;\n                g.maximumFractionDigits = a.h;\n                if (b.n >= 0 && b.n > a.i) {\n                    g.minimumFractionDigits = b.n;\n                }\n                else if (this.cu >= 0) {\n                    g.minimumFractionDigits = this.cu;\n                }\n                if (b.m >= 0 && b.m > a.h) {\n                    g.maximumFractionDigits = b.m;\n                }\n                else if (this.ct >= 0) {\n                    g.maximumFractionDigits = this.ct;\n                }\n            }\n            else {\n                g.minimumFractionDigits = b.n;\n                g.maximumFractionDigits = b.m;\n            }\n            if (g.minimumFractionDigits > g.maximumFractionDigits) {\n                g.maximumFractionDigits = g.minimumFractionDigits;\n            }\n            if (f == 2 && b.e) {\n                g.style = \"currency\";\n            }\n            if (this.al == null) {\n                this.al = new BindingFormatter();\n            }\n            this.al.j = \"{0}\";\n            this.al.d = [g];\n            d = this.al.i(e);\n            if (e > 0) {\n                d = b.v + d;\n            }\n            else if (e < 0) {\n                d = b.t + d;\n            }\n            if (e >= 0) {\n                d += b.w;\n            }\n            else {\n                d += b.u;\n            }\n        }\n        return d;\n    };\n    XamDataLegend.prototype.fi = function (a, b, c) {\n        if (this.b4 == false) {\n            return;\n        }\n        var d = this.cd._inner[c];\n        var e = this.dz(b);\n        var f = new DataLegendRowInfo(this.a5, false, false, c);\n        f.f = d.a();\n        f.m = e;\n        f.n = e;\n        f.q = this.h7 || f.q;\n        f.i = this.br || f.i;\n        for (var g = 0; g < d.f.count; g++) {\n            var h = d.f._inner[g];\n            var i = this.b6.item(g).a.item(c);\n            var j = this.b6.item(g).f.item(c);\n            var k = new DataLegendRowCell(this.a5, false, false, c);\n            k.s = f.k.count;\n            k.i = this.bt || k.i;\n            k.w = j;\n            k.aa = this.h2(this.h9, k.aa, h.x);\n            k.v = h.p;\n            k.r = h.l;\n            k.f = i.a;\n            k.u = this.d0(k.s, h.r, i.l, h.d);\n            k.m = !stringIsNullOrEmpty(k.u);\n            k.z = this.h8 || k.z;\n            k.h = this.bs || k.h;\n            k.t = this.dx(k.s, h.q, h.b);\n            k.j = !stringIsNullOrEmpty(k.t);\n            k.y = this.h1 || k.y;\n            k.g = this.bm || k.g;\n            f.k.add(k);\n        }\n        f.h = this.a9(b);\n        this.fk(f);\n        this.fz(f);\n        this.ga(f);\n        if (f.b) {\n            if (f.j) {\n                this.gd(b, f.h);\n                var l = this.gh(b);\n                var m = this.cw(b);\n                f.p = l;\n                f.l = m;\n            }\n            a.e(f);\n        }\n    };\n    XamDataLegend.prototype.cw = function (a) {\n        return a.getDataLegendBadgeContext();\n    };\n    XamDataLegend.prototype.a9 = function (a) {\n        if (this.a8 != 0) {\n            return this.a8;\n        }\n        return a.legendItemBadgeShape;\n    };\n    XamDataLegend.prototype.gd = function (a, b) {\n        if (b == 0) {\n            return;\n        }\n        if (a.legendItemBadgeShape != b) {\n            a.legendItemBadgeShape = b;\n        }\n    };\n    XamDataLegend.prototype.by = function () {\n        return !isNaN_(this.cl) && !isNaN_(this.cm);\n    };\n    XamDataLegend.prototype.gh = function (a) {\n        return a.getDataLegendBadge();\n    };\n    XamDataLegend.prototype.dz = function (a) {\n        return a.getDataLegendSeriesTitle();\n    };\n    XamDataLegend.prototype.fh = function (a, b) {\n        if (this.bz == false) {\n            return;\n        }\n        var c = this.dw(b);\n        if (c == null) {\n            c = this.cx;\n        }\n        else {\n            this.cx = c;\n        }\n        if (stringIsNullOrEmpty(c)) {\n            return;\n        }\n        var d = new DataLegendRowInfo(this.a5, false, true, -1);\n        d.n = c;\n        d.q = this.h0 || d.q;\n        d.i = this.bl || d.i;\n        this.fk(d);\n        this.fz(d);\n        this.f9(d);\n        if (d.b) {\n            a.e(d);\n        }\n    };\n    XamDataLegend.prototype.iq = function (a) {\n        var b = new Thickness(0, 0);\n        if (a.top >= 0) {\n            b.top = a.top;\n        }\n        if (a.bottom >= 0) {\n            b.bottom = a.bottom;\n        }\n        if (a.left >= 0) {\n            b.left = a.left;\n        }\n        if (a.right >= 0) {\n            b.right = a.right;\n        }\n        return b;\n    };\n    XamDataLegend.prototype.fz = function (a) {\n        var e_14, _a;\n        if (a.c) {\n            a.x = this.iq(this.io);\n            a.w = this.iq(this.ir);\n        }\n        else if (a.a) {\n            a.x = this.iq(this.ij);\n            a.w = this.iq(this.ii);\n        }\n        else {\n            a.x = this.iq(this.im);\n            a.w = this.iq(this.il);\n        }\n        try {\n            for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                b.am = this.iq(this.is);\n                b.al = this.iq(this.ip);\n                b.ak = this.iq(this.ik);\n            }\n        }\n        catch (e_14_1) {\n            e_14 = { error: e_14_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_14)\n                    throw e_14.error;\n            }\n        }\n        if (a.c) {\n            a.v = this.iq(this.ih);\n            a.t = new Size(1, 20, 15);\n        }\n    };\n    XamDataLegend.prototype.dw = function (a) {\n        if (this.dh != null) {\n            return this.dh;\n        }\n        var b = true;\n        var c = null;\n        for (var d = 0; d < a.count; d++) {\n            var e = a._inner[d];\n            var f = this.du(e);\n            if (f == null) {\n                continue;\n            }\n            if (c == null) {\n                c = f;\n            }\n            else {\n                if (!Base.equalsStatic(c, f)) {\n                    b = false;\n                    break;\n                }\n            }\n        }\n        if (b || !stringIsNullOrEmpty(c)) {\n            return c;\n        }\n        return null;\n    };\n    XamDataLegend.prototype.du = function (a) {\n        if (this.by()) {\n            var b = a.getDataLegendAxisLabelFromCursorPosition(this.cl, this.cm);\n            if (typeCast(Date_$type, b) !== null) {\n                var c = b;\n                b = this.dv(c);\n            }\n            return b == null ? \"\" : b.toString();\n        }\n        else {\n            return null;\n        }\n    };\n    XamDataLegend.prototype.dv = function (a) {\n        if (this.ai != null) {\n            var b = this.ai.i(a);\n            return b;\n        }\n        else {\n            var c = new DateTimeFormatSpecifier();\n            c.dateStyle = \"short\";\n            c.timeStyle = \"full\";\n            var d = this.ap;\n            if (d == 0) {\n                d = 1;\n            }\n            if (d == 3) {\n                c.dateStyle = \"medium\";\n            }\n            if (d == 1) {\n                c.dateStyle = \"short\";\n            }\n            if (d == 4) {\n                c.dateStyle = \"full\";\n            }\n            if (d == 2) {\n                c.dateStyle = \"long\";\n            }\n            if (d == 5) {\n                c.dateStyle = null;\n            }\n            var e = this.aq;\n            if (e == 0) {\n                e = 1;\n            }\n            if (e == 3) {\n                c.timeStyle = \"medium\";\n            }\n            if (e == 1) {\n                c.timeStyle = \"short\";\n            }\n            if (e == 4) {\n                c.timeStyle = \"full\";\n            }\n            if (e == 2) {\n                c.timeStyle = \"long\";\n            }\n            if (e == 5) {\n                c.timeStyle = null;\n            }\n            c.locale = this.dy(this.c8, \"en-US\");\n            if (this.aj == null) {\n                this.aj = new BindingFormatter();\n            }\n            this.aj.j = \"{0}\";\n            this.aj.d = [c];\n            var f = this.aj.i(a);\n            return f;\n        }\n    };\n    XamDataLegend.prototype.fm = function () {\n    };\n    XamDataLegend.$t = markType(XamDataLegend, 'XamDataLegend', Control.$, [INotifyPropertyChanged_$type, IDataLegend_$type, IOnDemandRender_$type]);\n    XamDataLegend.$$p = markDep(DependencyProperty, PropertyMetadata, XamDataLegend, 'fx', ['BadgeMargin:ih:gi', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'BadgeShape:a8:gj', [LegendItemBadgeShape_$type, enumGetBox(LegendItemBadgeShape_$type, 0)], 'ExcludedColumns::gk', [Array_$type, null], 'ExcludedSeries::gl', [Array_$type, null], 'HeaderFormatCulture:c8:gm', [2, stringEmpty()], 'HeaderFormatDate:ap:gn', [DataLegendHeaderDateMode_$type, enumGetBox(DataLegendHeaderDateMode_$type, 0)], 'HeaderFormatSpecifiers:ag:go', [Array_$type, null], 'HeaderFormatString:dc:gp', [2, null], 'HeaderFormatTime:aq:gq', [DataLegendHeaderTimeMode_$type, enumGetBox(DataLegendHeaderTimeMode_$type, 0)], 'HeaderRowMargin:ii:gr', [Thickness.$, new Thickness(0, 5)], 'HeaderRowVisible:bz:gs', [0, true], 'HeaderTextColor:h0:gt', [Brush.$, null], 'HeaderTextMargin:ij:gu', [Thickness.$, new Thickness(1, 2, 0, 0, 0)], 'HeaderText:dh:gv', [2, null], 'IncludedColumns::gw', [Array_$type, null], 'IncludedSeries::gx', [Array_$type, null], 'LabelDisplayMode:ar:gy', [DataLegendLabelMode_$type, enumGetBox(DataLegendLabelMode_$type, 0)], 'LabelTextColor:h1:gz', [Brush.$, null], 'LabelTextMargin:ik:g0', [Thickness.$, new Thickness(1, 12, 0, 0, 0)], 'ShouldUpdateWhenSeriesDataChanges:b2:g1', [0, true], 'SummaryLabelTextColor:h3:g2', [Brush.$, null], 'SummaryLabelText:d3:g3', [2, null], 'SummaryRowMargin:il:g4', [Thickness.$, new Thickness(0, 5)], 'SummaryTitleTextColor:h4:g5', [Brush.$, null], 'SummaryTitleTextMargin:im:g6', [Thickness.$, new Thickness(1, 2, 0, 4, 0)], 'SummaryTitleText:d8:g7', [2, null], 'SummaryType:a1:g8', [DataLegendSummaryType_$type, enumGetBox(DataLegendSummaryType_$type, 0)], 'SummaryUnitsTextColor:h5:g9', [Brush.$, null], 'SummaryUnitsText:ee:ha', [2, null], 'SummaryValueTextColor:h6:hb', [Brush.$, null], 'TargetCursorPositionX::hc', [1, NaN], 'TargetCursorPositionY::hd', [1, NaN], 'Target::he', [4, null], 'TitleTextColor:h7:hf', [Brush.$, null], 'TitleTextMargin:io:hg', [Thickness.$, new Thickness(1, 0, 0, 4, 0)], 'UnitsDisplayMode:a2:hh', [DataLegendUnitsMode_$type, enumGetBox(DataLegendUnitsMode_$type, 0)], 'UnitsTextColor:h8:hi', [Brush.$, null], 'UnitsTextMargin:ip:hj', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'UnitsText:er:hk', [2, null], 'ValueFormatAbbreviation:an:hl', [DataAbbreviationMode_$type, enumGetBox(DataAbbreviationMode_$type, 0)], 'ValueFormatCulture:ex:hm', [2, stringEmpty()], 'ValueFormatCurrencyCode:ez:hn', [2, null], 'ValueFormatMaxFractions:ct:ho', [1, -1], 'ValueFormatMinFractions:cu:hp', [1, -1], 'ValueFormatMode:a3:hq', [DataLegendValueMode_$type, enumGetBox(DataLegendValueMode_$type, 0)], 'ValueFormatSpecifiers:ah:hr', [Array_$type, null], 'ValueFormatString:e5:hs', [2, null], 'ValueFormatUseGrouping:b3:ht', [0, true], 'ValueRowMargin:ir:hu', [Thickness.$, new Thickness(0, 5)], 'ValueRowVisible:b4:hv', [0, true], 'ValueTextColor:h9:hw', [Brush.$, null], 'ValueTextMargin:is:hx', [Thickness.$, new Thickness(1, 2, 0, 2, 0)], 'ValueTextUseSeriesColors:b5:hy', [0, false], 'ValueTextWhenMissingData:fe:hz', [2, \"N/A\"]]);\n    return XamDataLegend;\n}(Control));\nexport { XamDataLegend };\n/**\n * @hidden\n */\nvar DataLegendView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendView, _super);\n    function DataLegendView(a) {\n        var _this = _super.call(this) || this;\n        _this.z = null;\n        _this.ab = null;\n        _this.ad = null;\n        _this.ac = null;\n        _this.aa = null;\n        _this.o = null;\n        _this.q = null;\n        _this.s = null;\n        _this.r = null;\n        _this.p = null;\n        _this.a = null;\n        _this.ai = null;\n        _this.ah = null;\n        _this.t = null;\n        _this.b = null;\n        _this.ae = 1;\n        _this.ak = -1;\n        _this.aj = -1;\n        _this.x = new Dictionary$2(FontInfo.$, Tuple$2.$.specialize(Number_$type, FontInfo.$), 0);\n        _this.v = false;\n        _this.y = new List$1(FrameworkElement.$, 0);\n        _this.af = 0;\n        _this.f = null;\n        _this.h = null;\n        _this.g = null;\n        _this.d = null;\n        _this.e = null;\n        _this.c = null;\n        _this.u = null;\n        _this.a = a;\n        _this.q = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bl);\n            $ret.activate = runOn(_this, _this.ba);\n            $ret.disactivate = runOn(_this, _this.bc);\n            $ret.destroy = runOn(_this, _this.bb);\n            return $ret;\n        })());\n        _this.s = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bn);\n            $ret.activate = runOn(_this, _this.bg);\n            $ret.disactivate = runOn(_this, _this.bi);\n            $ret.destroy = runOn(_this, _this.bh);\n            return $ret;\n        })());\n        _this.r = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bm);\n            $ret.activate = runOn(_this, _this.bd);\n            $ret.disactivate = runOn(_this, _this.bf);\n            $ret.destroy = runOn(_this, _this.be);\n            return $ret;\n        })());\n        _this.p = ((function () {\n            var $ret = new Pool$1(ContentControl.$);\n            $ret.create = runOn(_this, _this.bj);\n            $ret.activate = runOn(_this, _this.ay);\n            $ret.disactivate = runOn(_this, _this.a0);\n            $ret.destroy = runOn(_this, _this.az);\n            return $ret;\n        })());\n        _this.o = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bk);\n            $ret.activate = runOn(_this, _this.av);\n            $ret.disactivate = runOn(_this, _this.ax);\n            $ret.destroy = runOn(_this, _this.aw);\n            return $ret;\n        })());\n        _this.z = new List$1(TextBlock.$, 0);\n        _this.ab = new List$1(TextBlock.$, 0);\n        _this.ad = new List$1(TextBlock.$, 0);\n        _this.ac = new List$1(TextBlock.$, 0);\n        _this.aa = new List$1(ContentControl.$, 0);\n        return _this;\n    }\n    DataLegendView.prototype.ar = function () {\n        this.a.fo();\n    };\n    DataLegendView.prototype.bl = function () {\n        var a = new TextBlock();\n        this.ab.add(a);\n        return a;\n    };\n    DataLegendView.prototype.ba = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bc = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.bb = function (a) {\n        this.ab.remove(a);\n    };\n    DataLegendView.prototype.bn = function () {\n        var a = new TextBlock();\n        this.ad.add(a);\n        return a;\n    };\n    DataLegendView.prototype.bg = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bi = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.bh = function (a) {\n        this.ad.remove(a);\n    };\n    DataLegendView.prototype.bm = function () {\n        var a = new TextBlock();\n        this.ac.add(a);\n        return a;\n    };\n    DataLegendView.prototype.bd = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bf = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.be = function (a) {\n        this.ac.remove(a);\n    };\n    DataLegendView.prototype.bk = function () {\n        var a = new TextBlock();\n        this.z.add(a);\n        return a;\n    };\n    DataLegendView.prototype.av = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.ax = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.aw = function (a) {\n        this.z.remove(a);\n    };\n    DataLegendView.prototype.bj = function () {\n        var a = new ContentControl();\n        this.aa.add(a);\n        return a;\n    };\n    DataLegendView.prototype.ay = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.a0 = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.az = function (a) {\n    };\n    DataLegendView.prototype.au = function () {\n        var a = this.a.pixelScalingRatio;\n        var b = this.a.cn;\n        if (!isNaN_(a) && a != 0) {\n            return;\n        }\n        if (window.devicePixelRatio != undefined && window.devicePixelRatio != b) {\n            this.a.cn = window.devicePixelRatio;\n        }\n    };\n    DataLegendView.prototype.a3 = function () {\n        this.au();\n        var a = Math.round(this.ah.rootWrapper.width());\n        var b = Math.round(this.ah.rootWrapper.height());\n        this.a.ib = new Rect(0, 0, 0, a, b);\n        if (this.b != null) {\n            this.b.bl = this.a.ib;\n        }\n        this.a.f2();\n    };\n    DataLegendView.prototype.al = function () {\n        if (this.b != null) {\n            this.b.ao = null;\n            this.b.av();\n        }\n    };\n    DataLegendView.prototype.a2 = function (a) {\n        if (a == null) {\n            this.ai = null;\n            this.ah = null;\n            this.t = null;\n            this.al();\n            return;\n        }\n        this.ae = (isNaN_(this.a.pixelScalingRatio) ? this.a.cn : this.a.pixelScalingRatio);\n        var b = a;\n        this.ah = b;\n        var c = this.ae;\n        var d = Math.round(b.rootWrapper.width());\n        var e = Math.round(b.rootWrapper.height());\n        var f = d * c;\n        var g = e * c;\n        this.ah.rootWrapper.setStyleProperty(\"position\", \"relative\");\n        var h = this.ah.createElement(\"canvas\");\n        h.setStyleProperty(\"position\", \"absolute\");\n        this.ah.append(h);\n        this.ak = truncate(Math.round(f));\n        this.aj = truncate(Math.round(g));\n        h.setAttribute(\"width\", f.toString());\n        h.setAttribute(\"height\", g.toString());\n        h.setStyleProperty(\"width\", d.toString() + \"px\");\n        h.setStyleProperty(\"height\", e.toString() + \"px\");\n        this.a.ib = new Rect(0, 0, 0, d, e);\n        this.ai = h;\n        var i = this.ah.get2DCanvasContext(this.ai);\n        this.t = new RenderingContext(new CanvasViewRenderer(), i);\n        this.al();\n        if (TypeRegistrar.isRegistered(\"CanvasGestureDOMEventProxy\")) {\n            this.b = typeCast(EventProxy.$, TypeRegistrar.create(\"CanvasGestureDOMEventProxy\", this.ah.rootWrapper, this.ah, false));\n        }\n        if (this.b != null) {\n        }\n    };\n    DataLegendView.prototype.at = function (a, b) {\n        this.a3();\n    };\n    DataLegendView.prototype.as = function (a) {\n    };\n    DataLegendView.prototype.a6 = function () {\n        var a = this.a.ib.width;\n        var b = this.a.ib.height;\n        var c = Math.round(a * this.ae);\n        var d = Math.round(b * this.ae);\n        if (this.ak != c || this.aj != d) {\n            this.ai.setAttribute(\"width\", c.toString());\n            this.ai.setAttribute(\"height\", d.toString());\n            this.ai.setStyleProperty(\"width\", a.toString() + \"px\");\n            this.ai.setStyleProperty(\"height\", b.toString() + \"px\");\n            this.ak = truncate(Math.round(c));\n            this.aj = truncate(Math.round(d));\n        }\n        this.a7(this.t, this.ae);\n    };\n    DataLegendView.prototype.a7 = function (a, b) {\n        if (a.d && b != 1) {\n            a.z();\n            a.aa(b, b);\n        }\n        if (a == this.t) {\n            a.k(this.a.ib.left, this.a.ib.top, this.a.ib.width, this.a.ib.height);\n        }\n        var c = new DataTemplatePassInfo();\n        c.passID = \"LegendItem\";\n        for (var d = 0; d < this.aa.count; d++) {\n            var e = this.aa._inner[d];\n            if (e == null) {\n                continue;\n            }\n            var f = e.ah;\n            if (f == null) {\n                continue;\n            }\n            var g = new DataTemplateMeasureInfo();\n            g.passInfo = c;\n            g.context = this.t.g();\n            g.width = e.width;\n            g.height = e.height;\n            g.data = e.content;\n            g.renderContext = a;\n            f.measure(g);\n            var h = new DataTemplateRenderInfo();\n            h.availableWidth = e.width;\n            h.availableHeight = e.height;\n            h.passInfo = c;\n            h.context = a.g();\n            h.renderContext = a;\n            h.data = e.content;\n            h.xPosition = e.n;\n            h.yPosition = e.o;\n            a.z();\n            a.af(e.n, e.o);\n            f.render(h);\n            a.y();\n        }\n        for (var i = 0; i < this.ab.count; i++) {\n            var j = this.ab._inner[i];\n            a.ac(j.dataContext);\n            a.w(j);\n        }\n        for (var k = 0; k < this.z.count; k++) {\n            var l = this.z._inner[k];\n            a.ac(l.dataContext);\n            a.w(l);\n        }\n        for (var m = 0; m < this.ad.count; m++) {\n            var n = this.ad._inner[m];\n            a.ac(n.dataContext);\n            a.w(n);\n        }\n        for (var o = 0; o < this.ac.count; o++) {\n            var p = this.ac._inner[o];\n            a.ac(p.dataContext);\n            a.w(p);\n        }\n        if (a.d && b != 1) {\n            a.y();\n        }\n    };\n    DataLegendView.prototype.w = function () {\n        if (this.ah != null) {\n            this.ah.setTimeout(runOn(this.a, this.a.fo), 0);\n            return true;\n        }\n        return false;\n    };\n    DataLegendView.prototype.bu = function (a, b) {\n        this.t.ac(b);\n        var c = new TextBlock();\n        c.al = a;\n        var d = this.t.ag(c, this.ag(b), true);\n        return new Size(1, d.c, d.b);\n    };\n    DataLegendView.prototype.ag = function (a) {\n        if (this.x.containsKey(a)) {\n            var b = this.x.item(a);\n            if (b.d.g == a.g) {\n                return b.c;\n            }\n        }\n        var c = FontUtil.getCurrentFontHeight(this.ah, a);\n        var d = new Tuple$2(Number_$type, FontInfo.$, c, a);\n        this.x.item(a, d);\n        return c;\n    };\n    DataLegendView.prototype.a8 = function (a, b, c) {\n        if (this.v) {\n            this.y.add(a);\n        }\n        a.n = b;\n        a.o = c;\n    };\n    DataLegendView.prototype.aq = function (a) {\n        this.a6();\n    };\n    DataLegendView.prototype.ao = function (a, b) {\n        a.dataContext = b;\n    };\n    DataLegendView.prototype.bt = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.br = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bs = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bp = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bq = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bo = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.l = function () {\n        if (this.f == null) {\n            this.f = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.f;\n    };\n    DataLegendView.prototype.n = function () {\n        if (this.h == null) {\n            this.h = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.h;\n    };\n    DataLegendView.prototype.m = function () {\n        if (this.g == null) {\n            this.g = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.g;\n    };\n    DataLegendView.prototype.j = function () {\n        if (this.d == null) {\n            this.d = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.d;\n    };\n    DataLegendView.prototype.k = function () {\n        if (this.e == null) {\n            this.e = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.e;\n    };\n    DataLegendView.prototype.i = function () {\n        if (this.c == null) {\n            this.c = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendHeaderFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.c;\n    };\n    DataLegendView.prototype.am = function (a, b) {\n        var model_ = this.a;\n        var ext_ = model_.externalObject;\n        if (ext_ != null) {\n            var width_ = a;\n            var height_ = b;\n            this.ah.rootWrapper.setStyleProperty(\"min-height\", b + \"px\");\n            this.ah.rootWrapper.setStyleProperty(\"min-width\", a + \"px\");\n            this.a.notifySizeChanged();\n        }\n    };\n    DataLegendView.prototype.a5 = function (a) {\n        this.ae = a;\n    };\n    DataLegendView.prototype.a1 = function () {\n        if (this.b != null) {\n            this.b.at(this.ai, \"\");\n        }\n    };\n    DataLegendView.prototype.a4 = function () {\n        if (this.b != null) {\n            this.b.bh(this.ai, \"\");\n        }\n    };\n    DataLegendView.prototype.ap = function (a, b) {\n        a.ag = true;\n        var c = this.t.ag(a, this.ag(b), true);\n    };\n    DataLegendView.prototype.a9 = function () {\n        this.y.clear();\n        this.v = true;\n        this.af = 0;\n    };\n    DataLegendView.prototype.an = function () {\n        for (var a = 0; a < this.y.count; a++) {\n            this.af = Math.max(this.af, this.y._inner[a].ah);\n        }\n        if (this.af > 0) {\n            for (var b = 0; b < this.y.count; b++) {\n                this.y._inner[b].ah = this.af;\n            }\n        }\n        this.v = false;\n        this.af = 0;\n    };\n    DataLegendView.$t = markType(DataLegendView, 'DataLegendView');\n    return DataLegendView;\n}(Base));\nexport { DataLegendView };\n"]},"metadata":{},"sourceType":"module"}