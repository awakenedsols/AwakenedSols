{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, Point_$type, typeCast, markType, PointUtil } from \"./type\";\nimport { IRenderer_$type } from \"./IRenderer\";\nimport { Brush } from \"./Brush\";\nimport { List$1 } from \"./List$1\";\nimport { ArcSegment } from \"./ArcSegment\";\nimport { Size } from \"./Size\";\nimport { CoreGeometryUtil } from \"./CoreGeometryUtil\";\nimport { TransformGroup } from \"./TransformGroup\";\nimport { TranslateTransform } from \"./TranslateTransform\";\nimport { RotateTransform } from \"./RotateTransform\";\nimport { ScaleTransform } from \"./ScaleTransform\";\nimport { TextFontMetrics } from \"./TextFontMetrics\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar CanvasViewRenderer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CanvasViewRenderer, _super);\n\n  function CanvasViewRenderer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.j = null;\n    _this.h = 0;\n    _this.f = 0;\n    _this.i = 0;\n    _this.g = 0;\n    _this.b = false;\n    _this.c = false;\n    _this.aa = null;\n    _this.m = \"left\";\n    _this.a = null;\n    _this.d = 11;\n    _this.e = 1;\n    return _this;\n  }\n\n  CanvasViewRenderer.prototype.h$e = function () {\n    return this.j;\n  };\n\n  Object.defineProperty(CanvasViewRenderer.prototype, \"h$d\", {\n    get: function () {\n      return this.j;\n    },\n    set: function (a) {\n      this.j = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CanvasViewRenderer.prototype.l = function (a, b, c, d, e, f, g) {\n    return CanvasViewRenderer.k(this.j, a, b, c, d, e, f, g);\n  };\n\n  CanvasViewRenderer.k = function (a, b, c, d, e, f, g, h) {\n    var i;\n\n    if (b.useCustomDirection) {\n      var j = void 0,\n          k = void 0,\n          l = void 0,\n          m = void 0,\n          n = void 0;\n      n = e - c;\n      j = c + b.startX * n;\n      l = c + b.endX * n;\n      n = f - d;\n      k = d + b.startY * n;\n      m = d + b.endY * n;\n\n      if (h) {\n        var o = g / 2;\n        j -= o;\n        l += o;\n        k -= o;\n        m += o;\n      }\n\n      i = a.createLinearGradient(j, k, l, m);\n    } else {\n      if (h) {\n        var p = g / 2;\n        c -= p;\n        e += p;\n        d -= p;\n        f += p;\n      }\n\n      i = a.createLinearGradient(c, d, c, f);\n    }\n\n    for (var q = 0; q < b.gradientStops.length; q++) {\n      var r = b.gradientStops[q];\n      i.addColorStop(r.offset, r._fill);\n    }\n\n    return i;\n  };\n\n  CanvasViewRenderer.prototype.h$t = function (a) {\n    if (a._visibility != 0) {\n      return;\n    }\n\n    var b = a.n;\n    var c = a.o;\n    var d = a.width;\n    var e = a.height;\n    var f = a.am;\n    var g = a.an;\n    this.j.beginPath();\n    this.j.globalAlpha = a._opacity * this.e;\n\n    if (f > 0 || g > 0) {\n      if (f > d / 2) {\n        f = d / 2;\n      }\n\n      if (g > e / 2) {\n        g = e / 2;\n      }\n\n      var h = Math.min(f, g);\n      this.j.beginPath();\n      this.j.moveTo(b + h, c);\n      this.j.lineTo(b + d - h, c);\n      this.j.arc(b + d - h, c + h, h, 3 / 2 * Math.PI, 0, false);\n      this.j.lineTo(b + d, c + e - h);\n      this.j.arc(b + d - h, c + e - h, h, 0, Math.PI / 2, false);\n      this.j.lineTo(b + h, c + e);\n      this.j.arc(b + h, c + e - h, h, Math.PI / 2, Math.PI, false);\n      this.j.lineTo(b, c + h);\n      this.j.arc(b + h, c + h, h, Math.PI, 3 / 2 * Math.PI, false);\n      this.j.closePath();\n    } else {\n      this.j.rect(b, c, d, e);\n    }\n\n    var i = a._fill;\n    var j = a._stroke;\n\n    if (i != null) {\n      if (i.isGradient && c == c && b == b) {\n        this.j.fillStyle = this.l(i, b, c, b + d, c + e, a.ac, false);\n      } else {\n        this.j.fillStyle = i._fill;\n      }\n\n      this.j.fill();\n    }\n\n    if (j != null) {\n      if (j.isGradient && c == c && b == b) {\n        this.j.strokeStyle = this.l(j, b, c, b + d, c + e, a.ac, true);\n      } else {\n        this.j.strokeStyle = j._fill;\n      }\n\n      this.j.lineWidth = a.ac;\n      this.j.stroke();\n    }\n\n    this.j.globalAlpha = 1;\n  };\n\n  CanvasViewRenderer.prototype.h$q = function (a) {\n    if (a._visibility != 0) {\n      return;\n    }\n\n    this.j.beginPath();\n\n    if (a._opacity < 1 || this.e < 1) {\n      this.j.globalAlpha = a._opacity * this.e;\n    }\n\n    var b = a._fill;\n    var c = a._stroke;\n    this.b = b != null && b.isGradient || c != null && c.isGradient;\n\n    if (this.b) {\n      this.f = -1.7976931348623157E+308;\n      this.g = -1.7976931348623157E+308;\n      this.h = 1.7976931348623157E+308;\n      this.i = 1.7976931348623157E+308;\n      this.c = false;\n    }\n\n    switch (a.aj) {\n      case 0:\n        this.j.lineJoin = \"miter\";\n        break;\n\n      case 1:\n        this.j.lineJoin = \"bevel\";\n        break;\n\n      case 2:\n        this.j.lineJoin = \"round\";\n        break;\n    }\n\n    this.h$o(a.ak);\n\n    if (b != null) {\n      if (b.isGradient && this.c) {\n        this.j.fillStyle = this.l(b, this.h, this.i, this.f, this.g, a.ac, false);\n      } else {\n        this.j.fillStyle = a._fill._fill;\n      }\n\n      this.j.fill();\n    }\n\n    if (c != null) {\n      if (c.isGradient && this.c) {\n        this.j.strokeStyle = this.l(c, this.h, this.i, this.f, this.g, a.ac, true);\n      } else {\n        this.j.strokeStyle = a._stroke._fill;\n      }\n\n      this.j.lineWidth = a.ac;\n\n      if (a.ac > 0) {\n        this.j.stroke();\n      }\n    }\n\n    if (a._opacity < 1 || this.e < 1) {\n      this.j.globalAlpha = 1;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$o = function (a) {\n    if (a == null) {\n      return;\n    }\n\n    var b = a.b;\n\n    switch (b) {\n      case 0:\n        for (var c = 0; c < a.d.count; c++) {\n          this.h$o(a.d._inner[c]);\n        }\n\n        break;\n\n      case 4:\n        this.t(a);\n        break;\n\n      case 1:\n        this.r(a);\n        break;\n\n      case 2:\n        this.w(a);\n        break;\n\n      case 3:\n        this.p(a);\n        break;\n    }\n  };\n\n  CanvasViewRenderer.prototype.p = function (a) {\n    this.j.moveTo(a.e.x, a.e.y - a.d);\n    this.aa = {\n      $type: Point_$type,\n      x: a.e.x,\n      y: a.e.y - a.d\n    };\n\n    var b = function () {\n      var $ret = new ArcSegment();\n      $ret.e = {\n        $type: Point_$type,\n        x: a.e.x,\n        y: a.e.y + a.d\n      };\n      $ret.b = false;\n      $ret.f = new Size(1, a.c, a.d);\n      return $ret;\n    }();\n\n    var c = function () {\n      var $ret = new ArcSegment();\n      $ret.e = {\n        $type: Point_$type,\n        x: a.e.x,\n        y: a.e.y - a.d\n      };\n      $ret.b = false;\n      $ret.f = new Size(1, a.c, a.d);\n      return $ret;\n    }();\n\n    var d = this.b;\n    this.b = false;\n    this.n(b);\n    this.n(c);\n    this.b = d;\n\n    if (!this.b) {\n      return;\n    }\n\n    var e = a.e.x - a.c;\n    var f = a.e.y + a.c;\n    var g = a.e.x - a.d;\n    var h = a.e.y + a.d;\n    var i = this.f;\n    var j = this.g;\n    var k = this.h;\n    var l = this.i;\n    this.h = e < k ? e : k;\n    this.i = g < l ? g : l;\n    this.f = f > i ? f : i;\n    this.g = h > j ? h : j;\n    this.c = true;\n  };\n\n  CanvasViewRenderer.prototype.t = function (a) {\n    var b = a.c;\n    var c = b.count;\n\n    for (var d = 0; d < c; d++) {\n      this.q(b._inner[d]);\n    }\n  };\n\n  CanvasViewRenderer.prototype.q = function (a) {\n    var b = a == null ? null : a._startPoint;\n\n    if (PointUtil.equals(b, null)) {\n      return;\n    }\n\n    var c = b.x;\n    var d = b.y;\n    this.j.moveTo(c, d);\n\n    if (this.b) {\n      var e = this.f;\n      var f = this.g;\n      var g = this.h;\n      var h = this.i;\n      this.h = c < g ? c : g;\n      this.i = d < h ? d : h;\n      this.f = c > e ? c : e;\n      this.g = d > f ? d : f;\n      this.c = true;\n    }\n\n    this.aa = b;\n    var i = a._segments;\n    var j = i.count;\n\n    for (var k = 0; k < j; k++) {\n      this.x(i._inner[k]);\n    }\n\n    if (a._isClosed) {\n      this.j.closePath();\n    }\n  };\n\n  CanvasViewRenderer.prototype.x = function (a) {\n    var b = a.a;\n\n    switch (b) {\n      case 0:\n        this.s(a);\n        break;\n\n      case 3:\n        this.v(a);\n        break;\n\n      case 4:\n        this.n(a);\n        break;\n\n      case 1:\n        this.o(a);\n        break;\n\n      case 2:\n        this.u(a);\n        break;\n    }\n  };\n\n  CanvasViewRenderer.prototype.z = function (a, b, c, d, e, f, g, h) {\n    var i = 1 / 50;\n    var j;\n    var k;\n    var l;\n    var m;\n    var n;\n    var o;\n    var p;\n    var q = this.h;\n    var r = this.i;\n    var s = this.f;\n    var t = this.g;\n\n    for (var u = 0; u <= 1; u += i) {\n      j = 1 - u;\n      k = j * j;\n      l = k * j;\n      m = u * u;\n      n = m * u;\n      o = l * a + 3 * k * u * c + 3 * j * m * e + n * g;\n      p = l * b + 3 * k * u * d + 3 * j * m * f + n * h;\n      q = o < q ? o : q;\n      r = p < r ? p : r;\n      s = o > s ? o : s;\n      t = p > t ? p : t;\n    }\n\n    this.h = q;\n    this.i = r;\n    this.f = s;\n    this.g = t;\n    this.c = true;\n  };\n\n  CanvasViewRenderer.prototype.o = function (a) {\n    this.j.bezierCurveTo(a.e.x, a.e.y, a.f.x, a.f.y, a.g.x, a.g.y);\n\n    if (this.b) {\n      this.z(this.aa.x, this.aa.y, a.e.x, a.e.y, a.f.x, a.f.y, a.g.x, a.g.y);\n    }\n  };\n\n  CanvasViewRenderer.prototype.u = function (a) {\n    var b = 0;\n    var c = a.b.count;\n    var d = a.b;\n    var e = this.aa;\n    var f = this.aa;\n    var g = this.aa;\n    var h = this.b;\n\n    while (b < c) {\n      if (b + 1 < c && b + 2 < c) {\n        e = d._inner[b];\n        f = d._inner[b + 1];\n        g = d._inner[b + 2];\n        this.j.bezierCurveTo(e.x, e.y, f.x, f.y, g.x, g.y);\n\n        if (h) {\n          this.z(this.aa.x, this.aa.y, e.x, e.y, f.x, f.y, g.x, g.y);\n          this.aa = g;\n        }\n      }\n\n      b = b + 3;\n    }\n\n    this.aa = g;\n  };\n\n  CanvasViewRenderer.prototype.y = function (a, b, c, d, e) {\n    var f = new List$1(Point_$type, 0);\n    f.add(a);\n    f.add({\n      $type: Point_$type,\n      x: a.x + Math.cos(b) * d,\n      y: a.y + Math.sin(b) * d\n    });\n    f.add({\n      $type: Point_$type,\n      x: a.x + Math.cos(c) * d,\n      y: a.y + Math.sin(c) * d\n    });\n    var g = Math.PI * 2;\n    var h = Math.PI / 2;\n    var i = Math.PI;\n    var j = Math.PI * 3 / 2;\n\n    while (b < 0) {\n      b += g;\n    }\n\n    while (b > g) {\n      b -= g;\n    }\n\n    while (c < 0) {\n      c += g;\n    }\n\n    while (c > g) {\n      c -= g;\n    }\n\n    if (e) {\n      if (0 > c && 0 < b || g > c && g < b || b < c) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(0) * d,\n          y: a.y + Math.sin(0) * d\n        });\n      }\n\n      if (h > c && h < b) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(h) * d,\n          y: a.y + Math.sin(h) * d\n        });\n      }\n\n      if (i > c && i < b) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(i) * d,\n          y: a.y + Math.sin(i) * d\n        });\n      }\n\n      if (j > c && j < b) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(j) * d,\n          y: a.y + Math.sin(j) * d\n        });\n      }\n    } else {\n      if (0 > b && 0 < c || g > b && g < c || c < b) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(0) * d,\n          y: a.y + Math.sin(0) * d\n        });\n      }\n\n      if (h > b && h < c) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(h) * d,\n          y: a.y + Math.sin(h) * d\n        });\n      }\n\n      if (i > b && i < c) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(i) * d,\n          y: a.y + Math.sin(i) * d\n        });\n      }\n\n      if (j > b && j < c) {\n        f.add({\n          $type: Point_$type,\n          x: a.x + Math.cos(j) * d,\n          y: a.y + Math.sin(j) * d\n        });\n      }\n    }\n\n    var k = 1.7976931348623157E+308;\n    var l = 1.7976931348623157E+308;\n    var m = -1.7976931348623157E+308;\n    var n = -1.7976931348623157E+308;\n\n    for (var o = 0; o < f.count; o++) {\n      var p = f._inner[o];\n      k = Math.min(k, p.x);\n      l = Math.min(l, p.y);\n      m = Math.max(m, p.x);\n      n = Math.max(n, p.y);\n    }\n\n    this.h = Math.min(this.h, k);\n    this.i = Math.min(this.i, l);\n    this.f = Math.max(this.f, m);\n    this.g = Math.max(this.g, n);\n    this.c = true;\n  };\n\n  CanvasViewRenderer.prototype.n = function (a) {\n    var b = this.aa;\n    var c = a.e;\n\n    if (a.f.width != a.f.height) {\n      this.j.save();\n      this.j.scale(a.f.width / a.f.height, 1);\n      b = {\n        $type: Point_$type,\n        x: b.x * (a.f.height / a.f.width),\n        y: b.y\n      };\n      c = {\n        $type: Point_$type,\n        x: c.x * (a.f.height / a.f.width),\n        y: c.y\n      };\n    }\n\n    var d = a.d == 0;\n    var e = CoreGeometryUtil.b(b, c, a.f.height, d, a.b);\n    var f = Math.atan2(b.y - e.y, b.x - e.x);\n    var g = Math.atan2(c.y - e.y, c.x - e.x);\n    var h = Math.abs(g - f) < Math.PI;\n\n    if (a.b == h) {\n      if (f < g) {\n        f += 2 * Math.PI;\n      } else {\n        g += 2 * Math.PI;\n      }\n    }\n\n    if (!isNaN_(e.x) && !isNaN_(e.y) && !isNaN_(a.f.height) && !isNaN_(f) && !isNaN_(g)) {\n      this.j.arc(e.x, e.y, a.f.height, f, g, d);\n\n      if (this.b) {\n        this.y(e, f, g, a.f.height, d);\n      }\n    }\n\n    this.aa = a.e;\n\n    if (a.f.width != a.f.height) {\n      this.j.restore();\n    }\n  };\n\n  CanvasViewRenderer.prototype.s = function (a) {\n    var b = a.c.x;\n    var c = a.c.y;\n    this.j.lineTo(b, c);\n    this.aa = a.c;\n\n    if (this.b) {\n      var d = this.f;\n      var e = this.g;\n      var f = this.h;\n      var g = this.i;\n      this.h = b < f ? b : f;\n      this.i = c < g ? c : g;\n      this.f = b > d ? b : d;\n      this.g = c > e ? c : e;\n      this.c = true;\n    }\n  };\n\n  CanvasViewRenderer.prototype.v = function (a) {\n    var b = a._points;\n    var c = b.count;\n\n    if (this.b) {\n      var d = this.h;\n      var e = this.i;\n      var f = this.f;\n      var g = this.g;\n      var h = void 0;\n      var i = void 0;\n\n      for (var j = 0; j < c; j++) {\n        h = b._inner[j].x;\n        i = b._inner[j].y;\n        this.j.lineTo(h, i);\n        d = h < d ? h : d;\n        e = i < e ? i : e;\n        f = h > f ? h : f;\n        g = i > g ? i : g;\n      }\n\n      this.h = d;\n      this.i = e;\n      this.f = f;\n      this.g = g;\n      this.c = true;\n    } else {\n      for (var k = 0; k < c; k++) {\n        this.j.lineTo(b._inner[k].x, b._inner[k].y);\n      }\n    }\n\n    this.aa = a._points._inner[c - 1];\n  };\n\n  CanvasViewRenderer.prototype.w = function (a) {\n    this.j.rect(a.e.left, a.e.top, a.e.width, a.e.height);\n\n    if (this.b) {\n      var b = a.e;\n      var c = this.h;\n      var d = this.i;\n      var e = this.f;\n      var f = this.g;\n      var g = b.left;\n      var h = b.right;\n      var i = b.top;\n      var j = b.bottom;\n      this.h = g < c ? g : c;\n      this.i = i < d ? i : d;\n      this.f = h > e ? h : e;\n      this.g = j > f ? j : f;\n      this.c = true;\n    }\n  };\n\n  CanvasViewRenderer.prototype.r = function (a) {\n    this.j.moveTo(a.d.x, a.d.y);\n    this.j.lineTo(a.c.x, a.c.y);\n\n    if (this.b) {\n      var b = a.d;\n      var c = a.c;\n      var d = this.h;\n      var e = this.i;\n      var f = this.f;\n      var g = this.g;\n      var h = b.x < c.x ? b.x : c.x;\n      var i = b.x > c.x ? b.x : c.x;\n      var j = b.y < c.y ? b.y : c.y;\n      var k = b.y > c.y ? b.y : c.y;\n      this.h = h < d ? h : d;\n      this.i = j < e ? j : e;\n      this.f = i > f ? i : f;\n      this.g = k > g ? k : g;\n      this.c = true;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$u = function (a) {\n    if (a._visibility == 0 && a.al != null) {\n      if (a._opacity < 1 || this.e < 1) {\n        this.j.globalAlpha = a._opacity * this.e;\n      }\n\n      var def_ = this.m;\n      var con_ = this.j;\n      con_.textAlign = def_;\n      this.j.fillStyle = a.ao != null ? a.ao._fill : null;\n\n      if (a.ag) {\n        this.j.textBaseline = \"alphabetic\";\n        this.j.fillText(a.al, a.n, a.o + a.ah);\n      } else {\n        this.j.textBaseline = \"top\";\n        this.j.fillText(a.al, a.n, a.o);\n      }\n\n      if (a._opacity < 1 || this.e < 1) {\n        this.j.globalAlpha = 1;\n      }\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$v = function (a, b, c) {\n    if (a._visibility == 0) {\n      if (a._opacity < 1 || this.e < 1) {\n        this.j.globalAlpha = a._opacity * this.e;\n      }\n\n      var d = b.left + b.width / 2;\n      var e = a.al.split(' ');\n      this.j.fillStyle = a.ao._fill;\n      this.j.textBaseline = \"top\";\n      this.j.textAlign = \"center\";\n      var f = b.width;\n      var g = b.height;\n      var h = b.top;\n      var i = \"\";\n\n      for (var j = 0; j < e.length; j++) {\n        var k = i + e[j];\n        var l = this.j.measureText(k);\n\n        if (l.width > f) {\n          if (i != null) {\n            this.j.fillText(i, d, h);\n          }\n\n          i = \"\";\n          h = h + c;\n        }\n\n        i = i + e[j] + \" \";\n      }\n\n      if (i != null) {\n        this.j.fillText(i, d, h);\n      }\n\n      if (a._opacity < 1 || this.e < 1) {\n        this.j.globalAlpha = 1;\n      }\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$r = function (a) {\n    if (a.ak == null || a.ak.count < 1) {\n      return;\n    }\n\n    this.j.beginPath();\n    this.j.globalAlpha = a._opacity * this.e;\n    var b = a.ak;\n    var c = b._inner[0];\n    var d = a._fill;\n    var e = a._stroke;\n    this.b = d != null && d.isGradient || e != null && e.isGradient;\n\n    if (this.b) {\n      var f = 1.7976931348623157E+308;\n      var g = -1.7976931348623157E+308;\n      var h = 1.7976931348623157E+308;\n      var i = -1.7976931348623157E+308;\n      var j = c.x;\n      var k = c.y;\n      f = j < f ? j : f;\n      h = k < h ? k : h;\n      g = j > g ? j : g;\n      i = k > i ? k : i;\n      this.j.moveTo(j, k);\n\n      for (var l = 1; l < b.count; l++) {\n        j = b._inner[l].x;\n        k = b._inner[l].y;\n        this.j.lineTo(j, k);\n        f = j < f ? j : f;\n        h = k < h ? k : h;\n        g = j > g ? j : g;\n        i = k > i ? k : i;\n      }\n\n      this.j.closePath();\n      this.h = f;\n      this.i = h;\n      this.f = g;\n      this.g = i;\n    } else {\n      this.j.moveTo(c.x, c.y);\n\n      for (var m = 1; m < b.count; m++) {\n        this.j.lineTo(b._inner[m].x, b._inner[m].y);\n      }\n\n      this.j.closePath();\n    }\n\n    if (d != null) {\n      if (d.isGradient) {\n        this.j.fillStyle = this.l(d, this.h, this.i, this.f, this.g, a.ac, false);\n      } else {\n        this.j.fillStyle = d._fill;\n      }\n\n      this.j.fill();\n    }\n\n    if (e != null) {\n      if (e.isGradient) {\n        this.j.strokeStyle = this.l(e, this.h, this.i, this.f, this.g, a.ac, true);\n      } else {\n        this.j.strokeStyle = e._fill;\n      }\n\n      this.j.lineWidth = a.ac;\n      this.j.stroke();\n    }\n\n    this.j.globalAlpha = 1;\n  };\n\n  CanvasViewRenderer.prototype.h$s = function (a) {\n    if (a.ak == null || a.ak.count < 1) {\n      return;\n    }\n\n    this.j.beginPath();\n    this.j.globalAlpha = a._opacity * this.e;\n    var b = a.ak;\n    var c = b._inner[0];\n    var d = a._fill;\n    var e = a._stroke;\n    this.b = d != null && d.isGradient || e != null && e.isGradient;\n\n    if (this.b) {\n      var f = 1.7976931348623157E+308;\n      var g = -1.7976931348623157E+308;\n      var h = 1.7976931348623157E+308;\n      var i = -1.7976931348623157E+308;\n      var j = c.x;\n      var k = c.y;\n      f = j < f ? j : f;\n      h = k < h ? k : h;\n      g = j > g ? j : g;\n      i = k > i ? k : i;\n      this.j.moveTo(j, k);\n\n      for (var l = 1; l < b.count; l++) {\n        j = b._inner[l].x;\n        k = b._inner[l].y;\n        this.j.lineTo(j, k);\n        f = j < f ? j : f;\n        h = k < h ? k : h;\n        g = j > g ? j : g;\n        i = k > i ? k : i;\n      }\n\n      this.h = f;\n      this.i = h;\n      this.f = g;\n      this.g = i;\n    } else {\n      this.j.moveTo(c.x, c.y);\n\n      for (var m = 1; m < b.count; m++) {\n        this.j.lineTo(b._inner[m].x, b._inner[m].y);\n      }\n    }\n\n    if (d != null) {\n      if (d.isGradient) {\n        this.j.fillStyle = this.l(d, this.h, this.i, this.f, this.g, a.ac, false);\n      } else {\n        this.j.fillStyle = d._fill;\n      }\n\n      this.j.fill();\n    }\n\n    if (e != null) {\n      if (e.isGradient) {\n        this.j.strokeStyle = this.l(e, this.h, this.i, this.f, this.g, a.ac, true);\n      } else {\n        this.j.strokeStyle = e._fill;\n      }\n\n      this.j.lineWidth = a.ac;\n      this.j.stroke();\n    }\n\n    this.j.globalAlpha = 1;\n  };\n\n  CanvasViewRenderer.prototype.h$n = function (a, b) {\n    if (b._visibility == 1) {\n      return;\n    }\n\n    if ((b._opacity != 1 || this.e != 1) && !a.isHitTestRender) {\n      this.j.globalAlpha = b._opacity * this.e;\n    }\n\n    var c = b.ah;\n\n    if (c != null && c.render != null) {\n      a.context = this.j;\n      a.xPosition = b.n;\n      a.yPosition = b.o;\n      a.data = b.content;\n      c.render(a);\n    }\n\n    this.j.globalAlpha = 1;\n  };\n\n  CanvasViewRenderer.prototype.h$h = function (a) {\n    if (typeCast(TransformGroup.$, a) !== null) {\n      var b = a;\n\n      for (var c = b.j.count - 1; c >= 0; c--) {\n        var d = b.j._inner[c];\n        this.h$h(d);\n      }\n    } else if (typeCast(TranslateTransform.$, a) !== null) {\n      var e = a;\n      this.j.translate(e.j, e.k);\n    } else if (typeCast(RotateTransform.$, a) !== null) {\n      var f = a;\n      var g = f.j * Math.PI / 180;\n      var h = Math.cos(g);\n      var i = Math.sin(g);\n      var j = f.k * (1 - h) + f.l * i;\n      var k = f.l * (1 - h) - f.k * i;\n      this.j.transform(h, i, i * -1, h, j, k);\n    } else if (typeCast(ScaleTransform.$, a) !== null) {\n      var l = a;\n      this.j.transform(l.l, 0, 0, l.m, l.j - l.l * l.j, l.k - l.m * l.k);\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$p = function (a) {\n    if (a._visibility != 0) {\n      return;\n    }\n\n    this.j.beginPath();\n    this.j.globalAlpha = a._opacity * this.e;\n    this.j.moveTo(a.ak, a.am);\n    this.j.lineTo(a.al, a.an);\n\n    if (this.b) {\n      this.h = 1.7976931348623157E+308;\n      this.f = -1.7976931348623157E+308;\n      this.i = 1.7976931348623157E+308;\n      this.g = -1.7976931348623157E+308;\n      var b = this.h;\n      var c = this.i;\n      var d = this.f;\n      var e = this.g;\n      var f = a.ak < a.al ? a.ak : a.al;\n      var g = a.ak > a.al ? a.ak : a.al;\n      var h = a.am < a.an ? a.am : a.an;\n      var i = a.am > a.an ? a.am : a.an;\n      this.h = f < b ? f : b;\n      this.i = h < c ? h : c;\n      this.f = g > d ? g : d;\n      this.g = i > e ? i : e;\n    }\n\n    var j = a._fill;\n    var k = a._stroke;\n\n    if (j != null) {\n      if (j.isGradient) {\n        this.j.fillStyle = this.l(j, this.h, this.i, this.f, this.f, a.ac, false);\n      } else {\n        this.j.fillStyle = j._fill;\n      }\n\n      this.j.fill();\n    }\n\n    if (k != null) {\n      if (k.isGradient) {\n        this.j.strokeStyle = this.l(k, this.h, this.i, this.f, this.f, a.ac, true);\n      } else {\n        this.j.strokeStyle = a._stroke._fill;\n      }\n\n      this.j.lineWidth = a.ac;\n      this.j.stroke();\n    }\n\n    this.j.globalAlpha = 1;\n  };\n\n  CanvasViewRenderer.prototype.h$ac = function (a) {\n    this.j.beginPath();\n    this.j.rect(a.left, a.top, a.width, a.height);\n    this.j.clip();\n  };\n\n  CanvasViewRenderer.prototype.h$x = function () {\n    this.j.save();\n  };\n\n  CanvasViewRenderer.prototype.h$w = function () {\n    this.j.restore();\n  };\n\n  CanvasViewRenderer.prototype.h$y = function (a, b) {\n    this.j.scale(a, b);\n  };\n\n  CanvasViewRenderer.prototype.h$ad = function (a, b) {\n    this.j.translate(a, b);\n  };\n\n  CanvasViewRenderer.prototype.h$i = function (a, b, c, d) {\n    this.j.clearRect(a, b, c, d);\n  };\n\n  CanvasViewRenderer.prototype.h$k = function (a, b, c, d, e, f) {\n    if (b != 1) {\n      this.j.globalAlpha = b * this.e;\n    }\n\n    this.j.drawImage(a, c, d, e, f);\n\n    if (b != 1) {\n      this.j.globalAlpha = 1;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$l = function (a, b, c, d, e, f, g, h, i, j) {\n    if (b != 1) {\n      this.j.globalAlpha = b * this.e;\n    }\n\n    this.j.drawImage(a, c, d, e, f, g, h, i, j);\n\n    if (b != 1) {\n      this.j.globalAlpha = 1;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$a = function (a, b) {\n    var c = this.j.getImageData(a, b, 1, 1);\n    var d = new Array(4);\n    d[0] = c.data[0];\n    d[1] = c.data[1];\n    d[2] = c.data[2];\n    d[3] = c.data[3];\n    return d;\n  };\n\n  CanvasViewRenderer.prototype.h$f = function () {\n    return this.j.font;\n  };\n\n  CanvasViewRenderer.prototype.h$b = function () {\n    return this.a;\n  };\n\n  CanvasViewRenderer.prototype.h$z = function (a) {\n    if (this.j.font != a) {\n      this.j.font = a;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$aa = function (a) {\n    this.a = a;\n\n    if (a != null) {\n      this.d = a.d;\n    }\n\n    var b = a != null ? a.fontString : null;\n\n    if (this.j.font != b) {\n      this.j.font = b;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$ae = function (a, b, c) {\n    this.j.textBaseline = \"alphabetic\";\n    var d = this.j.measureText(a);\n    var metrics_ = d;\n    var e = b;\n    var f = new TextFontMetrics();\n\n    if (metrics_.actualBoundingBoxAscent !== undefined) {\n      f.a = metrics_.actualBoundingBoxAscent;\n      e = metrics_.actualBoundingBoxAscent + metrics_.actualBoundingBoxDescent;\n\n      if (c) {\n        var g = b - e;\n        var h = g / 2;\n        f.a += h;\n        e += g;\n      }\n    }\n\n    f.c = d.width;\n    f.b = e;\n    return f;\n  };\n\n  CanvasViewRenderer.prototype.h$c = function (a) {\n    var b = this.j.measureText(a);\n    return b.width;\n  };\n\n  CanvasViewRenderer.prototype.h$ab = function (a) {\n    this.e = a;\n  };\n\n  CanvasViewRenderer.prototype.h$g = function (shape_, style_) {\n    if (style_ == null) {\n      return;\n    }\n\n    var fillColor_ = null;\n    var strokeColor_ = null;\n    var strokeThickness_ = NaN;\n    var opacity_ = NaN;\n    var s_ = style_;\n\n    if (s_.fill) {\n      fillColor_ = s_.fill;\n    }\n\n    ;\n\n    if (s_.stroke) {\n      strokeColor_ = s_.stroke;\n    }\n\n    ;\n\n    if (s_.strokeThickness) {\n      strokeThickness_ = s_.strokeThickness;\n    }\n\n    ;\n\n    if (s_.opacity) {\n      opacity_ = s_.opacity;\n    }\n\n    ;\n\n    if (fillColor_ != null) {\n      shape_._fill = function () {\n        var $ret = new Brush();\n        $ret.fill = fillColor_;\n        return $ret;\n      }();\n    }\n\n    if (strokeColor_ != null) {\n      shape_._stroke = function () {\n        var $ret = new Brush();\n        $ret.fill = strokeColor_;\n        return $ret;\n      }();\n    }\n\n    if (strokeThickness_ != undefined && !isNaN_(strokeThickness_)) {\n      shape_.ac = strokeThickness_;\n    }\n\n    if (!isNaN_(opacity_)) {\n      shape_._opacity = opacity_;\n    }\n  };\n\n  CanvasViewRenderer.prototype.h$m = function (a, b, c, d) {\n    this.j.shadowColor = a;\n    this.j.shadowBlur = b;\n    this.j.shadowOffsetX = c;\n    this.j.shadowOffsetY = d;\n  };\n\n  CanvasViewRenderer.prototype.h$j = function () {\n    this.j.shadowColor = \"rgba(0,0,0,0)\";\n    this.j.shadowBlur = 0;\n    this.j.shadowOffsetX = 0;\n    this.j.shadowOffsetY = 0;\n  };\n\n  CanvasViewRenderer.$t = markType(CanvasViewRenderer, 'CanvasViewRenderer', Base.$, [IRenderer_$type]);\n  return CanvasViewRenderer;\n}(Base);\n\nexport { CanvasViewRenderer };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/CanvasViewRenderer.js"],"names":["__extends","Base","Point_$type","typeCast","markType","PointUtil","IRenderer_$type","Brush","List$1","ArcSegment","Size","CoreGeometryUtil","TransformGroup","TranslateTransform","RotateTransform","ScaleTransform","TextFontMetrics","isNaN_","CanvasViewRenderer","_super","_this","apply","arguments","j","h","f","i","g","b","c","aa","m","a","d","e","prototype","h$e","Object","defineProperty","get","set","enumerable","configurable","l","k","useCustomDirection","n","startX","endX","startY","endY","o","createLinearGradient","p","q","gradientStops","length","r","addColorStop","offset","_fill","h$t","_visibility","width","height","am","an","beginPath","globalAlpha","_opacity","Math","min","moveTo","lineTo","arc","PI","closePath","rect","_stroke","isGradient","fillStyle","ac","fill","strokeStyle","lineWidth","stroke","h$q","aj","lineJoin","h$o","ak","count","_inner","t","w","x","y","$type","$ret","_startPoint","equals","_segments","_isClosed","s","v","u","z","bezierCurveTo","add","cos","sin","max","save","scale","atan2","abs","restore","_points","left","top","right","bottom","h$u","al","def_","con_","textAlign","ao","ag","textBaseline","fillText","ah","h$v","split","measureText","h$r","h$s","h$n","isHitTestRender","render","context","xPosition","yPosition","data","content","h$h","$","translate","transform","h$p","h$ac","clip","h$x","h$w","h$y","h$ad","h$i","clearRect","h$k","drawImage","h$l","h$a","getImageData","Array","h$f","font","h$b","h$z","h$aa","fontString","h$ae","metrics_","actualBoundingBoxAscent","undefined","actualBoundingBoxDescent","h$c","h$ab","h$g","shape_","style_","fillColor_","strokeColor_","strokeThickness_","NaN","opacity_","s_","strokeThickness","opacity","h$m","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","h$j","$t"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, Point_$type, typeCast, markType, PointUtil } from \"./type\";\nimport { IRenderer_$type } from \"./IRenderer\";\nimport { Brush } from \"./Brush\";\nimport { List$1 } from \"./List$1\";\nimport { ArcSegment } from \"./ArcSegment\";\nimport { Size } from \"./Size\";\nimport { CoreGeometryUtil } from \"./CoreGeometryUtil\";\nimport { TransformGroup } from \"./TransformGroup\";\nimport { TranslateTransform } from \"./TranslateTransform\";\nimport { RotateTransform } from \"./RotateTransform\";\nimport { ScaleTransform } from \"./ScaleTransform\";\nimport { TextFontMetrics } from \"./TextFontMetrics\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar CanvasViewRenderer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CanvasViewRenderer, _super);\n    function CanvasViewRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.j = null;\n        _this.h = 0;\n        _this.f = 0;\n        _this.i = 0;\n        _this.g = 0;\n        _this.b = false;\n        _this.c = false;\n        _this.aa = null;\n        _this.m = \"left\";\n        _this.a = null;\n        _this.d = 11;\n        _this.e = 1;\n        return _this;\n    }\n    CanvasViewRenderer.prototype.h$e = function () {\n        return this.j;\n    };\n    Object.defineProperty(CanvasViewRenderer.prototype, \"h$d\", {\n        get: function () {\n            return this.j;\n        },\n        set: function (a) {\n            this.j = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CanvasViewRenderer.prototype.l = function (a, b, c, d, e, f, g) {\n        return CanvasViewRenderer.k(this.j, a, b, c, d, e, f, g);\n    };\n    CanvasViewRenderer.k = function (a, b, c, d, e, f, g, h) {\n        var i;\n        if (b.useCustomDirection) {\n            var j = void 0, k = void 0, l = void 0, m = void 0, n = void 0;\n            n = e - c;\n            j = c + b.startX * n;\n            l = c + b.endX * n;\n            n = f - d;\n            k = d + b.startY * n;\n            m = d + b.endY * n;\n            if (h) {\n                var o = g / 2;\n                j -= o;\n                l += o;\n                k -= o;\n                m += o;\n            }\n            i = a.createLinearGradient(j, k, l, m);\n        }\n        else {\n            if (h) {\n                var p = g / 2;\n                c -= p;\n                e += p;\n                d -= p;\n                f += p;\n            }\n            i = a.createLinearGradient(c, d, c, f);\n        }\n        for (var q = 0; q < b.gradientStops.length; q++) {\n            var r = b.gradientStops[q];\n            i.addColorStop(r.offset, r._fill);\n        }\n        return i;\n    };\n    CanvasViewRenderer.prototype.h$t = function (a) {\n        if (a._visibility != 0) {\n            return;\n        }\n        var b = a.n;\n        var c = a.o;\n        var d = a.width;\n        var e = a.height;\n        var f = a.am;\n        var g = a.an;\n        this.j.beginPath();\n        this.j.globalAlpha = (a._opacity * this.e);\n        if (f > 0 || g > 0) {\n            if (f > d / 2) {\n                f = (d / 2);\n            }\n            if (g > e / 2) {\n                g = (e / 2);\n            }\n            var h = Math.min(f, g);\n            this.j.beginPath();\n            this.j.moveTo(b + h, c);\n            this.j.lineTo(b + d - h, c);\n            this.j.arc(b + d - h, c + h, h, (3 / 2 * Math.PI), 0, false);\n            this.j.lineTo(b + d, c + e - h);\n            this.j.arc(b + d - h, c + e - h, h, 0, (Math.PI / 2), false);\n            this.j.lineTo(b + h, c + e);\n            this.j.arc(b + h, c + e - h, h, (Math.PI / 2), Math.PI, false);\n            this.j.lineTo(b, c + h);\n            this.j.arc(b + h, c + h, h, Math.PI, (3 / 2 * Math.PI), false);\n            this.j.closePath();\n        }\n        else {\n            this.j.rect(b, c, d, e);\n        }\n        var i = a._fill;\n        var j = a._stroke;\n        if (i != null) {\n            if (i.isGradient && c == c && b == b) {\n                this.j.fillStyle = this.l(i, b, c, b + d, c + e, a.ac, false);\n            }\n            else {\n                this.j.fillStyle = i._fill;\n            }\n            this.j.fill();\n        }\n        if (j != null) {\n            if (j.isGradient && c == c && b == b) {\n                this.j.strokeStyle = this.l(j, b, c, b + d, c + e, a.ac, true);\n            }\n            else {\n                this.j.strokeStyle = j._fill;\n            }\n            this.j.lineWidth = a.ac;\n            this.j.stroke();\n        }\n        this.j.globalAlpha = 1;\n    };\n    CanvasViewRenderer.prototype.h$q = function (a) {\n        if (a._visibility != 0) {\n            return;\n        }\n        this.j.beginPath();\n        if (a._opacity < 1 || this.e < 1) {\n            this.j.globalAlpha = (a._opacity * this.e);\n        }\n        var b = a._fill;\n        var c = a._stroke;\n        this.b = (b != null && b.isGradient) || (c != null && c.isGradient);\n        if (this.b) {\n            this.f = -1.7976931348623157E+308;\n            this.g = -1.7976931348623157E+308;\n            this.h = 1.7976931348623157E+308;\n            this.i = 1.7976931348623157E+308;\n            this.c = false;\n        }\n        switch (a.aj) {\n            case 0:\n                this.j.lineJoin = \"miter\";\n                break;\n            case 1:\n                this.j.lineJoin = \"bevel\";\n                break;\n            case 2:\n                this.j.lineJoin = \"round\";\n                break;\n        }\n        this.h$o(a.ak);\n        if (b != null) {\n            if (b.isGradient && this.c) {\n                this.j.fillStyle = this.l(b, this.h, this.i, this.f, this.g, a.ac, false);\n            }\n            else {\n                this.j.fillStyle = a._fill._fill;\n            }\n            this.j.fill();\n        }\n        if (c != null) {\n            if (c.isGradient && this.c) {\n                this.j.strokeStyle = this.l(c, this.h, this.i, this.f, this.g, a.ac, true);\n            }\n            else {\n                this.j.strokeStyle = a._stroke._fill;\n            }\n            this.j.lineWidth = a.ac;\n            if (a.ac > 0) {\n                this.j.stroke();\n            }\n        }\n        if (a._opacity < 1 || this.e < 1) {\n            this.j.globalAlpha = 1;\n        }\n    };\n    CanvasViewRenderer.prototype.h$o = function (a) {\n        if (a == null) {\n            return;\n        }\n        var b = a.b;\n        switch (b) {\n            case 0:\n                for (var c = 0; c < a.d.count; c++) {\n                    this.h$o(a.d._inner[c]);\n                }\n                break;\n            case 4:\n                this.t(a);\n                break;\n            case 1:\n                this.r(a);\n                break;\n            case 2:\n                this.w(a);\n                break;\n            case 3:\n                this.p(a);\n                break;\n        }\n    };\n    CanvasViewRenderer.prototype.p = function (a) {\n        this.j.moveTo(a.e.x, (a.e.y - a.d));\n        this.aa = { $type: Point_$type, x: a.e.x, y: a.e.y - a.d };\n        var b = ((function () {\n            var $ret = new ArcSegment();\n            $ret.e = { $type: Point_$type, x: a.e.x, y: a.e.y + a.d };\n            $ret.b = false;\n            $ret.f = new Size(1, a.c, a.d);\n            return $ret;\n        })());\n        var c = ((function () {\n            var $ret = new ArcSegment();\n            $ret.e = { $type: Point_$type, x: a.e.x, y: a.e.y - a.d };\n            $ret.b = false;\n            $ret.f = new Size(1, a.c, a.d);\n            return $ret;\n        })());\n        var d = this.b;\n        this.b = false;\n        this.n(b);\n        this.n(c);\n        this.b = d;\n        if (!this.b) {\n            return;\n        }\n        var e = a.e.x - a.c;\n        var f = a.e.y + a.c;\n        var g = a.e.x - a.d;\n        var h = a.e.y + a.d;\n        var i = this.f;\n        var j = this.g;\n        var k = this.h;\n        var l = this.i;\n        this.h = e < k ? e : k;\n        this.i = g < l ? g : l;\n        this.f = f > i ? f : i;\n        this.g = h > j ? h : j;\n        this.c = true;\n    };\n    CanvasViewRenderer.prototype.t = function (a) {\n        var b = a.c;\n        var c = b.count;\n        for (var d = 0; d < c; d++) {\n            this.q(b._inner[d]);\n        }\n    };\n    CanvasViewRenderer.prototype.q = function (a) {\n        var b = a == null ? null : a._startPoint;\n        if (PointUtil.equals(b, null)) {\n            return;\n        }\n        var c = b.x;\n        var d = b.y;\n        this.j.moveTo(c, d);\n        if (this.b) {\n            var e = this.f;\n            var f = this.g;\n            var g = this.h;\n            var h = this.i;\n            this.h = c < g ? c : g;\n            this.i = d < h ? d : h;\n            this.f = c > e ? c : e;\n            this.g = d > f ? d : f;\n            this.c = true;\n        }\n        this.aa = b;\n        var i = a._segments;\n        var j = i.count;\n        for (var k = 0; k < j; k++) {\n            this.x(i._inner[k]);\n        }\n        if (a._isClosed) {\n            this.j.closePath();\n        }\n    };\n    CanvasViewRenderer.prototype.x = function (a) {\n        var b = a.a;\n        switch (b) {\n            case 0:\n                this.s(a);\n                break;\n            case 3:\n                this.v(a);\n                break;\n            case 4:\n                this.n(a);\n                break;\n            case 1:\n                this.o(a);\n                break;\n            case 2:\n                this.u(a);\n                break;\n        }\n    };\n    CanvasViewRenderer.prototype.z = function (a, b, c, d, e, f, g, h) {\n        var i = 1 / 50;\n        var j;\n        var k;\n        var l;\n        var m;\n        var n;\n        var o;\n        var p;\n        var q = this.h;\n        var r = this.i;\n        var s = this.f;\n        var t = this.g;\n        for (var u = 0; u <= 1; u += i) {\n            j = 1 - u;\n            k = j * j;\n            l = k * j;\n            m = u * u;\n            n = m * u;\n            o = l * a + 3 * k * u * c + 3 * j * m * e + n * g;\n            p = l * b + 3 * k * u * d + 3 * j * m * f + n * h;\n            q = o < q ? o : q;\n            r = p < r ? p : r;\n            s = o > s ? o : s;\n            t = p > t ? p : t;\n        }\n        this.h = q;\n        this.i = r;\n        this.f = s;\n        this.g = t;\n        this.c = true;\n    };\n    CanvasViewRenderer.prototype.o = function (a) {\n        this.j.bezierCurveTo(a.e.x, a.e.y, a.f.x, a.f.y, a.g.x, a.g.y);\n        if (this.b) {\n            this.z(this.aa.x, this.aa.y, a.e.x, a.e.y, a.f.x, a.f.y, a.g.x, a.g.y);\n        }\n    };\n    CanvasViewRenderer.prototype.u = function (a) {\n        var b = 0;\n        var c = a.b.count;\n        var d = a.b;\n        var e = this.aa;\n        var f = this.aa;\n        var g = this.aa;\n        var h = this.b;\n        while (b < c) {\n            if (b + 1 < c && b + 2 < c) {\n                e = d._inner[b];\n                f = d._inner[b + 1];\n                g = d._inner[b + 2];\n                this.j.bezierCurveTo(e.x, e.y, f.x, f.y, g.x, g.y);\n                if (h) {\n                    this.z(this.aa.x, this.aa.y, e.x, e.y, f.x, f.y, g.x, g.y);\n                    this.aa = g;\n                }\n            }\n            b = b + 3;\n        }\n        this.aa = g;\n    };\n    CanvasViewRenderer.prototype.y = function (a, b, c, d, e) {\n        var f = new List$1(Point_$type, 0);\n        f.add(a);\n        f.add({ $type: Point_$type, x: a.x + Math.cos(b) * d, y: a.y + Math.sin(b) * d });\n        f.add({ $type: Point_$type, x: a.x + Math.cos(c) * d, y: a.y + Math.sin(c) * d });\n        var g = Math.PI * 2;\n        var h = Math.PI / 2;\n        var i = Math.PI;\n        var j = Math.PI * 3 / 2;\n        while (b < 0) {\n            b += g;\n        }\n        while (b > g) {\n            b -= g;\n        }\n        while (c < 0) {\n            c += g;\n        }\n        while (c > g) {\n            c -= g;\n        }\n        if (e) {\n            if ((0 > c && 0 < b) || (g > c && g < b) || (b < c)) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(0) * d, y: a.y + Math.sin(0) * d });\n            }\n            if (h > c && h < b) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(h) * d, y: a.y + Math.sin(h) * d });\n            }\n            if (i > c && i < b) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(i) * d, y: a.y + Math.sin(i) * d });\n            }\n            if (j > c && j < b) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(j) * d, y: a.y + Math.sin(j) * d });\n            }\n        }\n        else {\n            if ((0 > b && 0 < c) || (g > b && g < c) || (c < b)) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(0) * d, y: a.y + Math.sin(0) * d });\n            }\n            if (h > b && h < c) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(h) * d, y: a.y + Math.sin(h) * d });\n            }\n            if (i > b && i < c) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(i) * d, y: a.y + Math.sin(i) * d });\n            }\n            if (j > b && j < c) {\n                f.add({ $type: Point_$type, x: a.x + Math.cos(j) * d, y: a.y + Math.sin(j) * d });\n            }\n        }\n        var k = 1.7976931348623157E+308;\n        var l = 1.7976931348623157E+308;\n        var m = -1.7976931348623157E+308;\n        var n = -1.7976931348623157E+308;\n        for (var o = 0; o < f.count; o++) {\n            var p = f._inner[o];\n            k = Math.min(k, p.x);\n            l = Math.min(l, p.y);\n            m = Math.max(m, p.x);\n            n = Math.max(n, p.y);\n        }\n        this.h = Math.min(this.h, k);\n        this.i = Math.min(this.i, l);\n        this.f = Math.max(this.f, m);\n        this.g = Math.max(this.g, n);\n        this.c = true;\n    };\n    CanvasViewRenderer.prototype.n = function (a) {\n        var b = this.aa;\n        var c = a.e;\n        if (a.f.width != a.f.height) {\n            this.j.save();\n            this.j.scale(a.f.width / a.f.height, 1);\n            b = { $type: Point_$type, x: b.x * (a.f.height / a.f.width), y: b.y };\n            c = { $type: Point_$type, x: c.x * (a.f.height / a.f.width), y: c.y };\n        }\n        var d = a.d == 0;\n        var e = CoreGeometryUtil.b(b, c, a.f.height, d, a.b);\n        var f = Math.atan2(b.y - e.y, b.x - e.x);\n        var g = Math.atan2(c.y - e.y, c.x - e.x);\n        var h = (Math.abs(g - f) < Math.PI);\n        if (a.b == h) {\n            if (f < g) {\n                f += 2 * Math.PI;\n            }\n            else {\n                g += 2 * Math.PI;\n            }\n        }\n        if (!isNaN_(e.x) && !isNaN_(e.y) && !isNaN_(a.f.height) && !isNaN_(f) && !isNaN_(g)) {\n            this.j.arc(e.x, e.y, a.f.height, f, g, d);\n            if (this.b) {\n                this.y(e, f, g, a.f.height, d);\n            }\n        }\n        this.aa = a.e;\n        if (a.f.width != a.f.height) {\n            this.j.restore();\n        }\n    };\n    CanvasViewRenderer.prototype.s = function (a) {\n        var b = a.c.x;\n        var c = a.c.y;\n        this.j.lineTo(b, c);\n        this.aa = a.c;\n        if (this.b) {\n            var d = this.f;\n            var e = this.g;\n            var f = this.h;\n            var g = this.i;\n            this.h = b < f ? b : f;\n            this.i = c < g ? c : g;\n            this.f = b > d ? b : d;\n            this.g = c > e ? c : e;\n            this.c = true;\n        }\n    };\n    CanvasViewRenderer.prototype.v = function (a) {\n        var b = a._points;\n        var c = b.count;\n        if (this.b) {\n            var d = this.h;\n            var e = this.i;\n            var f = this.f;\n            var g = this.g;\n            var h = void 0;\n            var i = void 0;\n            for (var j = 0; j < c; j++) {\n                h = b._inner[j].x;\n                i = b._inner[j].y;\n                this.j.lineTo(h, i);\n                d = h < d ? h : d;\n                e = i < e ? i : e;\n                f = h > f ? h : f;\n                g = i > g ? i : g;\n            }\n            this.h = d;\n            this.i = e;\n            this.f = f;\n            this.g = g;\n            this.c = true;\n        }\n        else {\n            for (var k = 0; k < c; k++) {\n                this.j.lineTo(b._inner[k].x, b._inner[k].y);\n            }\n        }\n        this.aa = a._points._inner[c - 1];\n    };\n    CanvasViewRenderer.prototype.w = function (a) {\n        this.j.rect(a.e.left, a.e.top, a.e.width, a.e.height);\n        if (this.b) {\n            var b = a.e;\n            var c = this.h;\n            var d = this.i;\n            var e = this.f;\n            var f = this.g;\n            var g = b.left;\n            var h = b.right;\n            var i = b.top;\n            var j = b.bottom;\n            this.h = g < c ? g : c;\n            this.i = i < d ? i : d;\n            this.f = h > e ? h : e;\n            this.g = j > f ? j : f;\n            this.c = true;\n        }\n    };\n    CanvasViewRenderer.prototype.r = function (a) {\n        this.j.moveTo(a.d.x, a.d.y);\n        this.j.lineTo(a.c.x, a.c.y);\n        if (this.b) {\n            var b = a.d;\n            var c = a.c;\n            var d = this.h;\n            var e = this.i;\n            var f = this.f;\n            var g = this.g;\n            var h = b.x < c.x ? b.x : c.x;\n            var i = b.x > c.x ? b.x : c.x;\n            var j = b.y < c.y ? b.y : c.y;\n            var k = b.y > c.y ? b.y : c.y;\n            this.h = h < d ? h : d;\n            this.i = j < e ? j : e;\n            this.f = i > f ? i : f;\n            this.g = k > g ? k : g;\n            this.c = true;\n        }\n    };\n    CanvasViewRenderer.prototype.h$u = function (a) {\n        if (a._visibility == 0 && a.al != null) {\n            if (a._opacity < 1 || this.e < 1) {\n                this.j.globalAlpha = (a._opacity * this.e);\n            }\n            var def_ = this.m;\n            var con_ = this.j;\n            con_.textAlign = def_;\n            this.j.fillStyle = a.ao != null ? a.ao._fill : null;\n            if (a.ag) {\n                this.j.textBaseline = \"alphabetic\";\n                this.j.fillText(a.al, a.n, a.o + a.ah);\n            }\n            else {\n                this.j.textBaseline = \"top\";\n                this.j.fillText(a.al, a.n, a.o);\n            }\n            if (a._opacity < 1 || this.e < 1) {\n                this.j.globalAlpha = 1;\n            }\n        }\n    };\n    CanvasViewRenderer.prototype.h$v = function (a, b, c) {\n        if (a._visibility == 0) {\n            if (a._opacity < 1 || this.e < 1) {\n                this.j.globalAlpha = (a._opacity * this.e);\n            }\n            var d = b.left + b.width / 2;\n            var e = a.al.split(' ');\n            this.j.fillStyle = a.ao._fill;\n            this.j.textBaseline = \"top\";\n            this.j.textAlign = \"center\";\n            var f = b.width;\n            var g = b.height;\n            var h = b.top;\n            var i = \"\";\n            for (var j = 0; j < e.length; j++) {\n                var k = i + e[j];\n                var l = this.j.measureText(k);\n                if (l.width > f) {\n                    if (i != null) {\n                        this.j.fillText(i, d, h);\n                    }\n                    i = \"\";\n                    h = h + c;\n                }\n                i = i + e[j] + \" \";\n            }\n            if (i != null) {\n                this.j.fillText(i, d, h);\n            }\n            if (a._opacity < 1 || this.e < 1) {\n                this.j.globalAlpha = 1;\n            }\n        }\n    };\n    CanvasViewRenderer.prototype.h$r = function (a) {\n        if (a.ak == null || a.ak.count < 1) {\n            return;\n        }\n        this.j.beginPath();\n        this.j.globalAlpha = (a._opacity * this.e);\n        var b = a.ak;\n        var c = b._inner[0];\n        var d = a._fill;\n        var e = a._stroke;\n        this.b = (d != null && d.isGradient) || (e != null && e.isGradient);\n        if (this.b) {\n            var f = 1.7976931348623157E+308;\n            var g = -1.7976931348623157E+308;\n            var h = 1.7976931348623157E+308;\n            var i = -1.7976931348623157E+308;\n            var j = c.x;\n            var k = c.y;\n            f = j < f ? j : f;\n            h = k < h ? k : h;\n            g = j > g ? j : g;\n            i = k > i ? k : i;\n            this.j.moveTo(j, k);\n            for (var l = 1; l < b.count; l++) {\n                j = b._inner[l].x;\n                k = b._inner[l].y;\n                this.j.lineTo(j, k);\n                f = j < f ? j : f;\n                h = k < h ? k : h;\n                g = j > g ? j : g;\n                i = k > i ? k : i;\n            }\n            this.j.closePath();\n            this.h = f;\n            this.i = h;\n            this.f = g;\n            this.g = i;\n        }\n        else {\n            this.j.moveTo(c.x, c.y);\n            for (var m = 1; m < b.count; m++) {\n                this.j.lineTo(b._inner[m].x, b._inner[m].y);\n            }\n            this.j.closePath();\n        }\n        if (d != null) {\n            if (d.isGradient) {\n                this.j.fillStyle = this.l(d, this.h, this.i, this.f, this.g, a.ac, false);\n            }\n            else {\n                this.j.fillStyle = d._fill;\n            }\n            this.j.fill();\n        }\n        if (e != null) {\n            if (e.isGradient) {\n                this.j.strokeStyle = this.l(e, this.h, this.i, this.f, this.g, a.ac, true);\n            }\n            else {\n                this.j.strokeStyle = e._fill;\n            }\n            this.j.lineWidth = a.ac;\n            this.j.stroke();\n        }\n        this.j.globalAlpha = 1;\n    };\n    CanvasViewRenderer.prototype.h$s = function (a) {\n        if (a.ak == null || a.ak.count < 1) {\n            return;\n        }\n        this.j.beginPath();\n        this.j.globalAlpha = (a._opacity * this.e);\n        var b = a.ak;\n        var c = b._inner[0];\n        var d = a._fill;\n        var e = a._stroke;\n        this.b = (d != null && d.isGradient) || (e != null && e.isGradient);\n        if (this.b) {\n            var f = 1.7976931348623157E+308;\n            var g = -1.7976931348623157E+308;\n            var h = 1.7976931348623157E+308;\n            var i = -1.7976931348623157E+308;\n            var j = c.x;\n            var k = c.y;\n            f = j < f ? j : f;\n            h = k < h ? k : h;\n            g = j > g ? j : g;\n            i = k > i ? k : i;\n            this.j.moveTo(j, k);\n            for (var l = 1; l < b.count; l++) {\n                j = b._inner[l].x;\n                k = b._inner[l].y;\n                this.j.lineTo(j, k);\n                f = j < f ? j : f;\n                h = k < h ? k : h;\n                g = j > g ? j : g;\n                i = k > i ? k : i;\n            }\n            this.h = f;\n            this.i = h;\n            this.f = g;\n            this.g = i;\n        }\n        else {\n            this.j.moveTo(c.x, c.y);\n            for (var m = 1; m < b.count; m++) {\n                this.j.lineTo(b._inner[m].x, b._inner[m].y);\n            }\n        }\n        if (d != null) {\n            if (d.isGradient) {\n                this.j.fillStyle = this.l(d, this.h, this.i, this.f, this.g, a.ac, false);\n            }\n            else {\n                this.j.fillStyle = d._fill;\n            }\n            this.j.fill();\n        }\n        if (e != null) {\n            if (e.isGradient) {\n                this.j.strokeStyle = this.l(e, this.h, this.i, this.f, this.g, a.ac, true);\n            }\n            else {\n                this.j.strokeStyle = e._fill;\n            }\n            this.j.lineWidth = a.ac;\n            this.j.stroke();\n        }\n        this.j.globalAlpha = 1;\n    };\n    CanvasViewRenderer.prototype.h$n = function (a, b) {\n        if (b._visibility == 1) {\n            return;\n        }\n        if ((b._opacity != 1 || this.e != 1) && !a.isHitTestRender) {\n            this.j.globalAlpha = (b._opacity * this.e);\n        }\n        var c = b.ah;\n        if (c != null && c.render != null) {\n            a.context = this.j;\n            a.xPosition = b.n;\n            a.yPosition = b.o;\n            a.data = b.content;\n            c.render(a);\n        }\n        this.j.globalAlpha = 1;\n    };\n    CanvasViewRenderer.prototype.h$h = function (a) {\n        if (typeCast(TransformGroup.$, a) !== null) {\n            var b = a;\n            for (var c = b.j.count - 1; c >= 0; c--) {\n                var d = b.j._inner[c];\n                this.h$h(d);\n            }\n        }\n        else if (typeCast(TranslateTransform.$, a) !== null) {\n            var e = a;\n            this.j.translate(e.j, e.k);\n        }\n        else if (typeCast(RotateTransform.$, a) !== null) {\n            var f = a;\n            var g = f.j * Math.PI / 180;\n            var h = Math.cos(g);\n            var i = Math.sin(g);\n            var j = f.k * (1 - h) + f.l * i;\n            var k = f.l * (1 - h) - f.k * i;\n            this.j.transform(h, i, i * -1, h, j, k);\n        }\n        else if (typeCast(ScaleTransform.$, a) !== null) {\n            var l = a;\n            this.j.transform(l.l, 0, 0, l.m, l.j - l.l * l.j, l.k - l.m * l.k);\n        }\n    };\n    CanvasViewRenderer.prototype.h$p = function (a) {\n        if (a._visibility != 0) {\n            return;\n        }\n        this.j.beginPath();\n        this.j.globalAlpha = (a._opacity * this.e);\n        this.j.moveTo(a.ak, a.am);\n        this.j.lineTo(a.al, a.an);\n        if (this.b) {\n            this.h = 1.7976931348623157E+308;\n            this.f = -1.7976931348623157E+308;\n            this.i = 1.7976931348623157E+308;\n            this.g = -1.7976931348623157E+308;\n            var b = this.h;\n            var c = this.i;\n            var d = this.f;\n            var e = this.g;\n            var f = a.ak < a.al ? a.ak : a.al;\n            var g = a.ak > a.al ? a.ak : a.al;\n            var h = a.am < a.an ? a.am : a.an;\n            var i = a.am > a.an ? a.am : a.an;\n            this.h = f < b ? f : b;\n            this.i = h < c ? h : c;\n            this.f = g > d ? g : d;\n            this.g = i > e ? i : e;\n        }\n        var j = a._fill;\n        var k = a._stroke;\n        if (j != null) {\n            if (j.isGradient) {\n                this.j.fillStyle = this.l(j, this.h, this.i, this.f, this.f, a.ac, false);\n            }\n            else {\n                this.j.fillStyle = j._fill;\n            }\n            this.j.fill();\n        }\n        if (k != null) {\n            if (k.isGradient) {\n                this.j.strokeStyle = this.l(k, this.h, this.i, this.f, this.f, a.ac, true);\n            }\n            else {\n                this.j.strokeStyle = a._stroke._fill;\n            }\n            this.j.lineWidth = a.ac;\n            this.j.stroke();\n        }\n        this.j.globalAlpha = 1;\n    };\n    CanvasViewRenderer.prototype.h$ac = function (a) {\n        this.j.beginPath();\n        this.j.rect(a.left, a.top, a.width, a.height);\n        this.j.clip();\n    };\n    CanvasViewRenderer.prototype.h$x = function () {\n        this.j.save();\n    };\n    CanvasViewRenderer.prototype.h$w = function () {\n        this.j.restore();\n    };\n    CanvasViewRenderer.prototype.h$y = function (a, b) {\n        this.j.scale(a, b);\n    };\n    CanvasViewRenderer.prototype.h$ad = function (a, b) {\n        this.j.translate(a, b);\n    };\n    CanvasViewRenderer.prototype.h$i = function (a, b, c, d) {\n        this.j.clearRect(a, b, c, d);\n    };\n    CanvasViewRenderer.prototype.h$k = function (a, b, c, d, e, f) {\n        if (b != 1) {\n            this.j.globalAlpha = (b * this.e);\n        }\n        this.j.drawImage(a, c, d, e, f);\n        if (b != 1) {\n            this.j.globalAlpha = 1;\n        }\n    };\n    CanvasViewRenderer.prototype.h$l = function (a, b, c, d, e, f, g, h, i, j) {\n        if (b != 1) {\n            this.j.globalAlpha = (b * this.e);\n        }\n        this.j.drawImage(a, c, d, e, f, g, h, i, j);\n        if (b != 1) {\n            this.j.globalAlpha = 1;\n        }\n    };\n    CanvasViewRenderer.prototype.h$a = function (a, b) {\n        var c = this.j.getImageData(a, b, 1, 1);\n        var d = new Array(4);\n        d[0] = c.data[0];\n        d[1] = c.data[1];\n        d[2] = c.data[2];\n        d[3] = c.data[3];\n        return d;\n    };\n    CanvasViewRenderer.prototype.h$f = function () {\n        return this.j.font;\n    };\n    CanvasViewRenderer.prototype.h$b = function () {\n        return this.a;\n    };\n    CanvasViewRenderer.prototype.h$z = function (a) {\n        if (this.j.font != a) {\n            this.j.font = a;\n        }\n    };\n    CanvasViewRenderer.prototype.h$aa = function (a) {\n        this.a = a;\n        if (a != null) {\n            this.d = a.d;\n        }\n        var b = a != null ? a.fontString : null;\n        if (this.j.font != b) {\n            this.j.font = b;\n        }\n    };\n    CanvasViewRenderer.prototype.h$ae = function (a, b, c) {\n        this.j.textBaseline = \"alphabetic\";\n        var d = this.j.measureText(a);\n        var metrics_ = d;\n        var e = b;\n        var f = new TextFontMetrics();\n        if ((metrics_.actualBoundingBoxAscent !== undefined)) {\n            f.a = (metrics_.actualBoundingBoxAscent);\n            e = (metrics_.actualBoundingBoxAscent + metrics_.actualBoundingBoxDescent);\n            if (c) {\n                var g = (b - e);\n                var h = g / 2;\n                f.a += h;\n                e += g;\n            }\n        }\n        f.c = d.width;\n        f.b = e;\n        return f;\n    };\n    CanvasViewRenderer.prototype.h$c = function (a) {\n        var b = this.j.measureText(a);\n        return b.width;\n    };\n    CanvasViewRenderer.prototype.h$ab = function (a) {\n        this.e = a;\n    };\n    CanvasViewRenderer.prototype.h$g = function (shape_, style_) {\n        if (style_ == null) {\n            return;\n        }\n        var fillColor_ = null;\n        var strokeColor_ = null;\n        var strokeThickness_ = NaN;\n        var opacity_ = NaN;\n        var s_ = style_;\n        if (s_.fill) {\n            fillColor_ = s_.fill;\n        }\n        ;\n        if (s_.stroke) {\n            strokeColor_ = s_.stroke;\n        }\n        ;\n        if (s_.strokeThickness) {\n            strokeThickness_ = s_.strokeThickness;\n        }\n        ;\n        if (s_.opacity) {\n            opacity_ = s_.opacity;\n        }\n        ;\n        if (fillColor_ != null) {\n            shape_._fill = ((function () {\n                var $ret = new Brush();\n                $ret.fill = fillColor_;\n                return $ret;\n            })());\n        }\n        if (strokeColor_ != null) {\n            shape_._stroke = ((function () {\n                var $ret = new Brush();\n                $ret.fill = strokeColor_;\n                return $ret;\n            })());\n        }\n        if (strokeThickness_ != undefined && !isNaN_(strokeThickness_)) {\n            shape_.ac = strokeThickness_;\n        }\n        if (!isNaN_(opacity_)) {\n            shape_._opacity = opacity_;\n        }\n    };\n    CanvasViewRenderer.prototype.h$m = function (a, b, c, d) {\n        this.j.shadowColor = a;\n        this.j.shadowBlur = b;\n        this.j.shadowOffsetX = c;\n        this.j.shadowOffsetY = d;\n    };\n    CanvasViewRenderer.prototype.h$j = function () {\n        this.j.shadowColor = \"rgba(0,0,0,0)\";\n        this.j.shadowBlur = 0;\n        this.j.shadowOffsetX = 0;\n        this.j.shadowOffsetY = 0;\n    };\n    CanvasViewRenderer.$t = markType(CanvasViewRenderer, 'CanvasViewRenderer', Base.$, [IRenderer_$type]);\n    return CanvasViewRenderer;\n}(Base));\nexport { CanvasViewRenderer };\n"]},"metadata":{},"sourceType":"module"}