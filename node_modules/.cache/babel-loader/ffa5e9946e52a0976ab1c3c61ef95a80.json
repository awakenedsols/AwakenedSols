{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, BaseError, EnumUtil, String_$type, enumGetBox, fromEnum, Point_$type, callStaticConstructors, markType, PointUtil } from \"./type\";\nimport { Header } from \"./Header\";\nimport { XBaseField } from \"./XBaseField\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { XBaseDataType_$type } from \"./XBaseDataType\";\nimport { Rect } from \"./Rect\";\nimport { Encoding } from \"./Encoding\";\nimport { List$1 } from \"./List$1\";\nimport { ShapefileRecord } from \"./ShapefileRecord\";\nimport { ShapeType_$type } from \"./ShapeType\";\nimport { Size } from \"./Size\";\nimport { u32BitwiseAnd } from \"./numberExtended\";\nimport { stringReplace } from \"./string\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar ShapeFileUtil =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ShapeFileUtil, _super);\n\n  function ShapeFileUtil() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ShapeFileUtil.a = function (a, b) {\n    if (ShapeFileUtil.j == null) {\n      ShapeFileUtil.m();\n    }\n\n    var c = new Header();\n    var d = ShapeFileUtil.k(a.readInt32());\n\n    if (d != 9994) {\n      throw new BaseError(1, \"Corrupt Shp file - incorrect file code\");\n    }\n\n    a.readInt32();\n    a.readInt32();\n    a.readInt32();\n    a.readInt32();\n    a.readInt32();\n    ShapeFileUtil.k(a.readInt32());\n    a.readInt32();\n    c.a = a.readInt32();\n    var e = PointUtil.create();\n    var f = PointUtil.create();\n    e.x = a.readDouble();\n    e.y = a.readDouble();\n    f.x = a.readDouble();\n    f.y = a.readDouble();\n    a.readDouble();\n    a.readDouble();\n    a.readDouble();\n    a.readDouble();\n    c.e = new Rect(0, e.x, e.y, f.x - e.x, f.y - e.y);\n\n    if (b != null) {\n      var g = b.readByte();\n\n      if (g != 3) {\n        throw new BaseError(1, \"Corrupt Dbf file - wrong version number\");\n      }\n\n      b.readByte();\n      b.readByte();\n      b.readByte();\n      b.readUInt32();\n      b.readUInt16();\n      var h = b.readUInt16();\n      b.readBytes(2);\n      b.readBytes(1);\n      b.readBytes(1);\n      b.readBytes(4);\n      b.readBytes(8);\n      b.readBytes(1);\n      b.readBytes(1);\n      b.readBytes(2);\n      var i = 0;\n\n      while (i < h - 1) {\n        var j = new XBaseField();\n        j.c = stringReplace(Encoding.uTF8.getString1(b.readBytes(11), 0, 10), \"\\0\", \"\");\n        var k = Encoding.uTF8.getString1(b.readBytes(1), 0, 1).charAt(0);\n        j.a = ShapeFileUtil.j.item(k);\n        b.readBytes(4);\n        j.b = b.readByte();\n        b.readBytes(15);\n        c.b.add(j);\n        i += j.b;\n      }\n\n      if (b.readByte() != 13) {\n        throw new BaseError(1, \"Corrupt Dbf file - Missing field descriptor array terminator\");\n      }\n    }\n\n    return c;\n  };\n\n  ShapeFileUtil.e = function (a, b, c) {\n    var e_1, _a;\n\n    var d = ShapeFileUtil.k(b.readInt32());\n    var e = ShapeFileUtil.k(b.readInt32());\n    var f = b.readInt32();\n    var g = null;\n\n    switch (f) {\n      case 0:\n        break;\n\n      case 1:\n        g = ShapeFileUtil.i(b);\n        break;\n\n      case 3:\n        g = ShapeFileUtil.b(b);\n        break;\n\n      case 5:\n        g = ShapeFileUtil.f(b);\n        break;\n\n      case 8:\n        break;\n\n      case 11:\n        break;\n\n      case 13:\n        g = ShapeFileUtil.d(b);\n        break;\n\n      case 15:\n        g = ShapeFileUtil.h(b);\n        break;\n\n      case 18:\n        break;\n\n      case 21:\n        break;\n\n      case 23:\n        break;\n\n      case 25:\n        break;\n\n      case 28:\n        break;\n\n      case 31:\n        break;\n\n      default:\n        break;\n    }\n\n    if (g == null) {\n      throw new BaseError(1, \"Corrupt Shp file - failed to read \" + EnumUtil.getName(ShapeType_$type, f));\n    }\n\n    g.shapeType = f;\n\n    if (c != null) {\n      c.readBytes(1);\n      g.fields = new Dictionary$2(String_$type, Base.$, 0);\n\n      try {\n        for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var h = _c.value;\n          g.fieldsNames.add(h.c);\n          var i = c.readBytes(h.b);\n          var j = Encoding.uTF8.getString1(i, 0, h.b);\n\n          switch (h.a) {\n            case 1:\n              g.fieldsTypes.add(\"double\");\n              var k = parseFloat(j);\n\n              if (!isNaN_(k)) {\n                g.fields.addItem(h.c, k);\n                ShapeFileUtil.l(g, h.c, k);\n              }\n\n              break;\n\n            case 5:\n              g.fieldsTypes.add(\"float\");\n              var l = parseFloat(j);\n\n              if (!isNaN_(l)) {\n                g.fields.addItem(h.c, l);\n                ShapeFileUtil.l(g, h.c, l);\n              }\n\n              break;\n\n            case 0:\n              g.fieldsTypes.add(\"string\");\n              var m = j.trim();\n              g.fields.addItem(h.c, m);\n              ShapeFileUtil.l(g, h.c, m);\n              break;\n\n            case 3:\n              g.fieldsTypes.add(\"date\");\n              var str_ = j;\n              var n = Date.parse(str_);\n              g.fields.addItem(h.c, n);\n              ShapeFileUtil.l(g, h.c, n);\n              break;\n\n            default:\n              throw new BaseError(1, \"Unrecognized field type: \" + enumGetBox(XBaseDataType_$type, h.a));\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n\n    return g;\n  };\n\n  ShapeFileUtil.l = function (row_, property_, val_) {\n    if (!row_.fieldValues) {\n      row_.fieldValues = {};\n    }\n\n    ;\n    row_.fieldValues[property_] = val_;\n  };\n\n  ShapeFileUtil.k = function (a) {\n    return (a & 255) << 24 | (a & 65280) << 8 | (a & 16711680) >> 8 | u32BitwiseAnd(a, 4278190080) >> 24;\n  };\n\n  ShapeFileUtil.i = function (a) {\n    var b = function () {\n      var $ret = PointUtil.create();\n      $ret.x = a.readDouble();\n      $ret.y = a.readDouble();\n      return $ret;\n    }();\n\n    return function () {\n      var $ret = new ShapefileRecord();\n      $ret.bounds = new Rect(3, b, Size.empty);\n      $ret.points = new List$1(List$1.$.specialize(Point_$type), 1, [new List$1(Point_$type, 1, [b])]);\n      return $ret;\n    }();\n  };\n\n  ShapeFileUtil.d = function (a) {\n    var b, c;\n\n    var d = function () {\n      var e = ShapeFileUtil.c(a, b, c);\n      b = e.p1;\n      c = e.p2;\n      return e.ret;\n    }();\n\n    a.readDouble();\n    a.readDouble();\n\n    for (var e = 0; e < c; e++) {\n      a.readDouble();\n    }\n\n    a.readDouble();\n    a.readDouble();\n\n    for (var f = 0; f < c; f++) {\n      a.readDouble();\n    }\n\n    return d;\n  };\n\n  ShapeFileUtil.c = function (a, b, c) {\n    var d = PointUtil.create();\n\n    var e = function () {\n      var $ret = PointUtil.create();\n      $ret.x = a.readDouble();\n      $ret.y = a.readDouble();\n      return $ret;\n    }();\n\n    var f = function () {\n      var $ret = PointUtil.create();\n      $ret.x = a.readDouble();\n      $ret.y = a.readDouble();\n      return $ret;\n    }();\n\n    var g = new Rect(0, e.x, e.y, f.x - e.x, f.y - e.y);\n    b = a.readInt32();\n    c = a.readInt32();\n    var h = new Array(b);\n\n    for (var i = 0; i < b; ++i) {\n      h[i] = a.readInt32();\n    }\n\n    var j = new List$1(List$1.$.specialize(Point_$type), 0);\n\n    for (var k = 0; k < b; ++k) {\n      var l = (k < b - 1 ? h[k + 1] : c) - h[k];\n      var m = new List$1(Point_$type, 2, l - 1);\n\n      for (var n = 0; n < l; ++n) {\n        d = PointUtil.create();\n        d.x = a.readDouble();\n        d.y = a.readDouble();\n        m.add(d);\n      }\n\n      if (m.count > 0) {\n        j.add(m);\n      }\n    }\n\n    return {\n      ret: function () {\n        var $ret = new ShapefileRecord();\n        $ret.bounds = g;\n        $ret.points = j;\n        return $ret;\n      }(),\n      p1: b,\n      p2: c\n    };\n  };\n\n  ShapeFileUtil.b = function (a) {\n    var b, c;\n    return function () {\n      var d = ShapeFileUtil.c(a, b, c);\n      b = d.p1;\n      c = d.p2;\n      return d.ret;\n    }();\n  };\n\n  ShapeFileUtil.h = function (a) {\n    var b, c;\n\n    var d = function () {\n      var e = ShapeFileUtil.g(a, b, c);\n      b = e.p1;\n      c = e.p2;\n      return e.ret;\n    }();\n\n    a.readDouble();\n    a.readDouble();\n\n    for (var e = 0; e < c; e++) {\n      a.readDouble();\n    }\n\n    a.readDouble();\n    a.readDouble();\n\n    for (var f = 0; f < c; f++) {\n      a.readDouble();\n    }\n\n    return d;\n  };\n\n  ShapeFileUtil.f = function (a) {\n    var b, c;\n    return function () {\n      var d = ShapeFileUtil.g(a, b, c);\n      b = d.p1;\n      c = d.p2;\n      return d.ret;\n    }();\n  };\n\n  ShapeFileUtil.g = function (a, b, c) {\n    var d = function () {\n      var $ret = PointUtil.create();\n      $ret.x = a.readDouble();\n      $ret.y = a.readDouble();\n      return $ret;\n    }();\n\n    var e = function () {\n      var $ret = PointUtil.create();\n      $ret.x = a.readDouble();\n      $ret.y = a.readDouble();\n      return $ret;\n    }();\n\n    var f = new Rect(0, d.x, d.y, e.x - d.x, e.y - d.y);\n    var g = PointUtil.create();\n    b = a.readInt32();\n    c = a.readInt32();\n    var h = new Array(b);\n\n    for (var i = 0; i < b; ++i) {\n      h[i] = a.readInt32();\n    }\n\n    var j = new List$1(List$1.$.specialize(Point_$type), 0);\n\n    for (var k = 0; k < b; ++k) {\n      var l = (k < b - 1 ? h[k + 1] : c) - h[k];\n      var m = new List$1(Point_$type, 2, l);\n      g = PointUtil.create();\n      g.x = a.readDouble();\n      g.y = a.readDouble();\n\n      for (var n = 1; n < l; ++n) {\n        g = PointUtil.create();\n        g.x = a.readDouble();\n        g.y = a.readDouble();\n        m.add(g);\n      }\n\n      if (m.count > 1) {\n        j.add(m);\n      }\n    }\n\n    return {\n      ret: function () {\n        var $ret = new ShapefileRecord();\n        $ret.bounds = f;\n        $ret.points = j;\n        return $ret;\n      }(),\n      p1: b,\n      p2: c\n    };\n  };\n\n  ShapeFileUtil.m = function () {\n    ShapeFileUtil.j = new Dictionary$2(String_$type, XBaseDataType_$type, 0);\n    ShapeFileUtil.j.item('C', 0);\n    ShapeFileUtil.j.item('N', 1);\n    ShapeFileUtil.j.item('L', 2);\n    ShapeFileUtil.j.item('D', 3);\n    ShapeFileUtil.j.item('M', 4);\n    ShapeFileUtil.j.item('F', 5);\n    ShapeFileUtil.j.item('B', 6);\n    ShapeFileUtil.j.item('G', 7);\n    ShapeFileUtil.j.item('P', 8);\n    ShapeFileUtil.j.item('Y', 9);\n    ShapeFileUtil.j.item('T', 10);\n    ShapeFileUtil.j.item('I', 11);\n    ShapeFileUtil.j.item('V', 12);\n    ShapeFileUtil.j.item('X', 13);\n    ShapeFileUtil.j.item('@', 14);\n    ShapeFileUtil.j.item('O', 15);\n    ShapeFileUtil.j.item('+', 16);\n  };\n\n  ShapeFileUtil.staticInit = function () {\n    ShapeFileUtil.m();\n  };\n\n  ShapeFileUtil.$t = markType(ShapeFileUtil, 'ShapeFileUtil');\n  ShapeFileUtil.j = null;\n  return ShapeFileUtil;\n}(Base);\n\nexport { ShapeFileUtil };\n\n(function (v) {\n  callStaticConstructors();\n})(true);","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/ShapeFileUtil.js"],"names":["__extends","__values","Base","BaseError","EnumUtil","String_$type","enumGetBox","fromEnum","Point_$type","callStaticConstructors","markType","PointUtil","Header","XBaseField","Dictionary$2","XBaseDataType_$type","Rect","Encoding","List$1","ShapefileRecord","ShapeType_$type","Size","u32BitwiseAnd","stringReplace","isNaN_","ShapeFileUtil","_super","apply","arguments","a","b","j","m","c","d","k","readInt32","e","create","f","x","readDouble","y","g","readByte","readUInt32","readUInt16","h","readBytes","i","uTF8","getString1","charAt","item","add","e_1","_a","getName","shapeType","fields","$","_b","_c","next","done","value","fieldsNames","fieldsTypes","parseFloat","addItem","l","trim","str_","n","Date","parse","e_1_1","error","return","call","row_","property_","val_","fieldValues","$ret","bounds","empty","points","specialize","p1","p2","ret","Array","count","staticInit","$t","v"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, BaseError, EnumUtil, String_$type, enumGetBox, fromEnum, Point_$type, callStaticConstructors, markType, PointUtil } from \"./type\";\nimport { Header } from \"./Header\";\nimport { XBaseField } from \"./XBaseField\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { XBaseDataType_$type } from \"./XBaseDataType\";\nimport { Rect } from \"./Rect\";\nimport { Encoding } from \"./Encoding\";\nimport { List$1 } from \"./List$1\";\nimport { ShapefileRecord } from \"./ShapefileRecord\";\nimport { ShapeType_$type } from \"./ShapeType\";\nimport { Size } from \"./Size\";\nimport { u32BitwiseAnd } from \"./numberExtended\";\nimport { stringReplace } from \"./string\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar ShapeFileUtil = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ShapeFileUtil, _super);\n    function ShapeFileUtil() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShapeFileUtil.a = function (a, b) {\n        if (ShapeFileUtil.j == null) {\n            ShapeFileUtil.m();\n        }\n        var c = new Header();\n        var d = ShapeFileUtil.k(a.readInt32());\n        if (d != 9994) {\n            throw new BaseError(1, \"Corrupt Shp file - incorrect file code\");\n        }\n        a.readInt32();\n        a.readInt32();\n        a.readInt32();\n        a.readInt32();\n        a.readInt32();\n        ShapeFileUtil.k(a.readInt32());\n        a.readInt32();\n        c.a = a.readInt32();\n        var e = PointUtil.create();\n        var f = PointUtil.create();\n        e.x = a.readDouble();\n        e.y = a.readDouble();\n        f.x = a.readDouble();\n        f.y = a.readDouble();\n        a.readDouble();\n        a.readDouble();\n        a.readDouble();\n        a.readDouble();\n        c.e = new Rect(0, e.x, e.y, f.x - e.x, f.y - e.y);\n        if (b != null) {\n            var g = b.readByte();\n            if (g != 3) {\n                throw new BaseError(1, \"Corrupt Dbf file - wrong version number\");\n            }\n            b.readByte();\n            b.readByte();\n            b.readByte();\n            b.readUInt32();\n            b.readUInt16();\n            var h = b.readUInt16();\n            b.readBytes(2);\n            b.readBytes(1);\n            b.readBytes(1);\n            b.readBytes(4);\n            b.readBytes(8);\n            b.readBytes(1);\n            b.readBytes(1);\n            b.readBytes(2);\n            var i = 0;\n            while (i < h - 1) {\n                var j = new XBaseField();\n                j.c = stringReplace(Encoding.uTF8.getString1(b.readBytes(11), 0, 10), \"\\0\", \"\");\n                var k = Encoding.uTF8.getString1(b.readBytes(1), 0, 1).charAt(0);\n                j.a = ShapeFileUtil.j.item(k);\n                b.readBytes(4);\n                j.b = b.readByte();\n                b.readBytes(15);\n                c.b.add(j);\n                i += j.b;\n            }\n            if (b.readByte() != 13) {\n                throw new BaseError(1, \"Corrupt Dbf file - Missing field descriptor array terminator\");\n            }\n        }\n        return c;\n    };\n    ShapeFileUtil.e = function (a, b, c) {\n        var e_1, _a;\n        var d = ShapeFileUtil.k(b.readInt32());\n        var e = ShapeFileUtil.k(b.readInt32());\n        var f = b.readInt32();\n        var g = null;\n        switch (f) {\n            case 0: break;\n            case 1:\n                g = ShapeFileUtil.i(b);\n                break;\n            case 3:\n                g = ShapeFileUtil.b(b);\n                break;\n            case 5:\n                g = ShapeFileUtil.f(b);\n                break;\n            case 8: break;\n            case 11: break;\n            case 13:\n                g = ShapeFileUtil.d(b);\n                break;\n            case 15:\n                g = ShapeFileUtil.h(b);\n                break;\n            case 18: break;\n            case 21: break;\n            case 23: break;\n            case 25: break;\n            case 28: break;\n            case 31: break;\n            default: break;\n        }\n        if (g == null) {\n            throw new BaseError(1, \"Corrupt Shp file - failed to read \" + EnumUtil.getName(ShapeType_$type, f));\n        }\n        g.shapeType = f;\n        if (c != null) {\n            c.readBytes(1);\n            g.fields = new Dictionary$2(String_$type, Base.$, 0);\n            try {\n                for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var h = _c.value;\n                    g.fieldsNames.add(h.c);\n                    var i = c.readBytes(h.b);\n                    var j = Encoding.uTF8.getString1(i, 0, h.b);\n                    switch (h.a) {\n                        case 1:\n                            g.fieldsTypes.add(\"double\");\n                            var k = parseFloat(j);\n                            if (!isNaN_(k)) {\n                                g.fields.addItem(h.c, k);\n                                ShapeFileUtil.l(g, h.c, k);\n                            }\n                            break;\n                        case 5:\n                            g.fieldsTypes.add(\"float\");\n                            var l = parseFloat(j);\n                            if (!isNaN_(l)) {\n                                g.fields.addItem(h.c, l);\n                                ShapeFileUtil.l(g, h.c, l);\n                            }\n                            break;\n                        case 0:\n                            g.fieldsTypes.add(\"string\");\n                            var m = j.trim();\n                            g.fields.addItem(h.c, m);\n                            ShapeFileUtil.l(g, h.c, m);\n                            break;\n                        case 3:\n                            g.fieldsTypes.add(\"date\");\n                            var str_ = j;\n                            var n = Date.parse(str_);\n                            g.fields.addItem(h.c, n);\n                            ShapeFileUtil.l(g, h.c, n);\n                            break;\n                        default: throw new BaseError(1, \"Unrecognized field type: \" + enumGetBox(XBaseDataType_$type, h.a));\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n        }\n        return g;\n    };\n    ShapeFileUtil.l = function (row_, property_, val_) {\n        if (!row_.fieldValues) {\n            row_.fieldValues = {};\n        }\n        ;\n        row_.fieldValues[property_] = val_;\n    };\n    ShapeFileUtil.k = function (a) {\n        return (((a & 255) << 24) | ((a & 65280) << 8) | ((a & 16711680) >> 8) | ((u32BitwiseAnd(a, 4278190080)) >> 24));\n    };\n    ShapeFileUtil.i = function (a) {\n        var b = ((function () {\n            var $ret = PointUtil.create();\n            $ret.x = a.readDouble();\n            $ret.y = a.readDouble();\n            return $ret;\n        })());\n        return ((function () {\n            var $ret = new ShapefileRecord();\n            $ret.bounds = new Rect(3, b, Size.empty);\n            $ret.points = new List$1(List$1.$.specialize(Point_$type), 1, [new List$1(Point_$type, 1, [b])]);\n            return $ret;\n        })());\n    };\n    ShapeFileUtil.d = function (a) {\n        var b, c;\n        var d = ((function () { var e = ShapeFileUtil.c(a, b, c); b = e.p1; c = e.p2; return e.ret; })());\n        a.readDouble();\n        a.readDouble();\n        for (var e = 0; e < c; e++) {\n            a.readDouble();\n        }\n        a.readDouble();\n        a.readDouble();\n        for (var f = 0; f < c; f++) {\n            a.readDouble();\n        }\n        return d;\n    };\n    ShapeFileUtil.c = function (a, b, c) {\n        var d = PointUtil.create();\n        var e = ((function () {\n            var $ret = PointUtil.create();\n            $ret.x = a.readDouble();\n            $ret.y = a.readDouble();\n            return $ret;\n        })());\n        var f = ((function () {\n            var $ret = PointUtil.create();\n            $ret.x = a.readDouble();\n            $ret.y = a.readDouble();\n            return $ret;\n        })());\n        var g = new Rect(0, e.x, e.y, f.x - e.x, f.y - e.y);\n        b = a.readInt32();\n        c = a.readInt32();\n        var h = new Array(b);\n        for (var i = 0; i < b; ++i) {\n            h[i] = a.readInt32();\n        }\n        var j = new List$1(List$1.$.specialize(Point_$type), 0);\n        for (var k = 0; k < b; ++k) {\n            var l = (k < b - 1 ? h[k + 1] : c) - h[k];\n            var m = new List$1(Point_$type, 2, l - 1);\n            for (var n = 0; n < l; ++n) {\n                d = PointUtil.create();\n                d.x = a.readDouble();\n                d.y = a.readDouble();\n                m.add(d);\n            }\n            if (m.count > 0) {\n                j.add(m);\n            }\n        }\n        return {\n            ret: ((function () {\n                var $ret = new ShapefileRecord();\n                $ret.bounds = g;\n                $ret.points = j;\n                return $ret;\n            })()),\n            p1: b,\n            p2: c\n        };\n    };\n    ShapeFileUtil.b = function (a) {\n        var b, c;\n        return ((function () { var d = ShapeFileUtil.c(a, b, c); b = d.p1; c = d.p2; return d.ret; })());\n    };\n    ShapeFileUtil.h = function (a) {\n        var b, c;\n        var d = ((function () { var e = ShapeFileUtil.g(a, b, c); b = e.p1; c = e.p2; return e.ret; })());\n        a.readDouble();\n        a.readDouble();\n        for (var e = 0; e < c; e++) {\n            a.readDouble();\n        }\n        a.readDouble();\n        a.readDouble();\n        for (var f = 0; f < c; f++) {\n            a.readDouble();\n        }\n        return d;\n    };\n    ShapeFileUtil.f = function (a) {\n        var b, c;\n        return ((function () { var d = ShapeFileUtil.g(a, b, c); b = d.p1; c = d.p2; return d.ret; })());\n    };\n    ShapeFileUtil.g = function (a, b, c) {\n        var d = ((function () {\n            var $ret = PointUtil.create();\n            $ret.x = a.readDouble();\n            $ret.y = a.readDouble();\n            return $ret;\n        })());\n        var e = ((function () {\n            var $ret = PointUtil.create();\n            $ret.x = a.readDouble();\n            $ret.y = a.readDouble();\n            return $ret;\n        })());\n        var f = new Rect(0, d.x, d.y, e.x - d.x, e.y - d.y);\n        var g = PointUtil.create();\n        b = a.readInt32();\n        c = a.readInt32();\n        var h = new Array(b);\n        for (var i = 0; i < b; ++i) {\n            h[i] = a.readInt32();\n        }\n        var j = new List$1(List$1.$.specialize(Point_$type), 0);\n        for (var k = 0; k < b; ++k) {\n            var l = (k < b - 1 ? h[k + 1] : c) - h[k];\n            var m = new List$1(Point_$type, 2, l);\n            g = PointUtil.create();\n            g.x = a.readDouble();\n            g.y = a.readDouble();\n            for (var n = 1; n < l; ++n) {\n                g = PointUtil.create();\n                g.x = a.readDouble();\n                g.y = a.readDouble();\n                m.add(g);\n            }\n            if (m.count > 1) {\n                j.add(m);\n            }\n        }\n        return {\n            ret: ((function () {\n                var $ret = new ShapefileRecord();\n                $ret.bounds = f;\n                $ret.points = j;\n                return $ret;\n            })()),\n            p1: b,\n            p2: c\n        };\n    };\n    ShapeFileUtil.m = function () {\n        ShapeFileUtil.j = new Dictionary$2(String_$type, XBaseDataType_$type, 0);\n        ShapeFileUtil.j.item('C', 0);\n        ShapeFileUtil.j.item('N', 1);\n        ShapeFileUtil.j.item('L', 2);\n        ShapeFileUtil.j.item('D', 3);\n        ShapeFileUtil.j.item('M', 4);\n        ShapeFileUtil.j.item('F', 5);\n        ShapeFileUtil.j.item('B', 6);\n        ShapeFileUtil.j.item('G', 7);\n        ShapeFileUtil.j.item('P', 8);\n        ShapeFileUtil.j.item('Y', 9);\n        ShapeFileUtil.j.item('T', 10);\n        ShapeFileUtil.j.item('I', 11);\n        ShapeFileUtil.j.item('V', 12);\n        ShapeFileUtil.j.item('X', 13);\n        ShapeFileUtil.j.item('@', 14);\n        ShapeFileUtil.j.item('O', 15);\n        ShapeFileUtil.j.item('+', 16);\n    };\n    ShapeFileUtil.staticInit = function () {\n        ShapeFileUtil.m();\n    };\n    ShapeFileUtil.$t = markType(ShapeFileUtil, 'ShapeFileUtil');\n    ShapeFileUtil.j = null;\n    return ShapeFileUtil;\n}(Base));\nexport { ShapeFileUtil };\n(function (v) { callStaticConstructors(); })(true);\n"]},"metadata":{},"sourceType":"module"}