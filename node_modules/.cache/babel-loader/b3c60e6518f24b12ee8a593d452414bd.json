{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, typeGetValue, markType } from \"./type\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { Color } from \"./Color\";\nimport { HeatTileGeneratorWorker } from \"./HeatTileGeneratorWorker\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { ITileWorkCompletedSink_$type } from \"./ITileWorkCompletedSink\";\n/**\n * @hidden\n */\n\nvar HeatTileGeneratorWebWorker =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HeatTileGeneratorWebWorker, _super);\n\n  function HeatTileGeneratorWebWorker() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(HeatTileGeneratorWebWorker, \"postmessage\", {\n    get: function () {\n      return HeatTileGeneratorWebWorker._postmessage;\n    },\n    set: function (a) {\n      HeatTileGeneratorWebWorker._postmessage = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HeatTileGeneratorWebWorker.onmessage = function (args_) {\n    var data_ = args_.data;\n    var a = data_.cancelTile;\n    var b = data_.z;\n    var c = data_.y;\n    var d = data_.x;\n\n    if (a) {\n      for (var i_ = 0; i_ < HeatTileGeneratorWebWorker.b.length; i_++) {\n        var e = HeatTileGeneratorWebWorker.b[i_];\n\n        if (e.g.testRun) {\n          continue;\n        }\n\n        if (e.g.z == b && e.g.x == d && e.g.y == c) {\n          var workers_ = HeatTileGeneratorWebWorker.b;\n          workers_.splice(i_, 1);\n          i_--;\n        }\n      }\n    }\n\n    var f = new TileWorkSettings();\n    var g = data_;\n\n    if (!g[\"messageId\"]) {\n      return;\n    }\n\n    if (g[\"isNewData\"]) {\n      var yValues_ = g[\"yValues\"];\n      var xValues_ = g[\"xValues\"];\n      var values_ = g[\"values\"];\n      HeatTileGeneratorWebWorker._yValues = new Float64Array(yValues_);\n      HeatTileGeneratorWebWorker._xValues = new Float64Array(xValues_);\n      HeatTileGeneratorWebWorker._values = new Float64Array(values_);\n    }\n\n    var h = g[\"scaleColors\"];\n    var i = new Array(h.length);\n\n    for (var j = 0; j < h.length; j++) {\n      i[j] = Color.u(typeGetValue(h[j][\"a\"]), typeGetValue(h[j][\"r\"]), typeGetValue(h[j][\"g\"]), typeGetValue(h[j][\"b\"]));\n    }\n\n    f.scaler = HeatTileGeneratorWebWorker.e;\n    f.blurRadius = g[\"blurRadius\"];\n    f.maxBlurRadius = g[\"maxBlurRadius\"];\n    f.useBlurRadiusAdjustedForZoom = g[\"useBlurRadiusAdjustedForZoom\"];\n    f.minimumColor = Color.u(typeGetValue(g[\"minimumColor\"][\"a\"]), typeGetValue(g[\"minimumColor\"][\"r\"]), typeGetValue(g[\"minimumColor\"][\"g\"]), typeGetValue(g[\"minimumColor\"][\"b\"]));\n    f.maximumColor = Color.u(typeGetValue(g[\"maximumColor\"][\"a\"]), typeGetValue(g[\"maximumColor\"][\"r\"]), typeGetValue(g[\"maximumColor\"][\"g\"]), typeGetValue(g[\"maximumColor\"][\"b\"]));\n    f.tileViewport = new Rect(0, g[\"tileViewport\"][\"left\"], g[\"tileViewport\"][\"top\"], g[\"tileViewport\"][\"width\"], g[\"tileViewport\"][\"height\"]);\n    f.yValues = HeatTileGeneratorWebWorker._yValues;\n    f.xValues = HeatTileGeneratorWebWorker._xValues;\n    f.values = HeatTileGeneratorWebWorker._values;\n    f.minimumVisibleLatitude = g[\"minimumVisibleLatitude\"];\n    f.minimumVisibleLongitude = g[\"minimumVisibleLongitude\"];\n    f.maximumVisibleLatitude = g[\"maximumVisibleLatitude\"];\n    f.maximumVisibleLongitude = g[\"maximumVisibleLongitude\"];\n    f.z = typeGetValue(g[\"z\"]);\n    f.x = typeGetValue(g[\"x\"]);\n    f.y = typeGetValue(g[\"y\"]);\n    f.window = new Rect(0, g[\"window\"][\"left\"], g[\"window\"][\"top\"], g[\"window\"][\"width\"], g[\"window\"][\"height\"]);\n    f.testRun = g[\"testRun\"];\n    f.globalMinimum = g[\"globalMinimum\"];\n    f.globalMaximum = g[\"globalMaximum\"];\n    f.useGlobalMinMax = g[\"useGlobalMinMax\"];\n    f.minimumValue = g[\"minimumValue\"];\n    f.maximumValue = g[\"maximumValue\"];\n    f.scaleColorOffsets = g[\"scaleColorOffsets\"];\n    f.scaleColors = i;\n    f.useLogarithmicScale = g[\"useLogarithmicScale\"];\n    f.logarithmBase = g[\"logarithmBase\"];\n    var k = new HeatTileGeneratorWorker(f);\n    k.u = typeGetValue(g[\"messageId\"]);\n    k.h = true;\n    k.completedSink = new CompletedSinkImpl(k);\n    var workersl_ = HeatTileGeneratorWebWorker.b;\n    var worker_ = k;\n    workersl_.push(worker_);\n  };\n\n  HeatTileGeneratorWebWorker.start = function () {\n    var workers_ = HeatTileGeneratorWebWorker.b;\n    setInterval(function () {\n      if (workers_.length > 0) {\n        var worker = workers_.shift();\n        worker.doWork();\n        worker.completedSink = null;\n      }\n    }, 16);\n    ;\n  };\n\n  HeatTileGeneratorWebWorker.$t = markType(HeatTileGeneratorWebWorker, 'HeatTileGeneratorWebWorker');\n  HeatTileGeneratorWebWorker.e = new HeatTileScaler();\n  HeatTileGeneratorWebWorker.b = [];\n  HeatTileGeneratorWebWorker._postmessage = null;\n  HeatTileGeneratorWebWorker._yValues = null;\n  HeatTileGeneratorWebWorker._xValues = null;\n  HeatTileGeneratorWebWorker._values = null;\n  return HeatTileGeneratorWebWorker;\n}(Base);\n\nexport { HeatTileGeneratorWebWorker };\n/**\n * @hidden\n */\n\nvar CompletedSinkImpl =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CompletedSinkImpl, _super);\n\n  function CompletedSinkImpl(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.a = a;\n    return _this;\n  }\n\n  CompletedSinkImpl.prototype.onCompleted = function (a) {\n    var b = a;\n    var c = {};\n    var imageData_ = b.imageData;\n    c[\"messageId\"] = this.a.u;\n    c[\"imageData\"] = b.imageData == null ? null : new Uint8ClampedArray(imageData_)[\"buffer\"];\n    c[\"z\"] = b.z;\n    c[\"x\"] = b.x;\n    c[\"y\"] = b.y;\n    c[\"url\"] = b.url;\n    c[\"globalMinimumValue\"] = b.globalMinimumValue;\n    c[\"globalMaximumValue\"] = b.globalMaximumValue;\n    c[\"globalMaximumValueLongitude\"] = b.globalMaximumValueLongitude;\n    c[\"globalMaximumValueLatitude\"] = b.globalMaximumValueLatitude;\n    c[\"globalMinimumValueLongitude\"] = b.globalMinimumValueLongitude;\n    c[\"globalMinimumValueLatitude\"] = b.globalMinimumValueLatitude;\n\n    if (this.a.h && c[\"imageData\"] != null) {\n      HeatTileGeneratorWebWorker.postmessage(c, [c[\"imageData\"]]);\n    } else {\n      HeatTileGeneratorWebWorker.postmessage(c);\n    }\n  };\n\n  CompletedSinkImpl.$t = markType(CompletedSinkImpl, 'CompletedSinkImpl', Base.$, [ITileWorkCompletedSink_$type]);\n  return CompletedSinkImpl;\n}(Base);\n\nexport { CompletedSinkImpl };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/HeatTileGeneratorWebWorker_combined.js"],"names":["__extends","Base","typeGetValue","markType","TileWorkSettings","Color","HeatTileGeneratorWorker","HeatTileScaler","Rect","ITileWorkCompletedSink_$type","HeatTileGeneratorWebWorker","_super","apply","arguments","Object","defineProperty","get","_postmessage","set","a","enumerable","configurable","onmessage","args_","data_","data","cancelTile","b","z","c","y","d","x","i_","length","e","g","testRun","workers_","splice","f","yValues_","xValues_","values_","_yValues","Float64Array","_xValues","_values","h","i","Array","j","u","scaler","blurRadius","maxBlurRadius","useBlurRadiusAdjustedForZoom","minimumColor","maximumColor","tileViewport","yValues","xValues","values","minimumVisibleLatitude","minimumVisibleLongitude","maximumVisibleLatitude","maximumVisibleLongitude","window","globalMinimum","globalMaximum","useGlobalMinMax","minimumValue","maximumValue","scaleColorOffsets","scaleColors","useLogarithmicScale","logarithmBase","k","completedSink","CompletedSinkImpl","workersl_","worker_","push","start","setInterval","worker","shift","doWork","$t","_this","call","prototype","onCompleted","imageData_","imageData","Uint8ClampedArray","url","globalMinimumValue","globalMaximumValue","globalMaximumValueLongitude","globalMaximumValueLatitude","globalMinimumValueLongitude","globalMinimumValueLatitude","postmessage","$"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,IAAT,EAAeC,YAAf,EAA6BC,QAA7B,QAA6C,QAA7C;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,uBAAT,QAAwC,2BAAxC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,4BAAT,QAA6C,0BAA7C;AACA;AACA;AACA;;AACA,IAAIC,0BAA0B;AAAG;;AAAc;AAAe,UAAUC,MAAV,EAAkB;AAC5EX,EAAAA,SAAS,CAACU,0BAAD,EAA6BC,MAA7B,CAAT;;AACA,WAASD,0BAAT,GAAsC;AAClC,WAAOC,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDC,EAAAA,MAAM,CAACC,cAAP,CAAsBL,0BAAtB,EAAkD,aAAlD,EAAiE;AAC7DM,IAAAA,GAAG,EAAE,YAAY;AACb,aAAON,0BAA0B,CAACO,YAAlC;AACH,KAH4D;AAI7DC,IAAAA,GAAG,EAAE,UAAUC,CAAV,EAAa;AACdT,MAAAA,0BAA0B,CAACO,YAA3B,GAA0CE,CAA1C;AACH,KAN4D;AAO7DC,IAAAA,UAAU,EAAE,KAPiD;AAQ7DC,IAAAA,YAAY,EAAE;AAR+C,GAAjE;;AAUAX,EAAAA,0BAA0B,CAACY,SAA3B,GAAuC,UAAUC,KAAV,EAAiB;AACpD,QAAIC,KAAK,GAAGD,KAAK,CAACE,IAAlB;AACA,QAAIN,CAAC,GAAIK,KAAK,CAACE,UAAf;AACA,QAAIC,CAAC,GAAIH,KAAK,CAACI,CAAf;AACA,QAAIC,CAAC,GAAIL,KAAK,CAACM,CAAf;AACA,QAAIC,CAAC,GAAIP,KAAK,CAACQ,CAAf;;AACA,QAAIb,CAAJ,EAAO;AACH,WAAK,IAAIc,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGvB,0BAA0B,CAACiB,CAA3B,CAA6BO,MAAnD,EAA2DD,EAAE,EAA7D,EAAiE;AAC7D,YAAIE,CAAC,GAAGzB,0BAA0B,CAACiB,CAA3B,CAA6BM,EAA7B,CAAR;;AACA,YAAIE,CAAC,CAACC,CAAF,CAAIC,OAAR,EAAiB;AACb;AACH;;AACD,YAAIF,CAAC,CAACC,CAAF,CAAIR,CAAJ,IAASD,CAAT,IAAcQ,CAAC,CAACC,CAAF,CAAIJ,CAAJ,IAASD,CAAvB,IAA4BI,CAAC,CAACC,CAAF,CAAIN,CAAJ,IAASD,CAAzC,EAA4C;AACxC,cAAIS,QAAQ,GAAG5B,0BAA0B,CAACiB,CAA1C;AACAW,UAAAA,QAAQ,CAACC,MAAT,CAAgBN,EAAhB,EAAoB,CAApB;AACAA,UAAAA,EAAE;AACL;AACJ;AACJ;;AACD,QAAIO,CAAC,GAAG,IAAIpC,gBAAJ,EAAR;AACA,QAAIgC,CAAC,GAAGZ,KAAR;;AACA,QAAI,CAACY,CAAC,CAAC,WAAD,CAAN,EAAqB;AACjB;AACH;;AACD,QAAIA,CAAC,CAAC,WAAD,CAAL,EAAoB;AAChB,UAAIK,QAAQ,GAAGL,CAAC,CAAC,SAAD,CAAhB;AACA,UAAIM,QAAQ,GAAGN,CAAC,CAAC,SAAD,CAAhB;AACA,UAAIO,OAAO,GAAGP,CAAC,CAAC,QAAD,CAAf;AACA1B,MAAAA,0BAA0B,CAACkC,QAA3B,GAAuC,IAAIC,YAAJ,CAAiBJ,QAAjB,CAAvC;AACA/B,MAAAA,0BAA0B,CAACoC,QAA3B,GAAuC,IAAID,YAAJ,CAAiBH,QAAjB,CAAvC;AACAhC,MAAAA,0BAA0B,CAACqC,OAA3B,GAAsC,IAAIF,YAAJ,CAAiBF,OAAjB,CAAtC;AACH;;AACD,QAAIK,CAAC,GAAGZ,CAAC,CAAC,aAAD,CAAT;AACA,QAAIa,CAAC,GAAG,IAAIC,KAAJ,CAAUF,CAAC,CAACd,MAAZ,CAAR;;AACA,SAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAAC,CAACd,MAAtB,EAA8BiB,CAAC,EAA/B,EAAmC;AAC/BF,MAAAA,CAAC,CAACE,CAAD,CAAD,GAAO9C,KAAK,CAAC+C,CAAN,CAAQlD,YAAY,CAAC8C,CAAC,CAACG,CAAD,CAAD,CAAK,GAAL,CAAD,CAApB,EAAiCjD,YAAY,CAAC8C,CAAC,CAACG,CAAD,CAAD,CAAK,GAAL,CAAD,CAA7C,EAA0DjD,YAAY,CAAC8C,CAAC,CAACG,CAAD,CAAD,CAAK,GAAL,CAAD,CAAtE,EAAmFjD,YAAY,CAAC8C,CAAC,CAACG,CAAD,CAAD,CAAK,GAAL,CAAD,CAA/F,CAAP;AACH;;AACDX,IAAAA,CAAC,CAACa,MAAF,GAAW3C,0BAA0B,CAACyB,CAAtC;AACAK,IAAAA,CAAC,CAACc,UAAF,GAAelB,CAAC,CAAC,YAAD,CAAhB;AACAI,IAAAA,CAAC,CAACe,aAAF,GAAkBnB,CAAC,CAAC,eAAD,CAAnB;AACAI,IAAAA,CAAC,CAACgB,4BAAF,GAAkCpB,CAAC,CAAC,8BAAD,CAAnC;AACAI,IAAAA,CAAC,CAACiB,YAAF,GAAiBpD,KAAK,CAAC+C,CAAN,CAAQlD,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAApB,EAA8ClC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAA1D,EAAoFlC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAAhG,EAA0HlC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAAtI,CAAjB;AACAI,IAAAA,CAAC,CAACkB,YAAF,GAAiBrD,KAAK,CAAC+C,CAAN,CAAQlD,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAApB,EAA8ClC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAA1D,EAAoFlC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAAhG,EAA0HlC,YAAY,CAACkC,CAAC,CAAC,cAAD,CAAD,CAAkB,GAAlB,CAAD,CAAtI,CAAjB;AACAI,IAAAA,CAAC,CAACmB,YAAF,GAAiB,IAAInD,IAAJ,CAAS,CAAT,EAAY4B,CAAC,CAAC,cAAD,CAAD,CAAkB,MAAlB,CAAZ,EAAuCA,CAAC,CAAC,cAAD,CAAD,CAAkB,KAAlB,CAAvC,EAAiEA,CAAC,CAAC,cAAD,CAAD,CAAkB,OAAlB,CAAjE,EAA6FA,CAAC,CAAC,cAAD,CAAD,CAAkB,QAAlB,CAA7F,CAAjB;AACAI,IAAAA,CAAC,CAACoB,OAAF,GAAYlD,0BAA0B,CAACkC,QAAvC;AACAJ,IAAAA,CAAC,CAACqB,OAAF,GAAYnD,0BAA0B,CAACoC,QAAvC;AACAN,IAAAA,CAAC,CAACsB,MAAF,GAAWpD,0BAA0B,CAACqC,OAAtC;AACAP,IAAAA,CAAC,CAACuB,sBAAF,GAA2B3B,CAAC,CAAC,wBAAD,CAA5B;AACAI,IAAAA,CAAC,CAACwB,uBAAF,GAA4B5B,CAAC,CAAC,yBAAD,CAA7B;AACAI,IAAAA,CAAC,CAACyB,sBAAF,GAA2B7B,CAAC,CAAC,wBAAD,CAA5B;AACAI,IAAAA,CAAC,CAAC0B,uBAAF,GAA4B9B,CAAC,CAAC,yBAAD,CAA7B;AACAI,IAAAA,CAAC,CAACZ,CAAF,GAAM1B,YAAY,CAACkC,CAAC,CAAC,GAAD,CAAF,CAAlB;AACAI,IAAAA,CAAC,CAACR,CAAF,GAAM9B,YAAY,CAACkC,CAAC,CAAC,GAAD,CAAF,CAAlB;AACAI,IAAAA,CAAC,CAACV,CAAF,GAAM5B,YAAY,CAACkC,CAAC,CAAC,GAAD,CAAF,CAAlB;AACAI,IAAAA,CAAC,CAAC2B,MAAF,GAAW,IAAI3D,IAAJ,CAAS,CAAT,EAAY4B,CAAC,CAAC,QAAD,CAAD,CAAY,MAAZ,CAAZ,EAAiCA,CAAC,CAAC,QAAD,CAAD,CAAY,KAAZ,CAAjC,EAAqDA,CAAC,CAAC,QAAD,CAAD,CAAY,OAAZ,CAArD,EAA2EA,CAAC,CAAC,QAAD,CAAD,CAAY,QAAZ,CAA3E,CAAX;AACAI,IAAAA,CAAC,CAACH,OAAF,GAAYD,CAAC,CAAC,SAAD,CAAb;AACAI,IAAAA,CAAC,CAAC4B,aAAF,GAAkBhC,CAAC,CAAC,eAAD,CAAnB;AACAI,IAAAA,CAAC,CAAC6B,aAAF,GAAkBjC,CAAC,CAAC,eAAD,CAAnB;AACAI,IAAAA,CAAC,CAAC8B,eAAF,GAAoBlC,CAAC,CAAC,iBAAD,CAArB;AACAI,IAAAA,CAAC,CAAC+B,YAAF,GAAiBnC,CAAC,CAAC,cAAD,CAAlB;AACAI,IAAAA,CAAC,CAACgC,YAAF,GAAiBpC,CAAC,CAAC,cAAD,CAAlB;AACAI,IAAAA,CAAC,CAACiC,iBAAF,GAAsBrC,CAAC,CAAC,mBAAD,CAAvB;AACAI,IAAAA,CAAC,CAACkC,WAAF,GAAgBzB,CAAhB;AACAT,IAAAA,CAAC,CAACmC,mBAAF,GAAwBvC,CAAC,CAAC,qBAAD,CAAzB;AACAI,IAAAA,CAAC,CAACoC,aAAF,GAAkBxC,CAAC,CAAC,eAAD,CAAnB;AACA,QAAIyC,CAAC,GAAG,IAAIvE,uBAAJ,CAA4BkC,CAA5B,CAAR;AACAqC,IAAAA,CAAC,CAACzB,CAAF,GAAMlD,YAAY,CAACkC,CAAC,CAAC,WAAD,CAAF,CAAlB;AACAyC,IAAAA,CAAC,CAAC7B,CAAF,GAAM,IAAN;AACA6B,IAAAA,CAAC,CAACC,aAAF,GAAkB,IAAIC,iBAAJ,CAAsBF,CAAtB,CAAlB;AACA,QAAIG,SAAS,GAAGtE,0BAA0B,CAACiB,CAA3C;AACA,QAAIsD,OAAO,GAAGJ,CAAd;AACAG,IAAAA,SAAS,CAACE,IAAV,CAAeD,OAAf;AACH,GAxED;;AAyEAvE,EAAAA,0BAA0B,CAACyE,KAA3B,GAAmC,YAAY;AAC3C,QAAI7C,QAAQ,GAAG5B,0BAA0B,CAACiB,CAA1C;AACAyD,IAAAA,WAAW,CAAC,YAAY;AACpB,UAAI9C,QAAQ,CAACJ,MAAT,GAAkB,CAAtB,EAAyB;AACrB,YAAImD,MAAM,GAAG/C,QAAQ,CAACgD,KAAT,EAAb;AACAD,QAAAA,MAAM,CAACE,MAAP;AACAF,QAAAA,MAAM,CAACP,aAAP,GAAuB,IAAvB;AACH;AACJ,KANU,EAMR,EANQ,CAAX;AAOA;AACH,GAVD;;AAWApE,EAAAA,0BAA0B,CAAC8E,EAA3B,GAAgCrF,QAAQ,CAACO,0BAAD,EAA6B,4BAA7B,CAAxC;AACAA,EAAAA,0BAA0B,CAACyB,CAA3B,GAA+B,IAAI5B,cAAJ,EAA/B;AACAG,EAAAA,0BAA0B,CAACiB,CAA3B,GAA+B,EAA/B;AACAjB,EAAAA,0BAA0B,CAACO,YAA3B,GAA0C,IAA1C;AACAP,EAAAA,0BAA0B,CAACkC,QAA3B,GAAsC,IAAtC;AACAlC,EAAAA,0BAA0B,CAACoC,QAA3B,GAAsC,IAAtC;AACApC,EAAAA,0BAA0B,CAACqC,OAA3B,GAAqC,IAArC;AACA,SAAOrC,0BAAP;AACH,CA3G6D,CA2G5DT,IA3G4D,CAA9D;;AA4GA,SAASS,0BAAT;AACA;AACA;AACA;;AACA,IAAIqE,iBAAiB;AAAG;;AAAc;AAAe,UAAUpE,MAAV,EAAkB;AACnEX,EAAAA,SAAS,CAAC+E,iBAAD,EAAoBpE,MAApB,CAAT;;AACA,WAASoE,iBAAT,CAA2B5D,CAA3B,EAA8B;AAC1B,QAAIsE,KAAK,GAAG9E,MAAM,CAAC+E,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAD,IAAAA,KAAK,CAACtE,CAAN,GAAU,IAAV;AACAsE,IAAAA,KAAK,CAACtE,CAAN,GAAUA,CAAV;AACA,WAAOsE,KAAP;AACH;;AACDV,EAAAA,iBAAiB,CAACY,SAAlB,CAA4BC,WAA5B,GAA0C,UAAUzE,CAAV,EAAa;AACnD,QAAIQ,CAAC,GAAGR,CAAR;AACA,QAAIU,CAAC,GAAG,EAAR;AACA,QAAIgE,UAAU,GAAGlE,CAAC,CAACmE,SAAnB;AACAjE,IAAAA,CAAC,CAAC,WAAD,CAAD,GAAiB,KAAKV,CAAL,CAAOiC,CAAxB;AACAvB,IAAAA,CAAC,CAAC,WAAD,CAAD,GAAkBF,CAAC,CAACmE,SAAF,IAAe,IAAf,GAAsB,IAAtB,GAA8B,IAAIC,iBAAJ,CAAsBF,UAAtB,CAAD,CAAoC,QAApC,CAA/C;AACAhE,IAAAA,CAAC,CAAC,GAAD,CAAD,GAASF,CAAC,CAACC,CAAX;AACAC,IAAAA,CAAC,CAAC,GAAD,CAAD,GAASF,CAAC,CAACK,CAAX;AACAH,IAAAA,CAAC,CAAC,GAAD,CAAD,GAASF,CAAC,CAACG,CAAX;AACAD,IAAAA,CAAC,CAAC,KAAD,CAAD,GAAWF,CAAC,CAACqE,GAAb;AACAnE,IAAAA,CAAC,CAAC,oBAAD,CAAD,GAA0BF,CAAC,CAACsE,kBAA5B;AACApE,IAAAA,CAAC,CAAC,oBAAD,CAAD,GAA0BF,CAAC,CAACuE,kBAA5B;AACArE,IAAAA,CAAC,CAAC,6BAAD,CAAD,GAAmCF,CAAC,CAACwE,2BAArC;AACAtE,IAAAA,CAAC,CAAC,4BAAD,CAAD,GAAkCF,CAAC,CAACyE,0BAApC;AACAvE,IAAAA,CAAC,CAAC,6BAAD,CAAD,GAAmCF,CAAC,CAAC0E,2BAArC;AACAxE,IAAAA,CAAC,CAAC,4BAAD,CAAD,GAAkCF,CAAC,CAAC2E,0BAApC;;AACA,QAAI,KAAKnF,CAAL,CAAO6B,CAAP,IAAYnB,CAAC,CAAC,WAAD,CAAD,IAAkB,IAAlC,EAAwC;AACpCnB,MAAAA,0BAA0B,CAAC6F,WAA3B,CAAuC1E,CAAvC,EAA0C,CAACA,CAAC,CAAC,WAAD,CAAF,CAA1C;AACH,KAFD,MAGK;AACDnB,MAAAA,0BAA0B,CAAC6F,WAA3B,CAAuC1E,CAAvC;AACH;AACJ,GAtBD;;AAuBAkD,EAAAA,iBAAiB,CAACS,EAAlB,GAAuBrF,QAAQ,CAAC4E,iBAAD,EAAoB,mBAApB,EAAyC9E,IAAI,CAACuG,CAA9C,EAAiD,CAAC/F,4BAAD,CAAjD,CAA/B;AACA,SAAOsE,iBAAP;AACH,CAjCoD,CAiCnD9E,IAjCmD,CAArD;;AAkCA,SAAS8E,iBAAT","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, typeGetValue, markType } from \"./type\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { Color } from \"./Color\";\nimport { HeatTileGeneratorWorker } from \"./HeatTileGeneratorWorker\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { ITileWorkCompletedSink_$type } from \"./ITileWorkCompletedSink\";\n/**\n * @hidden\n */\nvar HeatTileGeneratorWebWorker = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HeatTileGeneratorWebWorker, _super);\n    function HeatTileGeneratorWebWorker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(HeatTileGeneratorWebWorker, \"postmessage\", {\n        get: function () {\n            return HeatTileGeneratorWebWorker._postmessage;\n        },\n        set: function (a) {\n            HeatTileGeneratorWebWorker._postmessage = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HeatTileGeneratorWebWorker.onmessage = function (args_) {\n        var data_ = args_.data;\n        var a = (data_.cancelTile);\n        var b = (data_.z);\n        var c = (data_.y);\n        var d = (data_.x);\n        if (a) {\n            for (var i_ = 0; i_ < HeatTileGeneratorWebWorker.b.length; i_++) {\n                var e = HeatTileGeneratorWebWorker.b[i_];\n                if (e.g.testRun) {\n                    continue;\n                }\n                if (e.g.z == b && e.g.x == d && e.g.y == c) {\n                    var workers_ = HeatTileGeneratorWebWorker.b;\n                    workers_.splice(i_, 1);\n                    i_--;\n                }\n            }\n        }\n        var f = new TileWorkSettings();\n        var g = data_;\n        if (!g[\"messageId\"]) {\n            return;\n        }\n        if (g[\"isNewData\"]) {\n            var yValues_ = g[\"yValues\"];\n            var xValues_ = g[\"xValues\"];\n            var values_ = g[\"values\"];\n            HeatTileGeneratorWebWorker._yValues = (new Float64Array(yValues_));\n            HeatTileGeneratorWebWorker._xValues = (new Float64Array(xValues_));\n            HeatTileGeneratorWebWorker._values = (new Float64Array(values_));\n        }\n        var h = g[\"scaleColors\"];\n        var i = new Array(h.length);\n        for (var j = 0; j < h.length; j++) {\n            i[j] = Color.u(typeGetValue(h[j][\"a\"]), typeGetValue(h[j][\"r\"]), typeGetValue(h[j][\"g\"]), typeGetValue(h[j][\"b\"]));\n        }\n        f.scaler = HeatTileGeneratorWebWorker.e;\n        f.blurRadius = g[\"blurRadius\"];\n        f.maxBlurRadius = g[\"maxBlurRadius\"];\n        f.useBlurRadiusAdjustedForZoom = (g[\"useBlurRadiusAdjustedForZoom\"]);\n        f.minimumColor = Color.u(typeGetValue(g[\"minimumColor\"][\"a\"]), typeGetValue(g[\"minimumColor\"][\"r\"]), typeGetValue(g[\"minimumColor\"][\"g\"]), typeGetValue(g[\"minimumColor\"][\"b\"]));\n        f.maximumColor = Color.u(typeGetValue(g[\"maximumColor\"][\"a\"]), typeGetValue(g[\"maximumColor\"][\"r\"]), typeGetValue(g[\"maximumColor\"][\"g\"]), typeGetValue(g[\"maximumColor\"][\"b\"]));\n        f.tileViewport = new Rect(0, g[\"tileViewport\"][\"left\"], g[\"tileViewport\"][\"top\"], g[\"tileViewport\"][\"width\"], g[\"tileViewport\"][\"height\"]);\n        f.yValues = HeatTileGeneratorWebWorker._yValues;\n        f.xValues = HeatTileGeneratorWebWorker._xValues;\n        f.values = HeatTileGeneratorWebWorker._values;\n        f.minimumVisibleLatitude = g[\"minimumVisibleLatitude\"];\n        f.minimumVisibleLongitude = g[\"minimumVisibleLongitude\"];\n        f.maximumVisibleLatitude = g[\"maximumVisibleLatitude\"];\n        f.maximumVisibleLongitude = g[\"maximumVisibleLongitude\"];\n        f.z = typeGetValue(g[\"z\"]);\n        f.x = typeGetValue(g[\"x\"]);\n        f.y = typeGetValue(g[\"y\"]);\n        f.window = new Rect(0, g[\"window\"][\"left\"], g[\"window\"][\"top\"], g[\"window\"][\"width\"], g[\"window\"][\"height\"]);\n        f.testRun = g[\"testRun\"];\n        f.globalMinimum = g[\"globalMinimum\"];\n        f.globalMaximum = g[\"globalMaximum\"];\n        f.useGlobalMinMax = g[\"useGlobalMinMax\"];\n        f.minimumValue = g[\"minimumValue\"];\n        f.maximumValue = g[\"maximumValue\"];\n        f.scaleColorOffsets = g[\"scaleColorOffsets\"];\n        f.scaleColors = i;\n        f.useLogarithmicScale = g[\"useLogarithmicScale\"];\n        f.logarithmBase = g[\"logarithmBase\"];\n        var k = new HeatTileGeneratorWorker(f);\n        k.u = typeGetValue(g[\"messageId\"]);\n        k.h = true;\n        k.completedSink = new CompletedSinkImpl(k);\n        var workersl_ = HeatTileGeneratorWebWorker.b;\n        var worker_ = k;\n        workersl_.push(worker_);\n    };\n    HeatTileGeneratorWebWorker.start = function () {\n        var workers_ = HeatTileGeneratorWebWorker.b;\n        setInterval(function () {\n            if (workers_.length > 0) {\n                var worker = workers_.shift();\n                worker.doWork();\n                worker.completedSink = null;\n            }\n        }, 16);\n        ;\n    };\n    HeatTileGeneratorWebWorker.$t = markType(HeatTileGeneratorWebWorker, 'HeatTileGeneratorWebWorker');\n    HeatTileGeneratorWebWorker.e = new HeatTileScaler();\n    HeatTileGeneratorWebWorker.b = [];\n    HeatTileGeneratorWebWorker._postmessage = null;\n    HeatTileGeneratorWebWorker._yValues = null;\n    HeatTileGeneratorWebWorker._xValues = null;\n    HeatTileGeneratorWebWorker._values = null;\n    return HeatTileGeneratorWebWorker;\n}(Base));\nexport { HeatTileGeneratorWebWorker };\n/**\n * @hidden\n */\nvar CompletedSinkImpl = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CompletedSinkImpl, _super);\n    function CompletedSinkImpl(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.a = a;\n        return _this;\n    }\n    CompletedSinkImpl.prototype.onCompleted = function (a) {\n        var b = a;\n        var c = {};\n        var imageData_ = b.imageData;\n        c[\"messageId\"] = this.a.u;\n        c[\"imageData\"] = (b.imageData == null ? null : (new Uint8ClampedArray(imageData_))[\"buffer\"]);\n        c[\"z\"] = b.z;\n        c[\"x\"] = b.x;\n        c[\"y\"] = b.y;\n        c[\"url\"] = b.url;\n        c[\"globalMinimumValue\"] = b.globalMinimumValue;\n        c[\"globalMaximumValue\"] = b.globalMaximumValue;\n        c[\"globalMaximumValueLongitude\"] = b.globalMaximumValueLongitude;\n        c[\"globalMaximumValueLatitude\"] = b.globalMaximumValueLatitude;\n        c[\"globalMinimumValueLongitude\"] = b.globalMinimumValueLongitude;\n        c[\"globalMinimumValueLatitude\"] = b.globalMinimumValueLatitude;\n        if (this.a.h && c[\"imageData\"] != null) {\n            HeatTileGeneratorWebWorker.postmessage(c, [c[\"imageData\"]]);\n        }\n        else {\n            HeatTileGeneratorWebWorker.postmessage(c);\n        }\n    };\n    CompletedSinkImpl.$t = markType(CompletedSinkImpl, 'CompletedSinkImpl', Base.$, [ITileWorkCompletedSink_$type]);\n    return CompletedSinkImpl;\n}(Base));\nexport { CompletedSinkImpl };\n"]},"metadata":{},"sourceType":"module"}