{"ast":null,"code":"import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread(_objectSpread({}, parentProps), {}, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? /*#__PURE__*/React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(props, childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    }\n\n    return Domain.getDomain(sharedProps, axis);\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    }\n\n    var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n    var categoryStrings = categories && categories.filter(function (val) {\n      return typeof val === \"string\";\n    });\n    return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten([].concat(_toConsumableArray(categoryStrings), _toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten([].concat(_toConsumableArray(xStrings), _toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten([].concat(_toConsumableArray(yStrings), _toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/victory-core/es/victory-util/wrapper.js"],"names":["_isPlainObject","_values","_uniqBy","_groupBy","_uniq","_isFunction","_flatten","_defaults","_assign","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","React","Axis","Style","Data","Domain","Events","Collection","Helpers","Scale","Log","addBinsToParentPropsIfHistogram","_ref","children","props","childComponents","parentProps","someChildrenAreHistograms","some","child","type","role","allChildrenAreHistograms","every","warn","childBins","bins","combinedData","reduce","memo","xAccessor","createAccessor","x","concat","data","map","datum","getFormattedHistogramData","getFormattedData","_ref2","index","x0","x1","getDataFromChildren","polar","startAngle","endAngle","categories","minDomain","maxDomain","stack","Children","toArray","iteratee","childName","parent","childProps","childData","isDataComponent","getData","cloneElement","_stack","_group","stacked","c","combine","val","datasets","reduceChildren","group","getWidth","groupLength","seriesLength","horizontal","range","getRange","extent","Math","abs","undefined","bars","barRatio","round","getDefaultDomainPadding","axis","groupComponent","_groupComponent$0$pro","offset","firstChild","barWidth","dataLength","nestedChild","width","getDomainFromChildren","parentData","baseParentProps","sharedProps","isDomainComponent","getDomain","childDomains","min","getMinValue","max","getMaxValue","propsDomain","getDomainFromProps","domainPadding","domain","getMinFromProps","getMaxFromProps","dataset","y","dataDomain","getDomainFromData","childDomain","getDomainFromMinMax","formatDomain","getScale","getBaseScale","getScaleType","childScale","getScaleFromName","getAllEvents","components","componentEvents","getComponentEvents","events","getColor","calculatedProps","style","colorScale","color","fill","colors","getColorScale","getStyle","theme","defaultStyle","getStyles","getChildStyle","childStyle","childRole","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","labels","getStringsFromCategories","categoryStrings","removeUndefined","getStringsFromData","d","xName","yName","initialMemo","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","getAxisComponent","axisStrings","getStringsFromAxes","getStringsFromChildren","xStrings","yStrings","dataStrings","getCategories","allStrings","xPropCategories","yPropCategories","fallbackRequired","fallbackProps","xCategories","yCategories"],"mappings":"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","sourcesContent":["import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread(_objectSpread({}, parentProps), {}, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? /*#__PURE__*/React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(props, childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    }\n\n    return Domain.getDomain(sharedProps, axis);\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    }\n\n    var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n    var categoryStrings = categories && categories.filter(function (val) {\n      return typeof val === \"string\";\n    });\n    return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten([].concat(_toConsumableArray(categoryStrings), _toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten([].concat(_toConsumableArray(xStrings), _toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten([].concat(_toConsumableArray(yStrings), _toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}"]},"metadata":{},"sourceType":"module"}