{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { BaseDataSource } from \"./BaseDataSource\";\nimport { IPageCandidatesSink_$type } from \"./IPageCandidatesSink\";\nimport { PagePredictionEngine } from \"./PagePredictionEngine\";\nimport { LRUCache$2 } from \"./LRUCache$2\";\nimport { Base, runOn, Array_$type, Number_$type, typeCast, fromEnum, typeGetValue, String_$type, Boolean_$type, markType } from \"./type\";\nimport { IDataSourcePage_$type } from \"./IDataSourcePage\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { SectionMap } from \"./SectionMap\";\nimport { DataSourceExecutionContext } from \"./DataSourceExecutionContext\";\nimport { SectionData } from \"./SectionData\";\nimport { List$1 } from \"./List$1\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { DataSourcePropertiesComparer } from \"./DataSourcePropertiesComparer\";\nimport { TransactionState } from \"./TransactionState\";\nimport { TransactionType } from \"./TransactionType\";\nimport { DataSourceBatchStartedEventArgs } from \"./DataSourceBatchStartedEventArgs\";\nimport { DataSourceBatchCompletedEventArgs } from \"./DataSourceBatchCompletedEventArgs\";\nimport { truncate, intDivide } from \"./number\";\n/**\n * @hidden\n */\n\nvar VirtualDataSource =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(VirtualDataSource, _super);\n\n  function VirtualDataSource() {\n    var _this = _super.call(this) || this;\n\n    _this.cz = null;\n    _this.di = false;\n    _this.d5 = 0;\n    _this.dc = null;\n    _this.c3 = null;\n    _this.c2 = null;\n    _this.d4 = 50;\n    _this.d3 = 200;\n    _this.actualPageSizePopulated = false;\n    _this.dp = 50;\n    _this.dg = false;\n    _this.c7 = null;\n    _this.cx = null;\n    _this.cy = null;\n    _this.df = new LRUCache$2(Base.$, IDataSourcePage_$type, 0, 200);\n    _this.dm = new Dictionary$2(Base.$, Array_$type, 0);\n    _this.dn = new Dictionary$2(Number_$type, Number_$type, 0);\n    _this.dh = false;\n    _this.cv = null;\n    _this.c0 = null;\n    _this.de = new SectionMap();\n    _this.cw = null;\n    _this.dx = -1;\n    _this.dq = -1;\n    _this.dz = -1;\n    _this.ds = -1;\n    _this.d0 = -1;\n    _this.dt = -1;\n    _this.dy = -1;\n    _this.dr = -1;\n    _this.d2 = -1;\n    _this.d1 = -1;\n    _this.dv = -1;\n    _this.du = -1;\n    _this.dw = -1;\n    _this.dl = new Dictionary$2(String_$type, Boolean_$type, 0);\n    _this._concurrencyTag = null;\n    _this.batchStarted = null;\n    _this.batchCompleted = null;\n    _this.dc = new PagePredictionEngine();\n    _this.dc.e = _this;\n    _this.dc.ag = _this.actualPageSize;\n    _this.dc.f = _this.de;\n    _this.executionContext = new DataSourceExecutionContext();\n    _this.dc.b = _this.executionContext;\n    _this.isReadOnly = true;\n    return _this;\n  }\n\n  VirtualDataSource.prototype.get_isSectionCollapsable = function () {\n    if (!this.isSectionContentVisible) {\n      return true;\n    }\n\n    return _super.prototype.get_isSectionCollapsable.call(this);\n  };\n\n  VirtualDataSource.prototype.set_isSectionCollapsable = function (a) {\n    _super.prototype.set_isSectionCollapsable.call(this, a);\n  };\n\n  VirtualDataSource.prototype.get_isSectionExpandedDefault = function () {\n    if (!this.isSectionContentVisible) {\n      return false;\n    }\n\n    if (this.isSectionCollapsable) {\n      return _super.prototype.get_isSectionExpandedDefault.call(this);\n    }\n\n    return true;\n  };\n\n  VirtualDataSource.prototype.set_isSectionExpandedDefault = function (a) {\n    _super.prototype.set_isSectionExpandedDefault.call(this, a);\n  };\n\n  VirtualDataSource.prototype.get_actualBaseDataProvider = function () {\n    return this.actualDataProvider;\n  };\n\n  Object.defineProperty(VirtualDataSource.prototype, \"actualBaseDataProvider\", {\n    get: function () {\n      return this.get_actualBaseDataProvider();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VirtualDataSource.prototype, \"dataProvider\", {\n    get: function () {\n      return this.c3;\n    },\n    set: function (a) {\n      var b = this.c3;\n      this.c3 = a;\n\n      if (b != this.c3) {\n        this.onPropertyUpdated(\"DataProvider\", b, this.c3);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VirtualDataSource.prototype, \"actualDataProvider\", {\n    get: function () {\n      if (this.c2 == null) {\n        this.actualDataProvider = this.resolveDataProvider();\n      }\n\n      return this.c2;\n    },\n    set: function (a) {\n      var b = this.c2;\n      this.c2 = a;\n\n      if (b != this.c2) {\n        this.onPropertyUpdated(\"ActualDataProvider\", b, this.c2);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VirtualDataSource.prototype, \"pageSizeRequested\", {\n    get: function () {\n      return this.d4;\n    },\n    set: function (a) {\n      var b = this.d4;\n      this.d4 = a;\n\n      if (b != this.d4) {\n        this.onPropertyUpdated(\"PageSizeRequested\", b, this.d4);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  VirtualDataSource.prototype.resetCache = function () {\n    if (this.c8 != null) {\n      this.c8.resetCache();\n    }\n\n    this.resetCacheOverride();\n  };\n\n  VirtualDataSource.prototype.resetCacheOverride = function () {\n    this.df.i();\n  };\n\n  Object.defineProperty(VirtualDataSource.prototype, \"maxCachedPages\", {\n    get: function () {\n      return this.d3;\n    },\n    set: function (a) {\n      var b = this.d3;\n      this.d3 = a;\n\n      if (b != this.d3) {\n        this.onPropertyUpdated(\"MaxCachedPages\", b, this.d3);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VirtualDataSource.prototype, \"actualPageSize\", {\n    get: function () {\n      return this.dp;\n    },\n    set: function (a) {\n      var b = this.dp;\n      this.dp = a;\n\n      if (b != this.dp) {\n        this.onPropertyUpdated(\"ActualPageSize\", b, this.dp);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  VirtualDataSource.prototype.get_isSortingSupported = function () {\n    if (this.externalDataSource != null && !this.dg) {\n      this.dg = true;\n      var a = this.externalDataSource.isSortingSupportedOverride;\n      this.dg = false;\n      return a;\n    }\n\n    return false;\n  };\n\n  VirtualDataSource.prototype.get_isFilteringSupported = function () {\n    if (this.externalDataSource != null && !this.dg) {\n      this.dg = true;\n      var a = this.externalDataSource.isFilteringSupportedOverride;\n      this.dg = false;\n      return a;\n    }\n\n    return false;\n  };\n\n  VirtualDataSource.prototype.get_isGroupingSupported = function () {\n    if (this.externalDataSource != null && !this.dg) {\n      this.dg = true;\n      var a = this.externalDataSource.isGroupingSupportedOverride;\n      this.dg = false;\n      return a;\n    }\n\n    return false;\n  };\n\n  Object.defineProperty(VirtualDataSource.prototype, \"c8\", {\n    get: function () {\n      return this.c7;\n    },\n    set: function (a) {\n      this.c7 = a;\n      this.actualDataProvider = this.resolveDataProvider();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  VirtualDataSource.prototype.resolveDataProvider = function () {\n    if (this.c8 == null) {\n      return null;\n    }\n\n    return this.c8.resolveDataProvider();\n  };\n\n  VirtualDataSource.prototype.propertyUpdatedOverride = function (a, b, c) {\n    _super.prototype.propertyUpdatedOverride.call(this, a, b, c);\n\n    switch (a) {\n      case \"DataProvider\":\n        this.actualDataProvider = this.dataProvider;\n        this.queueAutoRefresh();\n        break;\n\n      case \"ExecutionContext\":\n        this.dc.b = this.executionContext;\n        break;\n\n      case \"ActualDataProvider\":\n        this.actualDataProvider.pageSizeRequested = this.pageSizeRequested;\n        this.actualDataProvider.pageLoaded = runOn(this, this.eq);\n        this.actualDataProvider.batchCompleted = runOn(this, this.ep);\n        this.queueAutoRefresh();\n        break;\n\n      case \"PageSizeRequested\":\n        this.actualPageSize = this.pageSizeRequested;\n\n        if (this.actualDataProvider != null) {\n          this.actualDataProvider.pageSizeRequested = this.pageSizeRequested;\n        }\n\n        this.queueAutoRefresh();\n        break;\n\n      case \"ActualPageSize\":\n        this.dc.ag = this.actualPageSize;\n        this.queueAutoRefresh();\n        break;\n\n      case \"FirstVisibleIndexRequested\":\n        this.dc.aa = this.firstVisibleIndexRequested;\n        break;\n\n      case \"LastVisibleIndexRequested\":\n        this.dc.ae = this.lastVisibleIndexRequested;\n        break;\n\n      case \"ActualCount\":\n        if (this.actualDataProvider != null && !this.de.q) {\n          this.dc.ab = this.actualDataProvider.actualCount;\n        } else {\n          this.dc.ab = this.actualCount;\n        }\n\n        this.queueAutoRefresh();\n        break;\n\n      case \"MaxCachedPages\":\n        this.df.h = this.maxCachedPages;\n        break;\n    }\n  };\n\n  VirtualDataSource.prototype.d9 = function (a) {\n    if (this.ap && this.de.q) {\n      var b = this.dd(a);\n\n      if (b == null) {\n        b = this.de.d();\n      }\n\n      return a - b.t;\n    }\n\n    return a;\n  };\n\n  VirtualDataSource.prototype.eq = function (a, b, c) {\n    var _this = this;\n\n    var d = this.executionContext;\n\n    if (d != null) {\n      d.execute(function () {\n        return _this.ew(a, b, c);\n      });\n    } else {\n      this.ew(a, b, c);\n    }\n  };\n\n  VirtualDataSource.prototype.ew = function (a, b, c) {\n    if (a == null) {\n      b = this.resolveFullCount(b);\n\n      if (this.actualCount != b) {\n        this.actualCount = b;\n      }\n\n      return;\n    }\n\n    if (c != this.actualPageSize && !this.actualPageSizePopulated) {\n      this.actualPageSize = c;\n    }\n\n    this.actualPageSizePopulated = true;\n    var d = a.pageIndex();\n    this.er(d);\n    this.df.item(d, a);\n    var e = a.schema();\n\n    if (e != null) {\n      this.actualSchema = e;\n    }\n\n    var f = a.getSummaryInformation();\n\n    if (this.summaryDescriptions.k.count > 0 && this.c0 == null && f != null) {\n      this.c0 = f;\n\n      for (var g = 0; g < this.c0.length; g++) {\n        this.c0[g].summaryIndex = this.d7(this.c0[g]);\n      }\n\n      var h = SectionData.r(this.c0);\n      this.d5 = h.count;\n    }\n\n    var i = a.getGroupInformation();\n\n    if (this.groupDescriptions.k.count > 0 && this.cv == null && i != null) {\n      this.cv = i;\n      this.ev();\n      this.di = false;\n    }\n\n    b = this.resolveFullCount(b);\n\n    if (this.actualCount != b) {\n      this.actualCount = b;\n    }\n\n    this.eu(a);\n  };\n\n  VirtualDataSource.prototype.d7 = function (a) {\n    for (var b = 0; b < this.summaryDescriptions.k.count; b++) {\n      var c = this.summaryDescriptions.k.item(b);\n\n      if (c.propertyName == a.propertyName && c.operand == a.operand) {\n        return b;\n      }\n    }\n\n    return -1;\n  };\n\n  VirtualDataSource.prototype.resolveFullCount = function (a) {\n    if (this.cv != null) {\n      return this.de.u + this.getRootSummaryRowCount();\n    }\n\n    return a + this.getRootSummaryRowCount();\n  };\n\n  VirtualDataSource.prototype.ev = function () {\n    var a = 0;\n    var b = 0;\n    var c = this.shouldEmitSectionHeaders;\n    var d = this.shouldEmitSectionFooters;\n\n    for (var e = 0; e < this.cv.length; e++) {\n      var f = new SectionData();\n      var g = b;\n      var h = this.cv[e].endIndex - this.cv[e].startIndex;\n      f.af = a;\n      f.ae = e;\n      f.d = new Array(this.groupDescriptions.k.count);\n\n      for (var i = 0; i < this.groupDescriptions.k.count; i++) {\n        f.d[i] = 0;\n      }\n\n      f.ad = a + h;\n      f.t = 0;\n      f.e = this.cv[e].groupKeyProperties;\n      f.f = this.cv[e].groupKeyValues;\n      f.h = new Array(0);\n      f.ai(this.sectionHeaderDisplayMode, this.isSectionExpandedDefault);\n      this.eo(f, e == 0);\n\n      if (d) {\n        f.u = f.c.length;\n      }\n\n      var j = 0;\n      f.i = new Array(this.groupDescriptions.k.count);\n\n      if (this.summaryScope == 0 || this.summaryScope == 2) {\n        if (this.cv[e].summaryResults != null) {\n          f.i[this.groupDescriptions.k.count - 1] = this.cv[e].summaryResults;\n\n          if (f.i != null) {\n            for (var k = 0; k < f.i[this.groupDescriptions.k.count - 1].length; k++) {\n              var l = f.i[this.groupDescriptions.k.count - 1][k];\n              l.summaryIndex = this.d7(l);\n              l.groupKey = f.f;\n            }\n\n            j = SectionData.r(f.i[this.groupDescriptions.k.count - 1]).count;\n          }\n        }\n      }\n\n      if (this.includeSummaryRowsInSection && this.shouldEmitSummaryRows) {\n        if (this.isSectionSummaryRowsAtBottom) {\n          f.ag = j;\n        } else {\n          f.ah = j;\n          g += j;\n        }\n\n        b += j;\n        f.ad += j;\n      }\n\n      if (d) {\n        b++;\n      }\n\n      if (c) {\n        var m = 0;\n        f.b = new Array(f.c.length);\n\n        if (f.z > -1) {\n          var n = this.de.t._inner[f.z];\n\n          for (var o = 0; o < n.f.length; o++) {\n            m = o;\n\n            if (!Base.equalsStatic(n.f[o], f.f[o])) {\n              break;\n            }\n          }\n        }\n\n        for (var p = m; p < f.c.length; p++) {\n          b++;\n          g++;\n          f.ad++;\n          var q = this.ei(f, p);\n          f.a[p] = q;\n          f.b[p] = p - m;\n\n          if (this.dl.containsKey(q)) {\n            f.c[p] = this.dl.item(q);\n          } else {\n            f.c[p] = this.isSectionExpandedDefault;\n          }\n\n          if (!f.c[p]) {\n            var r = 0;\n            var s = f.c.length - 1 - p;\n            f.ad -= r;\n            b -= r;\n\n            if (d) {\n              b--;\n              f.u--;\n            }\n\n            p += s;\n          }\n        }\n      }\n\n      f.y = c ? f.v() : 0;\n      f.t = g;\n      this.de.z(f, h + 1);\n\n      if (!f.p) {\n        var t = f.w();\n        f.ad -= f.d[t] + j;\n        b -= f.d[t] + j;\n      }\n\n      a = f.ad + 1;\n      this.de.t.add(f);\n      f.q = this.de.r(f);\n    }\n\n    var u = 0;\n\n    for (var v = 0; v < this.de.t.count; v++) {\n      var w = this.de.t._inner[v];\n\n      if (this.shouldEmitSectionHeaders) {\n        if (!w.q) {\n          var x = w.ad - w.af + 1;\n          this.de.ae(w.ae);\n          this.de.ab(w, -x, -x);\n          v--;\n          u++;\n          continue;\n        }\n      }\n\n      if (w.z > -1) {\n        w.z -= u;\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.eo = function (a, b) {\n    if (b) {\n      this.cx = new Array(this.groupDescriptions.k.count);\n\n      for (var c = 0; c < this.cx.length; c++) {\n        this.cx[c] = a;\n      }\n    }\n\n    if (this.sectionHeaderDisplayMode == 1) {\n      var d = false;\n      var e = a.e.length;\n\n      for (var f = 0; f < e; f++) {\n        if (d) {\n          this.cx[f] = a;\n          continue;\n        }\n\n        var g = false;\n\n        if (this.cx[f].f[f] == null) {\n          g = a.f[f] != null;\n        } else {\n          g = !Base.equalsStatic(this.cx[f].f[f], a.f[f]);\n        }\n\n        if (g) {\n          this.cx[f] = a;\n\n          if (f - 1 > -1) {\n            var h = f - 1;\n\n            while (h >= 0 && this.cx[h].o) {\n              h = h - 1;\n            }\n\n            a.z = this.cx[h].ae;\n          }\n\n          d = true;\n        }\n      }\n    } else {\n      var i = false;\n\n      for (var j = 0; j < a.e.length; j++) {\n        if (this.cx[0].f[j] == null) {\n          if (this.cx[0].f[j] != a.f[j]) {\n            i = true;\n            break;\n          }\n\n          continue;\n        }\n\n        if (!Base.equalsStatic(this.cx[0].f[j], a.f[j])) {\n          i = true;\n          break;\n        }\n      }\n\n      if (i) {\n        this.cx[0] = a;\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.en = function (a) {};\n\n  VirtualDataSource.prototype.eu = function (a) {\n    if (this.updateNotifier != null) {\n      var b = a.pageIndex() * this.actualPageSize;\n\n      if (this.actualDataProvider != null) {\n        if (b > this.actualDataProvider.actualCount) {\n          return;\n        }\n      }\n\n      var c = this.d8(b);\n      var d = this.d8(b + a.count() - 1);\n\n      if (c > 0 && this.getRowType(c - 1) == 1) {\n        c--;\n      }\n\n      if (this.actualCount == 0 && a.count() == 0) {\n        this.onClearItems();\n      } else {\n        this.updateNotifier.rangeActualized(c, d);\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.d8 = function (a) {\n    if (this.ap && this.de.q) {\n      var b = this.de.g(a);\n\n      if (b == null) {\n        b = this.de.d();\n      }\n\n      if (!b.p) {\n        return b.af;\n      }\n\n      return a + b.t;\n    }\n\n    return a;\n  };\n\n  VirtualDataSource.prototype.es = function (a) {\n    a();\n  };\n\n  VirtualDataSource.prototype.get_isVirtual = function () {\n    return true;\n  };\n\n  VirtualDataSource.prototype.isPlaceholderItem = function (a) {\n    var b = this.c1(a);\n    var c = b[0];\n\n    if (!this.df.d(c)) {\n      if (b[1] == -1) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  VirtualDataSource.prototype.getItemAtIndex = function (a) {\n    if (a >= this.actualCount - this.getRootSummaryRowCount()) {\n      return this.ed(a);\n    }\n\n    var b = this.c1(a);\n    var c = b[0];\n\n    if (!this.df.d(c)) {\n      if (b[1] == -1) {\n        return this.ed(a);\n      }\n\n      return null;\n    }\n\n    var d = this.df.item(c);\n    var e = b[1];\n\n    if (e == -1) {\n      return this.ed(a);\n    }\n\n    return d.getItemAtIndex(e);\n  };\n\n  VirtualDataSource.prototype.getItemFromKey = function (a) {\n    var b = this.indexOfKey(a);\n\n    if (b >= 0) {\n      return this.getItemAtIndex(b);\n    }\n\n    return null;\n  };\n\n  VirtualDataSource.prototype.ed = function (a) {\n    if (a >= this.actualCount - this.getRootSummaryRowCount()) {\n      var b = new DataSourceSpecialRow();\n      b.rowType = 4;\n      b.level = 0;\n      var c = a - (this.actualCount - this.getRootSummaryRowCount());\n      var d = SectionData.r(this.c0);\n      var e = new Array(d._inner[c].count);\n\n      d._inner[c].values.copyTo(e, 0);\n\n      b.summaryResults = e;\n      return b;\n    }\n\n    var f = this.dd(a);\n\n    if (f != null) {\n      var g = f.j(a);\n\n      if (g == 1 || g == 2) {\n        var h = new DataSourceSpecialRow();\n        h.rowType = g;\n        h.summaryResults = f.i[f.i.length - 1];\n        h.level = g == 1 ? f.w() + (a - f.af) : f.u - 1 - (f.w() + (a - (f.ad - f.u + 1)));\n\n        if (this.sectionHeaderDisplayMode == 0) {\n          for (var i = 0; i < this.groupDescriptions.k.count; i++) {\n            h.setSectionValue(this.groupDescriptions.k.item(i).propertyName, f.f[i]);\n            h.setValue(this.groupDescriptions.k.item(i).propertyName, f.f[i]);\n          }\n        } else {\n          if (h.level >= 0 && h.level < this.groupDescriptions.k.count) {\n            h.setSectionValue(this.groupDescriptions.k.item(h.level).propertyName, f.f[h.level]);\n            h.setValue(this.groupDescriptions.k.item(h.level).propertyName, f.f[h.level]);\n          }\n        }\n\n        return h;\n      } else if (g == 5) {\n        var j = new DataSourceSpecialRow();\n        j.rowType = 5;\n        j.level = f.c.length;\n        var k = f.x(a);\n        var l = SectionData.r(f.i[f.i.length - 1]);\n        var m = new Array(l._inner[k].count);\n\n        l._inner[k].values.copyTo(m, 0);\n\n        j.summaryResults = m;\n        return j;\n      }\n    }\n\n    return null;\n  };\n\n  VirtualDataSource.prototype.c1 = function (a) {\n    if (this.ap && this.de.q) {\n      var b = false;\n      var c = this.dd(a);\n\n      if (c == null) {\n        c = this.de.d();\n\n        if (this.c0.length > 0 && a > c.ad) {\n          b = true;\n        }\n      }\n\n      var d = c.af;\n\n      if (this.shouldEmitSectionHeaders && a >= d && a < d + c.v()) {\n        b = true;\n      }\n\n      if (a - (d + c.v() - 1) <= c.aa + c.ah) {\n        b = true;\n      }\n\n      if (this.shouldEmitSectionFooters) {\n        if (a <= c.ad && a >= c.ad - c.c.length - c.ag) {\n          b = true;\n        }\n      } else if (c.ag > 0) {\n        if (a > c.ad - c.ag && a <= c.ad) {\n          b = true;\n        }\n      }\n\n      var e = a - c.t;\n      var f = truncate(Math.floor(e / this.actualPageSize));\n      var g = e % this.actualPageSize;\n\n      if (b) {\n        g = -1;\n      }\n\n      var h = new Array(2);\n      h[0] = f;\n      h[1] = g;\n      return h;\n    } else {\n      var i = truncate(Math.floor(a / this.actualPageSize));\n      var j = a % this.actualPageSize;\n      var k = new Array(2);\n      k[0] = i;\n      k[1] = j;\n      return k;\n    }\n  };\n\n  VirtualDataSource.prototype.dd = function (a) {\n    return this.de.e(a);\n  };\n\n  VirtualDataSource.prototype.getItemPropertyAtIndex = function (a, b) {\n    if (a > this.actualCount - 1 - this.getRootSummaryRowCount()) {\n      return this.ee(a, b);\n    }\n\n    var c = this.c1(a);\n    var d = c[0];\n\n    if (!this.df.d(d)) {\n      if (c[1] == -1) {\n        return this.ee(a, b);\n      }\n\n      return null;\n    }\n\n    var e = this.df.item(d);\n    var f = c[1];\n\n    if (f == -1) {\n      return this.ee(a, b);\n    }\n\n    if (this.aq()) {\n      var g = e.getItemAtIndex(f);\n      var h = this.an(g, b);\n\n      if (h) {\n        var i = this.a1(g, b);\n        return i;\n      }\n    }\n\n    return e.getItemValueAtIndex(f, b);\n  };\n\n  VirtualDataSource.prototype.ee = function (a, b) {\n    var c = this.ed(a);\n\n    if (typeCast(DataSourceSpecialRow.$, c) !== null) {\n      return c.getValue(b);\n    }\n\n    return null;\n  };\n\n  VirtualDataSource.prototype.et = function (a) {\n    if (!this.dn.containsKey(a)) {\n      this.dn.addItem(a, 1);\n    } else {\n      this.dn.item(a, this.dn.item(a) + 1);\n    }\n  };\n\n  VirtualDataSource.prototype.er = function (a) {\n    if (this.dn.containsKey(a)) {\n      this.dn.item(a, this.dn.item(a) - 1);\n\n      if (this.dn.item(a) <= 0) {\n        this.dn.removeItem(a);\n\n        if (this.actualDataProvider != null) {\n          this.actualDataProvider.removePageRequest(a);\n        }\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.addCandidate = function (a, b) {\n    var c = false;\n\n    if (!this.dm.containsKey(a)) {\n      var d = new List$1(Number_$type, 0);\n      var e = this.transformPage(a);\n\n      for (var f = 0; f < e.length; f++) {\n        var g = e[f];\n\n        if (!this.df.d(g)) {\n          d.add(g);\n          this.et(g);\n          var h = this.dn.item(g);\n\n          if (h == 1 && this.actualDataProvider != null) {\n            this.actualDataProvider.addPageRequest(g, b);\n          }\n\n          c = true;\n        }\n      }\n\n      if (d.count > 0) {\n        this.dm.addItem(a, d.toArray());\n      }\n    }\n\n    return c;\n  };\n\n  VirtualDataSource.prototype.removeCandidate = function (a) {\n    if (this.dm.containsKey(a)) {\n      for (var b = 0; b < this.dm.item(a).length; b++) {\n        var c = this.dm.item(a)[b];\n        this.er(c);\n      }\n\n      this.dm.removeItem(a);\n    }\n  };\n\n  VirtualDataSource.prototype.transformPage = function (a) {\n    var b = [a];\n\n    if (this.ap && this.de.q) {\n      var c = a * this.actualPageSize;\n      var d = c + this.actualPageSize - 1;\n      var e = this.dd(c);\n      var f = new List$1(Number_$type, 0);\n\n      for (var g = c; g <= d; g++) {\n        if (e == null) {\n          break;\n        }\n\n        if (g > e.ad) {\n          if (e.ae < this.de.t.count - 1) {\n            e = this.de.t._inner[e.ae + 1];\n          } else {\n            break;\n          }\n        }\n\n        if (!e.p || g >= e.af && g <= e.af + (e.v() - 1) + e.aa) {\n          continue;\n        }\n\n        var h = g - e.t;\n        var i = intDivide(h, this.actualPageSize);\n\n        if (!f.contains(i)) {\n          f.add(i);\n        }\n      }\n\n      b = f.toArray();\n    }\n\n    return b;\n  };\n\n  VirtualDataSource.prototype.getUnrealizedCount = function () {\n    var a = this.df.g * this.actualPageSize;\n    var b = this.actualCount - a;\n    return b;\n  };\n\n  VirtualDataSource.prototype.onSetItemOverride = function (a, b, c) {\n    _super.prototype.onSetItemOverride.call(this, a, b, c);\n\n    var d = this.c1(a);\n    var e = d[0];\n\n    if (this.df.d(e)) {\n      this.df.j(e);\n    }\n  };\n\n  VirtualDataSource.prototype.refreshInternalOverride = function () {\n    _super.prototype.refreshInternalOverride.call(this);\n\n    this.actualPageSizePopulated = false;\n    var a = this.actualCount != 0;\n    this.dh = true;\n\n    if (!this.di) {\n      this.resetCache();\n\n      if (a) {\n        this.onClearItems();\n      }\n\n      this.cv = null;\n      this.c0 = null;\n      this.d5 = 0;\n      this.de.v();\n    } else {\n      this.di = false;\n\n      if (a) {\n        this.onClearItems();\n      }\n    }\n\n    this.ex();\n    this.dc.au();\n    this.dh = false;\n  };\n\n  VirtualDataSource.prototype.ex = function () {\n    var e_1, _a;\n\n    if (this.actualDataProvider != null) {\n      try {\n        for (var _b = __values(fromEnum(this.dm.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var a = _c.value;\n\n          for (var c = 0; c < a.length; c++) {\n            var b = a[c];\n            this.actualDataProvider.addPageRequest(b, 1);\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.onClearItemsOverride = function () {\n    _super.prototype.onClearItemsOverride.call(this);\n\n    if (!this.dh) {\n      this.queueAutoRefresh();\n    }\n  };\n\n  VirtualDataSource.prototype.onInsertItemOverride = function (a, b) {\n    _super.prototype.onInsertItemOverride.call(this, a, b);\n\n    this.queueAutoRefresh();\n  };\n\n  VirtualDataSource.prototype.onRemoveItemOverride = function (a, b) {\n    _super.prototype.onRemoveItemOverride.call(this, a, b);\n\n    this.queueAutoRefresh();\n  };\n\n  VirtualDataSource.prototype.get_isItemIndexLookupSupported = function () {\n    return true;\n  };\n\n  VirtualDataSource.prototype.get_isKeyIndexLookupSupported = function () {\n    return true;\n  };\n\n  VirtualDataSource.prototype.indexOfItem = function (a) {\n    var b = this.df.b;\n    var c = b.o;\n    var d = b.q;\n    var e = d.count;\n    var f = b.p;\n\n    for (var g = 0; g < e; g++) {\n      if (f._inner[g]) {\n        continue;\n      }\n\n      var h = d._inner[g].b;\n      var i = h.count();\n\n      for (var j = 0; j < i; j++) {\n        if (this.dk(h.getItemAtIndex(j), a)) {\n          var k = typeGetValue(c._inner[g]);\n          var l = k * this.actualPageSize;\n          return l + j;\n        }\n      }\n    }\n\n    if (this.actualDataProvider != null && this.actualDataProvider.isItemIndexLookupSupported) {\n      return this.actualDataProvider.indexOfItem(a);\n    }\n\n    return -1;\n  };\n\n  VirtualDataSource.prototype.dk = function (a, b) {\n    if (a == null && b == null) {\n      return true;\n    }\n\n    if (a == null || b == null) {\n      return false;\n    }\n\n    return Base.equalsStatic(a, b);\n  };\n\n  VirtualDataSource.prototype.indexOfKey = function (a) {\n    var b = this.actualPrimaryKey;\n\n    if (b == null || b.length < 1 || this.actualBaseDataProvider == null) {\n      return -1;\n    }\n\n    this.ensureComparables(this.actualSchema);\n    var c = this.db();\n\n    if (this.ap && this.shouldEmitSectionHeaders && !this.isSectionContentVisible && this.isSectionHeaderNormalRow) {\n      if (this.de.t.count > 0) {\n        for (var d = 0; d < this.de.t.count; d++) {\n          var e = this.de.t._inner[d];\n          var f = new DataSourceSpecialRow();\n\n          for (var g = 0; g < e.e.length; g++) {\n            var h = e.e[g];\n            var i = e.f[g];\n            f.setSectionValue(h, i);\n          }\n\n          if (c.i(f, a) == 0) {\n            return d;\n          }\n        }\n      }\n    }\n\n    var j = this.df.b;\n    var k = j.o;\n    var l = j.q;\n    var m = l.count;\n    var n = j.p;\n\n    for (var o = 0; o < m; o++) {\n      if (n._inner[o]) {\n        continue;\n      }\n\n      var p = l._inner[o].b;\n      var q = p.count();\n\n      for (var r = 0; r < q; r++) {\n        if (c.i(p.getItemAtIndex(r), a) == 0) {\n          var s = typeGetValue(k._inner[o]);\n          var t = s * this.actualPageSize;\n          return t + r;\n        }\n      }\n    }\n\n    if (this.actualDataProvider != null && this.actualDataProvider.isKeyIndexLookupSupported) {\n      return this.actualDataProvider.indexOfKey(a);\n    }\n\n    return -1;\n  };\n\n  VirtualDataSource.prototype.db = function () {\n    var a = new Array(this.actualPrimaryKey.length);\n\n    for (var b = 0; b < a.length; b++) {\n      a[b] = 0;\n    }\n\n    return new DataSourcePropertiesComparer(this.actualPrimaryKey, a, this.cz, this);\n  };\n\n  VirtualDataSource.prototype.getStickyRowPriority = function (a) {\n    var b = this.getRowType(a);\n\n    switch (b) {\n      case 1:\n        return 100 - this.getRowLevel(a);\n\n      case 2:\n        return 99 - this.getRowLevel(a);\n\n      case 3:\n      case 5:\n        return 2;\n\n      case 4:\n        return 3;\n    }\n\n    return 1;\n  };\n\n  VirtualDataSource.prototype.unpinRow = function (a) {\n    _super.prototype.unpinRow.call(this, a);\n  };\n\n  VirtualDataSource.prototype.pinRow = function (a) {\n    _super.prototype.pinRow.call(this, a);\n  };\n\n  VirtualDataSource.prototype.isRowPinned = function (a) {\n    return _super.prototype.isRowPinned.call(this, a);\n  };\n\n  VirtualDataSource.prototype.getStickyRowsInRange = function (a, b) {\n    if ((this.groupDescriptions == null || this.groupDescriptions.k.count == 0) && (this.summaryDescriptions == null || this.summaryDescriptions.k.count == 0)) {\n      return null;\n    }\n\n    var c = this.dd(a);\n    var d = this.dd(b);\n\n    if (this.de.t.count > 0) {\n      if (this.de.t.count == 1) {\n        c = this.de.t._inner[0];\n        d = this.de.t._inner[0];\n      } else {\n        c = this.de.e(a);\n\n        if (c != null) {\n          while (c.z != -1) {\n            c = this.de.t._inner[c.z];\n          }\n        }\n\n        d = this.de.e(b);\n\n        if (b >= this.actualCount - this.getRootSummaryRowCount()) {\n          d = this.de.d();\n        }\n      }\n    } else if (this.getRootSummaryRowCount() > 0) {\n      var e = new List$1(Number_$type, 0);\n\n      for (var f = this.actualCount - this.getRootSummaryRowCount(); f < this.actualCount; f++) {\n        e.add(f);\n      }\n\n      return e.toArray();\n    }\n\n    if (c == null || d == null) {\n      return null;\n    }\n\n    if (c.ae == this.dx && c.aa == this.dz && c.af == this.d0 && c.ad == this.dy && c.ah == this.d2 && c.ag == this.d1 && d.ae == this.dq && d.aa == this.ds && d.af == this.dt && d.ad == this.dr && d.ah == this.dv && d.ag == this.du && this.getRootSummaryRowCount() == this.dw) {\n      return this.cw;\n    }\n\n    this.dx = c.ae;\n    this.dq = d.ae;\n    this.dz = c.aa;\n    this.ds = d.aa;\n    this.d0 = c.af;\n    this.dt = d.af;\n    this.dy = c.ad;\n    this.dr = d.ad;\n    this.dv = d.ah;\n    this.du = d.ag;\n    this.d2 = c.ah;\n    this.d1 = c.ag;\n    this.dw = this.getRootSummaryRowCount();\n    var g = new List$1(Number_$type, 0);\n\n    for (var h = c.ae; h <= d.ae; h++) {\n      var i = this.de.t._inner[h];\n      var j = i.c.length;\n      var k = i.v();\n\n      if (this.shouldEmitSectionHeaders && this.ap) {\n        for (var l = 0; l < i.c.length; l++) {\n          if (i.a[l] != null) {\n            var m = i.af + i.b[l];\n            g.add(m);\n          }\n\n          if (!i.c[l]) {\n            break;\n          }\n        }\n      }\n\n      if (i.p) {\n        for (var n = 0; n < i.ah; n++) {\n          g.add(i.af + n + k);\n        }\n\n        if (this.shouldEmitShiftedRows) {\n          for (var o = 0; o < i.aa; o++) {\n            g.add(i.af + o + j);\n          }\n        }\n\n        if (this.summaryScope == 0 || this.summaryScope == 2) {\n          if (this.includeSummaryRowsInSection && this.isSectionSummaryRowsAtBottom) {\n            for (var p = i.ag - 1; p >= 0; p--) {\n              if (this.shouldEmitSectionFooters) {\n                g.add(i.ad - k - p);\n              } else {\n                g.add(i.ad - p);\n              }\n            }\n          }\n        }\n      }\n\n      if (this.shouldEmitSectionFooters && this.ap) {\n        for (var q = i.c.length - 1; q >= 0; q--) {\n          if (!i.c[q]) {\n            break;\n          }\n\n          g.add(i.ad - q);\n        }\n      }\n    }\n\n    for (var r = this.actualCount - this.getRootSummaryRowCount(); r < this.actualCount; r++) {\n      g.add(r);\n    }\n\n    this.cw = g.toArray();\n    return this.cw;\n  };\n\n  VirtualDataSource.prototype.isExclusivelySticky = function (a) {\n    var b = this.getRowType(a);\n    return b == 1 || b == 2 || b == 4 || this.isSectionSummaryRowsAtBottom && b == 5;\n  };\n\n  VirtualDataSource.prototype.getRowType = function (a) {\n    if (a < 0) {\n      return 0;\n    }\n\n    var b = this.getItemAtIndex(a);\n    var item_ = b;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      var c = b.rowType;\n\n      if (this.isSectionHeaderNormalRow && c == 1) {\n        return 0;\n      }\n\n      return c;\n    }\n\n    return 0;\n  };\n\n  VirtualDataSource.prototype.getIsRowExpandedAtIndex = function (a) {\n    var b = this.de.e(a);\n\n    if (b == null) {\n      b = this.de.d();\n    }\n\n    for (var c = 0; c < b.a.length; c++) {\n      if (b.a[c] != null) {\n        if (a == b.af + b.b[c]) {\n          return b.c[c];\n        }\n      }\n    }\n\n    return _super.prototype.getIsRowExpandedAtIndex.call(this, a);\n  };\n\n  VirtualDataSource.prototype.setIsRowExpandedAtIndex = function (a, b) {\n    var c = this.de.e(a);\n\n    if (c == null) {\n      c = this.de.d();\n    }\n\n    for (var d = 0; d < c.a.length; d++) {\n      if (c.a[d] != null) {\n        if (a == c.af + c.b[d]) {\n          var e = false;\n          var f = c.a[d];\n\n          if (this.dl.containsKey(f) && this.dl.item(f) != b) {\n            var g = this.dl.item(f);\n\n            if (b == this.isSectionExpandedDefault) {\n              this.dl.removeItem(f);\n            } else {\n              this.dl.item(f, b);\n            }\n\n            e = true;\n            this.onRowExpansionChanged(a, g, b);\n          } else if (b != this.isSectionExpandedDefault) {\n            this.dl.addItem(f, b);\n            e = true;\n            this.onRowExpansionChanged(a, this.isSectionExpandedDefault, b);\n          }\n\n          if (e) {\n            this.de.v();\n            this.ev();\n            this.di = true;\n\n            if (this.actualCount != this.de.u) {\n              this.actualCount = this.de.u + this.getRootSummaryRowCount();\n            } else {\n              this.queueAutoRefresh();\n            }\n          }\n\n          break;\n        }\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.getRowLevel = function (a) {\n    if (a < 0) {\n      return 0;\n    }\n\n    var b = this.getItemAtIndex(a);\n    var item_ = b;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      return b.level;\n    }\n\n    if (this.isGroupingSupported) {\n      if (this.sectionHeaderDisplayMode == 1) {\n        return this.groupDescriptions.k.count;\n      } else if (this.groupDescriptions.k.count > 0) {\n        return 1;\n      }\n    }\n\n    return 0;\n  };\n\n  VirtualDataSource.prototype.getRootSummaryRowCount = function () {\n    return this.shouldEmitSummaryRows ? this.d5 : 0;\n  };\n\n  VirtualDataSource.prototype.eh = function (a) {\n    var b = \"\";\n\n    for (var c = 0; c < a.e.length; c++) {\n      b += a.e[c] + \":\" + a.f[c];\n    }\n\n    return b;\n  };\n\n  VirtualDataSource.prototype.ei = function (a, b) {\n    if (this.sectionHeaderDisplayMode == 0) {\n      return this.eh(a);\n    }\n\n    var c = \"\";\n\n    for (var d = 0; d < a.e.length; d++) {\n      c += a.e[d] + \":\" + a.f[d] + \":\";\n    }\n\n    c += b;\n    return c;\n  };\n\n  VirtualDataSource.prototype.getRootSummaryResults = function () {\n    return this.c0;\n  };\n\n  VirtualDataSource.prototype.getSectionSummaryResults = function (a) {\n    if (this.de.t.count > 0 && a >= 0 && a < this.de.t.count) {\n      return this.de.t._inner[a].i;\n    }\n\n    return null;\n  };\n\n  VirtualDataSource.prototype.clone = function () {\n    return null;\n  };\n\n  VirtualDataSource.prototype.cloneProperties = function (a) {\n    _super.prototype.cloneProperties.call(this, a);\n\n    var b = typeCast(VirtualDataSource.$, a);\n\n    if (b != null) {\n      b.pageSizeRequested = this.pageSizeRequested;\n      b.maxCachedPages = this.maxCachedPages;\n    }\n  };\n\n  Object.defineProperty(VirtualDataSource.prototype, \"concurrencyTag\", {\n    get: function () {\n      return this._concurrencyTag;\n    },\n    set: function (a) {\n      this._concurrencyTag = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  VirtualDataSource.prototype.get_isBatchingEnabled = function () {\n    return true;\n  };\n\n  VirtualDataSource.prototype.set_isBatchingEnabled = function (a) {\n    _super.prototype.set_isBatchingEnabled.call(this, a);\n  };\n\n  VirtualDataSource.prototype.updatePropertyAtKey = function (a, b, c, d) {\n    if (d === void 0) {\n      d = false;\n    }\n\n    var e = _super.prototype.updatePropertyAtKey.call(this, a, b, c, d);\n\n    if (this.concurrencyTag != null && this.aq()) {\n      var f = this.indexOfKey(a);\n\n      if (f > -1) {\n        var g = this.getItemAtIndex(f);\n        var h = this.actualDataProvider.getItemValue(g, this.concurrencyTag);\n\n        if (h != null) {\n          var i = this.u.g(a);\n          i.version = h;\n        }\n      }\n    }\n\n    return e;\n  };\n\n  VirtualDataSource.prototype.removeItemByKey = function (a) {\n    _super.prototype.removeItemByKey.call(this, a);\n\n    if (this.concurrencyTag != null && this.aq()) {\n      var b = this.indexOfKey(a);\n\n      if (b > -1) {\n        var c = this.getItemAtIndex(b);\n        var d = this.actualDataProvider.getItemValue(c, this.concurrencyTag);\n\n        if (d != null) {\n          var e = this.u.g(a);\n          e.version = d;\n        }\n      }\n    }\n  };\n\n  VirtualDataSource.prototype.co = function (a, b) {\n    if (a == 5) {\n      var c = b;\n      var d_1 = c.a;\n      var e = new List$1(TransactionState.$, 0);\n\n      var _loop_1 = function (f) {\n        var e_2, _a, e_3, _b;\n\n        var g = d_1[f].transactionType;\n        var h = null;\n        var i = null;\n\n        if (g == TransactionType.Delete || g == 1) {\n          var j = new Dictionary$2(String_$type, Base.$, 0);\n          var k = d_1[f].id;\n\n          for (var l = 0; l < this_1.actualPrimaryKey.length; l++) {\n            j.addItem(this_1.actualPrimaryKey[l], k[l]);\n          }\n\n          h = j;\n        }\n\n        if (g == 0) {\n          var m = new Dictionary$2(String_$type, Base.$, 0);\n          var n = d_1[f].id[0];\n\n          for (var o = 0; o < this_1.actualSchema.propertyNames.length; o++) {\n            var p = this_1.actualSchema.propertyNames[o];\n            m.addItem(p, this_1.actualDataProvider.getItemValue(n, p));\n          }\n\n          i = m;\n        } else if (g == 1) {\n          i = d_1[f].value;\n        }\n\n        if (h != null) {\n          var q = {};\n          var r = h;\n\n          try {\n            for (var _c = (e_2 = void 0, __values(fromEnum(r))), _d = _c.next(); !_d.done; _d = _c.next()) {\n              var s = _d.value;\n              q[s.key] = s.value;\n            }\n          } catch (e_2_1) {\n            e_2 = {\n              error: e_2_1\n            };\n          } finally {\n            try {\n              if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n          }\n\n          h = q;\n        }\n\n        if (i != null) {\n          var t = {};\n          var u = i;\n\n          try {\n            for (var _e = (e_3 = void 0, __values(fromEnum(u))), _f = _e.next(); !_f.done; _f = _e.next()) {\n              var v = _f.value;\n              t[v.key] = v.value;\n            }\n          } catch (e_3_1) {\n            e_3 = {\n              error: e_3_1\n            };\n          } finally {\n            try {\n              if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            } finally {\n              if (e_3) throw e_3.error;\n            }\n          }\n\n          i = t;\n        }\n\n        e.add(function () {\n          var $ret = new TransactionState(h, g, i);\n          $ret.version = d_1[f].version;\n          return $ret;\n        }());\n      };\n\n      var this_1 = this;\n\n      for (var f = 0; f < d_1.length; f++) {\n        _loop_1(f);\n      }\n\n      var w = e.toArray();\n\n      if (this.batchStarted != null) {\n        this.batchStarted(this, new DataSourceBatchStartedEventArgs(w));\n      }\n\n      this.actualDataProvider.createBatchRequest(w);\n    }\n  };\n\n  VirtualDataSource.prototype.ep = function (a, b, c) {\n    if (b) {\n      this.queueAutoRefresh();\n    }\n\n    if (this.batchCompleted != null) {\n      this.batchCompleted(this, new DataSourceBatchCompletedEventArgs(a, c));\n    }\n  };\n\n  VirtualDataSource.$t = markType(VirtualDataSource, 'VirtualDataSource', BaseDataSource.$, [IPageCandidatesSink_$type]);\n  return VirtualDataSource;\n}(BaseDataSource);\n\nexport { VirtualDataSource };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-core/esm5/lib/VirtualDataSource.js"],"names":["__extends","__values","BaseDataSource","IPageCandidatesSink_$type","PagePredictionEngine","LRUCache$2","Base","runOn","Array_$type","Number_$type","typeCast","fromEnum","typeGetValue","String_$type","Boolean_$type","markType","IDataSourcePage_$type","Dictionary$2","SectionMap","DataSourceExecutionContext","SectionData","List$1","DataSourceSpecialRow","DataSourcePropertiesComparer","TransactionState","TransactionType","DataSourceBatchStartedEventArgs","DataSourceBatchCompletedEventArgs","truncate","intDivide","VirtualDataSource","_super","_this","call","cz","di","d5","dc","c3","c2","d4","d3","actualPageSizePopulated","dp","dg","c7","cx","cy","df","$","dm","dn","dh","cv","c0","de","cw","dx","dq","dz","ds","d0","dt","dy","dr","d2","d1","dv","du","dw","dl","_concurrencyTag","batchStarted","batchCompleted","e","ag","actualPageSize","f","executionContext","b","isReadOnly","prototype","get_isSectionCollapsable","isSectionContentVisible","set_isSectionCollapsable","a","get_isSectionExpandedDefault","isSectionCollapsable","set_isSectionExpandedDefault","get_actualBaseDataProvider","actualDataProvider","Object","defineProperty","get","enumerable","configurable","set","onPropertyUpdated","resolveDataProvider","resetCache","c8","resetCacheOverride","i","get_isSortingSupported","externalDataSource","isSortingSupportedOverride","get_isFilteringSupported","isFilteringSupportedOverride","get_isGroupingSupported","isGroupingSupportedOverride","propertyUpdatedOverride","c","dataProvider","queueAutoRefresh","pageSizeRequested","pageLoaded","eq","ep","aa","firstVisibleIndexRequested","ae","lastVisibleIndexRequested","q","ab","actualCount","h","maxCachedPages","d9","ap","dd","d","t","execute","ew","resolveFullCount","pageIndex","er","item","schema","actualSchema","getSummaryInformation","summaryDescriptions","k","count","g","length","summaryIndex","d7","r","getGroupInformation","groupDescriptions","ev","eu","propertyName","operand","u","getRootSummaryRowCount","shouldEmitSectionHeaders","shouldEmitSectionFooters","endIndex","startIndex","af","Array","ad","groupKeyProperties","groupKeyValues","ai","sectionHeaderDisplayMode","isSectionExpandedDefault","eo","j","summaryScope","summaryResults","l","groupKey","includeSummaryRowsInSection","shouldEmitSummaryRows","isSectionSummaryRowsAtBottom","ah","m","z","n","_inner","o","equalsStatic","p","ei","containsKey","s","y","v","w","add","x","en","updateNotifier","d8","getRowType","onClearItems","rangeActualized","es","get_isVirtual","isPlaceholderItem","c1","getItemAtIndex","ed","getItemFromKey","indexOfKey","rowType","level","values","copyTo","setSectionValue","setValue","Math","floor","getItemPropertyAtIndex","ee","aq","an","a1","getItemValueAtIndex","getValue","et","addItem","removeItem","removePageRequest","addCandidate","transformPage","addPageRequest","toArray","removeCandidate","contains","getUnrealizedCount","onSetItemOverride","refreshInternalOverride","ex","au","e_1","_a","_b","_c","next","done","value","e_1_1","error","return","onClearItemsOverride","onInsertItemOverride","onRemoveItemOverride","get_isItemIndexLookupSupported","get_isKeyIndexLookupSupported","indexOfItem","dk","isItemIndexLookupSupported","actualPrimaryKey","actualBaseDataProvider","ensureComparables","db","isSectionHeaderNormalRow","isKeyIndexLookupSupported","getStickyRowPriority","getRowLevel","unpinRow","pinRow","isRowPinned","getStickyRowsInRange","shouldEmitShiftedRows","isExclusivelySticky","item_","$$isSpecialRow","undefined","getIsRowExpandedAtIndex","setIsRowExpandedAtIndex","onRowExpansionChanged","isGroupingSupported","eh","getRootSummaryResults","getSectionSummaryResults","clone","cloneProperties","get_isBatchingEnabled","set_isBatchingEnabled","updatePropertyAtKey","concurrencyTag","getItemValue","version","removeItemByKey","co","d_1","_loop_1","e_2","e_3","transactionType","Delete","id","this_1","propertyNames","_d","key","e_2_1","_e","_f","e_3_1","$ret","createBatchRequest","$t"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { BaseDataSource } from \"./BaseDataSource\";\nimport { IPageCandidatesSink_$type } from \"./IPageCandidatesSink\";\nimport { PagePredictionEngine } from \"./PagePredictionEngine\";\nimport { LRUCache$2 } from \"./LRUCache$2\";\nimport { Base, runOn, Array_$type, Number_$type, typeCast, fromEnum, typeGetValue, String_$type, Boolean_$type, markType } from \"./type\";\nimport { IDataSourcePage_$type } from \"./IDataSourcePage\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { SectionMap } from \"./SectionMap\";\nimport { DataSourceExecutionContext } from \"./DataSourceExecutionContext\";\nimport { SectionData } from \"./SectionData\";\nimport { List$1 } from \"./List$1\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { DataSourcePropertiesComparer } from \"./DataSourcePropertiesComparer\";\nimport { TransactionState } from \"./TransactionState\";\nimport { TransactionType } from \"./TransactionType\";\nimport { DataSourceBatchStartedEventArgs } from \"./DataSourceBatchStartedEventArgs\";\nimport { DataSourceBatchCompletedEventArgs } from \"./DataSourceBatchCompletedEventArgs\";\nimport { truncate, intDivide } from \"./number\";\n/**\n * @hidden\n */\nvar VirtualDataSource = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(VirtualDataSource, _super);\n    function VirtualDataSource() {\n        var _this = _super.call(this) || this;\n        _this.cz = null;\n        _this.di = false;\n        _this.d5 = 0;\n        _this.dc = null;\n        _this.c3 = null;\n        _this.c2 = null;\n        _this.d4 = 50;\n        _this.d3 = 200;\n        _this.actualPageSizePopulated = false;\n        _this.dp = 50;\n        _this.dg = false;\n        _this.c7 = null;\n        _this.cx = null;\n        _this.cy = null;\n        _this.df = new LRUCache$2(Base.$, IDataSourcePage_$type, 0, 200);\n        _this.dm = new Dictionary$2(Base.$, Array_$type, 0);\n        _this.dn = new Dictionary$2(Number_$type, Number_$type, 0);\n        _this.dh = false;\n        _this.cv = null;\n        _this.c0 = null;\n        _this.de = new SectionMap();\n        _this.cw = null;\n        _this.dx = -1;\n        _this.dq = -1;\n        _this.dz = -1;\n        _this.ds = -1;\n        _this.d0 = -1;\n        _this.dt = -1;\n        _this.dy = -1;\n        _this.dr = -1;\n        _this.d2 = -1;\n        _this.d1 = -1;\n        _this.dv = -1;\n        _this.du = -1;\n        _this.dw = -1;\n        _this.dl = new Dictionary$2(String_$type, Boolean_$type, 0);\n        _this._concurrencyTag = null;\n        _this.batchStarted = null;\n        _this.batchCompleted = null;\n        _this.dc = new PagePredictionEngine();\n        _this.dc.e = _this;\n        _this.dc.ag = _this.actualPageSize;\n        _this.dc.f = _this.de;\n        _this.executionContext = new DataSourceExecutionContext();\n        _this.dc.b = _this.executionContext;\n        _this.isReadOnly = true;\n        return _this;\n    }\n    VirtualDataSource.prototype.get_isSectionCollapsable = function () {\n        if (!this.isSectionContentVisible) {\n            return true;\n        }\n        return _super.prototype.get_isSectionCollapsable.call(this);\n    };\n    VirtualDataSource.prototype.set_isSectionCollapsable = function (a) {\n        _super.prototype.set_isSectionCollapsable.call(this, a);\n    };\n    VirtualDataSource.prototype.get_isSectionExpandedDefault = function () {\n        if (!this.isSectionContentVisible) {\n            return false;\n        }\n        if (this.isSectionCollapsable) {\n            return _super.prototype.get_isSectionExpandedDefault.call(this);\n        }\n        return true;\n    };\n    VirtualDataSource.prototype.set_isSectionExpandedDefault = function (a) {\n        _super.prototype.set_isSectionExpandedDefault.call(this, a);\n    };\n    VirtualDataSource.prototype.get_actualBaseDataProvider = function () {\n        return this.actualDataProvider;\n    };\n    Object.defineProperty(VirtualDataSource.prototype, \"actualBaseDataProvider\", {\n        get: function () {\n            return this.get_actualBaseDataProvider();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VirtualDataSource.prototype, \"dataProvider\", {\n        get: function () {\n            return this.c3;\n        },\n        set: function (a) {\n            var b = this.c3;\n            this.c3 = a;\n            if (b != this.c3) {\n                this.onPropertyUpdated(\"DataProvider\", b, this.c3);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VirtualDataSource.prototype, \"actualDataProvider\", {\n        get: function () {\n            if (this.c2 == null) {\n                this.actualDataProvider = this.resolveDataProvider();\n            }\n            return this.c2;\n        },\n        set: function (a) {\n            var b = this.c2;\n            this.c2 = a;\n            if (b != this.c2) {\n                this.onPropertyUpdated(\"ActualDataProvider\", b, this.c2);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VirtualDataSource.prototype, \"pageSizeRequested\", {\n        get: function () {\n            return this.d4;\n        },\n        set: function (a) {\n            var b = this.d4;\n            this.d4 = a;\n            if (b != this.d4) {\n                this.onPropertyUpdated(\"PageSizeRequested\", b, this.d4);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    VirtualDataSource.prototype.resetCache = function () {\n        if (this.c8 != null) {\n            this.c8.resetCache();\n        }\n        this.resetCacheOverride();\n    };\n    VirtualDataSource.prototype.resetCacheOverride = function () {\n        this.df.i();\n    };\n    Object.defineProperty(VirtualDataSource.prototype, \"maxCachedPages\", {\n        get: function () {\n            return this.d3;\n        },\n        set: function (a) {\n            var b = this.d3;\n            this.d3 = a;\n            if (b != this.d3) {\n                this.onPropertyUpdated(\"MaxCachedPages\", b, this.d3);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VirtualDataSource.prototype, \"actualPageSize\", {\n        get: function () {\n            return this.dp;\n        },\n        set: function (a) {\n            var b = this.dp;\n            this.dp = a;\n            if (b != this.dp) {\n                this.onPropertyUpdated(\"ActualPageSize\", b, this.dp);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    VirtualDataSource.prototype.get_isSortingSupported = function () {\n        if (this.externalDataSource != null && !this.dg) {\n            this.dg = true;\n            var a = this.externalDataSource.isSortingSupportedOverride;\n            this.dg = false;\n            return a;\n        }\n        return false;\n    };\n    VirtualDataSource.prototype.get_isFilteringSupported = function () {\n        if (this.externalDataSource != null && !this.dg) {\n            this.dg = true;\n            var a = this.externalDataSource.isFilteringSupportedOverride;\n            this.dg = false;\n            return a;\n        }\n        return false;\n    };\n    VirtualDataSource.prototype.get_isGroupingSupported = function () {\n        if (this.externalDataSource != null && !this.dg) {\n            this.dg = true;\n            var a = this.externalDataSource.isGroupingSupportedOverride;\n            this.dg = false;\n            return a;\n        }\n        return false;\n    };\n    Object.defineProperty(VirtualDataSource.prototype, \"c8\", {\n        get: function () {\n            return this.c7;\n        },\n        set: function (a) {\n            this.c7 = a;\n            this.actualDataProvider = this.resolveDataProvider();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    VirtualDataSource.prototype.resolveDataProvider = function () {\n        if (this.c8 == null) {\n            return null;\n        }\n        return this.c8.resolveDataProvider();\n    };\n    VirtualDataSource.prototype.propertyUpdatedOverride = function (a, b, c) {\n        _super.prototype.propertyUpdatedOverride.call(this, a, b, c);\n        switch (a) {\n            case \"DataProvider\":\n                this.actualDataProvider = this.dataProvider;\n                this.queueAutoRefresh();\n                break;\n            case \"ExecutionContext\":\n                this.dc.b = this.executionContext;\n                break;\n            case \"ActualDataProvider\":\n                this.actualDataProvider.pageSizeRequested = this.pageSizeRequested;\n                this.actualDataProvider.pageLoaded = runOn(this, this.eq);\n                this.actualDataProvider.batchCompleted = runOn(this, this.ep);\n                this.queueAutoRefresh();\n                break;\n            case \"PageSizeRequested\":\n                this.actualPageSize = this.pageSizeRequested;\n                if (this.actualDataProvider != null) {\n                    this.actualDataProvider.pageSizeRequested = this.pageSizeRequested;\n                }\n                this.queueAutoRefresh();\n                break;\n            case \"ActualPageSize\":\n                this.dc.ag = this.actualPageSize;\n                this.queueAutoRefresh();\n                break;\n            case \"FirstVisibleIndexRequested\":\n                this.dc.aa = this.firstVisibleIndexRequested;\n                break;\n            case \"LastVisibleIndexRequested\":\n                this.dc.ae = this.lastVisibleIndexRequested;\n                break;\n            case \"ActualCount\":\n                if (this.actualDataProvider != null && !this.de.q) {\n                    this.dc.ab = this.actualDataProvider.actualCount;\n                }\n                else {\n                    this.dc.ab = this.actualCount;\n                }\n                this.queueAutoRefresh();\n                break;\n            case \"MaxCachedPages\":\n                this.df.h = this.maxCachedPages;\n                break;\n        }\n    };\n    VirtualDataSource.prototype.d9 = function (a) {\n        if (this.ap && this.de.q) {\n            var b = this.dd(a);\n            if (b == null) {\n                b = this.de.d();\n            }\n            return a - b.t;\n        }\n        return a;\n    };\n    VirtualDataSource.prototype.eq = function (a, b, c) {\n        var _this = this;\n        var d = this.executionContext;\n        if (d != null) {\n            d.execute(function () { return _this.ew(a, b, c); });\n        }\n        else {\n            this.ew(a, b, c);\n        }\n    };\n    VirtualDataSource.prototype.ew = function (a, b, c) {\n        if (a == null) {\n            b = this.resolveFullCount(b);\n            if (this.actualCount != b) {\n                this.actualCount = b;\n            }\n            return;\n        }\n        if (c != this.actualPageSize && !this.actualPageSizePopulated) {\n            this.actualPageSize = c;\n        }\n        this.actualPageSizePopulated = true;\n        var d = a.pageIndex();\n        this.er(d);\n        this.df.item(d, a);\n        var e = a.schema();\n        if (e != null) {\n            this.actualSchema = e;\n        }\n        var f = a.getSummaryInformation();\n        if (this.summaryDescriptions.k.count > 0 && this.c0 == null && f != null) {\n            this.c0 = f;\n            for (var g = 0; g < this.c0.length; g++) {\n                this.c0[g].summaryIndex = this.d7(this.c0[g]);\n            }\n            var h = SectionData.r(this.c0);\n            this.d5 = h.count;\n        }\n        var i = a.getGroupInformation();\n        if (this.groupDescriptions.k.count > 0 && this.cv == null && i != null) {\n            this.cv = i;\n            this.ev();\n            this.di = false;\n        }\n        b = this.resolveFullCount(b);\n        if (this.actualCount != b) {\n            this.actualCount = b;\n        }\n        this.eu(a);\n    };\n    VirtualDataSource.prototype.d7 = function (a) {\n        for (var b = 0; b < this.summaryDescriptions.k.count; b++) {\n            var c = this.summaryDescriptions.k.item(b);\n            if (c.propertyName == a.propertyName && c.operand == a.operand) {\n                return b;\n            }\n        }\n        return -1;\n    };\n    VirtualDataSource.prototype.resolveFullCount = function (a) {\n        if (this.cv != null) {\n            return this.de.u + this.getRootSummaryRowCount();\n        }\n        return a + this.getRootSummaryRowCount();\n    };\n    VirtualDataSource.prototype.ev = function () {\n        var a = 0;\n        var b = 0;\n        var c = this.shouldEmitSectionHeaders;\n        var d = this.shouldEmitSectionFooters;\n        for (var e = 0; e < this.cv.length; e++) {\n            var f = new SectionData();\n            var g = b;\n            var h = this.cv[e].endIndex - this.cv[e].startIndex;\n            f.af = a;\n            f.ae = e;\n            f.d = new Array(this.groupDescriptions.k.count);\n            for (var i = 0; i < this.groupDescriptions.k.count; i++) {\n                f.d[i] = 0;\n            }\n            f.ad = a + h;\n            f.t = 0;\n            f.e = this.cv[e].groupKeyProperties;\n            f.f = this.cv[e].groupKeyValues;\n            f.h = new Array(0);\n            f.ai(this.sectionHeaderDisplayMode, this.isSectionExpandedDefault);\n            this.eo(f, e == 0);\n            if (d) {\n                f.u = f.c.length;\n            }\n            var j = 0;\n            f.i = new Array(this.groupDescriptions.k.count);\n            if (this.summaryScope == 0 || this.summaryScope == 2) {\n                if (this.cv[e].summaryResults != null) {\n                    f.i[this.groupDescriptions.k.count - 1] = this.cv[e].summaryResults;\n                    if (f.i != null) {\n                        for (var k = 0; k < f.i[this.groupDescriptions.k.count - 1].length; k++) {\n                            var l = f.i[this.groupDescriptions.k.count - 1][k];\n                            l.summaryIndex = this.d7(l);\n                            l.groupKey = f.f;\n                        }\n                        j = SectionData.r(f.i[this.groupDescriptions.k.count - 1]).count;\n                    }\n                }\n            }\n            if (this.includeSummaryRowsInSection && this.shouldEmitSummaryRows) {\n                if (this.isSectionSummaryRowsAtBottom) {\n                    f.ag = j;\n                }\n                else {\n                    f.ah = j;\n                    g += j;\n                }\n                b += j;\n                f.ad += j;\n            }\n            if (d) {\n                b++;\n            }\n            if (c) {\n                var m = 0;\n                f.b = new Array(f.c.length);\n                if (f.z > -1) {\n                    var n = this.de.t._inner[f.z];\n                    for (var o = 0; o < n.f.length; o++) {\n                        m = o;\n                        if (!Base.equalsStatic(n.f[o], f.f[o])) {\n                            break;\n                        }\n                    }\n                }\n                for (var p = m; p < f.c.length; p++) {\n                    b++;\n                    g++;\n                    f.ad++;\n                    var q = this.ei(f, p);\n                    f.a[p] = q;\n                    f.b[p] = p - m;\n                    if (this.dl.containsKey(q)) {\n                        f.c[p] = this.dl.item(q);\n                    }\n                    else {\n                        f.c[p] = this.isSectionExpandedDefault;\n                    }\n                    if (!f.c[p]) {\n                        var r = 0;\n                        var s = f.c.length - 1 - p;\n                        f.ad -= r;\n                        b -= r;\n                        if (d) {\n                            b--;\n                            f.u--;\n                        }\n                        p += s;\n                    }\n                }\n            }\n            f.y = c ? f.v() : 0;\n            f.t = g;\n            this.de.z(f, h + 1);\n            if (!f.p) {\n                var t = f.w();\n                f.ad -= f.d[t] + j;\n                b -= f.d[t] + j;\n            }\n            a = f.ad + 1;\n            this.de.t.add(f);\n            f.q = this.de.r(f);\n        }\n        var u = 0;\n        for (var v = 0; v < this.de.t.count; v++) {\n            var w = this.de.t._inner[v];\n            if (this.shouldEmitSectionHeaders) {\n                if (!w.q) {\n                    var x = w.ad - w.af + 1;\n                    this.de.ae(w.ae);\n                    this.de.ab(w, -x, -x);\n                    v--;\n                    u++;\n                    continue;\n                }\n            }\n            if (w.z > -1) {\n                w.z -= u;\n            }\n        }\n    };\n    VirtualDataSource.prototype.eo = function (a, b) {\n        if (b) {\n            this.cx = new Array(this.groupDescriptions.k.count);\n            for (var c = 0; c < this.cx.length; c++) {\n                this.cx[c] = a;\n            }\n        }\n        if (this.sectionHeaderDisplayMode == 1) {\n            var d = false;\n            var e = a.e.length;\n            for (var f = 0; f < e; f++) {\n                if (d) {\n                    this.cx[f] = a;\n                    continue;\n                }\n                var g = false;\n                if (this.cx[f].f[f] == null) {\n                    g = a.f[f] != null;\n                }\n                else {\n                    g = !Base.equalsStatic(this.cx[f].f[f], a.f[f]);\n                }\n                if (g) {\n                    this.cx[f] = a;\n                    if (f - 1 > -1) {\n                        var h = f - 1;\n                        while (h >= 0 && this.cx[h].o) {\n                            h = h - 1;\n                        }\n                        a.z = this.cx[h].ae;\n                    }\n                    d = true;\n                }\n            }\n        }\n        else {\n            var i = false;\n            for (var j = 0; j < a.e.length; j++) {\n                if (this.cx[0].f[j] == null) {\n                    if (this.cx[0].f[j] != a.f[j]) {\n                        i = true;\n                        break;\n                    }\n                    continue;\n                }\n                if (!Base.equalsStatic(this.cx[0].f[j], a.f[j])) {\n                    i = true;\n                    break;\n                }\n            }\n            if (i) {\n                this.cx[0] = a;\n            }\n        }\n    };\n    VirtualDataSource.prototype.en = function (a) {\n    };\n    VirtualDataSource.prototype.eu = function (a) {\n        if (this.updateNotifier != null) {\n            var b = a.pageIndex() * this.actualPageSize;\n            if (this.actualDataProvider != null) {\n                if (b > this.actualDataProvider.actualCount) {\n                    return;\n                }\n            }\n            var c = this.d8(b);\n            var d = this.d8(b + a.count() - 1);\n            if (c > 0 && this.getRowType(c - 1) == 1) {\n                c--;\n            }\n            if (this.actualCount == 0 && a.count() == 0) {\n                this.onClearItems();\n            }\n            else {\n                this.updateNotifier.rangeActualized(c, d);\n            }\n        }\n    };\n    VirtualDataSource.prototype.d8 = function (a) {\n        if (this.ap && this.de.q) {\n            var b = this.de.g(a);\n            if (b == null) {\n                b = this.de.d();\n            }\n            if (!b.p) {\n                return b.af;\n            }\n            return a + b.t;\n        }\n        return a;\n    };\n    VirtualDataSource.prototype.es = function (a) {\n        a();\n    };\n    VirtualDataSource.prototype.get_isVirtual = function () {\n        return true;\n    };\n    VirtualDataSource.prototype.isPlaceholderItem = function (a) {\n        var b = this.c1(a);\n        var c = b[0];\n        if (!this.df.d(c)) {\n            if (b[1] == -1) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    };\n    VirtualDataSource.prototype.getItemAtIndex = function (a) {\n        if (a >= this.actualCount - this.getRootSummaryRowCount()) {\n            return this.ed(a);\n        }\n        var b = this.c1(a);\n        var c = b[0];\n        if (!this.df.d(c)) {\n            if (b[1] == -1) {\n                return this.ed(a);\n            }\n            return null;\n        }\n        var d = this.df.item(c);\n        var e = b[1];\n        if (e == -1) {\n            return this.ed(a);\n        }\n        return d.getItemAtIndex(e);\n    };\n    VirtualDataSource.prototype.getItemFromKey = function (a) {\n        var b = this.indexOfKey(a);\n        if (b >= 0) {\n            return this.getItemAtIndex(b);\n        }\n        return null;\n    };\n    VirtualDataSource.prototype.ed = function (a) {\n        if (a >= this.actualCount - this.getRootSummaryRowCount()) {\n            var b = new DataSourceSpecialRow();\n            b.rowType = 4;\n            b.level = 0;\n            var c = a - (this.actualCount - this.getRootSummaryRowCount());\n            var d = SectionData.r(this.c0);\n            var e = new Array(d._inner[c].count);\n            d._inner[c].values.copyTo(e, 0);\n            b.summaryResults = e;\n            return b;\n        }\n        var f = this.dd(a);\n        if (f != null) {\n            var g = f.j(a);\n            if (g == 1 || g == 2) {\n                var h = new DataSourceSpecialRow();\n                h.rowType = g;\n                h.summaryResults = f.i[f.i.length - 1];\n                h.level = g == 1 ? f.w() + (a - f.af) : (f.u - 1) - (f.w() + (a - (f.ad - f.u + 1)));\n                if (this.sectionHeaderDisplayMode == 0) {\n                    for (var i = 0; i < this.groupDescriptions.k.count; i++) {\n                        h.setSectionValue(this.groupDescriptions.k.item(i).propertyName, f.f[i]);\n                        h.setValue(this.groupDescriptions.k.item(i).propertyName, f.f[i]);\n                    }\n                }\n                else {\n                    if (h.level >= 0 && h.level < this.groupDescriptions.k.count) {\n                        h.setSectionValue(this.groupDescriptions.k.item(h.level).propertyName, f.f[h.level]);\n                        h.setValue(this.groupDescriptions.k.item(h.level).propertyName, f.f[h.level]);\n                    }\n                }\n                return h;\n            }\n            else if (g == 5) {\n                var j = new DataSourceSpecialRow();\n                j.rowType = 5;\n                j.level = f.c.length;\n                var k = f.x(a);\n                var l = SectionData.r(f.i[f.i.length - 1]);\n                var m = new Array(l._inner[k].count);\n                l._inner[k].values.copyTo(m, 0);\n                j.summaryResults = m;\n                return j;\n            }\n        }\n        return null;\n    };\n    VirtualDataSource.prototype.c1 = function (a) {\n        if (this.ap && this.de.q) {\n            var b = false;\n            var c = this.dd(a);\n            if (c == null) {\n                c = this.de.d();\n                if (this.c0.length > 0 && a > c.ad) {\n                    b = true;\n                }\n            }\n            var d = c.af;\n            if (this.shouldEmitSectionHeaders && a >= d && a < d + c.v()) {\n                b = true;\n            }\n            if (a - (d + c.v() - 1) <= c.aa + c.ah) {\n                b = true;\n            }\n            if (this.shouldEmitSectionFooters) {\n                if (a <= c.ad && a >= c.ad - c.c.length - c.ag) {\n                    b = true;\n                }\n            }\n            else if (c.ag > 0) {\n                if (a > c.ad - c.ag && a <= c.ad) {\n                    b = true;\n                }\n            }\n            var e = a - c.t;\n            var f = truncate(Math.floor(e / this.actualPageSize));\n            var g = e % this.actualPageSize;\n            if (b) {\n                g = -1;\n            }\n            var h = new Array(2);\n            h[0] = f;\n            h[1] = g;\n            return h;\n        }\n        else {\n            var i = truncate(Math.floor(a / this.actualPageSize));\n            var j = a % this.actualPageSize;\n            var k = new Array(2);\n            k[0] = i;\n            k[1] = j;\n            return k;\n        }\n    };\n    VirtualDataSource.prototype.dd = function (a) {\n        return this.de.e(a);\n    };\n    VirtualDataSource.prototype.getItemPropertyAtIndex = function (a, b) {\n        if (a > (this.actualCount - 1) - this.getRootSummaryRowCount()) {\n            return this.ee(a, b);\n        }\n        var c = this.c1(a);\n        var d = c[0];\n        if (!this.df.d(d)) {\n            if (c[1] == -1) {\n                return this.ee(a, b);\n            }\n            return null;\n        }\n        var e = this.df.item(d);\n        var f = c[1];\n        if (f == -1) {\n            return this.ee(a, b);\n        }\n        if (this.aq()) {\n            var g = e.getItemAtIndex(f);\n            var h = this.an(g, b);\n            if (h) {\n                var i = this.a1(g, b);\n                return i;\n            }\n        }\n        return e.getItemValueAtIndex(f, b);\n    };\n    VirtualDataSource.prototype.ee = function (a, b) {\n        var c = this.ed(a);\n        if (typeCast(DataSourceSpecialRow.$, c) !== null) {\n            return c.getValue(b);\n        }\n        return null;\n    };\n    VirtualDataSource.prototype.et = function (a) {\n        if (!this.dn.containsKey(a)) {\n            this.dn.addItem(a, 1);\n        }\n        else {\n            this.dn.item(a, this.dn.item(a) + 1);\n        }\n    };\n    VirtualDataSource.prototype.er = function (a) {\n        if (this.dn.containsKey(a)) {\n            this.dn.item(a, this.dn.item(a) - 1);\n            if (this.dn.item(a) <= 0) {\n                this.dn.removeItem(a);\n                if (this.actualDataProvider != null) {\n                    this.actualDataProvider.removePageRequest(a);\n                }\n            }\n        }\n    };\n    VirtualDataSource.prototype.addCandidate = function (a, b) {\n        var c = false;\n        if (!this.dm.containsKey(a)) {\n            var d = new List$1(Number_$type, 0);\n            var e = this.transformPage(a);\n            for (var f = 0; f < e.length; f++) {\n                var g = e[f];\n                if (!this.df.d(g)) {\n                    d.add(g);\n                    this.et(g);\n                    var h = this.dn.item(g);\n                    if (h == 1 && this.actualDataProvider != null) {\n                        this.actualDataProvider.addPageRequest(g, b);\n                    }\n                    c = true;\n                }\n            }\n            if (d.count > 0) {\n                this.dm.addItem(a, d.toArray());\n            }\n        }\n        return c;\n    };\n    VirtualDataSource.prototype.removeCandidate = function (a) {\n        if (this.dm.containsKey(a)) {\n            for (var b = 0; b < this.dm.item(a).length; b++) {\n                var c = this.dm.item(a)[b];\n                this.er(c);\n            }\n            this.dm.removeItem(a);\n        }\n    };\n    VirtualDataSource.prototype.transformPage = function (a) {\n        var b = [a];\n        if (this.ap && this.de.q) {\n            var c = a * this.actualPageSize;\n            var d = c + this.actualPageSize - 1;\n            var e = this.dd(c);\n            var f = new List$1(Number_$type, 0);\n            for (var g = c; g <= d; g++) {\n                if (e == null) {\n                    break;\n                }\n                if (g > e.ad) {\n                    if (e.ae < this.de.t.count - 1) {\n                        e = this.de.t._inner[e.ae + 1];\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (!e.p || (g >= e.af && g <= e.af + (e.v() - 1) + e.aa)) {\n                    continue;\n                }\n                var h = g - e.t;\n                var i = intDivide(h, this.actualPageSize);\n                if (!f.contains(i)) {\n                    f.add(i);\n                }\n            }\n            b = f.toArray();\n        }\n        return b;\n    };\n    VirtualDataSource.prototype.getUnrealizedCount = function () {\n        var a = this.df.g * this.actualPageSize;\n        var b = this.actualCount - a;\n        return b;\n    };\n    VirtualDataSource.prototype.onSetItemOverride = function (a, b, c) {\n        _super.prototype.onSetItemOverride.call(this, a, b, c);\n        var d = this.c1(a);\n        var e = d[0];\n        if (this.df.d(e)) {\n            this.df.j(e);\n        }\n    };\n    VirtualDataSource.prototype.refreshInternalOverride = function () {\n        _super.prototype.refreshInternalOverride.call(this);\n        this.actualPageSizePopulated = false;\n        var a = this.actualCount != 0;\n        this.dh = true;\n        if (!this.di) {\n            this.resetCache();\n            if (a) {\n                this.onClearItems();\n            }\n            this.cv = null;\n            this.c0 = null;\n            this.d5 = 0;\n            this.de.v();\n        }\n        else {\n            this.di = false;\n            if (a) {\n                this.onClearItems();\n            }\n        }\n        this.ex();\n        this.dc.au();\n        this.dh = false;\n    };\n    VirtualDataSource.prototype.ex = function () {\n        var e_1, _a;\n        if (this.actualDataProvider != null) {\n            try {\n                for (var _b = __values(fromEnum(this.dm.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var a = _c.value;\n                    for (var c = 0; c < a.length; c++) {\n                        var b = a[c];\n                        this.actualDataProvider.addPageRequest(b, 1);\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n        }\n    };\n    VirtualDataSource.prototype.onClearItemsOverride = function () {\n        _super.prototype.onClearItemsOverride.call(this);\n        if (!this.dh) {\n            this.queueAutoRefresh();\n        }\n    };\n    VirtualDataSource.prototype.onInsertItemOverride = function (a, b) {\n        _super.prototype.onInsertItemOverride.call(this, a, b);\n        this.queueAutoRefresh();\n    };\n    VirtualDataSource.prototype.onRemoveItemOverride = function (a, b) {\n        _super.prototype.onRemoveItemOverride.call(this, a, b);\n        this.queueAutoRefresh();\n    };\n    VirtualDataSource.prototype.get_isItemIndexLookupSupported = function () {\n        return true;\n    };\n    VirtualDataSource.prototype.get_isKeyIndexLookupSupported = function () {\n        return true;\n    };\n    VirtualDataSource.prototype.indexOfItem = function (a) {\n        var b = this.df.b;\n        var c = b.o;\n        var d = b.q;\n        var e = d.count;\n        var f = b.p;\n        for (var g = 0; g < e; g++) {\n            if (f._inner[g]) {\n                continue;\n            }\n            var h = d._inner[g].b;\n            var i = h.count();\n            for (var j = 0; j < i; j++) {\n                if (this.dk(h.getItemAtIndex(j), a)) {\n                    var k = typeGetValue(c._inner[g]);\n                    var l = k * this.actualPageSize;\n                    return l + j;\n                }\n            }\n        }\n        if (this.actualDataProvider != null && this.actualDataProvider.isItemIndexLookupSupported) {\n            return this.actualDataProvider.indexOfItem(a);\n        }\n        return -1;\n    };\n    VirtualDataSource.prototype.dk = function (a, b) {\n        if (a == null && b == null) {\n            return true;\n        }\n        if (a == null || b == null) {\n            return false;\n        }\n        return Base.equalsStatic(a, b);\n    };\n    VirtualDataSource.prototype.indexOfKey = function (a) {\n        var b = this.actualPrimaryKey;\n        if (b == null || b.length < 1 || this.actualBaseDataProvider == null) {\n            return -1;\n        }\n        this.ensureComparables(this.actualSchema);\n        var c = this.db();\n        if (this.ap && this.shouldEmitSectionHeaders && !this.isSectionContentVisible && this.isSectionHeaderNormalRow) {\n            if (this.de.t.count > 0) {\n                for (var d = 0; d < this.de.t.count; d++) {\n                    var e = this.de.t._inner[d];\n                    var f = new DataSourceSpecialRow();\n                    for (var g = 0; g < e.e.length; g++) {\n                        var h = e.e[g];\n                        var i = e.f[g];\n                        f.setSectionValue(h, i);\n                    }\n                    if (c.i(f, a) == 0) {\n                        return d;\n                    }\n                }\n            }\n        }\n        var j = this.df.b;\n        var k = j.o;\n        var l = j.q;\n        var m = l.count;\n        var n = j.p;\n        for (var o = 0; o < m; o++) {\n            if (n._inner[o]) {\n                continue;\n            }\n            var p = l._inner[o].b;\n            var q = p.count();\n            for (var r = 0; r < q; r++) {\n                if (c.i(p.getItemAtIndex(r), a) == 0) {\n                    var s = typeGetValue(k._inner[o]);\n                    var t = s * this.actualPageSize;\n                    return t + r;\n                }\n            }\n        }\n        if (this.actualDataProvider != null && this.actualDataProvider.isKeyIndexLookupSupported) {\n            return this.actualDataProvider.indexOfKey(a);\n        }\n        return -1;\n    };\n    VirtualDataSource.prototype.db = function () {\n        var a = new Array(this.actualPrimaryKey.length);\n        for (var b = 0; b < a.length; b++) {\n            a[b] = 0;\n        }\n        return new DataSourcePropertiesComparer(this.actualPrimaryKey, a, this.cz, this);\n    };\n    VirtualDataSource.prototype.getStickyRowPriority = function (a) {\n        var b = this.getRowType(a);\n        switch (b) {\n            case 1: return 100 - this.getRowLevel(a);\n            case 2: return 99 - this.getRowLevel(a);\n            case 3:\n            case 5: return 2;\n            case 4: return 3;\n        }\n        return 1;\n    };\n    VirtualDataSource.prototype.unpinRow = function (a) {\n        _super.prototype.unpinRow.call(this, a);\n    };\n    VirtualDataSource.prototype.pinRow = function (a) {\n        _super.prototype.pinRow.call(this, a);\n    };\n    VirtualDataSource.prototype.isRowPinned = function (a) {\n        return _super.prototype.isRowPinned.call(this, a);\n    };\n    VirtualDataSource.prototype.getStickyRowsInRange = function (a, b) {\n        if ((this.groupDescriptions == null || this.groupDescriptions.k.count == 0) && (this.summaryDescriptions == null || this.summaryDescriptions.k.count == 0)) {\n            return null;\n        }\n        var c = this.dd(a);\n        var d = this.dd(b);\n        if (this.de.t.count > 0) {\n            if (this.de.t.count == 1) {\n                c = this.de.t._inner[0];\n                d = this.de.t._inner[0];\n            }\n            else {\n                c = this.de.e(a);\n                if (c != null) {\n                    while (c.z != -1) {\n                        c = this.de.t._inner[c.z];\n                    }\n                }\n                d = this.de.e(b);\n                if (b >= this.actualCount - this.getRootSummaryRowCount()) {\n                    d = this.de.d();\n                }\n            }\n        }\n        else if (this.getRootSummaryRowCount() > 0) {\n            var e = new List$1(Number_$type, 0);\n            for (var f = this.actualCount - this.getRootSummaryRowCount(); f < this.actualCount; f++) {\n                e.add(f);\n            }\n            return e.toArray();\n        }\n        if (c == null || d == null) {\n            return null;\n        }\n        if (c.ae == this.dx && c.aa == this.dz && c.af == this.d0 && c.ad == this.dy && c.ah == this.d2 && c.ag == this.d1 && d.ae == this.dq && d.aa == this.ds && d.af == this.dt && d.ad == this.dr && d.ah == this.dv && d.ag == this.du && this.getRootSummaryRowCount() == this.dw) {\n            return this.cw;\n        }\n        this.dx = c.ae;\n        this.dq = d.ae;\n        this.dz = c.aa;\n        this.ds = d.aa;\n        this.d0 = c.af;\n        this.dt = d.af;\n        this.dy = c.ad;\n        this.dr = d.ad;\n        this.dv = d.ah;\n        this.du = d.ag;\n        this.d2 = c.ah;\n        this.d1 = c.ag;\n        this.dw = this.getRootSummaryRowCount();\n        var g = new List$1(Number_$type, 0);\n        for (var h = c.ae; h <= d.ae; h++) {\n            var i = this.de.t._inner[h];\n            var j = i.c.length;\n            var k = i.v();\n            if (this.shouldEmitSectionHeaders && this.ap) {\n                for (var l = 0; l < i.c.length; l++) {\n                    if (i.a[l] != null) {\n                        var m = i.af + i.b[l];\n                        g.add(m);\n                    }\n                    if (!i.c[l]) {\n                        break;\n                    }\n                }\n            }\n            if (i.p) {\n                for (var n = 0; n < i.ah; n++) {\n                    g.add(i.af + n + k);\n                }\n                if (this.shouldEmitShiftedRows) {\n                    for (var o = 0; o < i.aa; o++) {\n                        g.add(i.af + o + j);\n                    }\n                }\n                if (this.summaryScope == 0 || this.summaryScope == 2) {\n                    if (this.includeSummaryRowsInSection && this.isSectionSummaryRowsAtBottom) {\n                        for (var p = i.ag - 1; p >= 0; p--) {\n                            if (this.shouldEmitSectionFooters) {\n                                g.add(i.ad - k - p);\n                            }\n                            else {\n                                g.add(i.ad - p);\n                            }\n                        }\n                    }\n                }\n            }\n            if (this.shouldEmitSectionFooters && this.ap) {\n                for (var q = i.c.length - 1; q >= 0; q--) {\n                    if (!i.c[q]) {\n                        break;\n                    }\n                    g.add(i.ad - q);\n                }\n            }\n        }\n        for (var r = this.actualCount - this.getRootSummaryRowCount(); r < this.actualCount; r++) {\n            g.add(r);\n        }\n        this.cw = g.toArray();\n        return this.cw;\n    };\n    VirtualDataSource.prototype.isExclusivelySticky = function (a) {\n        var b = this.getRowType(a);\n        return b == 1 || b == 2 || b == 4 || (this.isSectionSummaryRowsAtBottom && b == 5);\n    };\n    VirtualDataSource.prototype.getRowType = function (a) {\n        if (a < 0) {\n            return 0;\n        }\n        var b = this.getItemAtIndex(a);\n        var item_ = b;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            var c = b.rowType;\n            if (this.isSectionHeaderNormalRow && c == 1) {\n                return 0;\n            }\n            return c;\n        }\n        return 0;\n    };\n    VirtualDataSource.prototype.getIsRowExpandedAtIndex = function (a) {\n        var b = this.de.e(a);\n        if (b == null) {\n            b = this.de.d();\n        }\n        for (var c = 0; c < b.a.length; c++) {\n            if (b.a[c] != null) {\n                if (a == b.af + b.b[c]) {\n                    return b.c[c];\n                }\n            }\n        }\n        return _super.prototype.getIsRowExpandedAtIndex.call(this, a);\n    };\n    VirtualDataSource.prototype.setIsRowExpandedAtIndex = function (a, b) {\n        var c = this.de.e(a);\n        if (c == null) {\n            c = this.de.d();\n        }\n        for (var d = 0; d < c.a.length; d++) {\n            if (c.a[d] != null) {\n                if (a == c.af + c.b[d]) {\n                    var e = false;\n                    var f = c.a[d];\n                    if (this.dl.containsKey(f) && this.dl.item(f) != b) {\n                        var g = this.dl.item(f);\n                        if (b == this.isSectionExpandedDefault) {\n                            this.dl.removeItem(f);\n                        }\n                        else {\n                            this.dl.item(f, b);\n                        }\n                        e = true;\n                        this.onRowExpansionChanged(a, g, b);\n                    }\n                    else if (b != this.isSectionExpandedDefault) {\n                        this.dl.addItem(f, b);\n                        e = true;\n                        this.onRowExpansionChanged(a, this.isSectionExpandedDefault, b);\n                    }\n                    if (e) {\n                        this.de.v();\n                        this.ev();\n                        this.di = true;\n                        if (this.actualCount != this.de.u) {\n                            this.actualCount = this.de.u + this.getRootSummaryRowCount();\n                        }\n                        else {\n                            this.queueAutoRefresh();\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    VirtualDataSource.prototype.getRowLevel = function (a) {\n        if (a < 0) {\n            return 0;\n        }\n        var b = this.getItemAtIndex(a);\n        var item_ = b;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            return b.level;\n        }\n        if (this.isGroupingSupported) {\n            if (this.sectionHeaderDisplayMode == 1) {\n                return this.groupDescriptions.k.count;\n            }\n            else if (this.groupDescriptions.k.count > 0) {\n                return 1;\n            }\n        }\n        return 0;\n    };\n    VirtualDataSource.prototype.getRootSummaryRowCount = function () {\n        return this.shouldEmitSummaryRows ? this.d5 : 0;\n    };\n    VirtualDataSource.prototype.eh = function (a) {\n        var b = \"\";\n        for (var c = 0; c < a.e.length; c++) {\n            b += a.e[c] + \":\" + a.f[c];\n        }\n        return b;\n    };\n    VirtualDataSource.prototype.ei = function (a, b) {\n        if (this.sectionHeaderDisplayMode == 0) {\n            return this.eh(a);\n        }\n        var c = \"\";\n        for (var d = 0; d < a.e.length; d++) {\n            c += a.e[d] + \":\" + a.f[d] + \":\";\n        }\n        c += b;\n        return c;\n    };\n    VirtualDataSource.prototype.getRootSummaryResults = function () {\n        return this.c0;\n    };\n    VirtualDataSource.prototype.getSectionSummaryResults = function (a) {\n        if (this.de.t.count > 0 && a >= 0 && a < this.de.t.count) {\n            return this.de.t._inner[a].i;\n        }\n        return null;\n    };\n    VirtualDataSource.prototype.clone = function () {\n        return null;\n    };\n    VirtualDataSource.prototype.cloneProperties = function (a) {\n        _super.prototype.cloneProperties.call(this, a);\n        var b = typeCast(VirtualDataSource.$, a);\n        if (b != null) {\n            b.pageSizeRequested = this.pageSizeRequested;\n            b.maxCachedPages = this.maxCachedPages;\n        }\n    };\n    Object.defineProperty(VirtualDataSource.prototype, \"concurrencyTag\", {\n        get: function () {\n            return this._concurrencyTag;\n        },\n        set: function (a) {\n            this._concurrencyTag = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    VirtualDataSource.prototype.get_isBatchingEnabled = function () {\n        return true;\n    };\n    VirtualDataSource.prototype.set_isBatchingEnabled = function (a) {\n        _super.prototype.set_isBatchingEnabled.call(this, a);\n    };\n    VirtualDataSource.prototype.updatePropertyAtKey = function (a, b, c, d) {\n        if (d === void 0) {\n            d = false;\n        }\n        var e = _super.prototype.updatePropertyAtKey.call(this, a, b, c, d);\n        if (this.concurrencyTag != null && this.aq()) {\n            var f = this.indexOfKey(a);\n            if (f > -1) {\n                var g = this.getItemAtIndex(f);\n                var h = this.actualDataProvider.getItemValue(g, this.concurrencyTag);\n                if (h != null) {\n                    var i = this.u.g(a);\n                    i.version = h;\n                }\n            }\n        }\n        return e;\n    };\n    VirtualDataSource.prototype.removeItemByKey = function (a) {\n        _super.prototype.removeItemByKey.call(this, a);\n        if (this.concurrencyTag != null && this.aq()) {\n            var b = this.indexOfKey(a);\n            if (b > -1) {\n                var c = this.getItemAtIndex(b);\n                var d = this.actualDataProvider.getItemValue(c, this.concurrencyTag);\n                if (d != null) {\n                    var e = this.u.g(a);\n                    e.version = d;\n                }\n            }\n        }\n    };\n    VirtualDataSource.prototype.co = function (a, b) {\n        if (a == 5) {\n            var c = b;\n            var d_1 = c.a;\n            var e = new List$1(TransactionState.$, 0);\n            var _loop_1 = function (f) {\n                var e_2, _a, e_3, _b;\n                var g = d_1[f].transactionType;\n                var h = null;\n                var i = null;\n                if (g == TransactionType.Delete || g == 1) {\n                    var j = new Dictionary$2(String_$type, Base.$, 0);\n                    var k = d_1[f].id;\n                    for (var l = 0; l < this_1.actualPrimaryKey.length; l++) {\n                        j.addItem(this_1.actualPrimaryKey[l], k[l]);\n                    }\n                    h = j;\n                }\n                if (g == 0) {\n                    var m = new Dictionary$2(String_$type, Base.$, 0);\n                    var n = d_1[f].id[0];\n                    for (var o = 0; o < this_1.actualSchema.propertyNames.length; o++) {\n                        var p = this_1.actualSchema.propertyNames[o];\n                        m.addItem(p, this_1.actualDataProvider.getItemValue(n, p));\n                    }\n                    i = m;\n                }\n                else if (g == 1) {\n                    i = d_1[f].value;\n                }\n                if (h != null) {\n                    var q = {};\n                    var r = h;\n                    try {\n                        for (var _c = (e_2 = void 0, __values(fromEnum(r))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                            var s = _d.value;\n                            q[s.key] = s.value;\n                        }\n                    }\n                    catch (e_2_1) {\n                        e_2 = { error: e_2_1 };\n                    }\n                    finally {\n                        try {\n                            if (_d && !_d.done && (_a = _c.return))\n                                _a.call(_c);\n                        }\n                        finally {\n                            if (e_2)\n                                throw e_2.error;\n                        }\n                    }\n                    h = q;\n                }\n                if (i != null) {\n                    var t = {};\n                    var u = i;\n                    try {\n                        for (var _e = (e_3 = void 0, __values(fromEnum(u))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                            var v = _f.value;\n                            t[v.key] = v.value;\n                        }\n                    }\n                    catch (e_3_1) {\n                        e_3 = { error: e_3_1 };\n                    }\n                    finally {\n                        try {\n                            if (_f && !_f.done && (_b = _e.return))\n                                _b.call(_e);\n                        }\n                        finally {\n                            if (e_3)\n                                throw e_3.error;\n                        }\n                    }\n                    i = t;\n                }\n                e.add(((function () {\n                    var $ret = new TransactionState(h, g, i);\n                    $ret.version = d_1[f].version;\n                    return $ret;\n                })()));\n            };\n            var this_1 = this;\n            for (var f = 0; f < d_1.length; f++) {\n                _loop_1(f);\n            }\n            var w = e.toArray();\n            if (this.batchStarted != null) {\n                this.batchStarted(this, new DataSourceBatchStartedEventArgs(w));\n            }\n            this.actualDataProvider.createBatchRequest(w);\n        }\n    };\n    VirtualDataSource.prototype.ep = function (a, b, c) {\n        if (b) {\n            this.queueAutoRefresh();\n        }\n        if (this.batchCompleted != null) {\n            this.batchCompleted(this, new DataSourceBatchCompletedEventArgs(a, c));\n        }\n    };\n    VirtualDataSource.$t = markType(VirtualDataSource, 'VirtualDataSource', BaseDataSource.$, [IPageCandidatesSink_$type]);\n    return VirtualDataSource;\n}(BaseDataSource));\nexport { VirtualDataSource };\n"]},"metadata":{},"sourceType":"module"}