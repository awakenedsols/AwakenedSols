{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { IScaleLegendSeries_$type } from \"igniteui-react-core\";\nimport { ISupportsSizeScale_$type } from \"./ISupportsSizeScale\";\nimport { ISupportsFillScale_$type } from \"./ISupportsFillScale\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { Base, typeCast, Point_$type, fromEnum, markType, markDep, enumGetBox, runOn } from \"igniteui-react-core\";\nimport { ActualRange } from \"./ActualRange\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { SizeScale } from \"./SizeScale\";\nimport { BrushScale } from \"./BrushScale\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { ValueBrushScale } from \"./ValueBrushScale\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { ScatterBaseView } from \"./ScatterBaseView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { BubbleMarkerManager } from \"./BubbleMarkerManager\";\nimport { IChartItemLegend_$type } from \"igniteui-react-core\";\nimport { IChartScaleLegend_$type } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, logBase } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { BrushSelectionMode_$type } from \"./BrushSelectionMode\";\nimport { ScatterTrendLineManager } from \"./ScatterTrendLineManager\";\nimport { Defaults } from \"./Defaults\";\n/**\n * @hidden\n */\n\nvar BubbleSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BubbleSeries, _super);\n\n  function BubbleSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.wv = null;\n    _this.wu = null;\n    _this.vi = null;\n    _this.va = null;\n    _this.u9 = null;\n    _this.u8 = null;\n    _this.u6 = null;\n    _this.ab = BubbleSeries.$;\n    _this.r3 = new ScatterFrame();\n    _this.r5 = new ScatterFrame();\n    _this.r1 = new ScatterFrame();\n    return _this;\n  }\n\n  BubbleSeries.prototype.get_c4 = function () {\n    return true;\n  };\n\n  BubbleSeries.prototype.bx = function () {\n    return new BubbleSeriesView(this);\n  };\n\n  BubbleSeries.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.u5 = a;\n  };\n\n  BubbleSeries.prototype.gv = function () {\n    return 0.7;\n  };\n\n  BubbleSeries.prototype.p7 = function () {\n    if (this.p6 == 0) {\n      return 2;\n    }\n\n    return _super.prototype.p7.call(this);\n  };\n\n  BubbleSeries.prototype.isAttachedTo = function (a) {\n    return this.a1 == a;\n  };\n\n  BubbleSeries.prototype.c3 = function () {\n    return true;\n  };\n\n  BubbleSeries.prototype.k9 = function (a) {\n    _super.prototype.k9.call(this, a);\n\n    if (this.vd != null && this.vi != null && this.vi.count > 0) {\n      for (var b = 0; b < this.vi.count; b++) {\n        a(this.vi._inner[b]);\n      }\n    }\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"vc\", {\n    get: function () {\n      return this.ve;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.wt = function (a) {\n    var b = typeCast(CustomPaletteBrushScale.$, this.u4);\n    var c = typeCast(ValueBrushScale.$, this.u4);\n    var d = this.u4;\n\n    if (b != null && this.ck != null) {\n      return b.getBrush1(a, this.ck.count);\n    } else if (c != null) {\n      return c.getBrushByIndex(a, this.vb);\n    } else if (d != null) {\n      return d.getBrush(a);\n    }\n\n    return null;\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"legendReady\", {\n    get: function () {\n      return this.ve != null && this.ve.count != 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"minScaleText\", {\n    get: function () {\n      var a = this.u3(this.u7).b;\n      return (Math.round(a * 1000) / 1000).toString();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"maxScaleText\", {\n    get: function () {\n      var a = this.u3(this.u7).a;\n      return (Math.round(a * 1000) / 1000).toString();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.forScaleColors = function (a) {\n    for (var b = 0; b < this.ve.count; b++) {\n      if (this.u4 == null || !this.u4.isReady) {\n        return false;\n      }\n\n      var c = NaN;\n\n      if (this.vb != null) {\n        c = (this.vb.item(b) - this.vb.minimum) / (this.vb.maximum - this.vb.minimum);\n      }\n\n      var d = (this.ve.item(b) - this.ve.minimum) / (this.ve.maximum - this.ve.minimum);\n\n      if (isNaN_(c)) {\n        c = 0;\n      }\n\n      if (isNaN_(d)) {\n        d = c;\n      }\n\n      var e = this.rd;\n      var f = this.wt(b);\n      var g = f != null ? f : e;\n      a(g, d);\n    }\n\n    return true;\n  };\n\n  BubbleSeries.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == BubbleSeries.$$p[5]) {\n      return this.hx(a, b, this.vx);\n    }\n\n    if (c == BubbleSeries.$$p[11]) {\n      return this.hx(a, b, this.v7);\n    }\n\n    if (c == ScatterBase.$$p[10]) {\n      return this.hx(a, b, this.te);\n    }\n\n    if (c == ScatterBase.$$p[14]) {\n      return this.hx(a, b, this.tm);\n    }\n\n    if (c == BubbleSeries.$$p[2]) {\n      return this.hx(a, b, this.vs);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"ve\", {\n    get: function () {\n      return this.va;\n    },\n    set: function (a) {\n      if (this.va != a) {\n        var b = this.ve;\n        this.va = a;\n        this.raisePropertyChanged(\"RadiusColumn\", b, this.ve);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"vd\", {\n    get: function () {\n      return this.u9;\n    },\n    set: function (a) {\n      if (this.u9 != a) {\n        var b = this.vd;\n        this.u9 = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.vd);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"vb\", {\n    get: function () {\n      return this.u8;\n    },\n    set: function (a) {\n      if (this.u8 != a) {\n        var b = this.vb;\n        this.u8 = a;\n        this.raisePropertyChanged(\"FillColumn\", b, this.vb);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.tp = function (a, b, c, d, e) {\n    if (c <= this.sy) {\n      b.g = new Dictionary$2(Base.$, OwnedPoint.$, 1, c);\n    }\n\n    var f = this.sy;\n    var g = this.ck;\n    var h;\n    var i;\n    var j = this.getEffectiveViewport1(a);\n    var k = new ScalerParams(0, d, e, this.rx.d, j);\n    var l = new ScalerParams(0, d, e, this.rx.e, j);\n    var m = false;\n    var n = 0;\n\n    if (this.cd != null) {\n      if (this.cd.e3()) {\n        var o = this.cd.ku(d, k);\n        m = o.c;\n        n = o.d;\n      }\n    }\n\n    var _loop_1 = function (p) {\n      h = this_1.sd.item(p);\n      i = this_1.se.item(p);\n      var q = {\n        $type: Point_$type,\n        x: this_1.rx.a.ei(h, k),\n        y: this_1.rx.b.ei(i, l)\n      };\n\n      if (m) {\n        if (q.x < e.left || q.x > e.right) {\n          if (q.x + n >= e.left && q.x + n <= e.right) {\n            q = {\n              $type: Point_$type,\n              x: q.x + n,\n              y: i\n            };\n          }\n        }\n      }\n\n      if (!isInfinity(q.x) && !isInfinity(q.y)) {\n        var r_1 = g.item(p);\n\n        if (c <= f) {\n          if (!b.g.containsKey(r_1)) {\n            var s_1 = {\n              $type: Point_$type,\n              x: h,\n              y: i\n            };\n            b.g.addItem(r_1, function () {\n              var $ret = new OwnedPoint();\n              $ret.a = r_1;\n              $ret.b = s_1;\n              $ret.c = q;\n              return $ret;\n            }());\n          }\n        }\n      }\n    };\n\n    var this_1 = this;\n\n    for (var p = 0; p < c; p++) {\n      _loop_1(p);\n    }\n  };\n\n  BubbleSeries.prototype.tx = function (a, b) {\n    var c = typeCast(BubbleSeriesView.$, b);\n    var d = c.cv;\n    d.m = this.ve;\n\n    _super.prototype.tx.call(this, a, b);\n\n    var e = Math.min(this.sd != null ? this.sd.count : 0, this.se != null ? this.se.count : 0);\n\n    if (e < 1) {\n      return;\n    }\n\n    c.dh();\n    c.di();\n  };\n\n  BubbleSeries.prototype.wc = function () {\n    if (this.cd == null) {\n      return;\n    }\n\n    if (this.a1 == null) {\n      return;\n    }\n\n    if (this.a1.isItemwise) {\n      var a = this.a1;\n      this.a1.clearLegendItemsForSeries(this);\n      this.wb();\n      a.renderItemwiseContent(this);\n    }\n\n    if (this.a1.isScale) {\n      var b = this.a1;\n      b.restoreOriginalState();\n      b.initializeLegend(this);\n    }\n  };\n\n  BubbleSeries.vj = function (a, b, c, d, e) {\n    if (e <= a || isNaN_(e) || isInfinity(e)) {\n      return c;\n    }\n\n    if (e >= b) {\n      return d;\n    }\n\n    var f = c + (d - c) / (b - a) * (e - a);\n    return f;\n  };\n\n  BubbleSeries.vk = function (a, b, c, d, logBase_, e) {\n    var f = logBase(e, logBase_);\n    var g = logBase(a, logBase_);\n    var h = logBase(b, logBase_);\n    return BubbleSeries.vj(g, h, c, d, f);\n  };\n\n  BubbleSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.ve == null || this.ck == null || this.ve.count == 0 || this.ck.count != this.ve.count) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  BubbleSeries.prototype.sm = function (a, b) {\n    if (b != 3) {\n      return true;\n    }\n\n    if (a == null) {\n      return true;\n    }\n\n    if (this.te == a || this.tm == a || this.v7 == a) {\n      return true;\n    }\n\n    return false;\n  };\n\n  BubbleSeries.prototype.wb = function () {\n    var _this = this;\n\n    var a = typeCast(IChartLegend_$type, this.a1);\n\n    if (a == null || this.ck == null) {\n      return;\n    }\n\n    this.vi = new List$1(UIElement.$, 0);\n    var b = typeCast(CustomPaletteBrushScale.$, this.u4);\n    var c = typeCast(ValueBrushScale.$, this.u4);\n    var d = this.u4;\n    var e = this.u2();\n    var f = e.b;\n    var g = e.a;\n    var h = this.ck;\n\n    var _loop_2 = function (i) {\n      var j = null;\n\n      if (c != null && this_2.vb != null) {\n        var k = this_2.vb.item(i);\n        j = c.getBrushByRange(k, f, g);\n      } else if (b != null) {\n        j = b.getBrush1(i, h.count);\n      } else if (d != null) {\n        j = d.getBrush(i);\n      }\n\n      var l = new ContentControl();\n      var m = this_2.vd != null && this_2.vd.item(i) != null ? this_2.vd.item(i).toString() : \"\";\n\n      l.content = function () {\n        var $ret = new DataContext();\n        $ret.series = _this;\n        $ret.item = h.item(i);\n        $ret.itemBrush = j;\n        $ret.itemLabel = m;\n        return $ret;\n      }();\n\n      var n = this_2.nc;\n\n      if (n == null) {\n        n = this_2.b0.bl(this_2.b5);\n      }\n\n      l.ah = n;\n      this_2.vi.add(l);\n    };\n\n    var this_2 = this;\n\n    for (var i = 0; i < h.count; i++) {\n      _loop_2(i);\n    }\n  };\n\n  BubbleSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    if (this.u7 != null) {\n      this.u7.aa();\n    }\n\n    if (this.u4 != null) {\n      this.u4.x();\n    }\n\n    this.wc();\n  };\n\n  BubbleSeries.prototype.li = function () {\n    _super.prototype.li.call(this);\n\n    this.wc();\n  };\n\n  BubbleSeries.prototype.lo = function () {\n    _super.prototype.lo.call(this);\n\n    this.wc();\n  };\n\n  BubbleSeries.prototype.l4 = function (a, b, c, d) {\n    var e_1, _a;\n\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"FastItemsSource\":\n        if (this.u7 != null) {\n          this.u7.aa();\n        }\n\n        if (this.u4 != null) {\n          this.u4.x();\n        }\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.ve);\n          c.deregisterColumn(this.vb);\n          c.deregisterColumn(this.vd);\n          this.ve = null;\n          this.vb = null;\n          this.vd = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.ve = this.ch(this.v7);\n\n          if (!stringIsNullOrEmpty(this.vs)) {\n            this.vb = this.ch(this.vs);\n          }\n\n          this.vd = this.cj(this.vx);\n        }\n\n        this.mi(false);\n        this.wc();\n        break;\n\n      case BubbleSeries.$$p[11]:\n        if (this.u7 != null) {\n          this.u7.aa();\n        }\n\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.ve);\n          this.ve = this.ch(this.v7);\n          this.wc();\n        }\n\n        break;\n\n      case \"RadiusColumn\":\n        if (this.u7 != null) {\n          this.u7.aa();\n        }\n\n        this.ry.cx.g$i();\n        this.mi(false);\n        this.lq();\n        break;\n\n      case BubbleSeries.$$p[12]:\n        if (c != null) {\n          c.l.remove(this);\n          c.aa();\n        }\n\n        if (d != null) {\n          d.l.add(this);\n          d.aa();\n        }\n\n        this.mi(false);\n        this.lp();\n        break;\n\n      case BubbleSeries.$$p[13]:\n        this.mi(false);\n        this.lp();\n        break;\n\n      case \"DiscreteLegendItemTemplate\":\n        this.wc();\n        break;\n\n      case BubbleSeries.$$p[3]:\n        if (c != null) {\n          c.o.remove(this);\n          c.x();\n        }\n\n        if (d != null) {\n          d.o.add(this);\n          d.x();\n        }\n\n        this.mi(false);\n        this.wc();\n        this.lp();\n        break;\n\n      case BubbleSeries.$$p[4]:\n      case BubbleSeries.$$p[8]:\n      case BubbleSeries.$$p[7]:\n      case BubbleSeries.$$p[6]:\n        this.mi(false);\n        this.wc();\n        this.lp();\n        break;\n\n      case \"FillColumn\":\n        this.mi(false);\n        this.lp();\n        break;\n\n      case BubbleSeries.$$p[2]:\n        if (this.u4 != null) {\n          this.u4.x();\n        }\n\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.vb);\n          this.vb = this.ch(this.vs);\n          this.wc();\n        }\n\n        break;\n\n      case BubbleSeries.$$p[5]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.vd);\n          this.vd = this.cj(this.vx);\n          this.wc();\n        }\n\n        break;\n\n      case \"ActualLegend\":\n        var e = typeCast(IChartLegend_$type, c);\n\n        if (e != null && e.isItemwise) {\n          var f = typeCast(IChartItemLegend_$type, e);\n          f.clearLegendItemsForSeries(this);\n        }\n\n        if (e != null && e.isScale) {\n          var g = typeCast(IChartScaleLegend_$type, e);\n          var h = true;\n          var i = null;\n\n          if (this.cd != null) {\n            try {\n              for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var j = _c.value;\n\n                if (j.legend == g) {\n                  i = j;\n                  h = false;\n                }\n              }\n            } catch (e_1_1) {\n              e_1 = {\n                error: e_1_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_1) throw e_1.error;\n              }\n            }\n          }\n\n          if (h) {\n            g.restoreOriginalState();\n          } else {\n            g.initializeLegend(typeCast(IScaleLegendSeries_$type, i));\n          }\n        }\n\n        this.wc();\n        break;\n\n      case \"SeriesViewer\":\n        this.wc();\n        break;\n    }\n  };\n\n  BubbleSeries.prototype.updateSizeScaleGlobals = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.ve != null) {\n      a.b = this.ve.minimum;\n      a.a = this.ve.maximum;\n    }\n\n    if (this.u7 != null) {\n      this.u7.ab(a.b, a.a);\n    }\n  };\n\n  BubbleSeries.prototype.updateFillScaleGlobals = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.vb != null) {\n      a.b = this.vb.minimum;\n      a.a = this.vb.maximum;\n    }\n\n    if (this.u4 != null) {\n      this.u4.z(a.b, a.a);\n    }\n  };\n\n  BubbleSeries.prototype.u3 = function (a) {\n    var b = new ActualRange();\n    b.b = NaN;\n    b.a = NaN;\n\n    if (this.ve != null) {\n      b.b = this.ve.minimum;\n      b.a = this.ve.maximum;\n    }\n\n    if (a != null) {\n      a.x();\n\n      if (this.vh) {\n        b.b = a.globalMinimum;\n        b.a = a.globalMaximum;\n      }\n    }\n\n    return b;\n  };\n\n  BubbleSeries.prototype.u2 = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.vb != null) {\n      a.b = this.vb.minimum;\n      a.a = this.vb.maximum;\n    }\n\n    var b = typeCast(ValueBrushScale.$, this.u4);\n\n    if (b != null) {\n      b.s();\n\n      if (this.vf && this.u4.o.count > 1) {\n        a.b = b.q;\n        a.a = b.p;\n      }\n    }\n\n    return a;\n  };\n\n  BubbleSeries.prototype.we = function (a, b, c, d) {\n    var e = c.width;\n\n    if (!this.b0.bu.isEmpty) {\n      e = this.b0.bu.width;\n    } else if (this.cd != null && !this.cd.su.isEmpty) {\n      e = this.cd.su.width;\n    }\n\n    var f = DeviceUtils.c(e);\n\n    this.u6 = this.u7 || function () {\n      var $ret = new SizeScale();\n      $ret.minimumValue = f / 10;\n      $ret.maximumValue = f / 5;\n      return $ret;\n    }();\n\n    if (this.u6 != null) {\n      var g = this.u6.minimumValue;\n      var h = this.u6.maximumValue;\n      var i = this.u6.logarithmBase;\n      var j = this.u3(this.u6);\n      var k = j.b;\n      var l = j.a;\n\n      if (this.u6.isLogarithmic) {\n        for (var m = 0; m < b.count; m++) {\n          b._inner[m] = BubbleSeries.vk(k, l, g, h, i, b._inner[m]);\n        }\n      } else {\n        for (var n = 0; n < b.count; n++) {\n          b._inner[n] = BubbleSeries.vj(k, l, g, h, b._inner[n]);\n        }\n      }\n    }\n\n    var o = 1;\n    o = DeviceUtils.d();\n    var p = this.u7 == null;\n\n    if (d) {\n      var q = c.width / e;\n\n      for (var r = 0; r < b.count; r++) {\n        if (p) {\n          b._inner[r] = b._inner[r] / o;\n        }\n\n        b._inner[r] = b._inner[r] * q;\n      }\n    }\n\n    for (var s = 0; s < a.count; s++) {\n      var t = a._inner[s];\n\n      if (p && !d) {\n        t.width = Math.max(0, b._inner[s] / o);\n        t.height = Math.max(0, b._inner[s] / o);\n      } else {\n        t.width = Math.max(0, b._inner[s]);\n        t.height = Math.max(0, b._inner[s]);\n      }\n    }\n  };\n\n  BubbleSeries.prototype.wd = function (a) {\n    var b = typeCast(BubbleSeriesView.$, this.bz);\n    this.u5.b3 = false;\n\n    if (b != null) {\n      b.b3 = false;\n    }\n\n    var c = typeCast(CustomPaletteBrushScale.$, this.u4);\n    var d = typeCast(ValueBrushScale.$, this.u4);\n    var e = this.u4;\n    var f = this.u2();\n    var g = f.b;\n    var h = f.a;\n    var i = this.u4 == null || !this.u4.isReady || d != null && this.vs == null;\n\n    if (i) {\n      this.u5.dg();\n\n      if (b != null) {\n        b.dg();\n      }\n\n      return;\n    }\n\n    this.u5.b3 = true;\n\n    if (b != null) {\n      b.b3 = true;\n    }\n\n    var j = a.count;\n    var k = this.ck;\n\n    for (var l = 0; l < j; l++) {\n      var m = a._inner[l];\n      var n = typeCast(DataContext.$, m.content);\n\n      if (n != null) {\n        var o = null;\n        var p = k.indexOf(n.item);\n\n        if (c != null) {\n          o = c.getBrush1(p, k.count);\n        } else if (d != null && this.vb != null) {\n          var q = this.vb.item(p);\n          o = d.getBrushByRange(q, g, h);\n        } else if (e != null) {\n          o = e.getBrush(p);\n        } else {\n          if (this.rf == null) {\n            o = this.rd;\n          } else {\n            o = this.rf;\n          }\n        }\n\n        var r = null;\n\n        if (this.rg == null) {\n          r = this.re;\n        } else {\n          r = this.rg;\n        }\n\n        if (this.vg && o != null) {\n          r = o;\n        }\n\n        if (r != null && !isNaN_(this.vm)) {\n          r = BrushUtil.l(r, this.vm);\n        }\n\n        if (o != null && !isNaN_(this.vl)) {\n          o = BrushUtil.l(o, this.vl);\n        }\n\n        n.itemBrush = o;\n        n.actualItemBrush = o;\n        n.outline = r;\n      }\n    }\n  };\n\n  BubbleSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.ht(c);\n    var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n    var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n    var g = new DataLegendSeriesValueInfo();\n    g.a = 13;\n    g.l = e;\n    g.p = this.te != null ? this.te : \"X\";\n    g.q = this.ta != null ? this.ta : \"X:\";\n    g.r = this.tc != null ? this.tc : \"\";\n    var h = new DataLegendSeriesValueInfo();\n    h.l = f;\n    h.a = 14;\n    h.p = this.tm != null ? this.tm : \"Y\";\n    h.q = this.ti != null ? this.ti : \"Y:\";\n    h.r = this.tk != null ? this.tk : \"\";\n    var i = new DataLegendSeriesContext();\n\n    i.f = function () {\n      var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n      $ret.add(g);\n      $ret.add(h);\n      return $ret;\n    }();\n\n    i.b = this.av();\n\n    if (!stringIsNullOrEmpty(this.v7)) {\n      var j = d == null ? NaN : this.gb(d, \"RadiusMemberPath\");\n      var k = new DataLegendSeriesValueInfo();\n      k.l = j;\n      k.a = 11;\n      k.p = this.v7 != null ? this.v7 : \"Radius\";\n      k.q = this.v3 != null ? this.v3 : \"R:\";\n      k.r = this.v5 != null ? this.v5 : \"\";\n      i.f.add(k);\n    } else if (this.u6 != null) {\n      var l = new DataLegendSeriesValueInfo();\n      l.l = this.u6.maximumValue;\n      l.a = 11;\n      l.p = this.v7 != null ? this.v7 : \"Radius\";\n      l.q = this.v3 != null ? this.v3 : \"R:\";\n      l.r = this.v5 != null ? this.v5 : \"\";\n      i.f.add(l);\n    }\n\n    if (!stringIsNullOrEmpty(this.vs)) {\n      var m = d == null ? NaN : this.gb(d, \"FillMemberPath\");\n      var n = new DataLegendSeriesValueInfo();\n      n.l = m;\n      n.a = 12;\n      n.p = this.vs != null ? this.vs : \"Fill\";\n      n.q = this.vo != null ? this.vo : \"F:\";\n      n.r = this.vq != null ? this.vq : \"\";\n      i.f.add(n);\n    }\n\n    return i;\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"actualMarkerBrush\", {\n    get: function () {\n      return this.rd;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BubbleSeries.$t = markType(BubbleSeries, 'BubbleSeries', ScatterBase.$, [IScaleLegendSeries_$type, ISupportsSizeScale_$type, ISupportsFillScale_$type]);\n  BubbleSeries.$$p = markDep(DependencyProperty, PropertyMetadata, BubbleSeries, 'raisePropertyChanged', ['FillMemberAsLegendLabel:vo:wf', [2, null], 'FillMemberAsLegendUnit:vq:wg', [2, null], 'FillMemberPath:vs:wh', [2], 'FillScale:u4:wi', [BrushScale.$], 'FillScaleUseGlobalValues:vf:wj', [0, false], 'LabelMemberPath:vx:wk', [2], 'MarkerBrushBrightness:vl:wl', [1, NaN], 'MarkerOutlineBrightness:vm:wm', [1, NaN], 'MarkerOutlineUsesFillScale:vg:wn', [0, false], 'RadiusMemberAsLegendLabel:v3:wo', [2, null], 'RadiusMemberAsLegendUnit:v5:wp', [2, null], 'RadiusMemberPath:v7:wq', [2, null], 'RadiusScale:u7:wr', [SizeScale.$], 'RadiusScaleUseGlobalValues:vh:ws', [0, false]]);\n  return BubbleSeries;\n}(ScatterBase);\n\nexport { BubbleSeries };\n/**\n * @hidden\n */\n\nvar CustomPaletteBrushScale =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CustomPaletteBrushScale, _super);\n\n  function CustomPaletteBrushScale() {\n    return _super.call(this) || this;\n  }\n\n  CustomPaletteBrushScale.prototype.getBrush1 = function (a, b) {\n    if (this.brushes == null || this.brushes.count == 0) {\n      return null;\n    }\n\n    if (this.brushSelectionMode == 0) {\n      return _super.prototype.getBrush.call(this, a % this.brushes.count);\n    }\n\n    var c = BubbleSeries.vj(0, b - 1, 0, this.brushes.count - 1, a);\n    return this.ab(c);\n  };\n\n  CustomPaletteBrushScale.prototype.get_isReady = function () {\n    return this.brushes != null && this.brushes.count > 0;\n  };\n\n  CustomPaletteBrushScale.$t = markType(CustomPaletteBrushScale, 'CustomPaletteBrushScale', BrushScale.$);\n  CustomPaletteBrushScale.$$p = markDep(DependencyProperty, PropertyMetadata, CustomPaletteBrushScale, 'v', ['BrushSelectionMode', [BrushSelectionMode_$type, enumGetBox(BrushSelectionMode_$type, 0)]]);\n  return CustomPaletteBrushScale;\n}(BrushScale);\n\nexport { CustomPaletteBrushScale };\n/**\n * @hidden\n */\n\nvar BubbleSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BubbleSeriesView, _super);\n\n  function BubbleSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.df = null;\n    _this.df = a;\n    _this.cx = new ScatterTrendLineManager();\n    return _this;\n  }\n\n  BubbleSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.b1.qd = Defaults.e;\n    }\n  };\n\n  BubbleSeriesView.prototype.cu = function () {\n    var _this = this;\n\n    return new BubbleMarkerManager(function (a) {\n      return _this.cy.item(a);\n    }, function (a) {\n      return _this.cw.rx.c.item(a);\n    }, runOn(this, this.c9), runOn(this, this.cr), runOn(this, this.cz));\n  };\n\n  BubbleSeriesView.prototype.dh = function () {\n    var a = this.cv;\n    this.df.we(a.n, a.o, this.bu, this == this.e.bz);\n    this.aq();\n  };\n\n  BubbleSeriesView.prototype.di = function () {\n    var a = this.cv;\n    this.df.wd(a.n);\n  };\n\n  BubbleSeriesView.prototype.dg = function () {\n    var e_2, _a;\n\n    var a = this.cv;\n\n    try {\n      for (var _b = __values(fromEnum(a.n)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        var c = typeCast(DataContext.$, b.content);\n\n        if (c != null) {\n          c.itemBrush = null;\n          c.outline = null;\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  BubbleSeriesView.prototype.getDefaultTooltipTemplate = function () {\n    var a = \"<div class='ui-chart-default-tooltip-content'><span\";\n    var b = this.e.a6.a$r(this.e);\n\n    if (!stringIsNullOrEmpty(b)) {\n      a += \" style='color:\" + b + \"'\";\n    }\n\n    a += \">\" + this.df.title + \"</span><br/><span>\" + \"(${item.\" + this.df.te + \"}, ${item.\" + this.df.tm + \"})</span>\";\n\n    if (!stringIsNullOrEmpty(this.df.v7)) {\n      a += \"<span>, Radius: ${item.\" + this.df.v7 + \"}</span>\";\n    }\n\n    a += \"</div>\";\n    return a;\n  };\n\n  BubbleSeriesView.$t = markType(BubbleSeriesView, 'BubbleSeriesView', ScatterBaseView.$);\n  return BubbleSeriesView;\n}(ScatterBaseView);\n\nexport { BubbleSeriesView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/BubbleSeries_combined.js"],"names":["__extends","__values","ScatterBase","IScaleLegendSeries_$type","ISupportsSizeScale_$type","ISupportsFillScale_$type","List$1","UIElement","Base","typeCast","Point_$type","fromEnum","markType","markDep","enumGetBox","runOn","ActualRange","DependencyProperty","SizeScale","BrushScale","ScatterFrame","IChartLegend_$type","ValueBrushScale","IFastItemsSource_$type","ScatterBaseView","ScalerParams","OwnedPoint","Dictionary$2","BubbleMarkerManager","IChartItemLegend_$type","IChartScaleLegend_$type","ContentControl","DataContext","DeviceUtils","BrushUtil","DataLegendSeriesValueInfo","DataLegendSeriesContext","PropertyMetadata","isNaN_","isInfinity","logBase","stringIsNullOrEmpty","BrushSelectionMode_$type","ScatterTrendLineManager","Defaults","BubbleSeries","_super","_this","call","wv","wu","vi","va","u9","u8","u6","ab","$","r3","r5","r1","prototype","get_c4","bx","BubbleSeriesView","lz","a","u5","gv","p7","p6","isAttachedTo","a1","c3","k9","vd","count","b","_inner","Object","defineProperty","get","ve","enumerable","configurable","wt","CustomPaletteBrushScale","u4","c","d","ck","getBrush1","getBrushByIndex","vb","getBrush","u3","u7","Math","round","toString","forScaleColors","isReady","NaN","item","minimum","maximum","e","rd","f","g","hw","jq","$$p","hx","vx","v7","te","tm","vs","set","raisePropertyChanged","tp","sy","h","i","j","getEffectiveViewport1","k","rx","l","m","n","cd","e3","o","ku","_loop_1","p","this_1","sd","se","q","$type","x","ei","y","left","right","r_1","containsKey","s_1","addItem","$ret","tx","cv","min","dh","di","wc","isItemwise","clearLegendItemsForSeries","wb","renderItemwiseContent","isScale","restoreOriginalState","initializeLegend","vj","vk","logBase_","e9","sm","u2","_loop_2","this_2","getBrushByRange","content","series","itemBrush","itemLabel","nc","b0","bl","b5","ah","add","k0","aa","li","lo","l4","e_1","_a","deregisterColumn","ch","cj","mi","ry","cx","g$i","lq","remove","lp","_b","_c","next","done","value","legend","e_1_1","error","return","updateSizeScaleGlobals","updateFillScaleGlobals","z","vh","globalMinimum","globalMaximum","s","vf","we","width","bu","isEmpty","su","minimumValue","maximumValue","logarithmBase","isLogarithmic","r","t","max","height","wd","bz","b3","dg","indexOf","rf","rg","re","vg","vm","vl","actualItemBrush","outline","getDataLegendSeriesContextAt","ht","gb","ta","tc","ti","tk","av","v3","v5","vo","vq","$t","brushes","brushSelectionMode","get_isReady","df","as","b1","qd","cu","cy","cw","c9","cr","cz","aq","e_2","e_2_1","getDefaultTooltipTemplate","a6","a$r","title"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { IScaleLegendSeries_$type } from \"igniteui-react-core\";\nimport { ISupportsSizeScale_$type } from \"./ISupportsSizeScale\";\nimport { ISupportsFillScale_$type } from \"./ISupportsFillScale\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { Base, typeCast, Point_$type, fromEnum, markType, markDep, enumGetBox, runOn } from \"igniteui-react-core\";\nimport { ActualRange } from \"./ActualRange\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { SizeScale } from \"./SizeScale\";\nimport { BrushScale } from \"./BrushScale\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { ValueBrushScale } from \"./ValueBrushScale\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { ScatterBaseView } from \"./ScatterBaseView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { BubbleMarkerManager } from \"./BubbleMarkerManager\";\nimport { IChartItemLegend_$type } from \"igniteui-react-core\";\nimport { IChartScaleLegend_$type } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, logBase } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { BrushSelectionMode_$type } from \"./BrushSelectionMode\";\nimport { ScatterTrendLineManager } from \"./ScatterTrendLineManager\";\nimport { Defaults } from \"./Defaults\";\n/**\n * @hidden\n */\nvar BubbleSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BubbleSeries, _super);\n    function BubbleSeries() {\n        var _this = _super.call(this) || this;\n        _this.wv = null;\n        _this.wu = null;\n        _this.vi = null;\n        _this.va = null;\n        _this.u9 = null;\n        _this.u8 = null;\n        _this.u6 = null;\n        _this.ab = BubbleSeries.$;\n        _this.r3 = new ScatterFrame();\n        _this.r5 = new ScatterFrame();\n        _this.r1 = new ScatterFrame();\n        return _this;\n    }\n    BubbleSeries.prototype.get_c4 = function () {\n        return true;\n    };\n    BubbleSeries.prototype.bx = function () {\n        return new BubbleSeriesView(this);\n    };\n    BubbleSeries.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.u5 = a;\n    };\n    BubbleSeries.prototype.gv = function () {\n        return 0.7;\n    };\n    BubbleSeries.prototype.p7 = function () {\n        if (this.p6 == 0) {\n            return 2;\n        }\n        return _super.prototype.p7.call(this);\n    };\n    BubbleSeries.prototype.isAttachedTo = function (a) {\n        return this.a1 == a;\n    };\n    BubbleSeries.prototype.c3 = function () {\n        return true;\n    };\n    BubbleSeries.prototype.k9 = function (a) {\n        _super.prototype.k9.call(this, a);\n        if (this.vd != null && this.vi != null && this.vi.count > 0) {\n            for (var b = 0; b < this.vi.count; b++) {\n                a(this.vi._inner[b]);\n            }\n        }\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"vc\", {\n        get: function () {\n            return this.ve;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.wt = function (a) {\n        var b = typeCast(CustomPaletteBrushScale.$, this.u4);\n        var c = typeCast(ValueBrushScale.$, this.u4);\n        var d = this.u4;\n        if (b != null && this.ck != null) {\n            return b.getBrush1(a, this.ck.count);\n        }\n        else if (c != null) {\n            return c.getBrushByIndex(a, this.vb);\n        }\n        else if (d != null) {\n            return d.getBrush(a);\n        }\n        return null;\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"legendReady\", {\n        get: function () {\n            return this.ve != null && this.ve.count != 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"minScaleText\", {\n        get: function () {\n            var a = this.u3(this.u7).b;\n            return (Math.round(a * 1000) / 1000).toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"maxScaleText\", {\n        get: function () {\n            var a = this.u3(this.u7).a;\n            return (Math.round(a * 1000) / 1000).toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.forScaleColors = function (a) {\n        for (var b = 0; b < this.ve.count; b++) {\n            if (this.u4 == null || !this.u4.isReady) {\n                return false;\n            }\n            var c = NaN;\n            if (this.vb != null) {\n                c = (this.vb.item(b) - this.vb.minimum) / (this.vb.maximum - this.vb.minimum);\n            }\n            var d = (this.ve.item(b) - this.ve.minimum) / (this.ve.maximum - this.ve.minimum);\n            if (isNaN_(c)) {\n                c = 0;\n            }\n            if (isNaN_(d)) {\n                d = c;\n            }\n            var e = this.rd;\n            var f = this.wt(b);\n            var g = f != null ? f : e;\n            a(g, d);\n        }\n        return true;\n    };\n    BubbleSeries.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == BubbleSeries.$$p[5]) {\n            return this.hx(a, b, this.vx);\n        }\n        if (c == BubbleSeries.$$p[11]) {\n            return this.hx(a, b, this.v7);\n        }\n        if (c == ScatterBase.$$p[10]) {\n            return this.hx(a, b, this.te);\n        }\n        if (c == ScatterBase.$$p[14]) {\n            return this.hx(a, b, this.tm);\n        }\n        if (c == BubbleSeries.$$p[2]) {\n            return this.hx(a, b, this.vs);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"ve\", {\n        get: function () {\n            return this.va;\n        },\n        set: function (a) {\n            if (this.va != a) {\n                var b = this.ve;\n                this.va = a;\n                this.raisePropertyChanged(\"RadiusColumn\", b, this.ve);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"vd\", {\n        get: function () {\n            return this.u9;\n        },\n        set: function (a) {\n            if (this.u9 != a) {\n                var b = this.vd;\n                this.u9 = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.vd);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"vb\", {\n        get: function () {\n            return this.u8;\n        },\n        set: function (a) {\n            if (this.u8 != a) {\n                var b = this.vb;\n                this.u8 = a;\n                this.raisePropertyChanged(\"FillColumn\", b, this.vb);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.tp = function (a, b, c, d, e) {\n        if (c <= this.sy) {\n            b.g = new Dictionary$2(Base.$, OwnedPoint.$, 1, c);\n        }\n        var f = this.sy;\n        var g = this.ck;\n        var h;\n        var i;\n        var j = this.getEffectiveViewport1(a);\n        var k = new ScalerParams(0, d, e, this.rx.d, j);\n        var l = new ScalerParams(0, d, e, this.rx.e, j);\n        var m = false;\n        var n = 0;\n        if (this.cd != null) {\n            if (this.cd.e3()) {\n                var o = this.cd.ku(d, k);\n                m = o.c;\n                n = o.d;\n            }\n        }\n        var _loop_1 = function (p) {\n            h = this_1.sd.item(p);\n            i = this_1.se.item(p);\n            var q = { $type: Point_$type, x: this_1.rx.a.ei(h, k), y: this_1.rx.b.ei(i, l) };\n            if (m) {\n                if (q.x < e.left || q.x > e.right) {\n                    if (q.x + n >= e.left && q.x + n <= e.right) {\n                        q = { $type: Point_$type, x: q.x + n, y: i };\n                    }\n                }\n            }\n            if (!isInfinity(q.x) && !isInfinity(q.y)) {\n                var r_1 = g.item(p);\n                if (c <= f) {\n                    if (!b.g.containsKey(r_1)) {\n                        var s_1 = { $type: Point_$type, x: h, y: i };\n                        b.g.addItem(r_1, ((function () {\n                            var $ret = new OwnedPoint();\n                            $ret.a = r_1;\n                            $ret.b = s_1;\n                            $ret.c = q;\n                            return $ret;\n                        })()));\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var p = 0; p < c; p++) {\n            _loop_1(p);\n        }\n    };\n    BubbleSeries.prototype.tx = function (a, b) {\n        var c = typeCast(BubbleSeriesView.$, b);\n        var d = c.cv;\n        d.m = this.ve;\n        _super.prototype.tx.call(this, a, b);\n        var e = Math.min(this.sd != null ? this.sd.count : 0, this.se != null ? this.se.count : 0);\n        if (e < 1) {\n            return;\n        }\n        c.dh();\n        c.di();\n    };\n    BubbleSeries.prototype.wc = function () {\n        if (this.cd == null) {\n            return;\n        }\n        if (this.a1 == null) {\n            return;\n        }\n        if (this.a1.isItemwise) {\n            var a = this.a1;\n            this.a1.clearLegendItemsForSeries(this);\n            this.wb();\n            a.renderItemwiseContent(this);\n        }\n        if (this.a1.isScale) {\n            var b = this.a1;\n            b.restoreOriginalState();\n            b.initializeLegend(this);\n        }\n    };\n    BubbleSeries.vj = function (a, b, c, d, e) {\n        if (e <= a || isNaN_(e) || isInfinity(e)) {\n            return c;\n        }\n        if (e >= b) {\n            return d;\n        }\n        var f = c + ((d - c) / (b - a)) * (e - a);\n        return f;\n    };\n    BubbleSeries.vk = function (a, b, c, d, logBase_, e) {\n        var f = logBase(e, logBase_);\n        var g = logBase(a, logBase_);\n        var h = logBase(b, logBase_);\n        return BubbleSeries.vj(g, h, c, d, f);\n    };\n    BubbleSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.ve == null || this.ck == null || this.ve.count == 0 || this.ck.count != this.ve.count) {\n            d = false;\n        }\n        return d;\n    };\n    BubbleSeries.prototype.sm = function (a, b) {\n        if (b != 3) {\n            return true;\n        }\n        if (a == null) {\n            return true;\n        }\n        if (this.te == a || this.tm == a || this.v7 == a) {\n            return true;\n        }\n        return false;\n    };\n    BubbleSeries.prototype.wb = function () {\n        var _this = this;\n        var a = typeCast(IChartLegend_$type, this.a1);\n        if (a == null || this.ck == null) {\n            return;\n        }\n        this.vi = new List$1(UIElement.$, 0);\n        var b = typeCast(CustomPaletteBrushScale.$, this.u4);\n        var c = typeCast(ValueBrushScale.$, this.u4);\n        var d = this.u4;\n        var e = this.u2();\n        var f = e.b;\n        var g = e.a;\n        var h = this.ck;\n        var _loop_2 = function (i) {\n            var j = null;\n            if (c != null && this_2.vb != null) {\n                var k = this_2.vb.item(i);\n                j = c.getBrushByRange(k, f, g);\n            }\n            else if (b != null) {\n                j = b.getBrush1(i, h.count);\n            }\n            else if (d != null) {\n                j = d.getBrush(i);\n            }\n            var l = new ContentControl();\n            var m = this_2.vd != null && this_2.vd.item(i) != null ? this_2.vd.item(i).toString() : \"\";\n            l.content = ((function () {\n                var $ret = new DataContext();\n                $ret.series = _this;\n                $ret.item = h.item(i);\n                $ret.itemBrush = j;\n                $ret.itemLabel = m;\n                return $ret;\n            })());\n            var n = this_2.nc;\n            if (n == null) {\n                n = this_2.b0.bl(this_2.b5);\n            }\n            l.ah = n;\n            this_2.vi.add(l);\n        };\n        var this_2 = this;\n        for (var i = 0; i < h.count; i++) {\n            _loop_2(i);\n        }\n    };\n    BubbleSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        if (this.u7 != null) {\n            this.u7.aa();\n        }\n        if (this.u4 != null) {\n            this.u4.x();\n        }\n        this.wc();\n    };\n    BubbleSeries.prototype.li = function () {\n        _super.prototype.li.call(this);\n        this.wc();\n    };\n    BubbleSeries.prototype.lo = function () {\n        _super.prototype.lo.call(this);\n        this.wc();\n    };\n    BubbleSeries.prototype.l4 = function (a, b, c, d) {\n        var e_1, _a;\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case \"FastItemsSource\":\n                if (this.u7 != null) {\n                    this.u7.aa();\n                }\n                if (this.u4 != null) {\n                    this.u4.x();\n                }\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.ve);\n                    c.deregisterColumn(this.vb);\n                    c.deregisterColumn(this.vd);\n                    this.ve = null;\n                    this.vb = null;\n                    this.vd = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.ve = this.ch(this.v7);\n                    if (!stringIsNullOrEmpty(this.vs)) {\n                        this.vb = this.ch(this.vs);\n                    }\n                    this.vd = this.cj(this.vx);\n                }\n                this.mi(false);\n                this.wc();\n                break;\n            case BubbleSeries.$$p[11]:\n                if (this.u7 != null) {\n                    this.u7.aa();\n                }\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.ve);\n                    this.ve = this.ch(this.v7);\n                    this.wc();\n                }\n                break;\n            case \"RadiusColumn\":\n                if (this.u7 != null) {\n                    this.u7.aa();\n                }\n                this.ry.cx.g$i();\n                this.mi(false);\n                this.lq();\n                break;\n            case BubbleSeries.$$p[12]:\n                if (c != null) {\n                    c.l.remove(this);\n                    c.aa();\n                }\n                if (d != null) {\n                    d.l.add(this);\n                    d.aa();\n                }\n                this.mi(false);\n                this.lp();\n                break;\n            case BubbleSeries.$$p[13]:\n                this.mi(false);\n                this.lp();\n                break;\n            case \"DiscreteLegendItemTemplate\":\n                this.wc();\n                break;\n            case BubbleSeries.$$p[3]:\n                if (c != null) {\n                    c.o.remove(this);\n                    c.x();\n                }\n                if (d != null) {\n                    d.o.add(this);\n                    d.x();\n                }\n                this.mi(false);\n                this.wc();\n                this.lp();\n                break;\n            case BubbleSeries.$$p[4]:\n            case BubbleSeries.$$p[8]:\n            case BubbleSeries.$$p[7]:\n            case BubbleSeries.$$p[6]:\n                this.mi(false);\n                this.wc();\n                this.lp();\n                break;\n            case \"FillColumn\":\n                this.mi(false);\n                this.lp();\n                break;\n            case BubbleSeries.$$p[2]:\n                if (this.u4 != null) {\n                    this.u4.x();\n                }\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.vb);\n                    this.vb = this.ch(this.vs);\n                    this.wc();\n                }\n                break;\n            case BubbleSeries.$$p[5]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.vd);\n                    this.vd = this.cj(this.vx);\n                    this.wc();\n                }\n                break;\n            case \"ActualLegend\":\n                var e = typeCast(IChartLegend_$type, c);\n                if (e != null && e.isItemwise) {\n                    var f = typeCast(IChartItemLegend_$type, e);\n                    f.clearLegendItemsForSeries(this);\n                }\n                if (e != null && e.isScale) {\n                    var g = typeCast(IChartScaleLegend_$type, e);\n                    var h = true;\n                    var i = null;\n                    if (this.cd != null) {\n                        try {\n                            for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var j = _c.value;\n                                if (j.legend == g) {\n                                    i = j;\n                                    h = false;\n                                }\n                            }\n                        }\n                        catch (e_1_1) {\n                            e_1 = { error: e_1_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_1)\n                                    throw e_1.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g.restoreOriginalState();\n                    }\n                    else {\n                        g.initializeLegend(typeCast(IScaleLegendSeries_$type, i));\n                    }\n                }\n                this.wc();\n                break;\n            case \"SeriesViewer\":\n                this.wc();\n                break;\n        }\n    };\n    BubbleSeries.prototype.updateSizeScaleGlobals = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.ve != null) {\n            a.b = this.ve.minimum;\n            a.a = this.ve.maximum;\n        }\n        if (this.u7 != null) {\n            this.u7.ab(a.b, a.a);\n        }\n    };\n    BubbleSeries.prototype.updateFillScaleGlobals = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.vb != null) {\n            a.b = this.vb.minimum;\n            a.a = this.vb.maximum;\n        }\n        if (this.u4 != null) {\n            this.u4.z(a.b, a.a);\n        }\n    };\n    BubbleSeries.prototype.u3 = function (a) {\n        var b = new ActualRange();\n        b.b = NaN;\n        b.a = NaN;\n        if (this.ve != null) {\n            b.b = this.ve.minimum;\n            b.a = this.ve.maximum;\n        }\n        if (a != null) {\n            a.x();\n            if (this.vh) {\n                b.b = a.globalMinimum;\n                b.a = a.globalMaximum;\n            }\n        }\n        return b;\n    };\n    BubbleSeries.prototype.u2 = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.vb != null) {\n            a.b = this.vb.minimum;\n            a.a = this.vb.maximum;\n        }\n        var b = typeCast(ValueBrushScale.$, this.u4);\n        if (b != null) {\n            b.s();\n            if (this.vf && this.u4.o.count > 1) {\n                a.b = b.q;\n                a.a = b.p;\n            }\n        }\n        return a;\n    };\n    BubbleSeries.prototype.we = function (a, b, c, d) {\n        var e = c.width;\n        if (!this.b0.bu.isEmpty) {\n            e = this.b0.bu.width;\n        }\n        else if (this.cd != null && !this.cd.su.isEmpty) {\n            e = this.cd.su.width;\n        }\n        var f = DeviceUtils.c(e);\n        this.u6 = this.u7 || ((function () {\n            var $ret = new SizeScale();\n            $ret.minimumValue = f / 10;\n            $ret.maximumValue = f / 5;\n            return $ret;\n        })());\n        if (this.u6 != null) {\n            var g = this.u6.minimumValue;\n            var h = this.u6.maximumValue;\n            var i = this.u6.logarithmBase;\n            var j = this.u3(this.u6);\n            var k = j.b;\n            var l = j.a;\n            if (this.u6.isLogarithmic) {\n                for (var m = 0; m < b.count; m++) {\n                    b._inner[m] = BubbleSeries.vk(k, l, g, h, i, b._inner[m]);\n                }\n            }\n            else {\n                for (var n = 0; n < b.count; n++) {\n                    b._inner[n] = BubbleSeries.vj(k, l, g, h, b._inner[n]);\n                }\n            }\n        }\n        var o = 1;\n        o = DeviceUtils.d();\n        var p = this.u7 == null;\n        if (d) {\n            var q = c.width / e;\n            for (var r = 0; r < b.count; r++) {\n                if (p) {\n                    b._inner[r] = b._inner[r] / o;\n                }\n                b._inner[r] = b._inner[r] * q;\n            }\n        }\n        for (var s = 0; s < a.count; s++) {\n            var t = a._inner[s];\n            if (p && !d) {\n                t.width = Math.max(0, b._inner[s] / o);\n                t.height = Math.max(0, b._inner[s] / o);\n            }\n            else {\n                t.width = Math.max(0, b._inner[s]);\n                t.height = Math.max(0, b._inner[s]);\n            }\n        }\n    };\n    BubbleSeries.prototype.wd = function (a) {\n        var b = typeCast(BubbleSeriesView.$, this.bz);\n        this.u5.b3 = false;\n        if (b != null) {\n            b.b3 = false;\n        }\n        var c = typeCast(CustomPaletteBrushScale.$, this.u4);\n        var d = typeCast(ValueBrushScale.$, this.u4);\n        var e = this.u4;\n        var f = this.u2();\n        var g = f.b;\n        var h = f.a;\n        var i = this.u4 == null || !this.u4.isReady || (d != null && this.vs == null);\n        if (i) {\n            this.u5.dg();\n            if (b != null) {\n                b.dg();\n            }\n            return;\n        }\n        this.u5.b3 = true;\n        if (b != null) {\n            b.b3 = true;\n        }\n        var j = a.count;\n        var k = this.ck;\n        for (var l = 0; l < j; l++) {\n            var m = a._inner[l];\n            var n = typeCast(DataContext.$, m.content);\n            if (n != null) {\n                var o = null;\n                var p = k.indexOf(n.item);\n                if (c != null) {\n                    o = c.getBrush1(p, k.count);\n                }\n                else if (d != null && this.vb != null) {\n                    var q = this.vb.item(p);\n                    o = d.getBrushByRange(q, g, h);\n                }\n                else if (e != null) {\n                    o = e.getBrush(p);\n                }\n                else {\n                    if (this.rf == null) {\n                        o = this.rd;\n                    }\n                    else {\n                        o = this.rf;\n                    }\n                }\n                var r = null;\n                if (this.rg == null) {\n                    r = this.re;\n                }\n                else {\n                    r = this.rg;\n                }\n                if (this.vg && o != null) {\n                    r = o;\n                }\n                if (r != null && !isNaN_(this.vm)) {\n                    r = BrushUtil.l(r, this.vm);\n                }\n                if (o != null && !isNaN_(this.vl)) {\n                    o = BrushUtil.l(o, this.vl);\n                }\n                n.itemBrush = o;\n                n.actualItemBrush = o;\n                n.outline = r;\n            }\n        }\n    };\n    BubbleSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.ht(c);\n        var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n        var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n        var g = new DataLegendSeriesValueInfo();\n        g.a = 13;\n        g.l = e;\n        g.p = this.te != null ? this.te : \"X\";\n        g.q = this.ta != null ? this.ta : \"X:\";\n        g.r = this.tc != null ? this.tc : \"\";\n        var h = new DataLegendSeriesValueInfo();\n        h.l = f;\n        h.a = 14;\n        h.p = this.tm != null ? this.tm : \"Y\";\n        h.q = this.ti != null ? this.ti : \"Y:\";\n        h.r = this.tk != null ? this.tk : \"\";\n        var i = new DataLegendSeriesContext();\n        i.f = ((function () {\n            var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n            $ret.add(g);\n            $ret.add(h);\n            return $ret;\n        })());\n        i.b = this.av();\n        if (!stringIsNullOrEmpty(this.v7)) {\n            var j = d == null ? NaN : this.gb(d, \"RadiusMemberPath\");\n            var k = new DataLegendSeriesValueInfo();\n            k.l = j;\n            k.a = 11;\n            k.p = this.v7 != null ? this.v7 : \"Radius\";\n            k.q = this.v3 != null ? this.v3 : \"R:\";\n            k.r = this.v5 != null ? this.v5 : \"\";\n            i.f.add(k);\n        }\n        else if (this.u6 != null) {\n            var l = new DataLegendSeriesValueInfo();\n            l.l = this.u6.maximumValue;\n            l.a = 11;\n            l.p = this.v7 != null ? this.v7 : \"Radius\";\n            l.q = this.v3 != null ? this.v3 : \"R:\";\n            l.r = this.v5 != null ? this.v5 : \"\";\n            i.f.add(l);\n        }\n        if (!stringIsNullOrEmpty(this.vs)) {\n            var m = d == null ? NaN : this.gb(d, \"FillMemberPath\");\n            var n = new DataLegendSeriesValueInfo();\n            n.l = m;\n            n.a = 12;\n            n.p = this.vs != null ? this.vs : \"Fill\";\n            n.q = this.vo != null ? this.vo : \"F:\";\n            n.r = this.vq != null ? this.vq : \"\";\n            i.f.add(n);\n        }\n        return i;\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"actualMarkerBrush\", {\n        get: function () {\n            return this.rd;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.$t = markType(BubbleSeries, 'BubbleSeries', ScatterBase.$, [IScaleLegendSeries_$type, ISupportsSizeScale_$type, ISupportsFillScale_$type]);\n    BubbleSeries.$$p = markDep(DependencyProperty, PropertyMetadata, BubbleSeries, 'raisePropertyChanged', ['FillMemberAsLegendLabel:vo:wf', [2, null], 'FillMemberAsLegendUnit:vq:wg', [2, null], 'FillMemberPath:vs:wh', [2], 'FillScale:u4:wi', [BrushScale.$], 'FillScaleUseGlobalValues:vf:wj', [0, false], 'LabelMemberPath:vx:wk', [2], 'MarkerBrushBrightness:vl:wl', [1, NaN], 'MarkerOutlineBrightness:vm:wm', [1, NaN], 'MarkerOutlineUsesFillScale:vg:wn', [0, false], 'RadiusMemberAsLegendLabel:v3:wo', [2, null], 'RadiusMemberAsLegendUnit:v5:wp', [2, null], 'RadiusMemberPath:v7:wq', [2, null], 'RadiusScale:u7:wr', [SizeScale.$], 'RadiusScaleUseGlobalValues:vh:ws', [0, false]]);\n    return BubbleSeries;\n}(ScatterBase));\nexport { BubbleSeries };\n/**\n * @hidden\n */\nvar CustomPaletteBrushScale = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CustomPaletteBrushScale, _super);\n    function CustomPaletteBrushScale() {\n        return _super.call(this) || this;\n    }\n    CustomPaletteBrushScale.prototype.getBrush1 = function (a, b) {\n        if (this.brushes == null || this.brushes.count == 0) {\n            return null;\n        }\n        if (this.brushSelectionMode == 0) {\n            return _super.prototype.getBrush.call(this, a % this.brushes.count);\n        }\n        var c = BubbleSeries.vj(0, b - 1, 0, this.brushes.count - 1, a);\n        return this.ab(c);\n    };\n    CustomPaletteBrushScale.prototype.get_isReady = function () {\n        return this.brushes != null && this.brushes.count > 0;\n    };\n    CustomPaletteBrushScale.$t = markType(CustomPaletteBrushScale, 'CustomPaletteBrushScale', BrushScale.$);\n    CustomPaletteBrushScale.$$p = markDep(DependencyProperty, PropertyMetadata, CustomPaletteBrushScale, 'v', ['BrushSelectionMode', [BrushSelectionMode_$type, enumGetBox(BrushSelectionMode_$type, 0)]]);\n    return CustomPaletteBrushScale;\n}(BrushScale));\nexport { CustomPaletteBrushScale };\n/**\n * @hidden\n */\nvar BubbleSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BubbleSeriesView, _super);\n    function BubbleSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.df = null;\n        _this.df = a;\n        _this.cx = new ScatterTrendLineManager();\n        return _this;\n    }\n    BubbleSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.b1.qd = Defaults.e;\n        }\n    };\n    BubbleSeriesView.prototype.cu = function () {\n        var _this = this;\n        return new BubbleMarkerManager(function (a) { return _this.cy.item(a); }, function (a) { return _this.cw.rx.c.item(a); }, runOn(this, this.c9), runOn(this, this.cr), runOn(this, this.cz));\n    };\n    BubbleSeriesView.prototype.dh = function () {\n        var a = this.cv;\n        this.df.we(a.n, a.o, this.bu, this == this.e.bz);\n        this.aq();\n    };\n    BubbleSeriesView.prototype.di = function () {\n        var a = this.cv;\n        this.df.wd(a.n);\n    };\n    BubbleSeriesView.prototype.dg = function () {\n        var e_2, _a;\n        var a = this.cv;\n        try {\n            for (var _b = __values(fromEnum(a.n)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                var c = typeCast(DataContext.$, b.content);\n                if (c != null) {\n                    c.itemBrush = null;\n                    c.outline = null;\n                }\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n    };\n    BubbleSeriesView.prototype.getDefaultTooltipTemplate = function () {\n        var a = \"<div class='ui-chart-default-tooltip-content'><span\";\n        var b = this.e.a6.a$r(this.e);\n        if (!stringIsNullOrEmpty(b)) {\n            a += \" style='color:\" + b + \"'\";\n        }\n        a += \">\" + this.df.title + \"</span><br/><span>\" + \"(${item.\" + this.df.te + \"}, ${item.\" + this.df.tm + \"})</span>\";\n        if (!stringIsNullOrEmpty(this.df.v7)) {\n            a += \"<span>, Radius: ${item.\" + this.df.v7 + \"}</span>\";\n        }\n        a += \"</div>\";\n        return a;\n    };\n    BubbleSeriesView.$t = markType(BubbleSeriesView, 'BubbleSeriesView', ScatterBaseView.$);\n    return BubbleSeriesView;\n}(ScatterBaseView));\nexport { BubbleSeriesView };\n"]},"metadata":{},"sourceType":"module"}