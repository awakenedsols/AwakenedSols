{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialOverlay } from \"./FinancialOverlay\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Number_$type, typeCast, runOn, markType, markDep, Point_$type, fromEnum } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Series } from \"./Series\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { Polyline } from \"igniteui-react-core\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { RangeValueList } from \"./RangeValueList\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar PriceChannelOverlay =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(PriceChannelOverlay, _super);\n\n  function PriceChannelOverlay() {\n    var _this = _super.call(this) || this;\n\n    _this.tt = new List$1(Number_$type, 0);\n    _this.ts = new List$1(Number_$type, 0);\n    _this.ab = PriceChannelOverlay.$;\n    _this.qg = new CategoryFrame(3);\n    _this.qi = new CategoryFrame(3);\n    _this.qe = new CategoryFrame(3);\n    return _this;\n  }\n\n  PriceChannelOverlay.prototype.l4 = function (a, b, c, d) {\n    switch (b) {\n      case \"HighColumn\":\n      case \"LowColumn\":\n        this.tm = false;\n        break;\n    }\n\n    _super.prototype.l4.call(this, a, b, c, d);\n\n    switch (b) {\n      case PriceChannelOverlay.$$p[0]:\n        this.tm = false;\n        this.mi(false);\n        break;\n    }\n  };\n\n  PriceChannelOverlay.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.q6 == null || this.q7 == null) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  PriceChannelOverlay.prototype.tn = function () {\n    this.tt.clear();\n    this.ts.clear();\n    var a = truncate(MathUtil.c(this.tu, 0, this.ck.count));\n    var b = Math.min(this.q6.count, this.q7.count);\n    var c = this.rw(this.q6);\n    var d = this.rw(this.q7);\n\n    for (var e = 0; e < b; e++) {\n      var f = Math.min(a, e);\n      var g = -1.7976931348623157E+308;\n      var h = 1.7976931348623157E+308;\n\n      for (var i = 0; i < f; i++) {\n        if (!isNaN_(c.item(e - i))) {\n          g = Math.max(g, c.item(e - i));\n        }\n\n        if (!isNaN_(d.item(e - i))) {\n          h = Math.min(h, d.item(e - i));\n        }\n      }\n\n      if (e == 0) {\n        h = d.item(0);\n        g = c.item(0);\n      }\n\n      this.tt.add(g);\n      this.ts.add(h);\n    }\n\n    return true;\n  };\n\n  PriceChannelOverlay.prototype.s3 = function (a, b) {\n    _super.prototype.s3.call(this, a, b);\n\n    var c = b.bv;\n    var d = b.bu;\n    var e = this.getEffectiveViewport1(b);\n    var f = new ScalerParams(0, c, d, this.qc.cg, e);\n    var g = new ScalerParams(0, c, d, this.qy.cg, e);\n    g.b = this.gc();\n    var h = this.qc;\n    var i = this.qy;\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = 0;\n    var k = typeCast(ISortingAxis_$type, this.qc);\n\n    if (k != null && k.i$b.count != this.ck.count) {\n      return;\n    }\n\n    j = this.r3(c, d, e);\n\n    if (!this.tm) {\n      this.tm = this.tn();\n    }\n\n    g.b = this.gc();\n    var l = this.qc.el(2, f) - this.qc.el(1, f);\n\n    for (var m = b.bx.c; m <= b.bx.d; ++m) {\n      var n = void 0;\n\n      if (k == null) {\n        n = b.bx.getBucket(m);\n      } else {\n        var o = k.i$b._inner[m];\n        var p = k.i$d(o);\n        var q = this.tt._inner[m];\n        var r = this.ts._inner[m];\n        var s = q;\n        var t = r;\n        var u = p;\n\n        while (m < b.bx.d) {\n          o = k.i$b._inner[m + 1];\n          u = k.i$d(o);\n\n          if (u - p > l) {\n            break;\n          }\n\n          m++;\n          s = Math.max(q, this.tt._inner[m]);\n          t = Math.min(r, this.ts._inner[m]);\n        }\n\n        if (!isInfinity(t) && !isInfinity(s)) {\n          var v = NaN;\n\n          if (!isNaN_(p)) {\n            v = this.qc.ei(p, f);\n          }\n\n          n = [v, t, s];\n        } else {\n          n = [NaN, NaN, NaN];\n        }\n      }\n\n      var w = Math.max(1, l);\n\n      if (!isNaN_(n[0]) && m * w >= this.to) {\n        if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n          n[0] = n[0] + j;\n        } else {\n          n[0] = h.ei(n[0], f) + j;\n        }\n\n        n[1] = i.ei(n[1], g);\n        n[2] = i.ei(n[2], g);\n        a.f.add(n);\n      }\n    }\n  };\n\n  PriceChannelOverlay.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    var c = b;\n\n    if (c != null) {\n      c.b4();\n    }\n  };\n\n  PriceChannelOverlay.prototype.s5 = function (a, b) {\n    _super.prototype.s5.call(this, a, b);\n\n    var c = typeCast(PriceChannelOverlayView.$, b);\n\n    if (c == null) {\n      return;\n    }\n\n    var d = this.getEffectiveViewport1(b);\n\n    if (b.b0(a)) {\n      c.b4();\n      var e_1 = a.f.count;\n\n      var f = function (g) {\n        return a.f._inner[g][0];\n      };\n\n      var g = function (h) {\n        return a.f._inner[e_1 - 1 - h][0];\n      };\n\n      var h = function (i) {\n        return a.f._inner[i][1];\n      };\n\n      var i = function (j) {\n        return a.f._inner[e_1 - 1 - j][2];\n      };\n\n      c.b5(e_1, f, g, h, i);\n      b.b2(a);\n    }\n\n    this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n    var j = false;\n    var k = this.ql.b;\n    var l = a.f;\n    var m = this.ck.count;\n\n    if (k != null) {\n      j = true;\n    }\n\n    if (j) {\n      var n = new ScalerParams(0, b.bv, b.bu, this.qc.cg, d);\n      this.s2(l, -1, m, this.qc, n, b.q);\n    }\n\n    var o = c.cb;\n    var p = c.cc;\n    var q = c.b7;\n    this.ql.ad(o, true, false, true, true);\n    this.ql.ad(p, true, false, true, true);\n    this.ql.ad(q, false, true, false, false);\n    q._opacity = this.ql.j * this.fq;\n  };\n\n  PriceChannelOverlay.prototype.bx = function () {\n    return new PriceChannelOverlayView(this);\n  };\n\n  PriceChannelOverlay.prototype.lz = function (a) {\n    _super.prototype.lz.call(this, a);\n\n    this.tr = typeCast(PriceChannelOverlayView.$, a);\n  };\n\n  PriceChannelOverlay.prototype.gj = function (a, b, c) {\n    if (this.cd == null) {\n      return NaN;\n    }\n\n    var d = this.getEffectiveViewport1(this.b0);\n    var e = new ScalerParams(0, this.cd.sf, this.b0.bu, this.qc.cg, d);\n    var f = this.r3(this.cd.sf, this.b0.bu, d);\n    return this.gl(new RangeValueList(this.tt, this.ts), a, this.qc, e, f, runOn(this, this.r2), b, c);\n  };\n\n  PriceChannelOverlay.prototype.hh = function (a, b) {\n    if (this.tt == null || this.ts == null) {\n      return _super.prototype.hh.call(this, a, b);\n    }\n\n    return this.hi(a, b, this.qc, runOn(this, this.r2), new RangeValueList(this.tt, this.ts));\n  };\n\n  PriceChannelOverlay.prototype.hj = function (a, b) {\n    if (this.tt == null || this.ts == null) {\n      return _super.prototype.hj.call(this, a, b);\n    }\n\n    return this.hk(a, b, this.qc, runOn(this, this.r2), new RangeValueList(this.tt, this.ts));\n  };\n\n  PriceChannelOverlay.prototype.gc = function () {\n    return Series.ge(this.ts, null);\n  };\n\n  PriceChannelOverlay.$t = markType(PriceChannelOverlay, 'PriceChannelOverlay', FinancialOverlay.$);\n  PriceChannelOverlay.$$p = markDep(DependencyProperty, PropertyMetadata, PriceChannelOverlay, 'raisePropertyChanged', ['Period:tu:tw', [1, 14]]);\n  return PriceChannelOverlay;\n}(FinancialOverlay);\n\nexport { PriceChannelOverlay };\n/**\n * @hidden\n */\n\nvar PriceChannelBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(PriceChannelBucketCalculator, _super);\n\n  function PriceChannelBucketCalculator(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.f = null;\n    _this.f = a;\n    return _this;\n  }\n\n  PriceChannelBucketCalculator.prototype.getBucket = function (a) {\n    var b = a * this.b;\n    var c = Math.min(b + this.b - 1, this.a.bz.ck.count - 1);\n\n    if (b <= c) {\n      var d = -1.7976931348623157E+308;\n      var e = 1.7976931348623157E+308;\n      var f = 0;\n\n      for (var g = b; g <= c; ++g) {\n        if (!isNaN_(this.f.b3.tt._inner[g]) && !isNaN_(this.f.b3.ts._inner[g])) {\n          d = Math.max(d, this.f.b3.tt._inner[g]);\n          e = Math.min(e, this.f.b3.ts._inner[g]);\n          ++f;\n        }\n      }\n\n      if (f > 0 && e != 1.7976931348623157E+308 && d != -1.7976931348623157E+308) {\n        return [0.5 * (b + c), e, d];\n      }\n    }\n\n    return [NaN, NaN, NaN];\n  };\n\n  PriceChannelBucketCalculator.$t = markType(PriceChannelBucketCalculator, 'PriceChannelBucketCalculator', FinancialBucketCalculator.$);\n  return PriceChannelBucketCalculator;\n}(FinancialBucketCalculator);\n\nexport { PriceChannelBucketCalculator };\n/**\n * @hidden\n */\n\nvar PriceChannelOverlayView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(PriceChannelOverlayView, _super);\n\n  function PriceChannelOverlayView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b8 = new Polygon();\n    _this.cd = new Polyline();\n    _this.ce = new Polyline();\n    _this.b3 = null;\n    _this.b6 = new Polygon();\n    _this.b9 = new Polyline();\n    _this.ca = new Polyline();\n    _this.b3 = a;\n    return _this;\n  }\n\n  Object.defineProperty(PriceChannelOverlayView.prototype, \"b7\", {\n    get: function () {\n      return this.b8;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PriceChannelOverlayView.prototype, \"cb\", {\n    get: function () {\n      return this.cd;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PriceChannelOverlayView.prototype, \"cc\", {\n    get: function () {\n      return this.ce;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  PriceChannelOverlayView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {}\n  };\n\n  PriceChannelOverlayView.prototype.by = function () {\n    return new PriceChannelBucketCalculator(this);\n  };\n\n  PriceChannelOverlayView.prototype.b4 = function () {\n    this.b8.ak.clear();\n    this.cd.ak.clear();\n    this.ce.ak.clear();\n    this.aq();\n  };\n\n  PriceChannelOverlayView.prototype.b5 = function (a, b, c, d, e) {\n    var e_2, _a, e_3, _b;\n\n    try {\n      for (var _c = __values(fromEnum(Flattener.d(a, b, d, this.e.ft))), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var f = _d.value;\n        this.b8.ak.add({\n          $type: Point_$type,\n          x: b(f),\n          y: d(f)\n        });\n        this.cd.ak.add({\n          $type: Point_$type,\n          x: b(f),\n          y: d(f)\n        });\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    try {\n      for (var _e = __values(fromEnum(Flattener.d(a, c, e, this.e.ft))), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var g = _f.value;\n        this.b8.ak.add({\n          $type: Point_$type,\n          x: c(g),\n          y: e(g)\n        });\n        this.ce.ak.add({\n          $type: Point_$type,\n          x: c(g),\n          y: e(g)\n        });\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    this.aq();\n  };\n\n  PriceChannelOverlayView.prototype.bc = function () {\n    _super.prototype.bc.call(this);\n\n    this.b6.ak = this.b8.ak;\n    this.b9.ak = this.cd.ak;\n    this.ca.ak = this.ce.ak;\n    var a = this.bo();\n    this.b6._fill = a;\n    this.b6._opacity = 1;\n    this.b9._stroke = a;\n    this.b9.ac = this.e.fu + 3;\n    this.ca._stroke = a;\n    this.ca.ac = this.e.fu + 3;\n  };\n\n  PriceChannelOverlayView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (a.d) {\n      if (b) {\n        a.t(this.b6);\n        a.u(this.b9);\n        a.u(this.ca);\n      } else {\n        a.t(this.b8);\n        a.u(this.cd);\n        a.u(this.ce);\n      }\n    }\n  };\n\n  PriceChannelOverlayView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    this.e.a8.exportPolygonData(a, this.b8, \"fill\", [\"Fill\"]);\n    this.e.a8.exportPolylineData(a, this.cd, \"bottom\", [\"Lower\", \"Main\"]);\n    this.e.a8.exportPolylineData(a, this.ce, \"top\", [\"Upper\"]);\n  };\n\n  PriceChannelOverlayView.$t = markType(PriceChannelOverlayView, 'PriceChannelOverlayView', FinancialSeriesView.$);\n  return PriceChannelOverlayView;\n}(FinancialSeriesView);\n\nexport { PriceChannelOverlayView };","map":{"version":3,"sources":["/Users/genesisbarrios/Documents/coding/web3/Awakened Sols/AwakenedSols/node_modules/igniteui-react-charts/esm5/lib/PriceChannelOverlay_combined.js"],"names":["__extends","__values","FinancialOverlay","DependencyProperty","List$1","Number_$type","typeCast","runOn","markType","markDep","Point_$type","fromEnum","CategoryFrame","Series","MathUtil","FinancialSeriesView","ScalerParams","ISortingAxis_$type","FinancialBucketCalculator","Polyline","Polygon","RangeValueList","PropertyMetadata","truncate","isNaN_","isInfinity","Flattener","PriceChannelOverlay","_super","_this","call","tt","ts","ab","$","qg","qi","qe","prototype","l4","a","b","c","d","tm","$$p","mi","e9","q6","q7","tn","clear","tu","ck","count","Math","min","rw","e","f","g","h","i","item","max","add","s3","bv","bu","getEffectiveViewport1","qc","cg","qy","gc","m","p","j","k","i$b","r3","l","el","bx","n","getBucket","o","_inner","i$d","q","r","s","t","u","v","NaN","ei","w","to","kx","b4","s5","PriceChannelOverlayView","b0","e_1","b5","b2","ql","a0","rk","p4","r9","sb","s2","cb","cc","b7","ad","_opacity","fq","lz","tr","gj","cd","sf","gl","r2","hh","hi","hj","hk","ge","$t","PriceChannelBucketCalculator","bz","b3","b8","ce","b6","b9","ca","Object","defineProperty","get","enumerable","configurable","as","by","ak","aq","e_2","_a","e_3","_b","_c","ft","_d","next","done","value","$type","x","y","e_2_1","error","return","_e","_f","e_3_1","bc","bo","_fill","_stroke","ac","fu","a6","al","a8","exportPolygonData","exportPolylineData"],"mappings":"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","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialOverlay } from \"./FinancialOverlay\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Number_$type, typeCast, runOn, markType, markDep, Point_$type, fromEnum } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Series } from \"./Series\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { Polyline } from \"igniteui-react-core\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { RangeValueList } from \"./RangeValueList\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar PriceChannelOverlay = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(PriceChannelOverlay, _super);\n    function PriceChannelOverlay() {\n        var _this = _super.call(this) || this;\n        _this.tt = new List$1(Number_$type, 0);\n        _this.ts = new List$1(Number_$type, 0);\n        _this.ab = PriceChannelOverlay.$;\n        _this.qg = new CategoryFrame(3);\n        _this.qi = new CategoryFrame(3);\n        _this.qe = new CategoryFrame(3);\n        return _this;\n    }\n    PriceChannelOverlay.prototype.l4 = function (a, b, c, d) {\n        switch (b) {\n            case \"HighColumn\":\n            case \"LowColumn\":\n                this.tm = false;\n                break;\n        }\n        _super.prototype.l4.call(this, a, b, c, d);\n        switch (b) {\n            case PriceChannelOverlay.$$p[0]:\n                this.tm = false;\n                this.mi(false);\n                break;\n        }\n    };\n    PriceChannelOverlay.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.q6 == null || this.q7 == null) {\n            d = false;\n        }\n        return d;\n    };\n    PriceChannelOverlay.prototype.tn = function () {\n        this.tt.clear();\n        this.ts.clear();\n        var a = truncate(MathUtil.c(this.tu, 0, this.ck.count));\n        var b = Math.min(this.q6.count, this.q7.count);\n        var c = this.rw(this.q6);\n        var d = this.rw(this.q7);\n        for (var e = 0; e < b; e++) {\n            var f = Math.min(a, e);\n            var g = -1.7976931348623157E+308;\n            var h = 1.7976931348623157E+308;\n            for (var i = 0; i < f; i++) {\n                if (!isNaN_(c.item(e - i))) {\n                    g = Math.max(g, c.item(e - i));\n                }\n                if (!isNaN_(d.item(e - i))) {\n                    h = Math.min(h, d.item(e - i));\n                }\n            }\n            if (e == 0) {\n                h = d.item(0);\n                g = c.item(0);\n            }\n            this.tt.add(g);\n            this.ts.add(h);\n        }\n        return true;\n    };\n    PriceChannelOverlay.prototype.s3 = function (a, b) {\n        _super.prototype.s3.call(this, a, b);\n        var c = b.bv;\n        var d = b.bu;\n        var e = this.getEffectiveViewport1(b);\n        var f = new ScalerParams(0, c, d, this.qc.cg, e);\n        var g = new ScalerParams(0, c, d, this.qy.cg, e);\n        g.b = this.gc();\n        var h = this.qc;\n        var i = this.qy;\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = 0;\n        var k = typeCast(ISortingAxis_$type, this.qc);\n        if (k != null && k.i$b.count != this.ck.count) {\n            return;\n        }\n        j = this.r3(c, d, e);\n        if (!this.tm) {\n            this.tm = this.tn();\n        }\n        g.b = this.gc();\n        var l = this.qc.el(2, f) - this.qc.el(1, f);\n        for (var m = b.bx.c; m <= b.bx.d; ++m) {\n            var n = void 0;\n            if (k == null) {\n                n = b.bx.getBucket(m);\n            }\n            else {\n                var o = k.i$b._inner[m];\n                var p = k.i$d(o);\n                var q = this.tt._inner[m];\n                var r = this.ts._inner[m];\n                var s = q;\n                var t = r;\n                var u = p;\n                while (m < b.bx.d) {\n                    o = k.i$b._inner[m + 1];\n                    u = k.i$d(o);\n                    if (u - p > l) {\n                        break;\n                    }\n                    m++;\n                    s = Math.max(q, this.tt._inner[m]);\n                    t = Math.min(r, this.ts._inner[m]);\n                }\n                if (!isInfinity(t) && !isInfinity(s)) {\n                    var v = NaN;\n                    if (!isNaN_(p)) {\n                        v = this.qc.ei(p, f);\n                    }\n                    n = [v, t, s];\n                }\n                else {\n                    n = [NaN, NaN, NaN];\n                }\n            }\n            var w = Math.max(1, l);\n            if (!isNaN_(n[0]) && m * w >= this.to) {\n                if (this.qc != null && typeCast(ISortingAxis_$type, this.qc) !== null) {\n                    n[0] = n[0] + j;\n                }\n                else {\n                    n[0] = h.ei(n[0], f) + j;\n                }\n                n[1] = i.ei(n[1], g);\n                n[2] = i.ei(n[2], g);\n                a.f.add(n);\n            }\n        }\n    };\n    PriceChannelOverlay.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        var c = b;\n        if (c != null) {\n            c.b4();\n        }\n    };\n    PriceChannelOverlay.prototype.s5 = function (a, b) {\n        _super.prototype.s5.call(this, a, b);\n        var c = typeCast(PriceChannelOverlayView.$, b);\n        if (c == null) {\n            return;\n        }\n        var d = this.getEffectiveViewport1(b);\n        if (b.b0(a)) {\n            c.b4();\n            var e_1 = a.f.count;\n            var f = function (g) { return a.f._inner[g][0]; };\n            var g = function (h) { return a.f._inner[e_1 - 1 - h][0]; };\n            var h = function (i) { return a.f._inner[i][1]; };\n            var i = function (j) { return a.f._inner[e_1 - 1 - j][2]; };\n            c.b5(e_1, f, g, h, i);\n            b.b2(a);\n        }\n        this.ql.a0(this, this.rk(), runOn(this, this.p4), this.r9(b), this.sb(b));\n        var j = false;\n        var k = this.ql.b;\n        var l = a.f;\n        var m = this.ck.count;\n        if (k != null) {\n            j = true;\n        }\n        if (j) {\n            var n = new ScalerParams(0, b.bv, b.bu, this.qc.cg, d);\n            this.s2(l, -1, m, this.qc, n, b.q);\n        }\n        var o = c.cb;\n        var p = c.cc;\n        var q = c.b7;\n        this.ql.ad(o, true, false, true, true);\n        this.ql.ad(p, true, false, true, true);\n        this.ql.ad(q, false, true, false, false);\n        q._opacity = this.ql.j * this.fq;\n    };\n    PriceChannelOverlay.prototype.bx = function () {\n        return new PriceChannelOverlayView(this);\n    };\n    PriceChannelOverlay.prototype.lz = function (a) {\n        _super.prototype.lz.call(this, a);\n        this.tr = typeCast(PriceChannelOverlayView.$, a);\n    };\n    PriceChannelOverlay.prototype.gj = function (a, b, c) {\n        if (this.cd == null) {\n            return NaN;\n        }\n        var d = this.getEffectiveViewport1(this.b0);\n        var e = new ScalerParams(0, this.cd.sf, this.b0.bu, this.qc.cg, d);\n        var f = this.r3(this.cd.sf, this.b0.bu, d);\n        return this.gl(new RangeValueList(this.tt, this.ts), a, this.qc, e, f, runOn(this, this.r2), b, c);\n    };\n    PriceChannelOverlay.prototype.hh = function (a, b) {\n        if (this.tt == null || this.ts == null) {\n            return _super.prototype.hh.call(this, a, b);\n        }\n        return this.hi(a, b, this.qc, runOn(this, this.r2), new RangeValueList(this.tt, this.ts));\n    };\n    PriceChannelOverlay.prototype.hj = function (a, b) {\n        if (this.tt == null || this.ts == null) {\n            return _super.prototype.hj.call(this, a, b);\n        }\n        return this.hk(a, b, this.qc, runOn(this, this.r2), new RangeValueList(this.tt, this.ts));\n    };\n    PriceChannelOverlay.prototype.gc = function () {\n        return Series.ge(this.ts, null);\n    };\n    PriceChannelOverlay.$t = markType(PriceChannelOverlay, 'PriceChannelOverlay', FinancialOverlay.$);\n    PriceChannelOverlay.$$p = markDep(DependencyProperty, PropertyMetadata, PriceChannelOverlay, 'raisePropertyChanged', ['Period:tu:tw', [1, 14]]);\n    return PriceChannelOverlay;\n}(FinancialOverlay));\nexport { PriceChannelOverlay };\n/**\n * @hidden\n */\nvar PriceChannelBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(PriceChannelBucketCalculator, _super);\n    function PriceChannelBucketCalculator(a) {\n        var _this = _super.call(this, a) || this;\n        _this.f = null;\n        _this.f = a;\n        return _this;\n    }\n    PriceChannelBucketCalculator.prototype.getBucket = function (a) {\n        var b = a * this.b;\n        var c = Math.min(b + this.b - 1, this.a.bz.ck.count - 1);\n        if (b <= c) {\n            var d = -1.7976931348623157E+308;\n            var e = 1.7976931348623157E+308;\n            var f = 0;\n            for (var g = b; g <= c; ++g) {\n                if (!isNaN_(this.f.b3.tt._inner[g]) && !isNaN_(this.f.b3.ts._inner[g])) {\n                    d = Math.max(d, this.f.b3.tt._inner[g]);\n                    e = Math.min(e, this.f.b3.ts._inner[g]);\n                    ++f;\n                }\n            }\n            if (f > 0 && e != 1.7976931348623157E+308 && d != -1.7976931348623157E+308) {\n                return [0.5 * (b + c), e, d];\n            }\n        }\n        return [NaN, NaN, NaN];\n    };\n    PriceChannelBucketCalculator.$t = markType(PriceChannelBucketCalculator, 'PriceChannelBucketCalculator', FinancialBucketCalculator.$);\n    return PriceChannelBucketCalculator;\n}(FinancialBucketCalculator));\nexport { PriceChannelBucketCalculator };\n/**\n * @hidden\n */\nvar PriceChannelOverlayView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(PriceChannelOverlayView, _super);\n    function PriceChannelOverlayView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b8 = new Polygon();\n        _this.cd = new Polyline();\n        _this.ce = new Polyline();\n        _this.b3 = null;\n        _this.b6 = new Polygon();\n        _this.b9 = new Polyline();\n        _this.ca = new Polyline();\n        _this.b3 = a;\n        return _this;\n    }\n    Object.defineProperty(PriceChannelOverlayView.prototype, \"b7\", {\n        get: function () {\n            return this.b8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PriceChannelOverlayView.prototype, \"cb\", {\n        get: function () {\n            return this.cd;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PriceChannelOverlayView.prototype, \"cc\", {\n        get: function () {\n            return this.ce;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PriceChannelOverlayView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n        }\n    };\n    PriceChannelOverlayView.prototype.by = function () {\n        return new PriceChannelBucketCalculator(this);\n    };\n    PriceChannelOverlayView.prototype.b4 = function () {\n        this.b8.ak.clear();\n        this.cd.ak.clear();\n        this.ce.ak.clear();\n        this.aq();\n    };\n    PriceChannelOverlayView.prototype.b5 = function (a, b, c, d, e) {\n        var e_2, _a, e_3, _b;\n        try {\n            for (var _c = __values(fromEnum(Flattener.d(a, b, d, this.e.ft))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var f = _d.value;\n                this.b8.ak.add({ $type: Point_$type, x: b(f), y: d(f) });\n                this.cd.ak.add({ $type: Point_$type, x: b(f), y: d(f) });\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n        try {\n            for (var _e = __values(fromEnum(Flattener.d(a, c, e, this.e.ft))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var g = _f.value;\n                this.b8.ak.add({ $type: Point_$type, x: c(g), y: e(g) });\n                this.ce.ak.add({ $type: Point_$type, x: c(g), y: e(g) });\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        this.aq();\n    };\n    PriceChannelOverlayView.prototype.bc = function () {\n        _super.prototype.bc.call(this);\n        this.b6.ak = this.b8.ak;\n        this.b9.ak = this.cd.ak;\n        this.ca.ak = this.ce.ak;\n        var a = this.bo();\n        this.b6._fill = a;\n        this.b6._opacity = 1;\n        this.b9._stroke = a;\n        this.b9.ac = this.e.fu + 3;\n        this.ca._stroke = a;\n        this.ca.ac = this.e.fu + 3;\n    };\n    PriceChannelOverlayView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (a.d) {\n            if (b) {\n                a.t(this.b6);\n                a.u(this.b9);\n                a.u(this.ca);\n            }\n            else {\n                a.t(this.b8);\n                a.u(this.cd);\n                a.u(this.ce);\n            }\n        }\n    };\n    PriceChannelOverlayView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        this.e.a8.exportPolygonData(a, this.b8, \"fill\", [\"Fill\"]);\n        this.e.a8.exportPolylineData(a, this.cd, \"bottom\", [\"Lower\", \"Main\"]);\n        this.e.a8.exportPolylineData(a, this.ce, \"top\", [\"Upper\"]);\n    };\n    PriceChannelOverlayView.$t = markType(PriceChannelOverlayView, 'PriceChannelOverlayView', FinancialSeriesView.$);\n    return PriceChannelOverlayView;\n}(FinancialSeriesView));\nexport { PriceChannelOverlayView };\n"]},"metadata":{},"sourceType":"module"}